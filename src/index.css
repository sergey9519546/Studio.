@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  body {
    font-family: 'Inter', sans-serif;
    background-color: #F5F5F7;
    color: #1D1D1F;
    overflow: hidden;
  }
  
  /* Prevent CLS from images */
  img {
    max-width: 100%;
    height: auto;
  }
  
  /* Reserve space for lazy-loaded content */
  [loading="lazy"] {
    min-height: 1px;
  }
}

/* Custom component styles */
@layer components {
  /* Skeleton loading states to prevent CLS */
  .skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }
  
  /* Fixed aspect ratios to prevent layout shift */
  .aspect-ratio-square {
    aspect-ratio: 1 / 1;
  }
  
  .aspect-ratio-video {
    aspect-ratio: 16 / 9;
  }
  
  .aspect-ratio-portrait {
    aspect-ratio: 3 / 4;
  }
}

/* Custom utility styles */
@layer utilities {
  /* Content visibility for performance */
  .content-visibility-auto {
    content-visibility: auto;
  }

  /* Prevent layout shift on hover transforms */
  .transform-gpu {
    transform: translateZ(0);
    will-change: transform;
  }
}

/* Fluid Design System Animations */
@keyframes morphing-pulse {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes fluid-slide {
  0% {
    opacity: 0;
    transform: translateY(12px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes glass-shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes metaball-merge {
  0% {
    clip-path: polygon(
      0% 50%, 0% 0%, 50% 0%, 50% 0%, 100% 0%, 100% 50%,
      100% 100%, 50% 100%, 50% 100%, 0% 100%
    );
  }
  100% {
    clip-path: circle(50%);
  }
}

/* Animation utilities */
.animate-morphing-pulse {
  animation: morphing-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-fluid-slide {
  animation: fluid-slide 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-glass-shimmer {
  animation: glass-shimmer 3s linear infinite;
  background-size: 1000px 100%;
}

.animate-metaball-merge {
  animation: metaball-merge 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Glass morphism utilities */
.glass-blur {
  backdrop-filter: blur(20px) saturate(1.8);
  background-color: rgba(255, 255, 255, 0.75);
}

.glass-blur-strong {
  backdrop-filter: blur(30px) saturate(2);
  background-color: rgba(255, 255, 255, 0.8);
}

/* Fluid shape utilities */
.fluid-pill {
  border-radius: 9999px;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.fluid-square {
  border-radius: 24px;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Haptic-inspired visual feedback */
.haptic-click {
  transform: scale(0.98);
  opacity: 0.9;
}

.haptic-click:active {
  animation: haptic-feedback 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes haptic-feedback {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.95);
  }
}

/* New styles from user */
::-webkit-scrollbar {
  width: 0px;
  background: transparent;
}

.glass-bar {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.04);
}

.bubble-user {
  background-color: #1D1D1F;
  color: #FFFFFF;
  border-radius: 20px 20px 4px 20px;
  padding: 14px 22px;
  font-size: 15px;
  line-height: 1.5;
  box-shadow: 0 2px 12px rgba(0,0,0,0.1);
}

.bubble-ai {
  background-color: #FFFFFF;
  color: #1D1D1F;
  padding: 18px 24px;
  border-radius: 4px 20px 20px 20px;
  font-size: 15px;
  line-height: 1.6;
  border: 1px solid rgba(0,0,0,0.04);
  box-shadow: 0 2px 8px rgba(0,0,0,0.02);
}

.kinetic-text {
  letter-spacing: -0.06em;
  line-height: 0.9;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 16px;
  transition: all 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);
  color: #86868B;
  font-weight: 500;
  font-size: 14px;
}

.nav-item:hover {
  background-color: #F5F5F7;
  color: #1D1D1F;
}

.nav-item.active {
  background-color: #1D1D1F;
  color: #FFFFFF;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Shimmer Effect for Loading/AI */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.shimmer {
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}