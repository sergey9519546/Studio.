function Z0(t,n){for(var e=0;e<n.length;e++){const r=n[e];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in t)){const o=Object.getOwnPropertyDescriptor(r,l);o&&Object.defineProperty(t,l,o.get?o:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Q0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hh={exports:{}},Ta={},$h={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),eg=Symbol.for("react.portal"),tg=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),sg=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),lg=Symbol.for("react.memo"),ug=Symbol.for("react.lazy"),Yc=Symbol.iterator;function cg(t){return t===null||typeof t!="object"?null:(t=Yc&&t[Yc]||t["@@iterator"],typeof t=="function"?t:null)}var qh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gh=Object.assign,Wh={};function Ki(t,n,e){this.props=t,this.context=n,this.refs=Wh,this.updater=e||qh}Ki.prototype.isReactComponent={};Ki.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};Ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kh(){}Kh.prototype=Ki.prototype;function Ou(t,n,e){this.props=t,this.context=n,this.refs=Wh,this.updater=e||qh}var Fu=Ou.prototype=new Kh;Fu.constructor=Ou;Gh(Fu,Ki.prototype);Fu.isPureReactComponent=!0;var Jc=Array.isArray,Yh=Object.prototype.hasOwnProperty,Bu={current:null},Jh={key:!0,ref:!0,__self:!0,__source:!0};function Xh(t,n,e){var r,l={},o=null,s=null;if(n!=null)for(r in n.ref!==void 0&&(s=n.ref),n.key!==void 0&&(o=""+n.key),n)Yh.call(n,r)&&!Jh.hasOwnProperty(r)&&(l[r]=n[r]);var u=arguments.length-2;if(u===1)l.children=e;else if(1<u){for(var a=Array(u),i=0;i<u;i++)a[i]=arguments[i+2];l.children=a}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)l[r]===void 0&&(l[r]=u[r]);return{$$typeof:Ks,type:t,key:o,ref:s,props:l,_owner:Bu.current}}function dg(t,n){return{$$typeof:Ks,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function Uu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ks}function fg(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(e){return n[e]})}var Xc=/\/+/g;function rl(t,n){return typeof t=="object"&&t!==null&&t.key!=null?fg(""+t.key):n.toString(36)}function Eo(t,n,e,r,l){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ks:case eg:s=!0}}if(s)return s=t,l=l(s),t=r===""?"."+rl(s,0):r,Jc(l)?(e="",t!=null&&(e=t.replace(Xc,"$&/")+"/"),Eo(l,n,e,"",function(i){return i})):l!=null&&(Uu(l)&&(l=dg(l,e+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Xc,"$&/")+"/")+t)),n.push(l)),1;if(s=0,r=r===""?".":r+":",Jc(t))for(var u=0;u<t.length;u++){o=t[u];var a=r+rl(o,u);s+=Eo(o,n,e,a,l)}else if(a=cg(t),typeof a=="function")for(t=a.call(t),u=0;!(o=t.next()).done;)o=o.value,a=r+rl(o,u++),s+=Eo(o,n,e,a,l);else if(o==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return s}function ao(t,n,e){if(t==null)return t;var r=[],l=0;return Eo(t,r,"","",function(o){return n.call(e,o,l++)}),r}function hg(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(e){(t._status===0||t._status===-1)&&(t._status=1,t._result=e)},function(e){(t._status===0||t._status===-1)&&(t._status=2,t._result=e)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},No={transition:null},pg={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:No,ReactCurrentOwner:Bu};function Zh(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:ao,forEach:function(t,n,e){ao(t,function(){n.apply(this,arguments)},e)},count:function(t){var n=0;return ao(t,function(){n++}),n},toArray:function(t){return ao(t,function(n){return n})||[]},only:function(t){if(!Uu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=Ki;ot.Fragment=tg;ot.Profiler=rg;ot.PureComponent=Ou;ot.StrictMode=ng;ot.Suspense=ag;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;ot.act=Zh;ot.cloneElement=function(t,n,e){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gh({},t.props),l=t.key,o=t.ref,s=t._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,s=Bu.current),n.key!==void 0&&(l=""+n.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(a in n)Yh.call(n,a)&&!Jh.hasOwnProperty(a)&&(r[a]=n[a]===void 0&&u!==void 0?u[a]:n[a])}var a=arguments.length-2;if(a===1)r.children=e;else if(1<a){u=Array(a);for(var i=0;i<a;i++)u[i]=arguments[i+2];r.children=u}return{$$typeof:Ks,type:t.type,key:l,ref:o,props:r,_owner:s}};ot.createContext=function(t){return t={$$typeof:sg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ig,_context:t},t.Consumer=t};ot.createElement=Xh;ot.createFactory=function(t){var n=Xh.bind(null,t);return n.type=t,n};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:og,render:t}};ot.isValidElement=Uu;ot.lazy=function(t){return{$$typeof:ug,_payload:{_status:-1,_result:t},_init:hg}};ot.memo=function(t,n){return{$$typeof:lg,type:t,compare:n===void 0?null:n}};ot.startTransition=function(t){var n=No.transition;No.transition={};try{t()}finally{No.transition=n}};ot.unstable_act=Zh;ot.useCallback=function(t,n){return ln.current.useCallback(t,n)};ot.useContext=function(t){return ln.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};ot.useEffect=function(t,n){return ln.current.useEffect(t,n)};ot.useId=function(){return ln.current.useId()};ot.useImperativeHandle=function(t,n,e){return ln.current.useImperativeHandle(t,n,e)};ot.useInsertionEffect=function(t,n){return ln.current.useInsertionEffect(t,n)};ot.useLayoutEffect=function(t,n){return ln.current.useLayoutEffect(t,n)};ot.useMemo=function(t,n){return ln.current.useMemo(t,n)};ot.useReducer=function(t,n,e){return ln.current.useReducer(t,n,e)};ot.useRef=function(t){return ln.current.useRef(t)};ot.useState=function(t){return ln.current.useState(t)};ot.useSyncExternalStore=function(t,n,e){return ln.current.useSyncExternalStore(t,n,e)};ot.useTransition=function(){return ln.current.useTransition()};ot.version="18.3.1";$h.exports=ot;var ae=$h.exports;const zu=Q0(ae),mg=Z0({__proto__:null,default:zu},[ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=ae,yg=Symbol.for("react.element"),bg=Symbol.for("react.fragment"),vg=Object.prototype.hasOwnProperty,xg=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wg={key:!0,ref:!0,__self:!0,__source:!0};function Qh(t,n,e){var r,l={},o=null,s=null;e!==void 0&&(o=""+e),n.key!==void 0&&(o=""+n.key),n.ref!==void 0&&(s=n.ref);for(r in n)vg.call(n,r)&&!wg.hasOwnProperty(r)&&(l[r]=n[r]);if(t&&t.defaultProps)for(r in n=t.defaultProps,n)l[r]===void 0&&(l[r]=n[r]);return{$$typeof:yg,type:t,key:o,ref:s,props:l,_owner:xg.current}}Ta.Fragment=bg;Ta.jsx=Qh;Ta.jsxs=Qh;Hh.exports=Ta;var A=Hh.exports,Ml={},ep={exports:{}},Tn={},tp={exports:{}},np={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(w,S){var N=w.length;w.push(S);e:for(;0<N;){var j=N-1>>>1,U=w[j];if(0<l(U,S))w[j]=S,w[N]=U,N=j;else break e}}function e(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var S=w[0],N=w.pop();if(N!==S){w[0]=N;e:for(var j=0,U=w.length,G=U>>>1;j<G;){var W=2*(j+1)-1,J=w[W],F=W+1,K=w[F];if(0>l(J,N))F<U&&0>l(K,J)?(w[j]=K,w[F]=N,j=F):(w[j]=J,w[W]=N,j=W);else if(F<U&&0>l(K,N))w[j]=K,w[F]=N,j=F;else break e}}return S}function l(w,S){var N=w.sortIndex-S.sortIndex;return N!==0?N:w.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var a=[],i=[],c=1,h=null,d=3,f=!1,b=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(w){for(var S=e(i);S!==null;){if(S.callback===null)r(i);else if(S.startTime<=w)r(i),S.sortIndex=S.expirationTime,n(a,S);else break;S=e(i)}}function C(w){if(y=!1,x(w),!b)if(e(a)!==null)b=!0,v(I);else{var S=e(i);S!==null&&_(C,S.startTime-w)}}function I(w,S){b=!1,y&&(y=!1,g(O),O=-1),f=!0;var N=d;try{for(x(S),h=e(a);h!==null&&(!(h.expirationTime>S)||w&&!q());){var j=h.callback;if(typeof j=="function"){h.callback=null,d=h.priorityLevel;var U=j(h.expirationTime<=S);S=t.unstable_now(),typeof U=="function"?h.callback=U:h===e(a)&&r(a),x(S)}else r(a);h=e(a)}if(h!==null)var G=!0;else{var W=e(i);W!==null&&_(C,W.startTime-S),G=!1}return G}finally{h=null,d=N,f=!1}}var D=!1,z=null,O=-1,B=5,V=-1;function q(){return!(t.unstable_now()-V<B)}function H(){if(z!==null){var w=t.unstable_now();V=w;var S=!0;try{S=z(!0,w)}finally{S?E():(D=!1,z=null)}}else D=!1}var E;if(typeof m=="function")E=function(){m(H)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,k=R.port2;R.port1.onmessage=H,E=function(){k.postMessage(null)}}else E=function(){p(H,0)};function v(w){z=w,D||(D=!0,E())}function _(w,S){O=p(function(){w(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(w){w.callback=null},t.unstable_continueExecution=function(){b||f||(b=!0,v(I))},t.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<w?Math.floor(1e3/w):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return e(a)},t.unstable_next=function(w){switch(d){case 1:case 2:case 3:var S=3;break;default:S=d}var N=d;d=S;try{return w()}finally{d=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(w,S){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var N=d;d=w;try{return S()}finally{d=N}},t.unstable_scheduleCallback=function(w,S,N){var j=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?j+N:j):N=j,w){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,w={id:c++,callback:S,priorityLevel:w,startTime:N,expirationTime:U,sortIndex:-1},N>j?(w.sortIndex=N,n(i,w),e(a)===null&&w===e(i)&&(y?(g(O),O=-1):y=!0,_(C,N-j))):(w.sortIndex=U,n(a,w),b||f||(b=!0,v(I))),w},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(w){var S=d;return function(){var N=d;d=S;try{return w.apply(this,arguments)}finally{d=N}}}})(np);tp.exports=np;var _g=tp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=ae,Cn=_g;function ve(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,e=1;e<arguments.length;e++)n+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rp=new Set,Es={};function ai(t,n){Bi(t,n),Bi(t+"Capture",n)}function Bi(t,n){for(Es[t]=n,t=0;t<n.length;t++)rp.add(n[t])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=Object.prototype.hasOwnProperty,kg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zc={},Qc={};function Cg(t){return Rl.call(Qc,t)?!0:Rl.call(Zc,t)?!1:kg.test(t)?Qc[t]=!0:(Zc[t]=!0,!1)}function Tg(t,n,e,r){if(e!==null&&e.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Eg(t,n,e,r){if(n===null||typeof n>"u"||Tg(t,n,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function un(t,n,e,r,l,o,s){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=e,this.propertyName=t,this.type=n,this.sanitizeURL=o,this.removeEmptyString=s}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];Zt[n]=new un(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vu=/[\-:]([a-z])/g;function Hu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Vu,Hu);Zt[n]=new un(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Vu,Hu);Zt[n]=new un(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Vu,Hu);Zt[n]=new un(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function $u(t,n,e,r){var l=Zt.hasOwnProperty(n)?Zt[n]:null;(l!==null?l.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Eg(n,e,l,r)&&(e=null),r||l===null?Cg(n)&&(e===null?t.removeAttribute(n):t.setAttribute(n,""+e)):l.mustUseProperty?t[l.propertyName]=e===null?l.type===3?!1:"":e:(n=l.attributeName,r=l.attributeNamespace,e===null?t.removeAttribute(n):(l=l.type,e=l===3||l===4&&e===!0?"":""+e,r?t.setAttributeNS(r,n,e):t.setAttribute(n,e))))}var pr=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),yi=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),qu=Symbol.for("react.strict_mode"),Pl=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),sp=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Dl=Symbol.for("react.suspense"),jl=Symbol.for("react.suspense_list"),Wu=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),op=Symbol.for("react.offscreen"),ed=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=ed&&t[ed]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,il;function hs(t){if(il===void 0)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);il=n&&n[1]||""}return`
`+il+t}var sl=!1;function ol(t,n){if(!t||sl)return"";sl=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(t,[],n)}else{try{n.call()}catch(i){r=i}t.call(n.prototype)}else{try{throw Error()}catch(i){r=i}t()}}catch(i){if(i&&r&&typeof i.stack=="string"){for(var l=i.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,u=o.length-1;1<=s&&0<=u&&l[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(l[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||l[s]!==o[u]){var a=`
`+l[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=u);break}}}finally{sl=!1,Error.prepareStackTrace=e}return(t=t?t.displayName||t.name:"")?hs(t):""}function Ng(t){switch(t.tag){case 5:return hs(t.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return t=ol(t.type,!1),t;case 11:return t=ol(t.type.render,!1),t;case 1:return t=ol(t.type,!0),t;default:return""}}function Ll(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bi:return"Fragment";case yi:return"Portal";case Pl:return"Profiler";case qu:return"StrictMode";case Dl:return"Suspense";case jl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sp:return(t.displayName||"Context")+".Consumer";case ip:return(t._context.displayName||"Context")+".Provider";case Gu:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wu:return n=t.displayName||null,n!==null?n:Ll(t.type)||"Memo";case Sr:n=t._payload,t=t._init;try{return Ll(t(n))}catch{}}return null}function Ag(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(n);case 8:return n===qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ap(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ig(t){var n=ap(t)?"checked":"value",e=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var l=e.get,o=e.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,n,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function uo(t){t._valueTracker||(t._valueTracker=Ig(t))}function lp(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var e=n.getValue(),r="";return t&&(r=ap(t)?t.checked?"true":"false":t.value),t=r,t!==e?(n.setValue(t),!0):!1}function Ho(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ol(t,n){var e=n.checked;return Lt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??t._wrapperState.initialChecked})}function td(t,n){var e=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;e=Br(n.value!=null?n.value:e),t._wrapperState={initialChecked:r,initialValue:e,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function up(t,n){n=n.checked,n!=null&&$u(t,"checked",n,!1)}function Fl(t,n){up(t,n);var e=Br(n.value),r=n.type;if(e!=null)r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+e):t.value!==""+e&&(t.value=""+e);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Bl(t,n.type,e):n.hasOwnProperty("defaultValue")&&Bl(t,n.type,Br(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function nd(t,n,e){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,e||n===t.value||(t.value=n),t.defaultValue=n}e=t.name,e!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,e!==""&&(t.name=e)}function Bl(t,n,e){(n!=="number"||Ho(t.ownerDocument)!==t)&&(e==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+e&&(t.defaultValue=""+e))}var ps=Array.isArray;function Ii(t,n,e,r){if(t=t.options,n){n={};for(var l=0;l<e.length;l++)n["$"+e[l]]=!0;for(e=0;e<t.length;e++)l=n.hasOwnProperty("$"+t[e].value),t[e].selected!==l&&(t[e].selected=l),l&&r&&(t[e].defaultSelected=!0)}else{for(e=""+Br(e),n=null,l=0;l<t.length;l++){if(t[l].value===e){t[l].selected=!0,r&&(t[l].defaultSelected=!0);return}n!==null||t[l].disabled||(n=t[l])}n!==null&&(n.selected=!0)}}function Ul(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Lt({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rd(t,n){var e=n.value;if(e==null){if(e=n.children,n=n.defaultValue,e!=null){if(n!=null)throw Error(ve(92));if(ps(e)){if(1<e.length)throw Error(ve(93));e=e[0]}n=e}n==null&&(n=""),e=n}t._wrapperState={initialValue:Br(e)}}function cp(t,n){var e=Br(n.value),r=Br(n.defaultValue);e!=null&&(e=""+e,e!==t.value&&(t.value=e),n.defaultValue==null&&t.defaultValue!==e&&(t.defaultValue=e)),r!=null&&(t.defaultValue=""+r)}function id(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function dp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?dp(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var co,fp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,e,r,l){MSApp.execUnsafeLocalFunction(function(){return t(n,e,r,l)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(co=co||document.createElement("div"),co.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=co.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Ns(t,n){if(n){var e=t.firstChild;if(e&&e===t.lastChild&&e.nodeType===3){e.nodeValue=n;return}}t.textContent=n}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mg=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(t){Mg.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),ys[n]=ys[t]})});function hp(t,n,e){return n==null||typeof n=="boolean"||n===""?"":e||typeof n!="number"||n===0||ys.hasOwnProperty(t)&&ys[t]?(""+n).trim():n+"px"}function pp(t,n){t=t.style;for(var e in n)if(n.hasOwnProperty(e)){var r=e.indexOf("--")===0,l=hp(e,n[e],r);e==="float"&&(e="cssFloat"),r?t.setProperty(e,l):t[e]=l}}var Rg=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(t,n){if(n){if(Rg[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ve(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ve(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ve(62))}}function Hl(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Ku(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ql=null,Mi=null,Ri=null;function sd(t){if(t=Xs(t)){if(typeof ql!="function")throw Error(ve(280));var n=t.stateNode;n&&(n=Ma(n),ql(t.stateNode,t.type,n))}}function mp(t){Mi?Ri?Ri.push(t):Ri=[t]:Mi=t}function gp(){if(Mi){var t=Mi,n=Ri;if(Ri=Mi=null,sd(t),n)for(t=0;t<n.length;t++)sd(n[t])}}function yp(t,n){return t(n)}function bp(){}var al=!1;function vp(t,n,e){if(al)return t(n,e);al=!0;try{return yp(t,n,e)}finally{al=!1,(Mi!==null||Ri!==null)&&(bp(),gp())}}function As(t,n){var e=t.stateNode;if(e===null)return null;var r=Ma(e);if(r===null)return null;e=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(e&&typeof e!="function")throw Error(ve(231,n,typeof e));return e}var Gl=!1;if(ur)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Gl=!1}function Pg(t,n,e,r,l,o,s,u,a){var i=Array.prototype.slice.call(arguments,3);try{n.apply(e,i)}catch(c){this.onError(c)}}var bs=!1,$o=null,qo=!1,Wl=null,Dg={onError:function(t){bs=!0,$o=t}};function jg(t,n,e,r,l,o,s,u,a){bs=!1,$o=null,Pg.apply(Dg,arguments)}function Lg(t,n,e,r,l,o,s,u,a){if(jg.apply(this,arguments),bs){if(bs){var i=$o;bs=!1,$o=null}else throw Error(ve(198));qo||(qo=!0,Wl=i)}}function li(t){var n=t,e=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(e=n.return),t=n.return;while(t)}return n.tag===3?e:null}function xp(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function od(t){if(li(t)!==t)throw Error(ve(188))}function Og(t){var n=t.alternate;if(!n){if(n=li(t),n===null)throw Error(ve(188));return n!==t?null:t}for(var e=t,r=n;;){var l=e.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){e=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===e)return od(l),t;if(o===r)return od(l),n;o=o.sibling}throw Error(ve(188))}if(e.return!==r.return)e=l,r=o;else{for(var s=!1,u=l.child;u;){if(u===e){s=!0,e=l,r=o;break}if(u===r){s=!0,r=l,e=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===e){s=!0,e=o,r=l;break}if(u===r){s=!0,r=o,e=l;break}u=u.sibling}if(!s)throw Error(ve(189))}}if(e.alternate!==r)throw Error(ve(190))}if(e.tag!==3)throw Error(ve(188));return e.stateNode.current===e?t:n}function wp(t){return t=Og(t),t!==null?_p(t):null}function _p(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=_p(t);if(n!==null)return n;t=t.sibling}return null}var Sp=Cn.unstable_scheduleCallback,ad=Cn.unstable_cancelCallback,Fg=Cn.unstable_shouldYield,Bg=Cn.unstable_requestPaint,Bt=Cn.unstable_now,Ug=Cn.unstable_getCurrentPriorityLevel,Yu=Cn.unstable_ImmediatePriority,kp=Cn.unstable_UserBlockingPriority,Go=Cn.unstable_NormalPriority,zg=Cn.unstable_LowPriority,Cp=Cn.unstable_IdlePriority,Ea=null,Zn=null;function Vg(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Ea,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:qg,Hg=Math.log,$g=Math.LN2;function qg(t){return t>>>=0,t===0?32:31-(Hg(t)/$g|0)|0}var fo=64,ho=4194304;function ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wo(t,n){var e=t.pendingLanes;if(e===0)return 0;var r=0,l=t.suspendedLanes,o=t.pingedLanes,s=e&268435455;if(s!==0){var u=s&~l;u!==0?r=ms(u):(o&=s,o!==0&&(r=ms(o)))}else s=e&~l,s!==0?r=ms(s):o!==0&&(r=ms(o));if(r===0)return 0;if(n!==0&&n!==r&&!(n&l)&&(l=r&-r,o=n&-n,l>=o||l===16&&(o&4194240)!==0))return n;if(r&4&&(r|=e&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=r;0<n;)e=31-Vn(n),l=1<<e,r|=t[e],n&=~l;return r}function Gg(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wg(t,n){for(var e=t.suspendedLanes,r=t.pingedLanes,l=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Vn(o),u=1<<s,a=l[s];a===-1?(!(u&e)||u&r)&&(l[s]=Gg(u,n)):a<=n&&(t.expiredLanes|=u),o&=~u}}function Kl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tp(){var t=fo;return fo<<=1,!(fo&4194240)&&(fo=64),t}function ll(t){for(var n=[],e=0;31>e;e++)n.push(t);return n}function Ys(t,n,e){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Vn(n),t[n]=e}function Kg(t,n){var e=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<e;){var l=31-Vn(e),o=1<<l;n[l]=0,r[l]=-1,t[l]=-1,e&=~o}}function Ju(t,n){var e=t.entangledLanes|=n;for(t=t.entanglements;e;){var r=31-Vn(e),l=1<<r;l&n|t[r]&n&&(t[r]|=n),e&=~l}}var _t=0;function Ep(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Np,Xu,Ap,Ip,Mp,Yl=!1,po=[],Ir=null,Mr=null,Rr=null,Is=new Map,Ms=new Map,Cr=[],Yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(t,n){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Is.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(n.pointerId)}}function os(t,n,e,r,l,o){return t===null||t.nativeEvent!==o?(t={blockedOn:n,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},n!==null&&(n=Xs(n),n!==null&&Xu(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),t)}function Jg(t,n,e,r,l){switch(n){case"focusin":return Ir=os(Ir,t,n,e,r,l),!0;case"dragenter":return Mr=os(Mr,t,n,e,r,l),!0;case"mouseover":return Rr=os(Rr,t,n,e,r,l),!0;case"pointerover":var o=l.pointerId;return Is.set(o,os(Is.get(o)||null,t,n,e,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Ms.set(o,os(Ms.get(o)||null,t,n,e,r,l)),!0}return!1}function Rp(t){var n=Xr(t.target);if(n!==null){var e=li(n);if(e!==null){if(n=e.tag,n===13){if(n=xp(e),n!==null){t.blockedOn=n,Mp(t.priority,function(){Ap(e)});return}}else if(n===3&&e.stateNode.current.memoizedState.isDehydrated){t.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var e=Jl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(e===null){e=t.nativeEvent;var r=new e.constructor(e.type,e);$l=r,e.target.dispatchEvent(r),$l=null}else return n=Xs(e),n!==null&&Xu(n),t.blockedOn=e,!1;n.shift()}return!0}function ud(t,n,e){Ao(t)&&e.delete(n)}function Xg(){Yl=!1,Ir!==null&&Ao(Ir)&&(Ir=null),Mr!==null&&Ao(Mr)&&(Mr=null),Rr!==null&&Ao(Rr)&&(Rr=null),Is.forEach(ud),Ms.forEach(ud)}function as(t,n){t.blockedOn===n&&(t.blockedOn=null,Yl||(Yl=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,Xg)))}function Rs(t){function n(l){return as(l,t)}if(0<po.length){as(po[0],t);for(var e=1;e<po.length;e++){var r=po[e];r.blockedOn===t&&(r.blockedOn=null)}}for(Ir!==null&&as(Ir,t),Mr!==null&&as(Mr,t),Rr!==null&&as(Rr,t),Is.forEach(n),Ms.forEach(n),e=0;e<Cr.length;e++)r=Cr[e],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(e=Cr[0],e.blockedOn===null);)Rp(e),e.blockedOn===null&&Cr.shift()}var Pi=pr.ReactCurrentBatchConfig,Ko=!0;function Zg(t,n,e,r){var l=_t,o=Pi.transition;Pi.transition=null;try{_t=1,Zu(t,n,e,r)}finally{_t=l,Pi.transition=o}}function Qg(t,n,e,r){var l=_t,o=Pi.transition;Pi.transition=null;try{_t=4,Zu(t,n,e,r)}finally{_t=l,Pi.transition=o}}function Zu(t,n,e,r){if(Ko){var l=Jl(t,n,e,r);if(l===null)bl(t,n,r,Yo,e),ld(t,r);else if(Jg(l,t,n,e,r))r.stopPropagation();else if(ld(t,r),n&4&&-1<Yg.indexOf(t)){for(;l!==null;){var o=Xs(l);if(o!==null&&Np(o),o=Jl(t,n,e,r),o===null&&bl(t,n,r,Yo,e),o===l)break;l=o}l!==null&&r.stopPropagation()}else bl(t,n,r,null,e)}}var Yo=null;function Jl(t,n,e,r){if(Yo=null,t=Ku(r),t=Xr(t),t!==null)if(n=li(t),n===null)t=null;else if(e=n.tag,e===13){if(t=xp(n),t!==null)return t;t=null}else if(e===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Yo=t,null}function Pp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ug()){case Yu:return 1;case kp:return 4;case Go:case zg:return 16;case Cp:return 536870912;default:return 16}default:return 16}}var Er=null,Qu=null,Io=null;function Dp(){if(Io)return Io;var t,n=Qu,e=n.length,r,l="value"in Er?Er.value:Er.textContent,o=l.length;for(t=0;t<e&&n[t]===l[t];t++);var s=e-t;for(r=1;r<=s&&n[e-r]===l[o-r];r++);return Io=l.slice(t,1<r?1-r:void 0)}function Mo(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function cd(){return!1}function En(t){function n(e,r,l,o,s){this._reactName=e,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(e=t[u],this[u]=e?e(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mo:cd,this.isPropagationStopped=cd,this}return Lt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=En(Yi),Js=Lt({},Yi,{view:0,detail:0}),e1=En(Js),ul,cl,ls,Na=Lt({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ls&&(ls&&t.type==="mousemove"?(ul=t.screenX-ls.screenX,cl=t.screenY-ls.screenY):cl=ul=0,ls=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:cl}}),dd=En(Na),t1=Lt({},Na,{dataTransfer:0}),n1=En(t1),r1=Lt({},Js,{relatedTarget:0}),dl=En(r1),i1=Lt({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),s1=En(i1),o1=Lt({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a1=En(o1),l1=Lt({},Yi,{data:0}),fd=En(l1),u1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f1(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=d1[t])?!!n[t]:!1}function tc(){return f1}var h1=Lt({},Js,{key:function(t){if(t.key){var n=u1[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p1=En(h1),m1=Lt({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=En(m1),g1=Lt({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),y1=En(g1),b1=Lt({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),v1=En(b1),x1=Lt({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w1=En(x1),_1=[9,13,27,32],nc=ur&&"CompositionEvent"in window,vs=null;ur&&"documentMode"in document&&(vs=document.documentMode);var S1=ur&&"TextEvent"in window&&!vs,jp=ur&&(!nc||vs&&8<vs&&11>=vs),pd=String.fromCharCode(32),md=!1;function Lp(t,n){switch(t){case"keyup":return _1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function k1(t,n){switch(t){case"compositionend":return Op(n);case"keypress":return n.which!==32?null:(md=!0,pd);case"textInput":return t=n.data,t===pd&&md?null:t;default:return null}}function C1(t,n){if(vi)return t==="compositionend"||!nc&&Lp(t,n)?(t=Dp(),Io=Qu=Er=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jp&&n.locale!=="ko"?null:n.data;default:return null}}var T1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!T1[t.type]:n==="textarea"}function Fp(t,n,e,r){mp(r),n=Jo(n,"onChange"),0<n.length&&(e=new ec("onChange","change",null,e,r),t.push({event:e,listeners:n}))}var xs=null,Ps=null;function E1(t){Yp(t,0)}function Aa(t){var n=_i(t);if(lp(n))return t}function N1(t,n){if(t==="change")return n}var Bp=!1;if(ur){var fl;if(ur){var hl="oninput"in document;if(!hl){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),hl=typeof yd.oninput=="function"}fl=hl}else fl=!1;Bp=fl&&(!document.documentMode||9<document.documentMode)}function bd(){xs&&(xs.detachEvent("onpropertychange",Up),Ps=xs=null)}function Up(t){if(t.propertyName==="value"&&Aa(Ps)){var n=[];Fp(n,Ps,t,Ku(t)),vp(E1,n)}}function A1(t,n,e){t==="focusin"?(bd(),xs=n,Ps=e,xs.attachEvent("onpropertychange",Up)):t==="focusout"&&bd()}function I1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Aa(Ps)}function M1(t,n){if(t==="click")return Aa(n)}function R1(t,n){if(t==="input"||t==="change")return Aa(n)}function P1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qn=typeof Object.is=="function"?Object.is:P1;function Ds(t,n){if(qn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var e=Object.keys(t),r=Object.keys(n);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var l=e[r];if(!Rl.call(n,l)||!qn(t[l],n[l]))return!1}return!0}function vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xd(t,n){var e=vd(t);t=0;for(var r;e;){if(e.nodeType===3){if(r=t+e.textContent.length,t<=n&&r>=n)return{node:e,offset:n-t};t=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=vd(e)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vp(){for(var t=window,n=Ho();n instanceof t.HTMLIFrameElement;){try{var e=typeof n.contentWindow.location.href=="string"}catch{e=!1}if(e)t=n.contentWindow;else break;n=Ho(t.document)}return n}function rc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function D1(t){var n=Vp(),e=t.focusedElem,r=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&zp(e.ownerDocument.documentElement,e)){if(r!==null&&rc(e)){if(n=r.start,t=r.end,t===void 0&&(t=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(t,e.value.length);else if(t=(n=e.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var l=e.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!t.extend&&o>r&&(l=r,r=o,o=l),l=xd(e,o);var s=xd(e,r);l&&s&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(n=n.createRange(),n.setStart(l.node,l.offset),t.removeAllRanges(),o>r?(t.addRange(n),t.extend(s.node,s.offset)):(n.setEnd(s.node,s.offset),t.addRange(n)))}}for(n=[],t=e;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<n.length;e++)t=n[e],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var j1=ur&&"documentMode"in document&&11>=document.documentMode,xi=null,Xl=null,ws=null,Zl=!1;function wd(t,n,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Zl||xi==null||xi!==Ho(r)||(r=xi,"selectionStart"in r&&rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ws&&Ds(ws,r)||(ws=r,r=Jo(Xl,"onSelect"),0<r.length&&(n=new ec("onSelect","select",null,n,e),t.push({event:n,listeners:r}),n.target=xi)))}function go(t,n){var e={};return e[t.toLowerCase()]=n.toLowerCase(),e["Webkit"+t]="webkit"+n,e["Moz"+t]="moz"+n,e}var wi={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},pl={},Hp={};ur&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Ia(t){if(pl[t])return pl[t];if(!wi[t])return t;var n=wi[t],e;for(e in n)if(n.hasOwnProperty(e)&&e in Hp)return pl[t]=n[e];return t}var $p=Ia("animationend"),qp=Ia("animationiteration"),Gp=Ia("animationstart"),Wp=Ia("transitionend"),Kp=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,n){Kp.set(t,n),ai(n,[t])}for(var ml=0;ml<_d.length;ml++){var gl=_d[ml],L1=gl.toLowerCase(),O1=gl[0].toUpperCase()+gl.slice(1);zr(L1,"on"+O1)}zr($p,"onAnimationEnd");zr(qp,"onAnimationIteration");zr(Gp,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(Wp,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function Sd(t,n,e){var r=t.type||"unknown-event";t.currentTarget=e,Lg(r,n,void 0,t),t.currentTarget=null}function Yp(t,n){n=(n&4)!==0;for(var e=0;e<t.length;e++){var r=t[e],l=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var s=r.length-1;0<=s;s--){var u=r[s],a=u.instance,i=u.currentTarget;if(u=u.listener,a!==o&&l.isPropagationStopped())break e;Sd(l,u,i),o=a}else for(s=0;s<r.length;s++){if(u=r[s],a=u.instance,i=u.currentTarget,u=u.listener,a!==o&&l.isPropagationStopped())break e;Sd(l,u,i),o=a}}}if(qo)throw t=Wl,qo=!1,Wl=null,t}function Et(t,n){var e=n[ru];e===void 0&&(e=n[ru]=new Set);var r=t+"__bubble";e.has(r)||(Jp(n,t,2,!1),e.add(r))}function yl(t,n,e){var r=0;n&&(r|=4),Jp(e,t,r,n)}var yo="_reactListening"+Math.random().toString(36).slice(2);function js(t){if(!t[yo]){t[yo]=!0,rp.forEach(function(e){e!=="selectionchange"&&(F1.has(e)||yl(e,!1,t),yl(e,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yo]||(n[yo]=!0,yl("selectionchange",!1,n))}}function Jp(t,n,e,r){switch(Pp(n)){case 1:var l=Zg;break;case 4:l=Qg;break;default:l=Zu}e=l.bind(null,n,e,t),l=void 0,!Gl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),r?l!==void 0?t.addEventListener(n,e,{capture:!0,passive:l}):t.addEventListener(n,e,!0):l!==void 0?t.addEventListener(n,e,{passive:l}):t.addEventListener(n,e,!1)}function bl(t,n,e,r,l){var o=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;s=s.return}for(;u!==null;){if(s=Xr(u),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}u=u.parentNode}}r=r.return}vp(function(){var i=o,c=Ku(e),h=[];e:{var d=Kp.get(t);if(d!==void 0){var f=ec,b=t;switch(t){case"keypress":if(Mo(e)===0)break e;case"keydown":case"keyup":f=p1;break;case"focusin":b="focus",f=dl;break;case"focusout":b="blur",f=dl;break;case"beforeblur":case"afterblur":f=dl;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=n1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=y1;break;case $p:case qp:case Gp:f=s1;break;case Wp:f=v1;break;case"scroll":f=e1;break;case"wheel":f=w1;break;case"copy":case"cut":case"paste":f=a1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=hd}var y=(n&4)!==0,p=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var m=i,x;m!==null;){x=m;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=As(m,g),C!=null&&y.push(Ls(m,C,x)))),p)break;m=m.return}0<y.length&&(d=new f(d,b,null,e,c),h.push({event:d,listeners:y}))}}if(!(n&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&e!==$l&&(b=e.relatedTarget||e.fromElement)&&(Xr(b)||b[cr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(b=e.relatedTarget||e.toElement,f=i,b=b?Xr(b):null,b!==null&&(p=li(b),b!==p||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=i),f!==b)){if(y=dd,C="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=hd,C="onPointerLeave",g="onPointerEnter",m="pointer"),p=f==null?d:_i(f),x=b==null?d:_i(b),d=new y(C,m+"leave",f,e,c),d.target=p,d.relatedTarget=x,C=null,Xr(c)===i&&(y=new y(g,m+"enter",b,e,c),y.target=x,y.relatedTarget=p,C=y),p=C,f&&b)t:{for(y=f,g=b,m=0,x=y;x;x=gi(x))m++;for(x=0,C=g;C;C=gi(C))x++;for(;0<m-x;)y=gi(y),m--;for(;0<x-m;)g=gi(g),x--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=gi(y),g=gi(g)}y=null}else y=null;f!==null&&kd(h,d,f,y,!1),b!==null&&p!==null&&kd(h,p,b,y,!0)}}e:{if(d=i?_i(i):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=N1;else if(gd(d))if(Bp)I=R1;else{I=I1;var D=A1}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=M1);if(I&&(I=I(t,i))){Fp(h,I,e,c);break e}D&&D(t,d,i),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&Bl(d,"number",d.value)}switch(D=i?_i(i):window,t){case"focusin":(gd(D)||D.contentEditable==="true")&&(xi=D,Xl=i,ws=null);break;case"focusout":ws=Xl=xi=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,wd(h,e,c);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":wd(h,e,c)}var z;if(nc)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else vi?Lp(t,e)&&(O="onCompositionEnd"):t==="keydown"&&e.keyCode===229&&(O="onCompositionStart");O&&(jp&&e.locale!=="ko"&&(vi||O!=="onCompositionStart"?O==="onCompositionEnd"&&vi&&(z=Dp()):(Er=c,Qu="value"in Er?Er.value:Er.textContent,vi=!0)),D=Jo(i,O),0<D.length&&(O=new fd(O,t,null,e,c),h.push({event:O,listeners:D}),z?O.data=z:(z=Op(e),z!==null&&(O.data=z)))),(z=S1?k1(t,e):C1(t,e))&&(i=Jo(i,"onBeforeInput"),0<i.length&&(c=new fd("onBeforeInput","beforeinput",null,e,c),h.push({event:c,listeners:i}),c.data=z))}Yp(h,n)})}function Ls(t,n,e){return{instance:t,listener:n,currentTarget:e}}function Jo(t,n){for(var e=n+"Capture",r=[];t!==null;){var l=t,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=As(t,e),o!=null&&r.unshift(Ls(t,o,l)),o=As(t,n),o!=null&&r.push(Ls(t,o,l))),t=t.return}return r}function gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kd(t,n,e,r,l){for(var o=n._reactName,s=[];e!==null&&e!==r;){var u=e,a=u.alternate,i=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&i!==null&&(u=i,l?(a=As(e,o),a!=null&&s.unshift(Ls(e,a,u))):l||(a=As(e,o),a!=null&&s.push(Ls(e,a,u)))),e=e.return}s.length!==0&&t.push({event:n,listeners:s})}var B1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Cd(t){return(typeof t=="string"?t:""+t).replace(B1,`
`).replace(U1,"")}function bo(t,n,e){if(n=Cd(n),Cd(t)!==n&&e)throw Error(ve(425))}function Xo(){}var Ql=null,eu=null;function tu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(t){return Td.resolve(null).then(t).catch(H1)}:nu;function H1(t){setTimeout(function(){throw t})}function vl(t,n){var e=n,r=0;do{var l=e.nextSibling;if(t.removeChild(e),l&&l.nodeType===8)if(e=l.data,e==="/$"){if(r===0){t.removeChild(l),Rs(n);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=l}while(e);Rs(n)}function Pr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ed(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var e=t.data;if(e==="$"||e==="$!"||e==="$?"){if(n===0)return t;n--}else e==="/$"&&n++}t=t.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ji,Os="__reactProps$"+Ji,cr="__reactContainer$"+Ji,ru="__reactEvents$"+Ji,$1="__reactListeners$"+Ji,q1="__reactHandles$"+Ji;function Xr(t){var n=t[Jn];if(n)return n;for(var e=t.parentNode;e;){if(n=e[cr]||e[Jn]){if(e=n.alternate,n.child!==null||e!==null&&e.child!==null)for(t=Ed(t);t!==null;){if(e=t[Jn])return e;t=Ed(t)}return n}t=e,e=t.parentNode}return null}function Xs(t){return t=t[Jn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function Ma(t){return t[Os]||null}var iu=[],Si=-1;function Vr(t){return{current:t}}function At(t){0>Si||(t.current=iu[Si],iu[Si]=null,Si--)}function Ct(t,n){Si++,iu[Si]=t.current,t.current=n}var Ur={},sn=Vr(Ur),pn=Vr(!1),ni=Ur;function Ui(t,n){var e=t.type.contextTypes;if(!e)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in e)l[o]=n[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),l}function mn(t){return t=t.childContextTypes,t!=null}function Zo(){At(pn),At(sn)}function Nd(t,n,e){if(sn.current!==Ur)throw Error(ve(168));Ct(sn,n),Ct(pn,e)}function Xp(t,n,e){var r=t.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var l in r)if(!(l in n))throw Error(ve(108,Ag(t)||"Unknown",l));return Lt({},e,r)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,ni=sn.current,Ct(sn,t),Ct(pn,pn.current),!0}function Ad(t,n,e){var r=t.stateNode;if(!r)throw Error(ve(169));e?(t=Xp(t,n,ni),r.__reactInternalMemoizedMergedChildContext=t,At(pn),At(sn),Ct(sn,t)):At(pn),Ct(pn,e)}var ir=null,Ra=!1,xl=!1;function Zp(t){ir===null?ir=[t]:ir.push(t)}function G1(t){Ra=!0,Zp(t)}function Hr(){if(!xl&&ir!==null){xl=!0;var t=0,n=_t;try{var e=ir;for(_t=1;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}ir=null,Ra=!1}catch(l){throw ir!==null&&(ir=ir.slice(t+1)),Sp(Yu,Hr),l}finally{_t=n,xl=!1}}return null}var ki=[],Ci=0,ea=null,ta=0,Nn=[],An=0,ri=null,sr=1,or="";function Yr(t,n){ki[Ci++]=ta,ki[Ci++]=ea,ea=t,ta=n}function Qp(t,n,e){Nn[An++]=sr,Nn[An++]=or,Nn[An++]=ri,ri=t;var r=sr;t=or;var l=32-Vn(r)-1;r&=~(1<<l),e+=1;var o=32-Vn(n)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,sr=1<<32-Vn(n)+l|e<<l|r,or=o+t}else sr=1<<o|e<<l|r,or=t}function ic(t){t.return!==null&&(Yr(t,1),Qp(t,1,0))}function sc(t){for(;t===ea;)ea=ki[--Ci],ki[Ci]=null,ta=ki[--Ci],ki[Ci]=null;for(;t===ri;)ri=Nn[--An],Nn[An]=null,or=Nn[--An],Nn[An]=null,sr=Nn[--An],Nn[An]=null}var kn=null,wn=null,Rt=!1,zn=null;function em(t,n){var e=In(5,null,null,0);e.elementType="DELETED",e.stateNode=n,e.return=t,n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)}function Id(t,n){switch(t.tag){case 5:var e=t.type;return n=n.nodeType!==1||e.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,kn=t,wn=Pr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,kn=t,wn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(e=ri!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:n,treeContext:e,retryLane:1073741824},e=In(18,null,null,0),e.stateNode=n,e.return=t,t.child=e,kn=t,wn=null,!0):!1;default:return!1}}function su(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ou(t){if(Rt){var n=wn;if(n){var e=n;if(!Id(t,n)){if(su(t))throw Error(ve(418));n=Pr(e.nextSibling);var r=kn;n&&Id(t,n)?em(r,e):(t.flags=t.flags&-4097|2,Rt=!1,kn=t)}}else{if(su(t))throw Error(ve(418));t.flags=t.flags&-4097|2,Rt=!1,kn=t}}}function Md(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function vo(t){if(t!==kn)return!1;if(!Rt)return Md(t),Rt=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!tu(t.type,t.memoizedProps)),n&&(n=wn)){if(su(t))throw tm(),Error(ve(418));for(;n;)em(t,n),n=Pr(n.nextSibling)}if(Md(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var e=t.data;if(e==="/$"){if(n===0){wn=Pr(t.nextSibling);break e}n--}else e!=="$"&&e!=="$!"&&e!=="$?"||n++}t=t.nextSibling}wn=null}}else wn=kn?Pr(t.stateNode.nextSibling):null;return!0}function tm(){for(var t=wn;t;)t=Pr(t.nextSibling)}function zi(){wn=kn=null,Rt=!1}function oc(t){zn===null?zn=[t]:zn.push(t)}var W1=pr.ReactCurrentBatchConfig;function us(t,n,e){if(t=e.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(ve(309));var r=e.stateNode}if(!r)throw Error(ve(147,t));var l=r,o=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===o?n.ref:(n=function(s){var u=l.refs;s===null?delete u[o]:u[o]=s},n._stringRef=o,n)}if(typeof t!="string")throw Error(ve(284));if(!e._owner)throw Error(ve(290,t))}return t}function xo(t,n){throw t=Object.prototype.toString.call(n),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Rd(t){var n=t._init;return n(t._payload)}function nm(t){function n(g,m){if(t){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function e(g,m){if(!t)return null;for(;m!==null;)n(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function l(g,m){return g=Or(g,m),g.index=0,g.sibling=null,g}function o(g,m,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function u(g,m,x,C){return m===null||m.tag!==6?(m=El(x,g.mode,C),m.return=g,m):(m=l(m,x),m.return=g,m)}function a(g,m,x,C){var I=x.type;return I===bi?c(g,m,x.props.children,C,x.key):m!==null&&(m.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&Rd(I)===m.type)?(C=l(m,x.props),C.ref=us(g,m,x),C.return=g,C):(C=Fo(x.type,x.key,x.props,null,g.mode,C),C.ref=us(g,m,x),C.return=g,C)}function i(g,m,x,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Nl(x,g.mode,C),m.return=g,m):(m=l(m,x.children||[]),m.return=g,m)}function c(g,m,x,C,I){return m===null||m.tag!==7?(m=ti(x,g.mode,C,I),m.return=g,m):(m=l(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=El(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case lo:return x=Fo(m.type,m.key,m.props,null,g.mode,x),x.ref=us(g,null,m),x.return=g,x;case yi:return m=Nl(m,g.mode,x),m.return=g,m;case Sr:var C=m._init;return h(g,C(m._payload),x)}if(ps(m)||is(m))return m=ti(m,g.mode,x,null),m.return=g,m;xo(g,m)}return null}function d(g,m,x,C){var I=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:u(g,m,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lo:return x.key===I?a(g,m,x,C):null;case yi:return x.key===I?i(g,m,x,C):null;case Sr:return I=x._init,d(g,m,I(x._payload),C)}if(ps(x)||is(x))return I!==null?null:c(g,m,x,C,null);xo(g,x)}return null}function f(g,m,x,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,u(m,g,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case lo:return g=g.get(C.key===null?x:C.key)||null,a(m,g,C,I);case yi:return g=g.get(C.key===null?x:C.key)||null,i(m,g,C,I);case Sr:var D=C._init;return f(g,m,x,D(C._payload),I)}if(ps(C)||is(C))return g=g.get(x)||null,c(m,g,C,I,null);xo(m,C)}return null}function b(g,m,x,C){for(var I=null,D=null,z=m,O=m=0,B=null;z!==null&&O<x.length;O++){z.index>O?(B=z,z=null):B=z.sibling;var V=d(g,z,x[O],C);if(V===null){z===null&&(z=B);break}t&&z&&V.alternate===null&&n(g,z),m=o(V,m,O),D===null?I=V:D.sibling=V,D=V,z=B}if(O===x.length)return e(g,z),Rt&&Yr(g,O),I;if(z===null){for(;O<x.length;O++)z=h(g,x[O],C),z!==null&&(m=o(z,m,O),D===null?I=z:D.sibling=z,D=z);return Rt&&Yr(g,O),I}for(z=r(g,z);O<x.length;O++)B=f(z,g,O,x[O],C),B!==null&&(t&&B.alternate!==null&&z.delete(B.key===null?O:B.key),m=o(B,m,O),D===null?I=B:D.sibling=B,D=B);return t&&z.forEach(function(q){return n(g,q)}),Rt&&Yr(g,O),I}function y(g,m,x,C){var I=is(x);if(typeof I!="function")throw Error(ve(150));if(x=I.call(x),x==null)throw Error(ve(151));for(var D=I=null,z=m,O=m=0,B=null,V=x.next();z!==null&&!V.done;O++,V=x.next()){z.index>O?(B=z,z=null):B=z.sibling;var q=d(g,z,V.value,C);if(q===null){z===null&&(z=B);break}t&&z&&q.alternate===null&&n(g,z),m=o(q,m,O),D===null?I=q:D.sibling=q,D=q,z=B}if(V.done)return e(g,z),Rt&&Yr(g,O),I;if(z===null){for(;!V.done;O++,V=x.next())V=h(g,V.value,C),V!==null&&(m=o(V,m,O),D===null?I=V:D.sibling=V,D=V);return Rt&&Yr(g,O),I}for(z=r(g,z);!V.done;O++,V=x.next())V=f(z,g,O,V.value,C),V!==null&&(t&&V.alternate!==null&&z.delete(V.key===null?O:V.key),m=o(V,m,O),D===null?I=V:D.sibling=V,D=V);return t&&z.forEach(function(H){return n(g,H)}),Rt&&Yr(g,O),I}function p(g,m,x,C){if(typeof x=="object"&&x!==null&&x.type===bi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case lo:e:{for(var I=x.key,D=m;D!==null;){if(D.key===I){if(I=x.type,I===bi){if(D.tag===7){e(g,D.sibling),m=l(D,x.props.children),m.return=g,g=m;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&Rd(I)===D.type){e(g,D.sibling),m=l(D,x.props),m.ref=us(g,D,x),m.return=g,g=m;break e}e(g,D);break}else n(g,D);D=D.sibling}x.type===bi?(m=ti(x.props.children,g.mode,C,x.key),m.return=g,g=m):(C=Fo(x.type,x.key,x.props,null,g.mode,C),C.ref=us(g,m,x),C.return=g,g=C)}return s(g);case yi:e:{for(D=x.key;m!==null;){if(m.key===D)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){e(g,m.sibling),m=l(m,x.children||[]),m.return=g,g=m;break e}else{e(g,m);break}else n(g,m);m=m.sibling}m=Nl(x,g.mode,C),m.return=g,g=m}return s(g);case Sr:return D=x._init,p(g,m,D(x._payload),C)}if(ps(x))return b(g,m,x,C);if(is(x))return y(g,m,x,C);xo(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(e(g,m.sibling),m=l(m,x),m.return=g,g=m):(e(g,m),m=El(x,g.mode,C),m.return=g,g=m),s(g)):e(g,m)}return p}var Vi=nm(!0),rm=nm(!1),na=Vr(null),ra=null,Ti=null,ac=null;function lc(){ac=Ti=ra=null}function uc(t){var n=na.current;At(na),t._currentValue=n}function au(t,n,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===e)break;t=t.return}}function Di(t,n){ra=t,ac=Ti=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(hn=!0),t.firstContext=null)}function jn(t){var n=t._currentValue;if(ac!==t)if(t={context:t,memoizedValue:n,next:null},Ti===null){if(ra===null)throw Error(ve(308));Ti=t,ra.dependencies={lanes:0,firstContext:t}}else Ti=Ti.next=t;return n}var Zr=null;function cc(t){Zr===null?Zr=[t]:Zr.push(t)}function im(t,n,e,r){var l=n.interleaved;return l===null?(e.next=e,cc(n)):(e.next=l.next,l.next=e),n.interleaved=e,dr(t,r)}function dr(t,n){t.lanes|=n;var e=t.alternate;for(e!==null&&(e.lanes|=n),e=t,t=t.return;t!==null;)t.childLanes|=n,e=t.alternate,e!==null&&(e.childLanes|=n),e=t,t=t.return;return e.tag===3?e.stateNode:null}var kr=!1;function dc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sm(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Dr(t,n,e){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var l=r.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),r.pending=n,dr(t,e)}return l=r.interleaved,l===null?(n.next=n,cc(r)):(n.next=l.next,l.next=n),r.interleaved=n,dr(t,e)}function Ro(t,n,e){if(n=n.updateQueue,n!==null&&(n=n.shared,(e&4194240)!==0)){var r=n.lanes;r&=t.pendingLanes,e|=r,n.lanes=e,Ju(t,e)}}function Pd(t,n){var e=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var l=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?l=o=s:o=o.next=s,e=e.next}while(e!==null);o===null?l=o=n:o=o.next=n}else l=o=n;e={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=e;return}t=e.lastBaseUpdate,t===null?e.firstBaseUpdate=n:t.next=n,e.lastBaseUpdate=n}function ia(t,n,e,r){var l=t.updateQueue;kr=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var a=u,i=a.next;a.next=null,s===null?o=i:s.next=i,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==s&&(u===null?c.firstBaseUpdate=i:u.next=i,c.lastBaseUpdate=a))}if(o!==null){var h=l.baseState;s=0,c=i=a=null,u=o;do{var d=u.lane,f=u.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=t,y=u;switch(d=n,f=e,y.tag){case 1:if(b=y.payload,typeof b=="function"){h=b.call(f,h,d);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,d=typeof b=="function"?b.call(f,h,d):b,d==null)break e;h=Lt({},h,d);break e;case 2:kr=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,d=l.effects,d===null?l.effects=[u]:d.push(u))}else f={eventTime:f,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(i=c=f,a=h):c=c.next=f,s|=d;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;d=u,u=d.next,d.next=null,l.lastBaseUpdate=d,l.shared.pending=null}}while(1);if(c===null&&(a=h),l.baseState=a,l.firstBaseUpdate=i,l.lastBaseUpdate=c,n=l.shared.interleaved,n!==null){l=n;do s|=l.lane,l=l.next;while(l!==n)}else o===null&&(l.shared.lanes=0);si|=s,t.lanes=s,t.memoizedState=h}}function Dd(t,n,e){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var r=t[n],l=r.callback;if(l!==null){if(r.callback=null,r=e,typeof l!="function")throw Error(ve(191,l));l.call(r)}}}var Zs={},Qn=Vr(Zs),Fs=Vr(Zs),Bs=Vr(Zs);function Qr(t){if(t===Zs)throw Error(ve(174));return t}function fc(t,n){switch(Ct(Bs,n),Ct(Fs,t),Ct(Qn,Zs),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:zl(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=zl(n,t)}At(Qn),Ct(Qn,n)}function Hi(){At(Qn),At(Fs),At(Bs)}function om(t){Qr(Bs.current);var n=Qr(Qn.current),e=zl(n,t.type);n!==e&&(Ct(Fs,t),Ct(Qn,e))}function hc(t){Fs.current===t&&(At(Qn),At(Fs))}var Pt=Vr(0);function sa(t){for(var n=t;n!==null;){if(n.tag===13){var e=n.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wl=[];function pc(){for(var t=0;t<wl.length;t++)wl[t]._workInProgressVersionPrimary=null;wl.length=0}var Po=pr.ReactCurrentDispatcher,_l=pr.ReactCurrentBatchConfig,ii=0,Dt=null,qt=null,Wt=null,oa=!1,_s=!1,Us=0,K1=0;function en(){throw Error(ve(321))}function mc(t,n){if(n===null)return!1;for(var e=0;e<n.length&&e<t.length;e++)if(!qn(t[e],n[e]))return!1;return!0}function gc(t,n,e,r,l,o){if(ii=o,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Po.current=t===null||t.memoizedState===null?Z1:Q1,t=e(r,l),_s){o=0;do{if(_s=!1,Us=0,25<=o)throw Error(ve(301));o+=1,Wt=qt=null,n.updateQueue=null,Po.current=ey,t=e(r,l)}while(_s)}if(Po.current=aa,n=qt!==null&&qt.next!==null,ii=0,Wt=qt=Dt=null,oa=!1,n)throw Error(ve(300));return t}function yc(){var t=Us!==0;return Us=0,t}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Dt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Ln(){if(qt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var n=Wt===null?Dt.memoizedState:Wt.next;if(n!==null)Wt=n,qt=t;else{if(t===null)throw Error(ve(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Wt===null?Dt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function zs(t,n){return typeof n=="function"?n(t):n}function Sl(t){var n=Ln(),e=n.queue;if(e===null)throw Error(ve(311));e.lastRenderedReducer=t;var r=qt,l=r.baseQueue,o=e.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,e.pending=null}if(l!==null){o=l.next,r=r.baseState;var u=s=null,a=null,i=o;do{var c=i.lane;if((ii&c)===c)a!==null&&(a=a.next={lane:0,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null}),r=i.hasEagerState?i.eagerState:t(r,i.action);else{var h={lane:c,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null};a===null?(u=a=h,s=r):a=a.next=h,Dt.lanes|=c,si|=c}i=i.next}while(i!==null&&i!==o);a===null?s=r:a.next=u,qn(r,n.memoizedState)||(hn=!0),n.memoizedState=r,n.baseState=s,n.baseQueue=a,e.lastRenderedState=r}if(t=e.interleaved,t!==null){l=t;do o=l.lane,Dt.lanes|=o,si|=o,l=l.next;while(l!==t)}else l===null&&(e.lanes=0);return[n.memoizedState,e.dispatch]}function kl(t){var n=Ln(),e=n.queue;if(e===null)throw Error(ve(311));e.lastRenderedReducer=t;var r=e.dispatch,l=e.pending,o=n.memoizedState;if(l!==null){e.pending=null;var s=l=l.next;do o=t(o,s.action),s=s.next;while(s!==l);qn(o,n.memoizedState)||(hn=!0),n.memoizedState=o,n.baseQueue===null&&(n.baseState=o),e.lastRenderedState=o}return[o,r]}function am(){}function lm(t,n){var e=Dt,r=Ln(),l=n(),o=!qn(r.memoizedState,l);if(o&&(r.memoizedState=l,hn=!0),r=r.queue,bc(dm.bind(null,e,r,t),[t]),r.getSnapshot!==n||o||Wt!==null&&Wt.memoizedState.tag&1){if(e.flags|=2048,Vs(9,cm.bind(null,e,r,l,n),void 0,null),Kt===null)throw Error(ve(349));ii&30||um(e,n,l)}return l}function um(t,n,e){t.flags|=16384,t={getSnapshot:n,value:e},n=Dt.updateQueue,n===null?(n={lastEffect:null,stores:null},Dt.updateQueue=n,n.stores=[t]):(e=n.stores,e===null?n.stores=[t]:e.push(t))}function cm(t,n,e,r){n.value=e,n.getSnapshot=r,fm(n)&&hm(t)}function dm(t,n,e){return e(function(){fm(n)&&hm(t)})}function fm(t){var n=t.getSnapshot;t=t.value;try{var e=n();return!qn(t,e)}catch{return!0}}function hm(t){var n=dr(t,1);n!==null&&Hn(n,t,1,-1)}function jd(t){var n=Yn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n.queue=t,t=t.dispatch=X1.bind(null,Dt,t),[n.memoizedState,t]}function Vs(t,n,e,r){return t={tag:t,create:n,destroy:e,deps:r,next:null},n=Dt.updateQueue,n===null?(n={lastEffect:null,stores:null},Dt.updateQueue=n,n.lastEffect=t.next=t):(e=n.lastEffect,e===null?n.lastEffect=t.next=t:(r=e.next,e.next=t,t.next=r,n.lastEffect=t)),t}function pm(){return Ln().memoizedState}function Do(t,n,e,r){var l=Yn();Dt.flags|=t,l.memoizedState=Vs(1|n,e,void 0,r===void 0?null:r)}function Pa(t,n,e,r){var l=Ln();r=r===void 0?null:r;var o=void 0;if(qt!==null){var s=qt.memoizedState;if(o=s.destroy,r!==null&&mc(r,s.deps)){l.memoizedState=Vs(n,e,o,r);return}}Dt.flags|=t,l.memoizedState=Vs(1|n,e,o,r)}function Ld(t,n){return Do(8390656,8,t,n)}function bc(t,n){return Pa(2048,8,t,n)}function mm(t,n){return Pa(4,2,t,n)}function gm(t,n){return Pa(4,4,t,n)}function ym(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bm(t,n,e){return e=e!=null?e.concat([t]):null,Pa(4,4,ym.bind(null,n,t),e)}function vc(){}function vm(t,n){var e=Ln();n=n===void 0?null:n;var r=e.memoizedState;return r!==null&&n!==null&&mc(n,r[1])?r[0]:(e.memoizedState=[t,n],t)}function xm(t,n){var e=Ln();n=n===void 0?null:n;var r=e.memoizedState;return r!==null&&n!==null&&mc(n,r[1])?r[0]:(t=t(),e.memoizedState=[t,n],t)}function wm(t,n,e){return ii&21?(qn(e,n)||(e=Tp(),Dt.lanes|=e,si|=e,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=e)}function Y1(t,n){var e=_t;_t=e!==0&&4>e?e:4,t(!0);var r=_l.transition;_l.transition={};try{t(!1),n()}finally{_t=e,_l.transition=r}}function _m(){return Ln().memoizedState}function J1(t,n,e){var r=Lr(t);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},Sm(t))km(n,e);else if(e=im(t,n,e,r),e!==null){var l=an();Hn(e,t,r,l),Cm(e,n,r)}}function X1(t,n,e){var r=Lr(t),l={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(Sm(t))km(n,l);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=n.lastRenderedReducer,o!==null))try{var s=n.lastRenderedState,u=o(s,e);if(l.hasEagerState=!0,l.eagerState=u,qn(u,s)){var a=n.interleaved;a===null?(l.next=l,cc(n)):(l.next=a.next,a.next=l),n.interleaved=l;return}}catch{}finally{}e=im(t,n,l,r),e!==null&&(l=an(),Hn(e,t,r,l),Cm(e,n,r))}}function Sm(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function km(t,n){_s=oa=!0;var e=t.pending;e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n}function Cm(t,n,e){if(e&4194240){var r=n.lanes;r&=t.pendingLanes,e|=r,n.lanes=e,Ju(t,e)}}var aa={readContext:jn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},Z1={readContext:jn,useCallback:function(t,n){return Yn().memoizedState=[t,n===void 0?null:n],t},useContext:jn,useEffect:Ld,useImperativeHandle:function(t,n,e){return e=e!=null?e.concat([t]):null,Do(4194308,4,ym.bind(null,n,t),e)},useLayoutEffect:function(t,n){return Do(4194308,4,t,n)},useInsertionEffect:function(t,n){return Do(4,2,t,n)},useMemo:function(t,n){var e=Yn();return n=n===void 0?null:n,t=t(),e.memoizedState=[t,n],t},useReducer:function(t,n,e){var r=Yn();return n=e!==void 0?e(n):n,r.memoizedState=r.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},r.queue=t,t=t.dispatch=J1.bind(null,Dt,t),[r.memoizedState,t]},useRef:function(t){var n=Yn();return t={current:t},n.memoizedState=t},useState:jd,useDebugValue:vc,useDeferredValue:function(t){return Yn().memoizedState=t},useTransition:function(){var t=jd(!1),n=t[0];return t=Y1.bind(null,t[1]),Yn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,e){var r=Dt,l=Yn();if(Rt){if(e===void 0)throw Error(ve(407));e=e()}else{if(e=n(),Kt===null)throw Error(ve(349));ii&30||um(r,n,e)}l.memoizedState=e;var o={value:e,getSnapshot:n};return l.queue=o,Ld(dm.bind(null,r,o,t),[t]),r.flags|=2048,Vs(9,cm.bind(null,r,o,e,n),void 0,null),e},useId:function(){var t=Yn(),n=Kt.identifierPrefix;if(Rt){var e=or,r=sr;e=(r&~(1<<32-Vn(r)-1)).toString(32)+e,n=":"+n+"R"+e,e=Us++,0<e&&(n+="H"+e.toString(32)),n+=":"}else e=K1++,n=":"+n+"r"+e.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Q1={readContext:jn,useCallback:vm,useContext:jn,useEffect:bc,useImperativeHandle:bm,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:xm,useReducer:Sl,useRef:pm,useState:function(){return Sl(zs)},useDebugValue:vc,useDeferredValue:function(t){var n=Ln();return wm(n,qt.memoizedState,t)},useTransition:function(){var t=Sl(zs)[0],n=Ln().memoizedState;return[t,n]},useMutableSource:am,useSyncExternalStore:lm,useId:_m,unstable_isNewReconciler:!1},ey={readContext:jn,useCallback:vm,useContext:jn,useEffect:bc,useImperativeHandle:bm,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:xm,useReducer:kl,useRef:pm,useState:function(){return kl(zs)},useDebugValue:vc,useDeferredValue:function(t){var n=Ln();return qt===null?n.memoizedState=t:wm(n,qt.memoizedState,t)},useTransition:function(){var t=kl(zs)[0],n=Ln().memoizedState;return[t,n]},useMutableSource:am,useSyncExternalStore:lm,useId:_m,unstable_isNewReconciler:!1};function Bn(t,n){if(t&&t.defaultProps){n=Lt({},n),t=t.defaultProps;for(var e in t)n[e]===void 0&&(n[e]=t[e]);return n}return n}function lu(t,n,e,r){n=t.memoizedState,e=e(r,n),e=e==null?n:Lt({},n,e),t.memoizedState=e,t.lanes===0&&(t.updateQueue.baseState=e)}var Da={isMounted:function(t){return(t=t._reactInternals)?li(t)===t:!1},enqueueSetState:function(t,n,e){t=t._reactInternals;var r=an(),l=Lr(t),o=lr(r,l);o.payload=n,e!=null&&(o.callback=e),n=Dr(t,o,l),n!==null&&(Hn(n,t,l,r),Ro(n,t,l))},enqueueReplaceState:function(t,n,e){t=t._reactInternals;var r=an(),l=Lr(t),o=lr(r,l);o.tag=1,o.payload=n,e!=null&&(o.callback=e),n=Dr(t,o,l),n!==null&&(Hn(n,t,l,r),Ro(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var e=an(),r=Lr(t),l=lr(e,r);l.tag=2,n!=null&&(l.callback=n),n=Dr(t,l,r),n!==null&&(Hn(n,t,r,e),Ro(n,t,r))}};function Od(t,n,e,r,l,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):n.prototype&&n.prototype.isPureReactComponent?!Ds(e,r)||!Ds(l,o):!0}function Tm(t,n,e){var r=!1,l=Ur,o=n.contextType;return typeof o=="object"&&o!==null?o=jn(o):(l=mn(n)?ni:sn.current,r=n.contextTypes,o=(r=r!=null)?Ui(t,l):Ur),n=new n(e,o),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Da,t.stateNode=n,n._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=o),n}function Fd(t,n,e,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(e,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(e,r),n.state!==t&&Da.enqueueReplaceState(n,n.state,null)}function uu(t,n,e,r){var l=t.stateNode;l.props=e,l.state=t.memoizedState,l.refs={},dc(t);var o=n.contextType;typeof o=="object"&&o!==null?l.context=jn(o):(o=mn(n)?ni:sn.current,l.context=Ui(t,o)),l.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(lu(t,n,o,e),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&Da.enqueueReplaceState(l,l.state,null),ia(t,e,l,r),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function $i(t,n){try{var e="",r=n;do e+=Ng(r),r=r.return;while(r);var l=e}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:n,stack:l,digest:null}}function Cl(t,n,e){return{value:t,source:null,stack:e??null,digest:n??null}}function cu(t,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var ty=typeof WeakMap=="function"?WeakMap:Map;function Em(t,n,e){e=lr(-1,e),e.tag=3,e.payload={element:null};var r=n.value;return e.callback=function(){ua||(ua=!0,xu=r),cu(t,n)},e}function Nm(t,n,e){e=lr(-1,e),e.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var l=n.value;e.payload=function(){return r(l)},e.callback=function(){cu(t,n)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){cu(t,n),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})}),e}function Bd(t,n,e){var r=t.pingCache;if(r===null){r=t.pingCache=new ty;var l=new Set;r.set(n,l)}else l=r.get(n),l===void 0&&(l=new Set,r.set(n,l));l.has(e)||(l.add(e),t=my.bind(null,t,n,e),n.then(t,t))}function Ud(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function zd(t,n,e,r,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===n?t.flags|=65536:(t.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(n=lr(-1,1),n.tag=2,Dr(e,n,1))),e.lanes|=1),t)}var ny=pr.ReactCurrentOwner,hn=!1;function on(t,n,e,r){n.child=t===null?rm(n,null,e,r):Vi(n,t.child,e,r)}function Vd(t,n,e,r,l){e=e.render;var o=n.ref;return Di(n,l),r=gc(t,n,e,r,o,l),e=yc(),t!==null&&!hn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~l,fr(t,n,l)):(Rt&&e&&ic(n),n.flags|=1,on(t,n,r,l),n.child)}function Hd(t,n,e,r,l){if(t===null){var o=e.type;return typeof o=="function"&&!Ec(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(n.tag=15,n.type=o,Am(t,n,o,r,l)):(t=Fo(e.type,null,r,n,n.mode,l),t.ref=n.ref,t.return=n,n.child=t)}if(o=t.child,!(t.lanes&l)){var s=o.memoizedProps;if(e=e.compare,e=e!==null?e:Ds,e(s,r)&&t.ref===n.ref)return fr(t,n,l)}return n.flags|=1,t=Or(o,r),t.ref=n.ref,t.return=n,n.child=t}function Am(t,n,e,r,l){if(t!==null){var o=t.memoizedProps;if(Ds(o,r)&&t.ref===n.ref)if(hn=!1,n.pendingProps=r=o,(t.lanes&l)!==0)t.flags&131072&&(hn=!0);else return n.lanes=t.lanes,fr(t,n,l)}return du(t,n,e,r,l)}function Im(t,n,e){var r=n.pendingProps,l=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Ni,xn),xn|=e;else{if(!(e&1073741824))return t=o!==null?o.baseLanes|e:e,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Ct(Ni,xn),xn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,Ct(Ni,xn),xn|=r}else o!==null?(r=o.baseLanes|e,n.memoizedState=null):r=e,Ct(Ni,xn),xn|=r;return on(t,n,l,e),n.child}function Mm(t,n){var e=n.ref;(t===null&&e!==null||t!==null&&t.ref!==e)&&(n.flags|=512,n.flags|=2097152)}function du(t,n,e,r,l){var o=mn(e)?ni:sn.current;return o=Ui(n,o),Di(n,l),e=gc(t,n,e,r,o,l),r=yc(),t!==null&&!hn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~l,fr(t,n,l)):(Rt&&r&&ic(n),n.flags|=1,on(t,n,e,l),n.child)}function $d(t,n,e,r,l){if(mn(e)){var o=!0;Qo(n)}else o=!1;if(Di(n,l),n.stateNode===null)jo(t,n),Tm(n,e,r),uu(n,e,r,l),r=!0;else if(t===null){var s=n.stateNode,u=n.memoizedProps;s.props=u;var a=s.context,i=e.contextType;typeof i=="object"&&i!==null?i=jn(i):(i=mn(e)?ni:sn.current,i=Ui(n,i));var c=e.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||a!==i)&&Fd(n,s,r,i),kr=!1;var d=n.memoizedState;s.state=d,ia(n,r,s,l),a=n.memoizedState,u!==r||d!==a||pn.current||kr?(typeof c=="function"&&(lu(n,e,c,r),a=n.memoizedState),(u=kr||Od(n,e,u,r,d,a,i))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(n.flags|=4194308)):(typeof s.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=a),s.props=r,s.state=a,s.context=i,r=u):(typeof s.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{s=n.stateNode,sm(t,n),u=n.memoizedProps,i=n.type===n.elementType?u:Bn(n.type,u),s.props=i,h=n.pendingProps,d=s.context,a=e.contextType,typeof a=="object"&&a!==null?a=jn(a):(a=mn(e)?ni:sn.current,a=Ui(n,a));var f=e.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==h||d!==a)&&Fd(n,s,r,a),kr=!1,d=n.memoizedState,s.state=d,ia(n,r,s,l);var b=n.memoizedState;u!==h||d!==b||pn.current||kr?(typeof f=="function"&&(lu(n,e,f,r),b=n.memoizedState),(i=kr||Od(n,e,i,r,d,b,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,a)),typeof s.componentDidUpdate=="function"&&(n.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(n.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=b),s.props=r,s.state=b,s.context=a,r=i):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(n.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(n.flags|=1024),r=!1)}return fu(t,n,e,r,o,l)}function fu(t,n,e,r,l,o){Mm(t,n);var s=(n.flags&128)!==0;if(!r&&!s)return l&&Ad(n,e,!1),fr(t,n,o);r=n.stateNode,ny.current=n;var u=s&&typeof e.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,t!==null&&s?(n.child=Vi(n,t.child,null,o),n.child=Vi(n,null,u,o)):on(t,n,u,o),n.memoizedState=r.state,l&&Ad(n,e,!0),n.child}function Rm(t){var n=t.stateNode;n.pendingContext?Nd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Nd(t,n.context,!1),fc(t,n.containerInfo)}function qd(t,n,e,r,l){return zi(),oc(l),n.flags|=256,on(t,n,e,r),n.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function pu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pm(t,n,e){var r=n.pendingProps,l=Pt.current,o=!1,s=(n.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(l&2)!==0),u?(o=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Ct(Pt,l&1),t===null)return ou(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(s=r.children,t=r.fallback,o?(r=n.mode,o=n.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Oa(s,r,0,null),t=ti(t,r,e,null),o.return=n,t.return=n,o.sibling=t,n.child=o,n.child.memoizedState=pu(e),n.memoizedState=hu,t):xc(n,s));if(l=t.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return ry(t,n,s,r,u,l,e);if(o){o=r.fallback,s=n.mode,l=t.child,u=l.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&n.child!==l?(r=n.child,r.childLanes=0,r.pendingProps=a,n.deletions=null):(r=Or(l,a),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?o=Or(u,o):(o=ti(o,s,e,null),o.flags|=2),o.return=n,r.return=n,r.sibling=o,n.child=r,r=o,o=n.child,s=t.child.memoizedState,s=s===null?pu(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~e,n.memoizedState=hu,r}return o=t.child,t=o.sibling,r=Or(o,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=e),r.return=n,r.sibling=null,t!==null&&(e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)),n.child=r,n.memoizedState=null,r}function xc(t,n){return n=Oa({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function wo(t,n,e,r){return r!==null&&oc(r),Vi(n,t.child,null,e),t=xc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,e,r,l,o,s){if(e)return n.flags&256?(n.flags&=-257,r=Cl(Error(ve(422))),wo(t,n,s,r)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(o=r.fallback,l=n.mode,r=Oa({mode:"visible",children:r.children},l,0,null),o=ti(o,l,s,null),o.flags|=2,r.return=n,o.return=n,r.sibling=o,n.child=r,n.mode&1&&Vi(n,t.child,null,s),n.child.memoizedState=pu(s),n.memoizedState=hu,o);if(!(n.mode&1))return wo(t,n,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(ve(419)),r=Cl(o,r,void 0),wo(t,n,s,r)}if(u=(s&t.childLanes)!==0,hn||u){if(r=Kt,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,dr(t,l),Hn(r,t,l,-1))}return Tc(),r=Cl(Error(ve(421))),wo(t,n,s,r)}return l.data==="$?"?(n.flags|=128,n.child=t.child,n=gy.bind(null,t),l._reactRetry=n,null):(t=o.treeContext,wn=Pr(l.nextSibling),kn=n,Rt=!0,zn=null,t!==null&&(Nn[An++]=sr,Nn[An++]=or,Nn[An++]=ri,sr=t.id,or=t.overflow,ri=n),n=xc(n,r.children),n.flags|=4096,n)}function Gd(t,n,e){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),au(t.return,n,e)}function Tl(t,n,e,r,l){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:l}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=l)}function Dm(t,n,e){var r=n.pendingProps,l=r.revealOrder,o=r.tail;if(on(t,n,r.children,e),r=Pt.current,r&2)r=r&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gd(t,e,n);else if(t.tag===19)Gd(t,e,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(Pt,r),!(n.mode&1))n.memoizedState=null;else switch(l){case"forwards":for(e=n.child,l=null;e!==null;)t=e.alternate,t!==null&&sa(t)===null&&(l=e),e=e.sibling;e=l,e===null?(l=n.child,n.child=null):(l=e.sibling,e.sibling=null),Tl(n,!1,l,e,o);break;case"backwards":for(e=null,l=n.child,n.child=null;l!==null;){if(t=l.alternate,t!==null&&sa(t)===null){n.child=l;break}t=l.sibling,l.sibling=e,e=l,l=t}Tl(n,!0,e,null,o);break;case"together":Tl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function jo(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function fr(t,n,e){if(t!==null&&(n.dependencies=t.dependencies),si|=n.lanes,!(e&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(ve(153));if(n.child!==null){for(t=n.child,e=Or(t,t.pendingProps),n.child=e,e.return=n;t.sibling!==null;)t=t.sibling,e=e.sibling=Or(t,t.pendingProps),e.return=n;e.sibling=null}return n.child}function iy(t,n,e){switch(n.tag){case 3:Rm(n),zi();break;case 5:om(n);break;case 1:mn(n.type)&&Qo(n);break;case 4:fc(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,l=n.memoizedProps.value;Ct(na,r._currentValue),r._currentValue=l;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(Ct(Pt,Pt.current&1),n.flags|=128,null):e&n.child.childLanes?Pm(t,n,e):(Ct(Pt,Pt.current&1),t=fr(t,n,e),t!==null?t.sibling:null);Ct(Pt,Pt.current&1);break;case 19:if(r=(e&n.childLanes)!==0,t.flags&128){if(r)return Dm(t,n,e);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ct(Pt,Pt.current),r)break;return null;case 22:case 23:return n.lanes=0,Im(t,n,e)}return fr(t,n,e)}var jm,mu,Lm,Om;jm=function(t,n){for(var e=n.child;e!==null;){if(e.tag===5||e.tag===6)t.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};mu=function(){};Lm=function(t,n,e,r){var l=t.memoizedProps;if(l!==r){t=n.stateNode,Qr(Qn.current);var o=null;switch(e){case"input":l=Ol(t,l),r=Ol(t,r),o=[];break;case"select":l=Lt({},l,{value:void 0}),r=Lt({},r,{value:void 0}),o=[];break;case"textarea":l=Ul(t,l),r=Ul(t,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xo)}Vl(e,r);var s;e=null;for(i in l)if(!r.hasOwnProperty(i)&&l.hasOwnProperty(i)&&l[i]!=null)if(i==="style"){var u=l[i];for(s in u)u.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else i!=="dangerouslySetInnerHTML"&&i!=="children"&&i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Es.hasOwnProperty(i)?o||(o=[]):(o=o||[]).push(i,null));for(i in r){var a=r[i];if(u=l!=null?l[i]:void 0,r.hasOwnProperty(i)&&a!==u&&(a!=null||u!=null))if(i==="style")if(u){for(s in u)!u.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in a)a.hasOwnProperty(s)&&u[s]!==a[s]&&(e||(e={}),e[s]=a[s])}else e||(o||(o=[]),o.push(i,e)),e=a;else i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(o=o||[]).push(i,a)):i==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(i,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&(Es.hasOwnProperty(i)?(a!=null&&i==="onScroll"&&Et("scroll",t),o||u===a||(o=[])):(o=o||[]).push(i,a))}e&&(o=o||[]).push("style",e);var i=o;(n.updateQueue=i)&&(n.flags|=4)}};Om=function(t,n,e,r){e!==r&&(n.flags|=4)};function cs(t,n){if(!Rt)switch(t.tailMode){case"hidden":n=t.tail;for(var e=null;n!==null;)n.alternate!==null&&(e=n),n=n.sibling;e===null?t.tail=null:e.sibling=null;break;case"collapsed":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var n=t.alternate!==null&&t.alternate.child===t.child,e=0,r=0;if(n)for(var l=t.child;l!==null;)e|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)e|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=r,t.childLanes=e,n}function sy(t,n,e){var r=n.pendingProps;switch(sc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(n),null;case 1:return mn(n.type)&&Zo(),tn(n),null;case 3:return r=n.stateNode,Hi(),At(pn),At(sn),pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vo(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,zn!==null&&(Su(zn),zn=null))),mu(t,n),tn(n),null;case 5:hc(n);var l=Qr(Bs.current);if(e=n.type,t!==null&&n.stateNode!=null)Lm(t,n,e,r,l),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(ve(166));return tn(n),null}if(t=Qr(Qn.current),vo(n)){r=n.stateNode,e=n.type;var o=n.memoizedProps;switch(r[Jn]=n,r[Os]=o,t=(n.mode&1)!==0,e){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(l=0;l<gs.length;l++)Et(gs[l],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":td(r,o),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Et("invalid",r);break;case"textarea":rd(r,o),Et("invalid",r)}Vl(e,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&bo(r.textContent,u,t),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&bo(r.textContent,u,t),l=["children",""+u]):Es.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Et("scroll",r)}switch(e){case"input":uo(r),nd(r,o,!0);break;case"textarea":uo(r),id(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xo)}r=l,n.updateQueue=r,r!==null&&(n.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dp(e)),t==="http://www.w3.org/1999/xhtml"?e==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(e,{is:r.is}):(t=s.createElement(e),e==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,e),t[Jn]=n,t[Os]=r,jm(t,n,!1,!1),n.stateNode=t;e:{switch(s=Hl(e,r),e){case"dialog":Et("cancel",t),Et("close",t),l=r;break;case"iframe":case"object":case"embed":Et("load",t),l=r;break;case"video":case"audio":for(l=0;l<gs.length;l++)Et(gs[l],t);l=r;break;case"source":Et("error",t),l=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),l=r;break;case"details":Et("toggle",t),l=r;break;case"input":td(t,r),l=Ol(t,r),Et("invalid",t);break;case"option":l=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=Lt({},r,{value:void 0}),Et("invalid",t);break;case"textarea":rd(t,r),l=Ul(t,r),Et("invalid",t);break;default:l=r}Vl(e,l),u=l;for(o in u)if(u.hasOwnProperty(o)){var a=u[o];o==="style"?pp(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&fp(t,a)):o==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&Ns(t,a):typeof a=="number"&&Ns(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Es.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Et("scroll",t):a!=null&&$u(t,o,a,s))}switch(e){case"input":uo(t),nd(t,r,!1);break;case"textarea":uo(t),id(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Br(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ii(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ii(t,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=Xo)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return tn(n),null;case 6:if(t&&n.stateNode!=null)Om(t,n,t.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(ve(166));if(e=Qr(Bs.current),Qr(Qn.current),vo(n)){if(r=n.stateNode,e=n.memoizedProps,r[Jn]=n,(o=r.nodeValue!==e)&&(t=kn,t!==null))switch(t.tag){case 3:bo(r.nodeValue,e,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bo(r.nodeValue,e,(t.mode&1)!==0)}o&&(n.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[Jn]=n,n.stateNode=r}return tn(n),null;case 13:if(At(Pt),r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&wn!==null&&n.mode&1&&!(n.flags&128))tm(),zi(),n.flags|=98560,o=!1;else if(o=vo(n),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ve(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ve(317));o[Jn]=n}else zi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;tn(n),o=!1}else zn!==null&&(Su(zn),zn=null),o=!0;if(!o)return n.flags&65536?n:null}return n.flags&128?(n.lanes=e,n):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(t===null||Pt.current&1?Gt===0&&(Gt=3):Tc())),n.updateQueue!==null&&(n.flags|=4),tn(n),null);case 4:return Hi(),mu(t,n),t===null&&js(n.stateNode.containerInfo),tn(n),null;case 10:return uc(n.type._context),tn(n),null;case 17:return mn(n.type)&&Zo(),tn(n),null;case 19:if(At(Pt),o=n.memoizedState,o===null)return tn(n),null;if(r=(n.flags&128)!==0,s=o.rendering,s===null)if(r)cs(o,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(s=sa(t),s!==null){for(n.flags|=128,cs(o,!1),r=s.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=e,e=n.child;e!==null;)o=e,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e=e.sibling;return Ct(Pt,Pt.current&1|2),n.child}t=t.sibling}o.tail!==null&&Bt()>qi&&(n.flags|=128,r=!0,cs(o,!1),n.lanes=4194304)}else{if(!r)if(t=sa(s),t!==null){if(n.flags|=128,r=!0,e=t.updateQueue,e!==null&&(n.updateQueue=e,n.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Rt)return tn(n),null}else 2*Bt()-o.renderingStartTime>qi&&e!==1073741824&&(n.flags|=128,r=!0,cs(o,!1),n.lanes=4194304);o.isBackwards?(s.sibling=n.child,n.child=s):(e=o.last,e!==null?e.sibling=s:n.child=s,o.last=s)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=Bt(),n.sibling=null,e=Pt.current,Ct(Pt,r?e&1|2:e&1),n):(tn(n),null);case 22:case 23:return Cc(),r=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?xn&1073741824&&(tn(n),n.subtreeFlags&6&&(n.flags|=8192)):tn(n),null;case 24:return null;case 25:return null}throw Error(ve(156,n.tag))}function oy(t,n){switch(sc(n),n.tag){case 1:return mn(n.type)&&Zo(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(),At(pn),At(sn),pc(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return hc(n),null;case 13:if(At(Pt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(ve(340));zi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return At(Pt),null;case 4:return Hi(),null;case 10:return uc(n.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var _o=!1,nn=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ei(t,n){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Ft(t,n,r)}else e.current=null}function gu(t,n,e){try{e()}catch(r){Ft(t,n,r)}}var Wd=!1;function ly(t,n){if(Ql=Ko,t=Vp(),rc(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else e:{e=(e=t.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var s=0,u=-1,a=-1,i=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==e||l!==0&&h.nodeType!==3||(u=s+l),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===e&&++i===l&&(u=s),d===o&&++c===r&&(a=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}e=u===-1||a===-1?null:{start:u,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(eu={focusedElem:t,selectionRange:e},Ko=!1,Pe=n;Pe!==null;)if(n=Pe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pe=t;else for(;Pe!==null;){n=Pe;try{var b=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,p=b.memoizedState,g=n.stateNode,m=g.getSnapshotBeforeUpdate(n.elementType===n.type?y:Bn(n.type,y),p);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=n.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(C){Ft(n,n.return,C)}if(t=n.sibling,t!==null){t.return=n.return,Pe=t;break}Pe=n.return}return b=Wd,Wd=!1,b}function Ss(t,n,e){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var o=l.destroy;l.destroy=void 0,o!==void 0&&gu(n,e,o)}l=l.next}while(l!==r)}}function ja(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var e=n=n.next;do{if((e.tag&t)===t){var r=e.create;e.destroy=r()}e=e.next}while(e!==n)}}function yu(t){var n=t.ref;if(n!==null){var e=t.stateNode;switch(t.tag){case 5:t=e;break;default:t=e}typeof n=="function"?n(t):n.current=t}}function Fm(t){var n=t.alternate;n!==null&&(t.alternate=null,Fm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Jn],delete n[Os],delete n[ru],delete n[$1],delete n[q1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bm(t){return t.tag===5||t.tag===3||t.tag===4}function Kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bu(t,n,e){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?e.nodeType===8?e.parentNode.insertBefore(t,n):e.insertBefore(t,n):(e.nodeType===8?(n=e.parentNode,n.insertBefore(t,e)):(n=e,n.appendChild(t)),e=e._reactRootContainer,e!=null||n.onclick!==null||(n.onclick=Xo));else if(r!==4&&(t=t.child,t!==null))for(bu(t,n,e),t=t.sibling;t!==null;)bu(t,n,e),t=t.sibling}function vu(t,n,e){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?e.insertBefore(t,n):e.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vu(t,n,e),t=t.sibling;t!==null;)vu(t,n,e),t=t.sibling}var Jt=null,Un=!1;function wr(t,n,e){for(e=e.child;e!==null;)Um(t,n,e),e=e.sibling}function Um(t,n,e){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Ea,e)}catch{}switch(e.tag){case 5:nn||Ei(e,n);case 6:var r=Jt,l=Un;Jt=null,wr(t,n,e),Jt=r,Un=l,Jt!==null&&(Un?(t=Jt,e=e.stateNode,t.nodeType===8?t.parentNode.removeChild(e):t.removeChild(e)):Jt.removeChild(e.stateNode));break;case 18:Jt!==null&&(Un?(t=Jt,e=e.stateNode,t.nodeType===8?vl(t.parentNode,e):t.nodeType===1&&vl(t,e),Rs(t)):vl(Jt,e.stateNode));break;case 4:r=Jt,l=Un,Jt=e.stateNode.containerInfo,Un=!0,wr(t,n,e),Jt=r,Un=l;break;case 0:case 11:case 14:case 15:if(!nn&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&gu(e,n,s),l=l.next}while(l!==r)}wr(t,n,e);break;case 1:if(!nn&&(Ei(e,n),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(u){Ft(e,n,u)}wr(t,n,e);break;case 21:wr(t,n,e);break;case 22:e.mode&1?(nn=(r=nn)||e.memoizedState!==null,wr(t,n,e),nn=r):wr(t,n,e);break;default:wr(t,n,e)}}function Yd(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var e=t.stateNode;e===null&&(e=t.stateNode=new ay),n.forEach(function(r){var l=yy.bind(null,t,r);e.has(r)||(e.add(r),r.then(l,l))})}}function Fn(t,n){var e=n.deletions;if(e!==null)for(var r=0;r<e.length;r++){var l=e[r];try{var o=t,s=n,u=s;e:for(;u!==null;){switch(u.tag){case 5:Jt=u.stateNode,Un=!1;break e;case 3:Jt=u.stateNode.containerInfo,Un=!0;break e;case 4:Jt=u.stateNode.containerInfo,Un=!0;break e}u=u.return}if(Jt===null)throw Error(ve(160));Um(o,s,l),Jt=null,Un=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(i){Ft(l,n,i)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zm(n,t),n=n.sibling}function zm(t,n){var e=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(n,t),Kn(t),r&4){try{Ss(3,t,t.return),ja(3,t)}catch(y){Ft(t,t.return,y)}try{Ss(5,t,t.return)}catch(y){Ft(t,t.return,y)}}break;case 1:Fn(n,t),Kn(t),r&512&&e!==null&&Ei(e,e.return);break;case 5:if(Fn(n,t),Kn(t),r&512&&e!==null&&Ei(e,e.return),t.flags&32){var l=t.stateNode;try{Ns(l,"")}catch(y){Ft(t,t.return,y)}}if(r&4&&(l=t.stateNode,l!=null)){var o=t.memoizedProps,s=e!==null?e.memoizedProps:o,u=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&up(l,o),Hl(u,s);var i=Hl(u,o);for(s=0;s<a.length;s+=2){var c=a[s],h=a[s+1];c==="style"?pp(l,h):c==="dangerouslySetInnerHTML"?fp(l,h):c==="children"?Ns(l,h):$u(l,c,h,i)}switch(u){case"input":Fl(l,o);break;case"textarea":cp(l,o);break;case"select":var d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Ii(l,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ii(l,!!o.multiple,o.defaultValue,!0):Ii(l,!!o.multiple,o.multiple?[]:"",!1))}l[Os]=o}catch(y){Ft(t,t.return,y)}}break;case 6:if(Fn(n,t),Kn(t),r&4){if(t.stateNode===null)throw Error(ve(162));l=t.stateNode,o=t.memoizedProps;try{l.nodeValue=o}catch(y){Ft(t,t.return,y)}}break;case 3:if(Fn(n,t),Kn(t),r&4&&e!==null&&e.memoizedState.isDehydrated)try{Rs(n.containerInfo)}catch(y){Ft(t,t.return,y)}break;case 4:Fn(n,t),Kn(t);break;case 13:Fn(n,t),Kn(t),l=t.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Sc=Bt())),r&4&&Yd(t);break;case 22:if(c=e!==null&&e.memoizedState!==null,t.mode&1?(nn=(i=nn)||c,Fn(n,t),nn=i):Fn(n,t),Kn(t),r&8192){if(i=t.memoizedState!==null,(t.stateNode.isHidden=i)&&!c&&t.mode&1)for(Pe=t,c=t.child;c!==null;){for(h=Pe=c;Pe!==null;){switch(d=Pe,f=d.child,d.tag){case 0:case 11:case 14:case 15:Ss(4,d,d.return);break;case 1:Ei(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){r=d,e=d.return;try{n=r,b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(y){Ft(r,e,y)}}break;case 5:Ei(d,d.return);break;case 22:if(d.memoizedState!==null){Xd(h);continue}}f!==null?(f.return=d,Pe=f):Xd(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{l=h.stateNode,i?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=hp("display",s))}catch(y){Ft(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=i?"":h.memoizedProps}catch(y){Ft(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fn(n,t),Kn(t),r&4&&Yd(t);break;case 21:break;default:Fn(n,t),Kn(t)}}function Kn(t){var n=t.flags;if(n&2){try{e:{for(var e=t.return;e!==null;){if(Bm(e)){var r=e;break e}e=e.return}throw Error(ve(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ns(l,""),r.flags&=-33);var o=Kd(t);vu(t,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,u=Kd(t);bu(t,u,s);break;default:throw Error(ve(161))}}catch(a){Ft(t,t.return,a)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function uy(t,n,e){Pe=t,Vm(t)}function Vm(t,n,e){for(var r=(t.mode&1)!==0;Pe!==null;){var l=Pe,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||_o;if(!s){var u=l.alternate,a=u!==null&&u.memoizedState!==null||nn;u=_o;var i=nn;if(_o=s,(nn=a)&&!i)for(Pe=l;Pe!==null;)s=Pe,a=s.child,s.tag===22&&s.memoizedState!==null?Zd(l):a!==null?(a.return=s,Pe=a):Zd(l);for(;o!==null;)Pe=o,Vm(o),o=o.sibling;Pe=l,_o=u,nn=i}Jd(t)}else l.subtreeFlags&8772&&o!==null?(o.return=l,Pe=o):Jd(t)}}function Jd(t){for(;Pe!==null;){var n=Pe;if(n.flags&8772){var e=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:nn||ja(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!nn)if(e===null)r.componentDidMount();else{var l=n.elementType===n.type?e.memoizedProps:Bn(n.type,e.memoizedProps);r.componentDidUpdate(l,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;o!==null&&Dd(n,o,r);break;case 3:var s=n.updateQueue;if(s!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Dd(n,s,e)}break;case 5:var u=n.stateNode;if(e===null&&n.flags&4){e=u;var a=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var i=n.alternate;if(i!==null){var c=i.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Rs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}nn||n.flags&512&&yu(n)}catch(d){Ft(n,n.return,d)}}if(n===t){Pe=null;break}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Xd(t){for(;Pe!==null;){var n=Pe;if(n===t){Pe=null;break}var e=n.sibling;if(e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Zd(t){for(;Pe!==null;){var n=Pe;try{switch(n.tag){case 0:case 11:case 15:var e=n.return;try{ja(4,n)}catch(a){Ft(n,e,a)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var l=n.return;try{r.componentDidMount()}catch(a){Ft(n,l,a)}}var o=n.return;try{yu(n)}catch(a){Ft(n,o,a)}break;case 5:var s=n.return;try{yu(n)}catch(a){Ft(n,s,a)}}}catch(a){Ft(n,n.return,a)}if(n===t){Pe=null;break}var u=n.sibling;if(u!==null){u.return=n.return,Pe=u;break}Pe=n.return}}var cy=Math.ceil,la=pr.ReactCurrentDispatcher,wc=pr.ReactCurrentOwner,Mn=pr.ReactCurrentBatchConfig,ht=0,Kt=null,Vt=null,Xt=0,xn=0,Ni=Vr(0),Gt=0,Hs=null,si=0,La=0,_c=0,ks=null,fn=null,Sc=0,qi=1/0,rr=null,ua=!1,xu=null,jr=null,So=!1,Nr=null,ca=0,Cs=0,wu=null,Lo=-1,Oo=0;function an(){return ht&6?Bt():Lo!==-1?Lo:Lo=Bt()}function Lr(t){return t.mode&1?ht&2&&Xt!==0?Xt&-Xt:W1.transition!==null?(Oo===0&&(Oo=Tp()),Oo):(t=_t,t!==0||(t=window.event,t=t===void 0?16:Pp(t.type)),t):1}function Hn(t,n,e,r){if(50<Cs)throw Cs=0,wu=null,Error(ve(185));Ys(t,e,r),(!(ht&2)||t!==Kt)&&(t===Kt&&(!(ht&2)&&(La|=e),Gt===4&&Tr(t,Xt)),gn(t,r),e===1&&ht===0&&!(n.mode&1)&&(qi=Bt()+500,Ra&&Hr()))}function gn(t,n){var e=t.callbackNode;Wg(t,n);var r=Wo(t,t===Kt?Xt:0);if(r===0)e!==null&&ad(e),t.callbackNode=null,t.callbackPriority=0;else if(n=r&-r,t.callbackPriority!==n){if(e!=null&&ad(e),n===1)t.tag===0?G1(Qd.bind(null,t)):Zp(Qd.bind(null,t)),V1(function(){!(ht&6)&&Hr()}),e=null;else{switch(Ep(r)){case 1:e=Yu;break;case 4:e=kp;break;case 16:e=Go;break;case 536870912:e=Cp;break;default:e=Go}e=Jm(e,Hm.bind(null,t))}t.callbackPriority=n,t.callbackNode=e}}function Hm(t,n){if(Lo=-1,Oo=0,ht&6)throw Error(ve(327));var e=t.callbackNode;if(ji()&&t.callbackNode!==e)return null;var r=Wo(t,t===Kt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||n)n=da(t,r);else{n=r;var l=ht;ht|=2;var o=qm();(Kt!==t||Xt!==n)&&(rr=null,qi=Bt()+500,ei(t,n));do try{hy();break}catch(u){$m(t,u)}while(1);lc(),la.current=o,ht=l,Vt!==null?n=0:(Kt=null,Xt=0,n=Gt)}if(n!==0){if(n===2&&(l=Kl(t),l!==0&&(r=l,n=_u(t,l))),n===1)throw e=Hs,ei(t,0),Tr(t,r),gn(t,Bt()),e;if(n===6)Tr(t,r);else{if(l=t.current.alternate,!(r&30)&&!dy(l)&&(n=da(t,r),n===2&&(o=Kl(t),o!==0&&(r=o,n=_u(t,o))),n===1))throw e=Hs,ei(t,0),Tr(t,r),gn(t,Bt()),e;switch(t.finishedWork=l,t.finishedLanes=r,n){case 0:case 1:throw Error(ve(345));case 2:Jr(t,fn,rr);break;case 3:if(Tr(t,r),(r&130023424)===r&&(n=Sc+500-Bt(),10<n)){if(Wo(t,0)!==0)break;if(l=t.suspendedLanes,(l&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=nu(Jr.bind(null,t,fn,rr),n);break}Jr(t,fn,rr);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(n=t.eventTimes,l=-1;0<r;){var s=31-Vn(r);o=1<<s,s=n[s],s>l&&(l=s),r&=~o}if(r=l,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cy(r/1960))-r,10<r){t.timeoutHandle=nu(Jr.bind(null,t,fn,rr),r);break}Jr(t,fn,rr);break;case 5:Jr(t,fn,rr);break;default:throw Error(ve(329))}}}return gn(t,Bt()),t.callbackNode===e?Hm.bind(null,t):null}function _u(t,n){var e=ks;return t.current.memoizedState.isDehydrated&&(ei(t,n).flags|=256),t=da(t,n),t!==2&&(n=fn,fn=e,n!==null&&Su(n)),t}function Su(t){fn===null?fn=t:fn.push.apply(fn,t)}function dy(t){for(var n=t;;){if(n.flags&16384){var e=n.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var l=e[r],o=l.getSnapshot;l=l.value;try{if(!qn(o(),l))return!1}catch{return!1}}}if(e=n.child,n.subtreeFlags&16384&&e!==null)e.return=n,n=e;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tr(t,n){for(n&=~_c,n&=~La,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var e=31-Vn(n),r=1<<e;t[e]=-1,n&=~r}}function Qd(t){if(ht&6)throw Error(ve(327));ji();var n=Wo(t,0);if(!(n&1))return gn(t,Bt()),null;var e=da(t,n);if(t.tag!==0&&e===2){var r=Kl(t);r!==0&&(n=r,e=_u(t,r))}if(e===1)throw e=Hs,ei(t,0),Tr(t,n),gn(t,Bt()),e;if(e===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Jr(t,fn,rr),gn(t,Bt()),null}function kc(t,n){var e=ht;ht|=1;try{return t(n)}finally{ht=e,ht===0&&(qi=Bt()+500,Ra&&Hr())}}function oi(t){Nr!==null&&Nr.tag===0&&!(ht&6)&&ji();var n=ht;ht|=1;var e=Mn.transition,r=_t;try{if(Mn.transition=null,_t=1,t)return t()}finally{_t=r,Mn.transition=e,ht=n,!(ht&6)&&Hr()}}function Cc(){xn=Ni.current,At(Ni)}function ei(t,n){t.finishedWork=null,t.finishedLanes=0;var e=t.timeoutHandle;if(e!==-1&&(t.timeoutHandle=-1,z1(e)),Vt!==null)for(e=Vt.return;e!==null;){var r=e;switch(sc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:Hi(),At(pn),At(sn),pc();break;case 5:hc(r);break;case 4:Hi();break;case 13:At(Pt);break;case 19:At(Pt);break;case 10:uc(r.type._context);break;case 22:case 23:Cc()}e=e.return}if(Kt=t,Vt=t=Or(t.current,null),Xt=xn=n,Gt=0,Hs=null,_c=La=si=0,fn=ks=null,Zr!==null){for(n=0;n<Zr.length;n++)if(e=Zr[n],r=e.interleaved,r!==null){e.interleaved=null;var l=r.next,o=e.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}e.pending=r}Zr=null}return t}function $m(t,n){do{var e=Vt;try{if(lc(),Po.current=aa,oa){for(var r=Dt.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}oa=!1}if(ii=0,Wt=qt=Dt=null,_s=!1,Us=0,wc.current=null,e===null||e.return===null){Gt=1,Hs=n,Vt=null;break}e:{var o=t,s=e.return,u=e,a=n;if(n=Xt,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var i=a,c=u,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Ud(s);if(f!==null){f.flags&=-257,zd(f,s,u,o,n),f.mode&1&&Bd(o,i,n),n=f,a=i;var b=n.updateQueue;if(b===null){var y=new Set;y.add(a),n.updateQueue=y}else b.add(a);break e}else{if(!(n&1)){Bd(o,i,n),Tc();break e}a=Error(ve(426))}}else if(Rt&&u.mode&1){var p=Ud(s);if(p!==null){!(p.flags&65536)&&(p.flags|=256),zd(p,s,u,o,n),oc($i(a,u));break e}}o=a=$i(a,u),Gt!==4&&(Gt=2),ks===null?ks=[o]:ks.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n;var g=Em(o,a,n);Pd(o,g);break e;case 1:u=a;var m=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(jr===null||!jr.has(x)))){o.flags|=65536,n&=-n,o.lanes|=n;var C=Nm(o,u,n);Pd(o,C);break e}}o=o.return}while(o!==null)}Wm(e)}catch(I){n=I,Vt===e&&e!==null&&(Vt=e=e.return);continue}break}while(1)}function qm(){var t=la.current;return la.current=aa,t===null?aa:t}function Tc(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Kt===null||!(si&268435455)&&!(La&268435455)||Tr(Kt,Xt)}function da(t,n){var e=ht;ht|=2;var r=qm();(Kt!==t||Xt!==n)&&(rr=null,ei(t,n));do try{fy();break}catch(l){$m(t,l)}while(1);if(lc(),ht=e,la.current=r,Vt!==null)throw Error(ve(261));return Kt=null,Xt=0,Gt}function fy(){for(;Vt!==null;)Gm(Vt)}function hy(){for(;Vt!==null&&!Fg();)Gm(Vt)}function Gm(t){var n=Ym(t.alternate,t,xn);t.memoizedProps=t.pendingProps,n===null?Wm(t):Vt=n,wc.current=null}function Wm(t){var n=t;do{var e=n.alternate;if(t=n.return,n.flags&32768){if(e=oy(e,n),e!==null){e.flags&=32767,Vt=e;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Vt=null;return}}else if(e=sy(e,n,xn),e!==null){Vt=e;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);Gt===0&&(Gt=5)}function Jr(t,n,e){var r=_t,l=Mn.transition;try{Mn.transition=null,_t=1,py(t,n,e,r)}finally{Mn.transition=l,_t=r}return null}function py(t,n,e,r){do ji();while(Nr!==null);if(ht&6)throw Error(ve(327));e=t.finishedWork;var l=t.finishedLanes;if(e===null)return null;if(t.finishedWork=null,t.finishedLanes=0,e===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var o=e.lanes|e.childLanes;if(Kg(t,o),t===Kt&&(Vt=Kt=null,Xt=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||So||(So=!0,Jm(Go,function(){return ji(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=Mn.transition,Mn.transition=null;var s=_t;_t=1;var u=ht;ht|=4,wc.current=null,ly(t,e),zm(e,t),D1(eu),Ko=!!Ql,eu=Ql=null,t.current=e,uy(e),Bg(),ht=u,_t=s,Mn.transition=o}else t.current=e;if(So&&(So=!1,Nr=t,ca=l),o=t.pendingLanes,o===0&&(jr=null),Vg(e.stateNode),gn(t,Bt()),n!==null)for(r=t.onRecoverableError,e=0;e<n.length;e++)l=n[e],r(l.value,{componentStack:l.stack,digest:l.digest});if(ua)throw ua=!1,t=xu,xu=null,t;return ca&1&&t.tag!==0&&ji(),o=t.pendingLanes,o&1?t===wu?Cs++:(Cs=0,wu=t):Cs=0,Hr(),null}function ji(){if(Nr!==null){var t=Ep(ca),n=Mn.transition,e=_t;try{if(Mn.transition=null,_t=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,ca=0,ht&6)throw Error(ve(331));var l=ht;for(ht|=4,Pe=t.current;Pe!==null;){var o=Pe,s=o.child;if(Pe.flags&16){var u=o.deletions;if(u!==null){for(var a=0;a<u.length;a++){var i=u[a];for(Pe=i;Pe!==null;){var c=Pe;switch(c.tag){case 0:case 11:case 15:Ss(8,c,o)}var h=c.child;if(h!==null)h.return=c,Pe=h;else for(;Pe!==null;){c=Pe;var d=c.sibling,f=c.return;if(Fm(c),c===i){Pe=null;break}if(d!==null){d.return=f,Pe=d;break}Pe=f}}}var b=o.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var p=y.sibling;y.sibling=null,y=p}while(y!==null)}}Pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Pe=s;else e:for(;Pe!==null;){if(o=Pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ss(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Pe=g;break e}Pe=o.return}}var m=t.current;for(Pe=m;Pe!==null;){s=Pe;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Pe=x;else e:for(s=m;Pe!==null;){if(u=Pe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ja(9,u)}}catch(I){Ft(u,u.return,I)}if(u===s){Pe=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,Pe=C;break e}Pe=u.return}}if(ht=l,Hr(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Ea,t)}catch{}r=!0}return r}finally{_t=e,Mn.transition=n}}return!1}function ef(t,n,e){n=$i(e,n),n=Em(t,n,1),t=Dr(t,n,1),n=an(),t!==null&&(Ys(t,1,n),gn(t,n))}function Ft(t,n,e){if(t.tag===3)ef(t,t,e);else for(;n!==null;){if(n.tag===3){ef(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=$i(e,t),t=Nm(n,t,1),n=Dr(n,t,1),t=an(),n!==null&&(Ys(n,1,t),gn(n,t));break}}n=n.return}}function my(t,n,e){var r=t.pingCache;r!==null&&r.delete(n),n=an(),t.pingedLanes|=t.suspendedLanes&e,Kt===t&&(Xt&e)===e&&(Gt===4||Gt===3&&(Xt&130023424)===Xt&&500>Bt()-Sc?ei(t,0):_c|=e),gn(t,n)}function Km(t,n){n===0&&(t.mode&1?(n=ho,ho<<=1,!(ho&130023424)&&(ho=4194304)):n=1);var e=an();t=dr(t,n),t!==null&&(Ys(t,n,e),gn(t,e))}function gy(t){var n=t.memoizedState,e=0;n!==null&&(e=n.retryLane),Km(t,e)}function yy(t,n){var e=0;switch(t.tag){case 13:var r=t.stateNode,l=t.memoizedState;l!==null&&(e=l.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(n),Km(t,e)}var Ym;Ym=function(t,n,e){if(t!==null)if(t.memoizedProps!==n.pendingProps||pn.current)hn=!0;else{if(!(t.lanes&e)&&!(n.flags&128))return hn=!1,iy(t,n,e);hn=!!(t.flags&131072)}else hn=!1,Rt&&n.flags&1048576&&Qp(n,ta,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;jo(t,n),t=n.pendingProps;var l=Ui(n,sn.current);Di(n,e),l=gc(null,n,r,t,l,e);var o=yc();return n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,mn(r)?(o=!0,Qo(n)):o=!1,n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,dc(n),l.updater=Da,n.stateNode=l,l._reactInternals=n,uu(n,r,t,e),n=fu(null,n,r,!0,o,e)):(n.tag=0,Rt&&o&&ic(n),on(null,n,l,e),n=n.child),n;case 16:r=n.elementType;e:{switch(jo(t,n),t=n.pendingProps,l=r._init,r=l(r._payload),n.type=r,l=n.tag=vy(r),t=Bn(r,t),l){case 0:n=du(null,n,r,t,e);break e;case 1:n=$d(null,n,r,t,e);break e;case 11:n=Vd(null,n,r,t,e);break e;case 14:n=Hd(null,n,r,Bn(r.type,t),e);break e}throw Error(ve(306,r,""))}return n;case 0:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Bn(r,l),du(t,n,r,l,e);case 1:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Bn(r,l),$d(t,n,r,l,e);case 3:e:{if(Rm(n),t===null)throw Error(ve(387));r=n.pendingProps,o=n.memoizedState,l=o.element,sm(t,n),ia(n,r,null,e);var s=n.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=o,n.memoizedState=o,n.flags&256){l=$i(Error(ve(423)),n),n=qd(t,n,r,e,l);break e}else if(r!==l){l=$i(Error(ve(424)),n),n=qd(t,n,r,e,l);break e}else for(wn=Pr(n.stateNode.containerInfo.firstChild),kn=n,Rt=!0,zn=null,e=rm(n,null,r,e),n.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(zi(),r===l){n=fr(t,n,e);break e}on(t,n,r,e)}n=n.child}return n;case 5:return om(n),t===null&&ou(n),r=n.type,l=n.pendingProps,o=t!==null?t.memoizedProps:null,s=l.children,tu(r,l)?s=null:o!==null&&tu(r,o)&&(n.flags|=32),Mm(t,n),on(t,n,s,e),n.child;case 6:return t===null&&ou(n),null;case 13:return Pm(t,n,e);case 4:return fc(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=Vi(n,null,r,e):on(t,n,r,e),n.child;case 11:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Bn(r,l),Vd(t,n,r,l,e);case 7:return on(t,n,n.pendingProps,e),n.child;case 8:return on(t,n,n.pendingProps.children,e),n.child;case 12:return on(t,n,n.pendingProps.children,e),n.child;case 10:e:{if(r=n.type._context,l=n.pendingProps,o=n.memoizedProps,s=l.value,Ct(na,r._currentValue),r._currentValue=s,o!==null)if(qn(o.value,s)){if(o.children===l.children&&!pn.current){n=fr(t,n,e);break e}}else for(o=n.child,o!==null&&(o.return=n);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=lr(-1,e&-e),a.tag=2;var i=o.updateQueue;if(i!==null){i=i.shared;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}}o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),au(o.return,e,n),u.lanes|=e;break}a=a.next}}else if(o.tag===10)s=o.type===n.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ve(341));s.lanes|=e,u=s.alternate,u!==null&&(u.lanes|=e),au(s,e,n),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===n){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}on(t,n,l.children,e),n=n.child}return n;case 9:return l=n.type,r=n.pendingProps.children,Di(n,e),l=jn(l),r=r(l),n.flags|=1,on(t,n,r,e),n.child;case 14:return r=n.type,l=Bn(r,n.pendingProps),l=Bn(r.type,l),Hd(t,n,r,l,e);case 15:return Am(t,n,n.type,n.pendingProps,e);case 17:return r=n.type,l=n.pendingProps,l=n.elementType===r?l:Bn(r,l),jo(t,n),n.tag=1,mn(r)?(t=!0,Qo(n)):t=!1,Di(n,e),Tm(n,r,l),uu(n,r,l,e),fu(null,n,r,!0,t,e);case 19:return Dm(t,n,e);case 22:return Im(t,n,e)}throw Error(ve(156,n.tag))};function Jm(t,n){return Sp(t,n)}function by(t,n,e,r){this.tag=t,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,e,r){return new by(t,n,e,r)}function Ec(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vy(t){if(typeof t=="function")return Ec(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gu)return 11;if(t===Wu)return 14}return 2}function Or(t,n){var e=t.alternate;return e===null?(e=In(t.tag,n,t.key,t.mode),e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.alternate=t,t.alternate=e):(e.pendingProps=n,e.type=t.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=t.flags&14680064,e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,n=t.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e}function Fo(t,n,e,r,l,o){var s=2;if(r=t,typeof t=="function")Ec(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case bi:return ti(e.children,l,o,n);case qu:s=8,l|=8;break;case Pl:return t=In(12,e,n,l|2),t.elementType=Pl,t.lanes=o,t;case Dl:return t=In(13,e,n,l),t.elementType=Dl,t.lanes=o,t;case jl:return t=In(19,e,n,l),t.elementType=jl,t.lanes=o,t;case op:return Oa(e,l,o,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ip:s=10;break e;case sp:s=9;break e;case Gu:s=11;break e;case Wu:s=14;break e;case Sr:s=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return n=In(s,e,n,l),n.elementType=t,n.type=r,n.lanes=o,n}function ti(t,n,e,r){return t=In(7,t,r,n),t.lanes=e,t}function Oa(t,n,e,r){return t=In(22,t,r,n),t.elementType=op,t.lanes=e,t.stateNode={isHidden:!1},t}function El(t,n,e){return t=In(6,t,null,n),t.lanes=e,t}function Nl(t,n,e){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=e,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function xy(t,n,e,r,l){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Nc(t,n,e,r,l,o,s,u,a){return t=new xy(t,n,e,u,a),n===1?(n=1,o===!0&&(n|=8)):n=0,o=In(3,null,null,n),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(o),t}function wy(t,n,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:t,containerInfo:n,implementation:e}}function Xm(t){if(!t)return Ur;t=t._reactInternals;e:{if(li(t)!==t||t.tag!==1)throw Error(ve(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(mn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ve(171))}if(t.tag===1){var e=t.type;if(mn(e))return Xp(t,e,n)}return n}function Zm(t,n,e,r,l,o,s,u,a){return t=Nc(e,r,!0,t,l,o,s,u,a),t.context=Xm(null),e=t.current,r=an(),l=Lr(e),o=lr(r,l),o.callback=n??null,Dr(e,o,l),t.current.lanes=l,Ys(t,l,r),gn(t,r),t}function Fa(t,n,e,r){var l=n.current,o=an(),s=Lr(l);return e=Xm(e),n.context===null?n.context=e:n.pendingContext=e,n=lr(o,s),n.payload={element:t},r=r===void 0?null:r,r!==null&&(n.callback=r),t=Dr(l,n,s),t!==null&&(Hn(t,l,s,o),Ro(t,l,s)),s}function fa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tf(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var e=t.retryLane;t.retryLane=e!==0&&e<n?e:n}}function Ac(t,n){tf(t,n),(t=t.alternate)&&tf(t,n)}function _y(){return null}var Qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ic(t){this._internalRoot=t}Ba.prototype.render=Ic.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(ve(409));Fa(t,n,null,null)};Ba.prototype.unmount=Ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;oi(function(){Fa(null,t,null,null)}),n[cr]=null}};function Ba(t){this._internalRoot=t}Ba.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ip();t={blockedOn:null,target:t,priority:n};for(var e=0;e<Cr.length&&n!==0&&n<Cr[e].priority;e++);Cr.splice(e,0,t),e===0&&Rp(t)}};function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nf(){}function Sy(t,n,e,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var i=fa(s);o.call(i)}}var s=Zm(n,r,t,0,null,!1,!1,"",nf);return t._reactRootContainer=s,t[cr]=s.current,js(t.nodeType===8?t.parentNode:t),oi(),s}for(;l=t.lastChild;)t.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var i=fa(a);u.call(i)}}var a=Nc(t,0,!1,null,null,!1,!1,"",nf);return t._reactRootContainer=a,t[cr]=a.current,js(t.nodeType===8?t.parentNode:t),oi(function(){Fa(n,a,e,r)}),a}function za(t,n,e,r,l){var o=e._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var u=l;l=function(){var a=fa(s);u.call(a)}}Fa(n,s,t,l)}else s=Sy(e,n,t,l,r);return fa(s)}Np=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var e=ms(n.pendingLanes);e!==0&&(Ju(n,e|1),gn(n,Bt()),!(ht&6)&&(qi=Bt()+500,Hr()))}break;case 13:oi(function(){var r=dr(t,1);if(r!==null){var l=an();Hn(r,t,1,l)}}),Ac(t,1)}};Xu=function(t){if(t.tag===13){var n=dr(t,134217728);if(n!==null){var e=an();Hn(n,t,134217728,e)}Ac(t,134217728)}};Ap=function(t){if(t.tag===13){var n=Lr(t),e=dr(t,n);if(e!==null){var r=an();Hn(e,t,n,r)}Ac(t,n)}};Ip=function(){return _t};Mp=function(t,n){var e=_t;try{return _t=t,n()}finally{_t=e}};ql=function(t,n,e){switch(n){case"input":if(Fl(t,e),n=e.name,e.type==="radio"&&n!=null){for(e=t;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<e.length;n++){var r=e[n];if(r!==t&&r.form===t.form){var l=Ma(r);if(!l)throw Error(ve(90));lp(r),Fl(r,l)}}}break;case"textarea":cp(t,e);break;case"select":n=e.value,n!=null&&Ii(t,!!e.multiple,n,!1)}};yp=kc;bp=oi;var ky={usingClientEntryPoint:!1,Events:[Xs,_i,Ma,mp,gp,kc]},ds={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cy={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wp(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||_y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Ea=ko.inject(Cy),Zn=ko}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky;Tn.createPortal=function(t,n){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(n))throw Error(ve(200));return wy(t,n,null,e)};Tn.createRoot=function(t,n){if(!Mc(t))throw Error(ve(299));var e=!1,r="",l=Qm;return n!=null&&(n.unstable_strictMode===!0&&(e=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),n=Nc(t,1,!1,null,null,e,!1,r,l),t[cr]=n.current,js(t.nodeType===8?t.parentNode:t),new Ic(n)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=wp(n),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return oi(t)};Tn.hydrate=function(t,n,e){if(!Ua(n))throw Error(ve(200));return za(null,t,n,!0,e)};Tn.hydrateRoot=function(t,n,e){if(!Mc(t))throw Error(ve(405));var r=e!=null&&e.hydratedSources||null,l=!1,o="",s=Qm;if(e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),n=Zm(n,null,t,1,e??null,l,!1,o,s),t[cr]=n.current,js(t),r)for(t=0;t<r.length;t++)e=r[t],l=e._getVersion,l=l(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,l]:n.mutableSourceEagerHydrationData.push(e,l);return new Ba(n)};Tn.render=function(t,n,e){if(!Ua(n))throw Error(ve(200));return za(null,t,n,!1,e)};Tn.unmountComponentAtNode=function(t){if(!Ua(t))throw Error(ve(40));return t._reactRootContainer?(oi(function(){za(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Tn.unstable_batchedUpdates=kc;Tn.unstable_renderSubtreeIntoContainer=function(t,n,e,r){if(!Ua(e))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return za(t,n,e,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function e0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e0)}catch(t){console.error(t)}}e0(),ep.exports=Tn;var Ty=ep.exports,rf=Ty;Ml.createRoot=rf.createRoot,Ml.hydrateRoot=rf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},$s.apply(this,arguments)}var Ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ar||(Ar={}));const sf="popstate";function Ey(t){t===void 0&&(t={});function n(l,o){let{pathname:s="/",search:u="",hash:a=""}=ui(l.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ku("",{pathname:s,search:u,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(l,o){let s=l.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let a=l.location.href,i=a.indexOf("#");u=i===-1?a:a.slice(0,i)}return u+"#"+(typeof o=="string"?o:ha(o))}function r(l,o){Va(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Ay(n,e,r,t)}function jt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Va(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Ny(){return Math.random().toString(36).substr(2,8)}function of(t,n){return{usr:t.state,key:t.key,idx:n}}function ku(t,n,e,r){return e===void 0&&(e=null),$s({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?ui(n):n,{state:e,key:n&&n.key||r||Ny()})}function ha(t){let{pathname:n="/",search:e="",hash:r=""}=t;return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ui(t){let n={};if(t){let e=t.indexOf("#");e>=0&&(n.hash=t.substr(e),t=t.substr(0,e));let r=t.indexOf("?");r>=0&&(n.search=t.substr(r),t=t.substr(0,r)),t&&(n.pathname=t)}return n}function Ay(t,n,e,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:o=!1}=r,s=l.history,u=Ar.Pop,a=null,i=c();i==null&&(i=0,s.replaceState($s({},s.state,{idx:i}),""));function c(){return(s.state||{idx:null}).idx}function h(){u=Ar.Pop;let p=c(),g=p==null?null:p-i;i=p,a&&a({action:u,location:y.location,delta:g})}function d(p,g){u=Ar.Push;let m=ku(y.location,p,g);e&&e(m,p),i=c()+1;let x=of(m,i),C=y.createHref(m);try{s.pushState(x,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;l.location.assign(C)}o&&a&&a({action:u,location:y.location,delta:1})}function f(p,g){u=Ar.Replace;let m=ku(y.location,p,g);e&&e(m,p),i=c();let x=of(m,i),C=y.createHref(m);s.replaceState(x,"",C),o&&a&&a({action:u,location:y.location,delta:0})}function b(p){let g=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof p=="string"?p:ha(p);return m=m.replace(/ $/,"%20"),jt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return u},get location(){return t(l,s)},listen(p){if(a)throw new Error("A history only accepts one active listener");return l.addEventListener(sf,h),a=p,()=>{l.removeEventListener(sf,h),a=null}},createHref(p){return n(l,p)},createURL:b,encodeLocation(p){let g=b(p);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(p){return s.go(p)}};return y}var af;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(af||(af={}));function Iy(t,n,e){return e===void 0&&(e="/"),My(t,n,e,!1)}function My(t,n,e,r){let l=typeof n=="string"?ui(n):n,o=Gi(l.pathname||"/",e);if(o==null)return null;let s=t0(t);Ry(s);let u=null;for(let a=0;u==null&&a<s.length;++a){let i=Hy(o);u=zy(s[a],i,r)}return u}function t0(t,n,e,r){n===void 0&&(n=[]),e===void 0&&(e=[]),r===void 0&&(r="");let l=(o,s,u)=>{let a={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(jt(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let i=Fr([r,a.relativePath]),c=e.concat(a);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+i+'".')),t0(o.children,n,c,i)),!(o.path==null&&!o.index)&&n.push({path:i,score:By(i,o.index),routesMeta:c})};return t.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))l(o,s);else for(let a of n0(o.path))l(o,s,a)}),n}function n0(t){let n=t.split("/");if(n.length===0)return[];let[e,...r]=n,l=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let s=n0(r.join("/")),u=[];return u.push(...s.map(a=>a===""?o:[o,a].join("/"))),l&&u.push(...s),u.map(a=>t.startsWith("/")&&a===""?"/":a)}function Ry(t){t.sort((n,e)=>n.score!==e.score?e.score-n.score:Uy(n.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}const Py=/^:[\w-]+$/,Dy=3,jy=2,Ly=1,Oy=10,Fy=-2,lf=t=>t==="*";function By(t,n){let e=t.split("/"),r=e.length;return e.some(lf)&&(r+=Fy),n&&(r+=jy),e.filter(l=>!lf(l)).reduce((l,o)=>l+(Py.test(o)?Dy:o===""?Ly:Oy),r)}function Uy(t,n){return t.length===n.length&&t.slice(0,-1).every((r,l)=>r===n[l])?t[t.length-1]-n[n.length-1]:0}function zy(t,n,e){e===void 0&&(e=!1);let{routesMeta:r}=t,l={},o="/",s=[];for(let u=0;u<r.length;++u){let a=r[u],i=u===r.length-1,c=o==="/"?n:n.slice(o.length)||"/",h=pa({path:a.relativePath,caseSensitive:a.caseSensitive,end:i},c),d=a.route;if(!h&&i&&e&&!r[r.length-1].route.index&&(h=pa({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!h)return null;Object.assign(l,h.params),s.push({params:l,pathname:Fr([o,h.pathname]),pathnameBase:Ky(Fr([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=Fr([o,h.pathnameBase]))}return s}function pa(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[e,r]=Vy(t.path,t.caseSensitive,t.end),l=n.match(e);if(!l)return null;let o=l[0],s=o.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:r.reduce((i,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let y=u[h]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=u[h];return f&&!b?i[d]=void 0:i[d]=(b||"").replace(/%2F/g,"/"),i},{}),pathname:o,pathnameBase:s,pattern:t}}function Vy(t,n,e){n===void 0&&(n=!1),e===void 0&&(e=!0),Va(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,a)=>(r.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),r]}function Hy(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Va(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Gi(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let e=n.endsWith("/")?n.length-1:n.length,r=t.charAt(e);return r&&r!=="/"?null:t.slice(e)||"/"}const $y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qy=t=>$y.test(t);function Gy(t,n){n===void 0&&(n="/");let{pathname:e,search:r="",hash:l=""}=typeof t=="string"?ui(t):t,o;if(e)if(qy(e))o=e;else{if(e.includes("//")){let s=e;e=e.replace(/\/\/+/g,"/"),Va(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+e))}e.startsWith("/")?o=uf(e.substring(1),"/"):o=uf(e,n)}else o=n;return{pathname:o,search:Yy(r),hash:Jy(l)}}function uf(t,n){let e=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function Al(t,n,e,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wy(t){return t.filter((n,e)=>e===0||n.route.path&&n.route.path.length>0)}function Rc(t,n){let e=Wy(t);return n?e.map((r,l)=>l===e.length-1?r.pathname:r.pathnameBase):e.map(r=>r.pathnameBase)}function Pc(t,n,e,r){r===void 0&&(r=!1);let l;typeof t=="string"?l=ui(t):(l=$s({},t),jt(!l.pathname||!l.pathname.includes("?"),Al("?","pathname","search",l)),jt(!l.pathname||!l.pathname.includes("#"),Al("#","pathname","hash",l)),jt(!l.search||!l.search.includes("#"),Al("#","search","hash",l)));let o=t===""||l.pathname==="",s=o?"/":l.pathname,u;if(s==null)u=e;else{let h=n.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;l.pathname=d.join("/")}u=h>=0?n[h]:"/"}let a=Gy(l,u),i=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&e.endsWith("/");return!a.pathname.endsWith("/")&&(i||c)&&(a.pathname+="/"),a}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),Ky=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const r0=["post","put","patch","delete"];new Set(r0);const Zy=["get",...r0];new Set(Zy);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},qs.apply(this,arguments)}const Ha=ae.createContext(null),i0=ae.createContext(null),mr=ae.createContext(null),$a=ae.createContext(null),er=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),s0=ae.createContext(null);function Qy(t,n){let{relative:e}=n===void 0?{}:n;Xi()||jt(!1);let{basename:r,navigator:l}=ae.useContext(mr),{hash:o,pathname:s,search:u}=qa(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:Fr([r,s])),l.createHref({pathname:a,search:u,hash:o})}function Xi(){return ae.useContext($a)!=null}function ci(){return Xi()||jt(!1),ae.useContext($a).location}function o0(t){ae.useContext(mr).static||ae.useLayoutEffect(t)}function Zi(){let{isDataRoute:t}=ae.useContext(er);return t?pb():eb()}function eb(){Xi()||jt(!1);let t=ae.useContext(Ha),{basename:n,future:e,navigator:r}=ae.useContext(mr),{matches:l}=ae.useContext(er),{pathname:o}=ci(),s=JSON.stringify(Rc(l,e.v7_relativeSplatPath)),u=ae.useRef(!1);return o0(()=>{u.current=!0}),ae.useCallback(function(i,c){if(c===void 0&&(c={}),!u.current)return;if(typeof i=="number"){r.go(i);return}let h=Pc(i,JSON.parse(s),o,c.relative==="path");t==null&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Fr([n,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[n,r,s,o,t])}const tb=ae.createContext(null);function nb(t){let n=ae.useContext(er).outlet;return n&&ae.createElement(tb.Provider,{value:t},n)}function Dc(){let{matches:t}=ae.useContext(er),n=t[t.length-1];return n?n.params:{}}function qa(t,n){let{relative:e}=n===void 0?{}:n,{future:r}=ae.useContext(mr),{matches:l}=ae.useContext(er),{pathname:o}=ci(),s=JSON.stringify(Rc(l,r.v7_relativeSplatPath));return ae.useMemo(()=>Pc(t,JSON.parse(s),o,e==="path"),[t,s,o,e])}function rb(t,n){return ib(t,n)}function ib(t,n,e,r){Xi()||jt(!1);let{navigator:l}=ae.useContext(mr),{matches:o}=ae.useContext(er),s=o[o.length-1],u=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let i=ci(),c;if(n){var h;let p=typeof n=="string"?ui(n):n;a==="/"||(h=p.pathname)!=null&&h.startsWith(a)||jt(!1),c=p}else c=i;let d=c.pathname||"/",f=d;if(a!=="/"){let p=a.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(p.length).join("/")}let b=Iy(t,{pathname:f}),y=ub(b&&b.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:Fr([a,l.encodeLocation?l.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:Fr([a,l.encodeLocation?l.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,e,r);return n&&y?ae.createElement($a.Provider,{value:{location:qs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ar.Pop}},y):y}function sb(){let t=hb(),n=Xy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),e=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},n),e?ae.createElement("pre",{style:l},e):null,o)}const ob=ae.createElement(sb,null);class ab extends ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ae.createElement(er.Provider,{value:this.props.routeContext},ae.createElement(s0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lb(t){let{routeContext:n,match:e,children:r}=t,l=ae.useContext(Ha);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(er.Provider,{value:n},r)}function ub(t,n,e,r){var l;if(n===void 0&&(n=[]),e===void 0&&(e=null),r===void 0&&(r=null),t==null){var o;if(!e)return null;if(e.errors)t=e.matches;else if((o=r)!=null&&o.v7_partialHydration&&n.length===0&&!e.initialized&&e.matches.length>0)t=e.matches;else return null}let s=t,u=(l=e)==null?void 0:l.errors;if(u!=null){let c=s.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);c>=0||jt(!1),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,i=-1;if(e&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(i=c),h.route.id){let{loaderData:d,errors:f}=e,b=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){a=!0,i>=0?s=s.slice(0,i+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let f,b=!1,y=null,p=null;e&&(f=u&&h.route.id?u[h.route.id]:void 0,y=h.route.errorElement||ob,a&&(i<0&&d===0?(mb("route-fallback",!1),b=!0,p=null):i===d&&(b=!0,p=h.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,d+1)),m=()=>{let x;return f?x=y:b?x=p:h.route.Component?x=ae.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,ae.createElement(lb,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:e!=null},children:x})};return e&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?ae.createElement(ab,{location:e.location,revalidation:e.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var a0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(a0||{}),ma=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ma||{});function cb(t){let n=ae.useContext(Ha);return n||jt(!1),n}function db(t){let n=ae.useContext(i0);return n||jt(!1),n}function fb(t){let n=ae.useContext(er);return n||jt(!1),n}function l0(t){let n=fb(),e=n.matches[n.matches.length-1];return e.route.id||jt(!1),e.route.id}function hb(){var t;let n=ae.useContext(s0),e=db(ma.UseRouteError),r=l0(ma.UseRouteError);return n!==void 0?n:(t=e.errors)==null?void 0:t[r]}function pb(){let{router:t}=cb(a0.UseNavigateStable),n=l0(ma.UseNavigateStable),e=ae.useRef(!1);return o0(()=>{e.current=!0}),ae.useCallback(function(l,o){o===void 0&&(o={}),e.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,qs({fromRouteId:n},o)))},[t,n])}const cf={};function mb(t,n,e){!n&&!cf[t]&&(cf[t]=!0)}function gb(t,n){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function yb(t){let{to:n,replace:e,state:r,relative:l}=t;Xi()||jt(!1);let{future:o,static:s}=ae.useContext(mr),{matches:u}=ae.useContext(er),{pathname:a}=ci(),i=Zi(),c=Pc(n,Rc(u,o.v7_relativeSplatPath),a,l==="path"),h=JSON.stringify(c);return ae.useEffect(()=>i(JSON.parse(h),{replace:e,state:r,relative:l}),[i,h,l,e,r]),null}function bb(t){return nb(t.context)}function vn(t){jt(!1)}function vb(t){let{basename:n="/",children:e=null,location:r,navigationType:l=Ar.Pop,navigator:o,static:s=!1,future:u}=t;Xi()&&jt(!1);let a=n.replace(/^\/*/,"/"),i=ae.useMemo(()=>({basename:a,navigator:o,static:s,future:qs({v7_relativeSplatPath:!1},u)}),[a,u,o,s]);typeof r=="string"&&(r=ui(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:b="default"}=r,y=ae.useMemo(()=>{let p=Gi(c,a);return p==null?null:{location:{pathname:p,search:h,hash:d,state:f,key:b},navigationType:l}},[a,c,h,d,f,b,l]);return y==null?null:ae.createElement(mr.Provider,{value:i},ae.createElement($a.Provider,{children:e,value:y}))}function xb(t){let{children:n,location:e}=t;return rb(Cu(n),e)}new Promise(()=>{});function Cu(t,n){n===void 0&&(n=[]);let e=[];return ae.Children.forEach(t,(r,l)=>{if(!ae.isValidElement(r))return;let o=[...n,l];if(r.type===ae.Fragment){e.push.apply(e,Cu(r.props.children,o));return}r.type!==vn&&jt(!1),!r.props.index||!r.props.children||jt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Cu(r.props.children,o)),e.push(s)}),e}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ga.apply(this,arguments)}function u0(t,n){if(t==null)return{};var e={},r=Object.keys(t),l,o;for(o=0;o<r.length;o++)l=r[o],!(n.indexOf(l)>=0)&&(e[l]=t[l]);return e}function wb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _b(t,n){return t.button===0&&(!n||n==="_self")&&!wb(t)}function Tu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,e)=>{let r=t[e];return n.concat(Array.isArray(r)?r.map(l=>[e,l]):[[e,r]])},[]))}function Sb(t,n){let e=Tu(t);return n&&n.forEach((r,l)=>{e.has(l)||n.getAll(l).forEach(o=>{e.append(l,o)})}),e}const kb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Tb="6";try{window.__reactRouterVersion=Tb}catch{}const Eb=ae.createContext({isTransitioning:!1}),Nb="startTransition",df=mg[Nb];function Ab(t){let{basename:n,children:e,future:r,window:l}=t,o=ae.useRef();o.current==null&&(o.current=Ey({window:l,v5Compat:!0}));let s=o.current,[u,a]=ae.useState({action:s.action,location:s.location}),{v7_startTransition:i}=r||{},c=ae.useCallback(h=>{i&&df?df(()=>a(h)):a(h)},[a,i]);return ae.useLayoutEffect(()=>s.listen(c),[s,c]),ae.useEffect(()=>gb(r),[r]),ae.createElement(vb,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:s,future:r})}const Ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=ae.forwardRef(function(n,e){let{onClick:r,relative:l,reloadDocument:o,replace:s,state:u,target:a,to:i,preventScrollReset:c,viewTransition:h}=n,d=u0(n,kb),{basename:f}=ae.useContext(mr),b,y=!1;if(typeof i=="string"&&Mb.test(i)&&(b=i,Ib))try{let x=new URL(window.location.href),C=i.startsWith("//")?new URL(x.protocol+i):new URL(i),I=Gi(C.pathname,f);C.origin===x.origin&&I!=null?i=I+C.search+C.hash:y=!0}catch{}let p=Qy(i,{relative:l}),g=Db(i,{replace:s,state:u,target:a,preventScrollReset:c,relative:l,viewTransition:h});function m(x){r&&r(x),x.defaultPrevented||g(x)}return ae.createElement("a",ga({},d,{href:b||p,onClick:y||o?r:m,ref:e,target:a}))}),Rb=ae.forwardRef(function(n,e){let{"aria-current":r="page",caseSensitive:l=!1,className:o="",end:s=!1,style:u,to:a,viewTransition:i,children:c}=n,h=u0(n,Cb),d=qa(a,{relative:h.relative}),f=ci(),b=ae.useContext(i0),{navigator:y,basename:p}=ae.useContext(mr),g=b!=null&&Lb(d)&&i===!0,m=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,x=f.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;l||(x=x.toLowerCase(),C=C?C.toLowerCase():null,m=m.toLowerCase()),C&&p&&(C=Gi(C,p)||C);const I=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let D=x===m||!s&&x.startsWith(m)&&x.charAt(I)==="/",z=C!=null&&(C===m||!s&&C.startsWith(m)&&C.charAt(m.length)==="/"),O={isActive:D,isPending:z,isTransitioning:g},B=D?r:void 0,V;typeof o=="function"?V=o(O):V=[o,D?"active":null,z?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let q=typeof u=="function"?u(O):u;return ae.createElement(yn,ga({},h,{"aria-current":B,className:V,ref:e,style:q,to:a,viewTransition:i}),typeof c=="function"?c(O):c)});var Eu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Eu||(Eu={}));var ff;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ff||(ff={}));function Pb(t){let n=ae.useContext(Ha);return n||jt(!1),n}function Db(t,n){let{target:e,replace:r,state:l,preventScrollReset:o,relative:s,viewTransition:u}=n===void 0?{}:n,a=Zi(),i=ci(),c=qa(t,{relative:s});return ae.useCallback(h=>{if(_b(h,e)){h.preventDefault();let d=r!==void 0?r:ha(i)===ha(c);a(t,{replace:d,state:l,preventScrollReset:o,relative:s,viewTransition:u})}},[i,a,c,r,l,e,t,o,s,u])}function jb(t){let n=ae.useRef(Tu(t)),e=ae.useRef(!1),r=ci(),l=ae.useMemo(()=>Sb(r.search,e.current?null:n.current),[r.search]),o=Zi(),s=ae.useCallback((u,a)=>{const i=Tu(typeof u=="function"?u(l):u);e.current=!0,o("?"+i,a)},[o,l]);return[l,s]}function Lb(t,n){n===void 0&&(n={});let e=ae.useContext(Eb);e==null&&jt(!1);let{basename:r}=Pb(Eu.useViewTransitionState),l=qa(t,{relative:n.relative});if(!e.isTransitioning)return!1;let o=Gi(e.currentLocation.pathname,r)||e.currentLocation.pathname,s=Gi(e.nextLocation.pathname,r)||e.nextLocation.pathname;return pa(l.pathname,s)!=null||pa(l.pathname,o)!=null}var Ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ne=(t,n)=>{const e=ae.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:u,...a},i)=>ae.createElement("svg",{ref:i,...Ob,width:l,height:l,stroke:r,strokeWidth:s?Number(o)*24/Number(l):o,className:`lucide lucide-${Fb(t)}`,...a},[...n.map(([c,h])=>ae.createElement(c,h)),...(Array.isArray(u)?u:[u])||[]]));return e.displayName=`${t}`,e},c0=Ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Bb=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ga=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ub=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Wa=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),zb=Ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Vb=Ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Il=Ne("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),jc=Ne("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),d0=Ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Hb=Ne("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Ka=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),$b=Ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),qb=Ne("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Gb=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),hf=Ne("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ya=Ne("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),f0=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wb=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Kb=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),h0=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Yb=Ne("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]),Jb=Ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Xb=Ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Zb=Ne("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),p0=Ne("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Qs=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Qb=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ev=Ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),tv=Ne("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Qi=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Gs=Ne("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),nv=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),rv=Ne("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),m0=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),iv=Ne("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),sv=Ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),ov=Ne("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Ya=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),av=Ne("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),lv=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Lc=Ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),uv=Ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),g0=Ne("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),cv=Ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),_n=Ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),dv=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),fv=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Oc=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),hv=Ne("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),pv=Ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),$n=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ba=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),mv=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),gv=Ne("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),Ja=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),yv=Ne("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),bv=Ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),va=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vv=Ne("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),pf=Ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),$r=Ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),mf=Ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),xa=Ne("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),xv=Ne("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),wv=Ne("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),_v=Ne("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Xa=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Sv=Ne("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Wi=Ne("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ws=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Fc=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),y0=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),kv=Ne("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Rn=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cv=Ne("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Tv=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ev=()=>{const t=[{icon:Lc,label:"Dashboard",path:"/"},{icon:d0,label:"Projects",path:"/projects"},{icon:$r,label:"Studio",path:"/studio"},{icon:Oc,label:"Moodboard",path:"/moodboard"},{icon:y0,label:"Roster",path:"/freelancers"},{icon:Ka,label:"Schedule",path:"/assignments"},{icon:Ws,label:"Import",path:"/imports"}];return A.jsxs("div",{className:"flex h-screen bg-app font-sans text-ink-primary overflow-hidden selection:bg-primary selection:text-white",children:[A.jsxs("aside",{className:"w-72 flex-shrink-0 hidden md:flex flex-col h-full border-r border-border-subtle bg-surface/80 backdrop-blur-xl z-50 relative",children:[A.jsx("div",{className:"h-24 flex flex-col justify-center px-8",children:A.jsxs("div",{className:"flex items-center gap-3 group cursor-default",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"font-display font-bold text-xl tracking-tight text-ink-primary leading-none",children:"Studio."}),A.jsx("span",{className:"font-mono font-semibold text-[9px] text-ink-tertiary uppercase tracking-[0.2em] mt-1",children:"Pro v.2.0"})]}),A.jsxs("div",{className:"relative w-9 h-9 bg-ink-primary text-white rounded-xl flex items-center justify-center shadow-card group-hover:shadow-glow transition-all duration-500 ease-out group-hover:-translate-y-0.5 flex-shrink-0",children:[A.jsx("div",{className:"absolute inset-0 bg-rival-gradient opacity-0 group-hover:opacity-20 rounded-xl transition-opacity duration-500"}),A.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full shadow-sm relative z-10"})]})]})}),A.jsxs("div",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto custom-scrollbar",children:[A.jsx("div",{className:"px-4 mb-4 text-[9px] font-bold text-ink-tertiary uppercase tracking-widest opacity-60",children:"Operations"}),t.map(n=>A.jsx(Rb,{to:n.path,className:({isActive:e})=>`flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-medium transition-all duration-300 group relative ${e?"bg-white shadow-card text-ink-primary ring-1 ring-black/5":"text-ink-secondary hover:bg-subtle/60 hover:text-ink-primary"}`,children:({isActive:e})=>A.jsxs(A.Fragment,{children:[e&&A.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-6 w-1 rounded-r-full bg-ink-primary"}),A.jsx(n.icon,{size:18,strokeWidth:e?2.5:2,className:`transition-colors duration-300 ${e?"text-ink-primary":"text-ink-tertiary group-hover:text-ink-primary"}`}),A.jsx("span",{className:"relative z-10 tracking-tight",children:n.label})]})},n.path))]}),A.jsxs("div",{className:"p-6 mx-2 mb-2 border-t border-border-subtle/50 space-y-1",children:[A.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-ink-secondary hover:text-ink-primary hover:bg-subtle/50 transition-all",children:[A.jsx(va,{size:18,strokeWidth:2}),"System Config"]}),A.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-ink-secondary hover:text-state-danger hover:bg-state-danger-bg/30 transition-all",children:[A.jsx(fv,{size:18,strokeWidth:2}),"Disconnect"]})]})]}),A.jsxs("div",{className:"md:hidden fixed top-0 w-full bg-surface/90 backdrop-blur-xl border-b border-border-subtle h-16 z-50 flex items-center px-6 justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-display font-bold text-lg tracking-tight text-ink-primary",children:"Studio."}),A.jsx("div",{className:"w-8 h-8 bg-ink-primary text-white rounded-lg flex items-center justify-center shadow-sm",children:A.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),A.jsx("button",{className:"p-2 text-ink-tertiary",children:A.jsx(va,{size:20})})]}),A.jsx("main",{className:"flex-1 h-full overflow-y-auto overflow-x-hidden relative scroll-smooth",children:A.jsx("div",{className:"min-h-full pb-24 md:pb-12 pt-20 md:pt-0",children:A.jsx(bb,{})})})]})},Nv=({onLogin:t})=>{const[n,e]=ae.useState(!1),[r,l]=ae.useState(!1);ae.useEffect(()=>{if(!n)return;const s=window.setTimeout(()=>{l(!0)},2500);return()=>window.clearTimeout(s)},[n]);const o=async(s=!1)=>{e(!0),l(!1);try{await t(s?"FORCE_OFFLINE":"alice@studio.com")}catch{e(!1),setTimeout(()=>l(!0),200)}};return A.jsxs("div",{className:"min-h-screen bg-canvas flex flex-col justify-center items-center relative overflow-hidden font-sans selection:bg-ink selection:text-white",children:[A.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#E2E8F0_1px,transparent_1px)] [background-size:32px_32px] opacity-40 pointer-events-none"}),A.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-white rounded-full blur-3xl opacity-60 pointer-events-none"}),A.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-enter",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-16",children:[A.jsx("h1",{className:"text-6xl font-semibold tracking-tighter text-ink",children:"Studio."}),A.jsx("div",{className:"w-20 h-20 bg-ink text-white rounded-3xl flex items-center justify-center shadow-elevation transition-transform duration-500 hover:scale-105 cursor-default",children:A.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow-sm"})})]}),A.jsx("button",{onClick:()=>o(!1),disabled:n,className:"group relative px-12 py-4 bg-ink text-white rounded-xl text-[11px] font-bold uppercase tracking-[0.25em] shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-70 disabled:translate-y-0 disabled:shadow-none min-w-[200px]",children:A.jsx("span",{className:"flex items-center justify-center gap-3",children:n?A.jsx("span",{className:"animate-pulse",children:"Authenticating..."}):A.jsxs(A.Fragment,{children:["Enter ",A.jsx(Wa,{size:14,className:"opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300 -ml-2 group-hover:ml-0"})]})})}),r&&A.jsxs("button",{onClick:()=>o(!0),className:"mt-6 flex items-center gap-2 text-xs text-rose-600 hover:text-rose-800 bg-rose-50 hover:bg-rose-100 px-4 py-2 rounded-lg transition-colors font-medium animate-in fade-in slide-in-from-top-2",children:[A.jsx(Bb,{size:14})," Force Offline Entry"]})]}),A.jsxs("div",{className:"absolute bottom-12 flex flex-col items-center gap-2 opacity-30",children:[A.jsx("div",{className:"h-8 w-px bg-ink"}),A.jsx("span",{className:"text-[9px] font-bold text-ink uppercase tracking-widest",children:"System Ready"})]})]})};var Sn=(t=>(t.PLANNED="Planned",t.IN_PROGRESS="In Progress",t.REVIEW="Review",t.DELIVERED="Delivered",t.ARCHIVED="Archived",t))(Sn||{}),Pn=(t=>(t.LOW="Low",t.NORMAL="Normal",t.HIGH="High",t.URGENT="Urgent",t))(Pn||{}),Xn=(t=>(t.ACTIVE="Active",t.INACTIVE="Inactive",t.ARCHIVED="Archived",t))(Xn||{});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Av,Iv;function Mv(){return{geminiUrl:Av,vertexUrl:Iv}}function Rv(t,n,e,r){var l,o;if(!(t!=null&&t.baseUrl)){const s=Mv();return n?(l=s.vertexUrl)!==null&&l!==void 0?l:e:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr{}function Me(t,n){const e=/\{([^}]+)\}/g;return t.replace(e,(r,l)=>{if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function M(t,n,e){for(let o=0;o<n.length-1;o++){const s=n[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(e))t[u]=Array.from({length:e.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const a=t[u];if(Array.isArray(e))for(let i=0;i<a.length;i++){const c=a[i];M(c,n.slice(o+1),e[i])}else for(const i of a)M(i,n.slice(o+1),e)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const a=t[u];M(a[0],n.slice(o+1),e);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=n[n.length-1],l=t[r];if(l!==void 0){if(!e||typeof e=="object"&&Object.keys(e).length===0||e===l)return;if(typeof l=="object"&&typeof e=="object"&&l!==null&&e!==null)Object.assign(l,e);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.assign(t,e):t[r]=e}function T(t,n,e=void 0){try{if(n.length===1&&n[0]==="_self")return t;for(let r=0;r<n.length;r++){if(typeof t!="object"||t===null)return e;const l=n[r];if(l.endsWith("[]")){const o=l.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(u=>T(u,n.slice(r+1),e)):e}else return e}else t=t[l]}return t}catch(r){if(r instanceof TypeError)return e;throw r}}function Pv(t,n){for(const[e,r]of Object.entries(n)){const l=e.split("."),o=r.split("."),s=new Set;let u=-1;for(let a=0;a<l.length;a++)if(l[a]==="*"){u=a;break}if(u!==-1&&o.length>u)for(let a=u;a<o.length;a++){const i=o[a];i!=="*"&&!i.endsWith("[]")&&!i.endsWith("[0]")&&s.add(i)}Nu(t,l,o,0,s)}}function Nu(t,n,e,r,l){if(r>=n.length||typeof t!="object"||t===null)return;const o=n[r];if(o.endsWith("[]")){const s=o.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const a of u[s])Nu(a,n,e,r+1,l)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(i=>!i.startsWith("_")&&!l.has(i)),a={};for(const i of u)a[i]=s[i];for(const[i,c]of Object.entries(a)){const h=[];for(const d of e.slice(r))d==="*"?h.push(i):h.push(d);M(s,h,c)}for(const i of u)delete s[i]}}else{const s=t;o in s&&Nu(s[o],n,e,r+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dv(t){const n={},e=T(t,["operationName"]);e!=null&&M(n,["operationName"],e);const r=T(t,["resourceName"]);return r!=null&&M(n,["_url","resourceName"],r),n}function jv(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata"]);r!=null&&M(n,["metadata"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["response","generateVideoResponse"]);return s!=null&&M(n,["response"],Ov(s)),n}function Lv(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata"]);r!=null&&M(n,["metadata"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["response"]);return s!=null&&M(n,["response"],Fv(s)),n}function Ov(t){const n={},e=T(t,["generatedSamples"]);if(e!=null){let o=e;Array.isArray(o)&&(o=o.map(s=>Bv(s))),M(n,["generatedVideos"],o)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&M(n,["raiMediaFilteredCount"],r);const l=T(t,["raiMediaFilteredReasons"]);return l!=null&&M(n,["raiMediaFilteredReasons"],l),n}function Fv(t){const n={},e=T(t,["videos"]);if(e!=null){let o=e;Array.isArray(o)&&(o=o.map(s=>Uv(s))),M(n,["generatedVideos"],o)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&M(n,["raiMediaFilteredCount"],r);const l=T(t,["raiMediaFilteredReasons"]);return l!=null&&M(n,["raiMediaFilteredReasons"],l),n}function Bv(t){const n={},e=T(t,["video"]);return e!=null&&M(n,["video"],Gv(e)),n}function Uv(t){const n={},e=T(t,["_self"]);return e!=null&&M(n,["video"],Wv(e)),n}function zv(t){const n={},e=T(t,["operationName"]);return e!=null&&M(n,["_url","operationName"],e),n}function Vv(t){const n={},e=T(t,["operationName"]);return e!=null&&M(n,["_url","operationName"],e),n}function Hv(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata"]);r!=null&&M(n,["metadata"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["response"]);return s!=null&&M(n,["response"],$v(s)),n}function $v(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["parent"]);r!=null&&M(n,["parent"],r);const l=T(t,["documentName"]);return l!=null&&M(n,["documentName"],l),n}function b0(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata"]);r!=null&&M(n,["metadata"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["response"]);return s!=null&&M(n,["response"],qv(s)),n}function qv(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["parent"]);r!=null&&M(n,["parent"],r);const l=T(t,["documentName"]);return l!=null&&M(n,["documentName"],l),n}function Gv(t){const n={},e=T(t,["uri"]);e!=null&&M(n,["uri"],e);const r=T(t,["encodedVideo"]);r!=null&&M(n,["videoBytes"],Bc(r));const l=T(t,["encoding"]);return l!=null&&M(n,["mimeType"],l),n}function Wv(t){const n={},e=T(t,["gcsUri"]);e!=null&&M(n,["uri"],e);const r=T(t,["bytesBase64Encoded"]);r!=null&&M(n,["videoBytes"],Bc(r));const l=T(t,["mimeType"]);return l!=null&&M(n,["mimeType"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gf;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gf||(gf={}));var yf;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(yf||(yf={}));var bf;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bf||(bf={}));var Ye;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ye||(Ye={}));var vf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vf||(vf={}));var xf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xf||(xf={}));var wf;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wf||(wf={}));var _f;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_f||(_f={}));var Sf;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Sf||(Sf={}));var kf;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(kf||(kf={}));var Cf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Cf||(Cf={}));var Tf;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Tf||(Tf={}));var Ef;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ef||(Ef={}));var Nf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Nf||(Nf={}));var Af;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Af||(Af={}));var If;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(If||(If={}));var Mf;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mf||(Mf={}));var Rf;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Rf||(Rf={}));var Pf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pf||(Pf={}));var wa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(wa||(wa={}));var Df;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Df||(Df={}));var jf;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jf||(jf={}));var Lf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lf||(Lf={}));var Au;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Au||(Au={}));var Of;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Of||(Of={}));var Ff;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ff||(Ff={}));var Bf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Bf||(Bf={}));var Uf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Uf||(Uf={}));var zf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zf||(zf={}));var Vf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vf||(Vf={}));var Hf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Hf||(Hf={}));var $f;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($f||($f={}));var qf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(qf||(qf={}));var Gf;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Gf||(Gf={}));var Wf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wf||(Wf={}));var Kf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Kf||(Kf={}));var Yf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Yf||(Yf={}));var Jf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jf||(Jf={}));var Xf;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Xf||(Xf={}));var Zf;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Zf||(Zf={}));var Qf;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Qf||(Qf={}));var eh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(eh||(eh={}));var th;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(th||(th={}));var nh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(nh||(nh={}));var rh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(rh||(rh={}));var ih;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ih||(ih={}));var sh;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sh||(sh={}));var oh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(oh||(oh={}));var ah;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ah||(ah={}));var lh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lh||(lh={}));var uh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(uh||(uh={}));var ch;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ch||(ch={}));var dh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(dh||(dh={}));var fh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(fh||(fh={}));var Ai;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ai||(Ai={}));class Iu{constructor(n){const e={};for(const r of n.headers.entries())e[r[0]]=r[1];this.headers=e,this.responseInternal=n}json(){return this.responseInternal.json()}}class fs{get text(){var n,e,r,l,o,s,u,a;if(((l=(r=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let i="",c=!1;const h=[];for(const d of(a=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&a!==void 0?a:[]){for(const[f,b]of Object.entries(d))f!=="text"&&f!=="thought"&&f!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(f);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;c=!0,i+=d.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?i:void 0}get data(){var n,e,r,l,o,s,u,a;if(((l=(r=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let i="";const c=[];for(const h of(a=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&a!==void 0?a:[]){for(const[d,f]of Object.entries(h))d!=="inlineData"&&(f!==null||f!==void 0)&&c.push(d);h.inlineData&&typeof h.inlineData.data=="string"&&(i+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}get functionCalls(){var n,e,r,l,o,s,u,a;if(((l=(r=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const i=(a=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||a===void 0?void 0:a.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((i==null?void 0:i.length)!==0)return i}get executableCode(){var n,e,r,l,o,s,u,a,i;if(((l=(r=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(a=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||a===void 0?void 0:a.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return(i=c==null?void 0:c[0])===null||i===void 0?void 0:i.code}get codeExecutionResult(){var n,e,r,l,o,s,u,a,i;if(((l=(r=(e=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||e===void 0?void 0:e.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(a=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||a===void 0?void 0:a.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return(i=c==null?void 0:c[0])===null||i===void 0?void 0:i.output}}class hh{}class ph{}class Kv{}class Yv{}class Jv{}class Xv{}class mh{}class gh{}class yh{}class Zv{}class _a{_fromAPIResponse({apiResponse:n,_isVertexAI:e}){const r=new _a;let l;const o=n;return e?l=Lv(o):l=jv(o),Object.assign(r,l),r}}class bh{}class vh{}class xh{}class Qv{}class e2{}class t2{}class Uc{_fromAPIResponse({apiResponse:n,_isVertexAI:e}){const r=new Uc,o=Hv(n);return Object.assign(r,o),r}}class n2{}class r2{}class i2{}class wh{}class s2{get text(){var n,e,r;let l="",o=!1;const s=[];for(const u of(r=(e=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||e===void 0?void 0:e.parts)!==null&&r!==void 0?r:[]){for(const[a,i]of Object.entries(u))a!=="text"&&a!=="thought"&&i!==null&&s.push(a);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var n,e,r;let l="";const o=[];for(const s of(r=(e=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||e===void 0?void 0:e.parts)!==null&&r!==void 0?r:[]){for(const[u,a]of Object.entries(s))u!=="inlineData"&&a!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(l+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class o2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class zc{_fromAPIResponse({apiResponse:n,_isVertexAI:e}){const r=new zc,o=b0(n);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mt(t,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const e=n.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function v0(t,n){const e=mt(t,n);return e?e.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:e.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${e}`:e:""}function x0(t){return Array.isArray(t)?t.map(n=>Sa(n)):[Sa(t)]}function Sa(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function w0(t){const n=Sa(t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function _0(t){const n=Sa(t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function _h(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function S0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>_h(n)):[_h(t)]}function Mu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Sh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function kh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function rn(t){if(t==null)throw new Error("ContentUnion is required");return Mu(t)?t:{role:"user",parts:S0(t)}}function Vc(t,n){if(!n)return[];if(t.isVertexAI()&&Array.isArray(n))return n.flatMap(e=>{const r=rn(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const e=rn(n);return e.parts&&e.parts.length>0&&e.parts[0].text!==void 0?[e.parts[0].text]:[]}return Array.isArray(n)?n.map(e=>rn(e)):[rn(n)]}function Dn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Sh(t)||kh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rn(t)]}const n=[],e=[],r=Mu(t[0]);for(const l of t){const o=Mu(l);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)n.push(l);else{if(Sh(l)||kh(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");e.push(l)}}return r||n.push({role:"user",parts:S0(e)}),n}function a2(t,n){t.includes("null")&&(n.nullable=!0);const e=t.filter(r=>r!=="null");if(e.length===1)n.type=Object.values(Ye).includes(e[0].toUpperCase())?e[0].toUpperCase():Ye.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const r of e)n.anyOf.push({type:Object.values(Ye).includes(r.toUpperCase())?r.toUpperCase():Ye.TYPE_UNSPECIFIED})}}function Li(t){const n={},e=["items"],r=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(n.nullable=!0,t=o[1]):o[1].type==="null"&&(n.nullable=!0,t=o[0])),t.type instanceof Array&&a2(t.type,n);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;n.type=Object.values(Ye).includes(u.toUpperCase())?u.toUpperCase():Ye.TYPE_UNSPECIFIED}else if(e.includes(s))n[s]=Li(u);else if(r.includes(s)){const a=[];for(const i of u){if(i.type=="null"){n.nullable=!0;continue}a.push(Li(i))}n[s]=a}else if(l.includes(s)){const a={};for(const[i,c]of Object.entries(u))a[i]=Li(c);n[s]=a}else{if(s==="additionalProperties")continue;n[s]=u}return n}function Hc(t){return Li(t)}function $c(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function qc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function es(t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Li(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Li(n.response));return t}function ts(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const e of t)n.push(e);return n}function l2(t,n,e,r=1){const l=!n.startsWith(`${e}/`)&&n.split("/").length===r;return t.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${t.getProject()}/${n}`:n.startsWith(`${e}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}/${n}`:n:l?`${e}/${n}`:n}function yr(t,n){if(typeof n!="string")throw new Error("name must be a string");return l2(t,n,"cachedContents")}function k0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function qr(t){return Bc(t)}function u2(t){return t!=null&&typeof t=="object"&&"name"in t}function c2(t){return t!=null&&typeof t=="object"&&"video"in t}function d2(t){return t!=null&&typeof t=="object"&&"uri"in t}function C0(t){var n;let e;if(u2(t)&&(e=t.name),!(d2(t)&&(e=t.uri,e===void 0))&&!(c2(t)&&(e=(n=t.video)===null||n===void 0?void 0:n.uri,e===void 0))){if(typeof t=="string"&&(e=t),e===void 0)throw new Error("Could not extract file name from the provided input.");if(e.startsWith("https://")){const l=e.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${e}`);e=l[0]}else e.startsWith("files/")&&(e=e.split("files/")[1]);return e}}function T0(t,n){let e;return t.isVertexAI()?e=n?"publishers/google/models":"models":e=n?"models":"tunedModels",e}function E0(t){for(const n of["models","tunedModels","publisherModels"])if(f2(t,n))return t[n];return[]}function f2(t,n){return t!==null&&typeof t=="object"&&n in t}function h2(t,n={}){const e=t,r={name:e.name,description:e.description,parametersJsonSchema:e.inputSchema};return e.outputSchema&&(r.responseJsonSchema=e.outputSchema),n.behavior&&(r.behavior=n.behavior),{functionDeclarations:[r]}}function p2(t,n={}){const e=[],r=new Set;for(const l of t){const o=l.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=h2(l,n);s.functionDeclarations&&e.push(...s.functionDeclarations)}return{functionDeclarations:e}}function N0(t,n){let e;if(typeof n=="string")if(t.isVertexAI())if(n.startsWith("gs://"))e={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))e={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))e={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");e={inlinedRequests:n}}else e=n;const r=[e.gcsUri,e.bigqueryUri].filter(Boolean).length,l=[e.inlinedRequests,e.fileName].filter(Boolean).length;if(t.isVertexAI()){if(l>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return e}function m2(t){if(typeof t!="string")return t;const n=t;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function A0(t){if(typeof t!="object"||t===null)return{};const n=t,e=n.inlinedResponses;if(typeof e!="object"||e===null)return t;const l=e.inlinedResponses;if(!Array.isArray(l)||l.length===0)return t;let o=!1;for(const s of l){if(typeof s!="object"||s===null)continue;const a=s.response;if(typeof a!="object"||a===null)continue;if(a.embedding!==void 0){o=!0;break}}return o&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),t}function ns(t,n){const e=n;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(e))return e.split("/").pop();throw new Error(`Invalid batch job name: ${e}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(e))return e.split("/").pop();if(/^\d+$/.test(e))return e;throw new Error(`Invalid batch job name: ${e}.`)}function I0(t){const n=t;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g2(t){const n={},e=T(t,["responsesFile"]);e!=null&&M(n,["fileName"],e);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>J2(s))),M(n,["inlinedResponses"],o)}const l=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["inlinedEmbedContentResponses"],o)}return n}function y2(t){const n={},e=T(t,["predictionsFormat"]);e!=null&&M(n,["format"],e);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&M(n,["gcsUri"],r);const l=T(t,["bigqueryDestination","outputUri"]);return l!=null&&M(n,["bigqueryUri"],l),n}function b2(t){const n={},e=T(t,["format"]);e!=null&&M(n,["predictionsFormat"],e);const r=T(t,["gcsUri"]);r!=null&&M(n,["gcsDestination","outputUriPrefix"],r);const l=T(t,["bigqueryUri"]);if(l!=null&&M(n,["bigqueryDestination","outputUri"],l),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Bo(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata","displayName"]);r!=null&&M(n,["displayName"],r);const l=T(t,["metadata","state"]);l!=null&&M(n,["state"],I0(l));const o=T(t,["metadata","createTime"]);o!=null&&M(n,["createTime"],o);const s=T(t,["metadata","endTime"]);s!=null&&M(n,["endTime"],s);const u=T(t,["metadata","updateTime"]);u!=null&&M(n,["updateTime"],u);const a=T(t,["metadata","model"]);a!=null&&M(n,["model"],a);const i=T(t,["metadata","output"]);return i!=null&&M(n,["dest"],g2(A0(i))),n}function Ru(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["displayName"]);r!=null&&M(n,["displayName"],r);const l=T(t,["state"]);l!=null&&M(n,["state"],I0(l));const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["createTime"]);s!=null&&M(n,["createTime"],s);const u=T(t,["startTime"]);u!=null&&M(n,["startTime"],u);const a=T(t,["endTime"]);a!=null&&M(n,["endTime"],a);const i=T(t,["updateTime"]);i!=null&&M(n,["updateTime"],i);const c=T(t,["model"]);c!=null&&M(n,["model"],c);const h=T(t,["inputConfig"]);h!=null&&M(n,["src"],v2(h));const d=T(t,["outputConfig"]);d!=null&&M(n,["dest"],y2(A0(d)));const f=T(t,["completionStats"]);return f!=null&&M(n,["completionStats"],f),n}function v2(t){const n={},e=T(t,["instancesFormat"]);e!=null&&M(n,["format"],e);const r=T(t,["gcsSource","uris"]);r!=null&&M(n,["gcsUri"],r);const l=T(t,["bigquerySource","inputUri"]);return l!=null&&M(n,["bigqueryUri"],l),n}function x2(t,n){const e={};if(T(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(n,["fileName"]);r!=null&&M(e,["fileName"],r);const l=T(n,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Y2(t,s))),M(e,["requests","requests"],o)}return e}function w2(t){const n={},e=T(t,["format"]);e!=null&&M(n,["instancesFormat"],e);const r=T(t,["gcsUri"]);r!=null&&M(n,["gcsSource","uris"],r);const l=T(t,["bigqueryUri"]);if(l!=null&&M(n,["bigquerySource","inputUri"],l),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function _2(t){const n={},e=T(t,["data"]);if(e!=null&&M(n,["data"],e),T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function S2(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],ns(t,r)),e}function k2(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],ns(t,r)),e}function C2(t){const n={},e=T(t,["content"]);e!=null&&M(n,["content"],e);const r=T(t,["citationMetadata"]);r!=null&&M(n,["citationMetadata"],T2(r));const l=T(t,["tokenCount"]);l!=null&&M(n,["tokenCount"],l);const o=T(t,["finishReason"]);o!=null&&M(n,["finishReason"],o);const s=T(t,["avgLogprobs"]);s!=null&&M(n,["avgLogprobs"],s);const u=T(t,["groundingMetadata"]);u!=null&&M(n,["groundingMetadata"],u);const a=T(t,["index"]);a!=null&&M(n,["index"],a);const i=T(t,["logprobsResult"]);i!=null&&M(n,["logprobsResult"],i);const c=T(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),M(n,["safetyRatings"],d)}const h=T(t,["urlContextMetadata"]);return h!=null&&M(n,["urlContextMetadata"],h),n}function T2(t){const n={},e=T(t,["citationSources"]);if(e!=null){let r=e;Array.isArray(r)&&(r=r.map(l=>l)),M(n,["citations"],r)}return n}function M0(t){const n={},e=T(t,["parts"]);if(e!=null){let l=e;Array.isArray(l)&&(l=l.map(o=>rx(o))),M(n,["parts"],l)}const r=T(t,["role"]);return r!=null&&M(n,["role"],r),n}function E2(t,n){const e={},r=T(t,["displayName"]);if(n!==void 0&&r!=null&&M(n,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return e}function N2(t,n){const e={},r=T(t,["displayName"]);n!==void 0&&r!=null&&M(n,["displayName"],r);const l=T(t,["dest"]);return n!==void 0&&l!=null&&M(n,["outputConfig"],b2(m2(l))),e}function Ch(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["src"]);l!=null&&M(e,["batch","inputConfig"],x2(t,N0(t,l)));const o=T(n,["config"]);return o!=null&&E2(o,e),e}function A2(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["model"],mt(t,r));const l=T(n,["src"]);l!=null&&M(e,["inputConfig"],w2(N0(t,l)));const o=T(n,["config"]);return o!=null&&N2(o,e),e}function I2(t,n){const e={},r=T(t,["displayName"]);return n!==void 0&&r!=null&&M(n,["batch","displayName"],r),e}function M2(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["src"]);l!=null&&M(e,["batch","inputConfig"],F2(t,l));const o=T(n,["config"]);return o!=null&&I2(o,e),e}function R2(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],ns(t,r)),e}function P2(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],ns(t,r)),e}function D2(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["name"]);r!=null&&M(n,["name"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);return o!=null&&M(n,["error"],o),n}function j2(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["name"]);r!=null&&M(n,["name"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);return o!=null&&M(n,["error"],o),n}function L2(t,n){const e={},r=T(n,["contents"]);if(r!=null){let o=Vc(t,r);Array.isArray(o)&&(o=o.map(s=>s)),M(e,["requests[]","request","content"],o)}const l=T(n,["config"]);return l!=null&&(M(e,["_self"],O2(l,e)),Pv(e,{"requests[].*":"requests[].request.*"})),e}function O2(t,n){const e={},r=T(t,["taskType"]);n!==void 0&&r!=null&&M(n,["requests[]","taskType"],r);const l=T(t,["title"]);n!==void 0&&l!=null&&M(n,["requests[]","title"],l);const o=T(t,["outputDimensionality"]);if(n!==void 0&&o!=null&&M(n,["requests[]","outputDimensionality"],o),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return e}function F2(t,n){const e={},r=T(n,["fileName"]);r!=null&&M(e,["file_name"],r);const l=T(n,["inlinedRequests"]);return l!=null&&M(e,["requests"],L2(t,l)),e}function B2(t){const n={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const e=T(t,["fileUri"]);e!=null&&M(n,["fileUri"],e);const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function U2(t){const n={},e=T(t,["id"]);e!=null&&M(n,["id"],e);const r=T(t,["args"]);r!=null&&M(n,["args"],r);const l=T(t,["name"]);if(l!=null&&M(n,["name"],l),T(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function z2(t){const n={},e=T(t,["mode"]);e!=null&&M(n,["mode"],e);const r=T(t,["allowedFunctionNames"]);if(r!=null&&M(n,["allowedFunctionNames"],r),T(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function V2(t,n,e){const r={},l=T(n,["systemInstruction"]);e!==void 0&&l!=null&&M(e,["systemInstruction"],M0(rn(l)));const o=T(n,["temperature"]);o!=null&&M(r,["temperature"],o);const s=T(n,["topP"]);s!=null&&M(r,["topP"],s);const u=T(n,["topK"]);u!=null&&M(r,["topK"],u);const a=T(n,["candidateCount"]);a!=null&&M(r,["candidateCount"],a);const i=T(n,["maxOutputTokens"]);i!=null&&M(r,["maxOutputTokens"],i);const c=T(n,["stopSequences"]);c!=null&&M(r,["stopSequences"],c);const h=T(n,["responseLogprobs"]);h!=null&&M(r,["responseLogprobs"],h);const d=T(n,["logprobs"]);d!=null&&M(r,["logprobs"],d);const f=T(n,["presencePenalty"]);f!=null&&M(r,["presencePenalty"],f);const b=T(n,["frequencyPenalty"]);b!=null&&M(r,["frequencyPenalty"],b);const y=T(n,["seed"]);y!=null&&M(r,["seed"],y);const p=T(n,["responseMimeType"]);p!=null&&M(r,["responseMimeType"],p);const g=T(n,["responseSchema"]);g!=null&&M(r,["responseSchema"],Hc(g));const m=T(n,["responseJsonSchema"]);if(m!=null&&M(r,["responseJsonSchema"],m),T(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=T(n,["safetySettings"]);if(e!==void 0&&x!=null){let H=x;Array.isArray(H)&&(H=H.map(E=>ix(E))),M(e,["safetySettings"],H)}const C=T(n,["tools"]);if(e!==void 0&&C!=null){let H=ts(C);Array.isArray(H)&&(H=H.map(E=>ox(es(E)))),M(e,["tools"],H)}const I=T(n,["toolConfig"]);if(e!==void 0&&I!=null&&M(e,["toolConfig"],sx(I)),T(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=T(n,["cachedContent"]);e!==void 0&&D!=null&&M(e,["cachedContent"],yr(t,D));const z=T(n,["responseModalities"]);z!=null&&M(r,["responseModalities"],z);const O=T(n,["mediaResolution"]);O!=null&&M(r,["mediaResolution"],O);const B=T(n,["speechConfig"]);if(B!=null&&M(r,["speechConfig"],$c(B)),T(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=T(n,["thinkingConfig"]);V!=null&&M(r,["thinkingConfig"],V);const q=T(n,["imageConfig"]);return q!=null&&M(r,["imageConfig"],K2(q)),r}function H2(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>C2(i))),M(n,["candidates"],a)}const l=T(t,["modelVersion"]);l!=null&&M(n,["modelVersion"],l);const o=T(t,["promptFeedback"]);o!=null&&M(n,["promptFeedback"],o);const s=T(t,["responseId"]);s!=null&&M(n,["responseId"],s);const u=T(t,["usageMetadata"]);return u!=null&&M(n,["usageMetadata"],u),n}function $2(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],ns(t,r)),e}function q2(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],ns(t,r)),e}function G2(t){const n={};if(T(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const e=T(t,["enableWidget"]);return e!=null&&M(n,["enableWidget"],e),n}function W2(t){const n={};if(T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=T(t,["timeRangeFilter"]);return e!=null&&M(n,["timeRangeFilter"],e),n}function K2(t){const n={},e=T(t,["aspectRatio"]);e!=null&&M(n,["aspectRatio"],e);const r=T(t,["imageSize"]);if(r!=null&&M(n,["imageSize"],r),T(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(T(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Y2(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["request","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let u=Dn(l);Array.isArray(u)&&(u=u.map(a=>M0(a))),M(e,["request","contents"],u)}const o=T(n,["metadata"]);o!=null&&M(e,["metadata"],o);const s=T(n,["config"]);return s!=null&&M(e,["request","generationConfig"],V2(t,s,T(e,["request"],{}))),e}function J2(t){const n={},e=T(t,["response"]);e!=null&&M(n,["response"],H2(e));const r=T(t,["error"]);return r!=null&&M(n,["error"],r),n}function X2(t,n){const e={},r=T(t,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const l=T(t,["pageToken"]);if(n!==void 0&&l!=null&&M(n,["_query","pageToken"],l),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return e}function Z2(t,n){const e={},r=T(t,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const l=T(t,["pageToken"]);n!==void 0&&l!=null&&M(n,["_query","pageToken"],l);const o=T(t,["filter"]);return n!==void 0&&o!=null&&M(n,["_query","filter"],o),e}function Q2(t){const n={},e=T(t,["config"]);return e!=null&&X2(e,n),n}function ex(t){const n={},e=T(t,["config"]);return e!=null&&Z2(e,n),n}function tx(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["operations"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Bo(s))),M(n,["batchJobs"],o)}return n}function nx(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["batchPredictionJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ru(s))),M(n,["batchJobs"],o)}return n}function rx(t){const n={},e=T(t,["mediaResolution"]);e!=null&&M(n,["mediaResolution"],e);const r=T(t,["codeExecutionResult"]);r!=null&&M(n,["codeExecutionResult"],r);const l=T(t,["executableCode"]);l!=null&&M(n,["executableCode"],l);const o=T(t,["fileData"]);o!=null&&M(n,["fileData"],B2(o));const s=T(t,["functionCall"]);s!=null&&M(n,["functionCall"],U2(s));const u=T(t,["functionResponse"]);u!=null&&M(n,["functionResponse"],u);const a=T(t,["inlineData"]);a!=null&&M(n,["inlineData"],_2(a));const i=T(t,["text"]);i!=null&&M(n,["text"],i);const c=T(t,["thought"]);c!=null&&M(n,["thought"],c);const h=T(t,["thoughtSignature"]);h!=null&&M(n,["thoughtSignature"],h);const d=T(t,["videoMetadata"]);return d!=null&&M(n,["videoMetadata"],d),n}function ix(t){const n={},e=T(t,["category"]);if(e!=null&&M(n,["category"],e),T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=T(t,["threshold"]);return r!=null&&M(n,["threshold"],r),n}function sx(t){const n={},e=T(t,["functionCallingConfig"]);e!=null&&M(n,["functionCallingConfig"],z2(e));const r=T(t,["retrievalConfig"]);return r!=null&&M(n,["retrievalConfig"],r),n}function ox(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let c=e;Array.isArray(c)&&(c=c.map(h=>h)),M(n,["functionDeclarations"],c)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearchRetrieval"]);r!=null&&M(n,["googleSearchRetrieval"],r);const l=T(t,["computerUse"]);l!=null&&M(n,["computerUse"],l);const o=T(t,["fileSearch"]);o!=null&&M(n,["fileSearch"],o);const s=T(t,["codeExecution"]);if(s!=null&&M(n,["codeExecution"],s),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(t,["googleMaps"]);u!=null&&M(n,["googleMaps"],G2(u));const a=T(t,["googleSearch"]);a!=null&&M(n,["googleSearch"],W2(a));const i=T(t,["urlContext"]);return i!=null&&M(n,["urlContext"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(hr||(hr={}));class di{constructor(n,e,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=e,this.init(n,r,l)}init(n,e,r){var l,o;this.nameInternal=n,this.pageInternal=e[this.nameInternal]||[],this.sdkHttpResponseInternal=e==null?void 0:e.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=e.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(l=s.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ax extends gr{constructor(n){super(),this.apiClient=n,this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)},this.list=async(e={})=>new di(hr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(e),e)}createInlinedGenerateContentRequest(n){const e=Ch(this.apiClient,n),r=e._url,l=Me("{model}:batchGenerateContent",r),u=e.batch.inputConfig.requests,a=u.requests,i=[];for(const c of a){const h=Object.assign({},c);if(h.systemInstruction){const d=h.systemInstruction;delete h.systemInstruction;const f=h.request;f.systemInstruction=d,h.request=f}i.push(h)}return u.requests=i,delete e.config,delete e._url,delete e._query,{path:l,body:e}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,e){const r=e?Object.assign({},e):{},l=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${l}`),r.dest===void 0){const o=this.getGcsUri(n),s=this.getBigqueryUri(n);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${l}`;else if(s)r.dest=`${s}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=A2(this.apiClient,n);return u=Me("batchPredictionJobs",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ru(c))}else{const i=Ch(this.apiClient,n);return u=Me("{model}:batchGenerateContent",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Bo(c))}}async createEmbeddingsInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=M2(this.apiClient,n);return o=Me("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>Bo(a))}}async get(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=q2(this.apiClient,n);return u=Me("batchPredictionJobs/{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ru(c))}else{const i=$2(this.apiClient,n);return u=Me("batches/{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Bo(c))}}async cancel(n){var e,r,l,o;let s="",u={};if(this.apiClient.isVertexAI()){const a=k2(this.apiClient,n);s=Me("batchPredictionJobs/{name}:cancel",a._url),u=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=S2(this.apiClient,n);s=Me("batches/{name}:cancel",a._url),u=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=ex(n);return u=Me("batchPredictionJobs",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=nx(c),d=new wh;return Object.assign(d,h),d})}else{const i=Q2(n);return u=Me("batches",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=tx(c),d=new wh;return Object.assign(d,h),d})}}async delete(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=P2(this.apiClient,n);return u=Me("batchPredictionJobs/{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>j2(c))}else{const i=R2(this.apiClient,n);return u=Me("batches/{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>D2(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lx(t){const n={},e=T(t,["data"]);if(e!=null&&M(n,["data"],e),T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function Th(t){const n={},e=T(t,["parts"]);if(e!=null){let l=e;Array.isArray(l)&&(l=l.map(o=>Mx(o))),M(n,["parts"],l)}const r=T(t,["role"]);return r!=null&&M(n,["role"],r),n}function ux(t,n){const e={},r=T(t,["ttl"]);n!==void 0&&r!=null&&M(n,["ttl"],r);const l=T(t,["expireTime"]);n!==void 0&&l!=null&&M(n,["expireTime"],l);const o=T(t,["displayName"]);n!==void 0&&o!=null&&M(n,["displayName"],o);const s=T(t,["contents"]);if(n!==void 0&&s!=null){let c=Dn(s);Array.isArray(c)&&(c=c.map(h=>Th(h))),M(n,["contents"],c)}const u=T(t,["systemInstruction"]);n!==void 0&&u!=null&&M(n,["systemInstruction"],Th(rn(u)));const a=T(t,["tools"]);if(n!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Px(h))),M(n,["tools"],c)}const i=T(t,["toolConfig"]);if(n!==void 0&&i!=null&&M(n,["toolConfig"],Rx(i)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return e}function cx(t,n){const e={},r=T(t,["ttl"]);n!==void 0&&r!=null&&M(n,["ttl"],r);const l=T(t,["expireTime"]);n!==void 0&&l!=null&&M(n,["expireTime"],l);const o=T(t,["displayName"]);n!==void 0&&o!=null&&M(n,["displayName"],o);const s=T(t,["contents"]);if(n!==void 0&&s!=null){let h=Dn(s);Array.isArray(h)&&(h=h.map(d=>d)),M(n,["contents"],h)}const u=T(t,["systemInstruction"]);n!==void 0&&u!=null&&M(n,["systemInstruction"],rn(u));const a=T(t,["tools"]);if(n!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(d=>Dx(d))),M(n,["tools"],h)}const i=T(t,["toolConfig"]);n!==void 0&&i!=null&&M(n,["toolConfig"],i);const c=T(t,["kmsKeyName"]);return n!==void 0&&c!=null&&M(n,["encryption_spec","kmsKeyName"],c),e}function dx(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["model"],v0(t,r));const l=T(n,["config"]);return l!=null&&ux(l,e),e}function fx(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["model"],v0(t,r));const l=T(n,["config"]);return l!=null&&cx(l,e),e}function hx(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],yr(t,r)),e}function px(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],yr(t,r)),e}function mx(t){const n={},e=T(t,["sdkHttpResponse"]);return e!=null&&M(n,["sdkHttpResponse"],e),n}function gx(t){const n={},e=T(t,["sdkHttpResponse"]);return e!=null&&M(n,["sdkHttpResponse"],e),n}function yx(t){const n={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const e=T(t,["fileUri"]);e!=null&&M(n,["fileUri"],e);const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function bx(t){const n={},e=T(t,["id"]);e!=null&&M(n,["id"],e);const r=T(t,["args"]);r!=null&&M(n,["args"],r);const l=T(t,["name"]);if(l!=null&&M(n,["name"],l),T(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function vx(t){const n={},e=T(t,["mode"]);e!=null&&M(n,["mode"],e);const r=T(t,["allowedFunctionNames"]);if(r!=null&&M(n,["allowedFunctionNames"],r),T(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function xx(t){const n={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const e=T(t,["description"]);e!=null&&M(n,["description"],e);const r=T(t,["name"]);r!=null&&M(n,["name"],r);const l=T(t,["parameters"]);l!=null&&M(n,["parameters"],l);const o=T(t,["parametersJsonSchema"]);o!=null&&M(n,["parametersJsonSchema"],o);const s=T(t,["response"]);s!=null&&M(n,["response"],s);const u=T(t,["responseJsonSchema"]);return u!=null&&M(n,["responseJsonSchema"],u),n}function wx(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],yr(t,r)),e}function _x(t,n){const e={},r=T(n,["name"]);return r!=null&&M(e,["_url","name"],yr(t,r)),e}function Sx(t){const n={};if(T(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const e=T(t,["enableWidget"]);return e!=null&&M(n,["enableWidget"],e),n}function kx(t){const n={};if(T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=T(t,["timeRangeFilter"]);return e!=null&&M(n,["timeRangeFilter"],e),n}function Cx(t,n){const e={},r=T(t,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const l=T(t,["pageToken"]);return n!==void 0&&l!=null&&M(n,["_query","pageToken"],l),e}function Tx(t,n){const e={},r=T(t,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const l=T(t,["pageToken"]);return n!==void 0&&l!=null&&M(n,["_query","pageToken"],l),e}function Ex(t){const n={},e=T(t,["config"]);return e!=null&&Cx(e,n),n}function Nx(t){const n={},e=T(t,["config"]);return e!=null&&Tx(e,n),n}function Ax(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["cachedContents"],o)}return n}function Ix(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["cachedContents"],o)}return n}function Mx(t){const n={},e=T(t,["mediaResolution"]);e!=null&&M(n,["mediaResolution"],e);const r=T(t,["codeExecutionResult"]);r!=null&&M(n,["codeExecutionResult"],r);const l=T(t,["executableCode"]);l!=null&&M(n,["executableCode"],l);const o=T(t,["fileData"]);o!=null&&M(n,["fileData"],yx(o));const s=T(t,["functionCall"]);s!=null&&M(n,["functionCall"],bx(s));const u=T(t,["functionResponse"]);u!=null&&M(n,["functionResponse"],u);const a=T(t,["inlineData"]);a!=null&&M(n,["inlineData"],lx(a));const i=T(t,["text"]);i!=null&&M(n,["text"],i);const c=T(t,["thought"]);c!=null&&M(n,["thought"],c);const h=T(t,["thoughtSignature"]);h!=null&&M(n,["thoughtSignature"],h);const d=T(t,["videoMetadata"]);return d!=null&&M(n,["videoMetadata"],d),n}function Rx(t){const n={},e=T(t,["functionCallingConfig"]);e!=null&&M(n,["functionCallingConfig"],vx(e));const r=T(t,["retrievalConfig"]);return r!=null&&M(n,["retrievalConfig"],r),n}function Px(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let c=e;Array.isArray(c)&&(c=c.map(h=>h)),M(n,["functionDeclarations"],c)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearchRetrieval"]);r!=null&&M(n,["googleSearchRetrieval"],r);const l=T(t,["computerUse"]);l!=null&&M(n,["computerUse"],l);const o=T(t,["fileSearch"]);o!=null&&M(n,["fileSearch"],o);const s=T(t,["codeExecution"]);if(s!=null&&M(n,["codeExecution"],s),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(t,["googleMaps"]);u!=null&&M(n,["googleMaps"],Sx(u));const a=T(t,["googleSearch"]);a!=null&&M(n,["googleSearch"],kx(a));const i=T(t,["urlContext"]);return i!=null&&M(n,["urlContext"],i),n}function Dx(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let h=e;Array.isArray(h)&&(h=h.map(d=>xx(d))),M(n,["functionDeclarations"],h)}const r=T(t,["retrieval"]);r!=null&&M(n,["retrieval"],r);const l=T(t,["googleSearchRetrieval"]);l!=null&&M(n,["googleSearchRetrieval"],l);const o=T(t,["computerUse"]);if(o!=null&&M(n,["computerUse"],o),T(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=T(t,["codeExecution"]);s!=null&&M(n,["codeExecution"],s);const u=T(t,["enterpriseWebSearch"]);u!=null&&M(n,["enterpriseWebSearch"],u);const a=T(t,["googleMaps"]);a!=null&&M(n,["googleMaps"],a);const i=T(t,["googleSearch"]);i!=null&&M(n,["googleSearch"],i);const c=T(t,["urlContext"]);return c!=null&&M(n,["urlContext"],c),n}function jx(t,n){const e={},r=T(t,["ttl"]);n!==void 0&&r!=null&&M(n,["ttl"],r);const l=T(t,["expireTime"]);return n!==void 0&&l!=null&&M(n,["expireTime"],l),e}function Lx(t,n){const e={},r=T(t,["ttl"]);n!==void 0&&r!=null&&M(n,["ttl"],r);const l=T(t,["expireTime"]);return n!==void 0&&l!=null&&M(n,["expireTime"],l),e}function Ox(t,n){const e={},r=T(n,["name"]);r!=null&&M(e,["_url","name"],yr(t,r));const l=T(n,["config"]);return l!=null&&jx(l,e),e}function Fx(t,n){const e={},r=T(n,["name"]);r!=null&&M(e,["_url","name"],yr(t,r));const l=T(n,["config"]);return l!=null&&Lx(l,e),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bx extends gr{constructor(n){super(),this.apiClient=n,this.list=async(e={})=>new di(hr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(e),e)}async create(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=fx(this.apiClient,n);return u=Me("cachedContents",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const i=dx(this.apiClient,n);return u=Me("cachedContents",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=_x(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const i=wx(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=px(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=gx(c),d=new vh;return Object.assign(d,h),d})}else{const i=hx(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=mx(c),d=new vh;return Object.assign(d,h),d})}}async update(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=Fx(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"PATCH",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const i=Ox(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=Nx(n);return u=Me("cachedContents",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Ix(c),d=new xh;return Object.assign(d,h),d})}else{const i=Ex(n);return u=Me("cachedContents",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Ax(c),d=new xh;return Object.assign(d,h),d})}}}function Eh(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(t){return this instanceof Nt?(this.v=t,this):new Nt(t)}function Oi(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),l[Symbol.asyncIterator]=function(){return this},l;function s(f){return function(b){return Promise.resolve(b).then(f,h)}}function u(f,b){r[f]&&(l[f]=function(y){return new Promise(function(p,g){o.push([f,y,p,g])>1||a(f,y)})},b&&(l[f]=b(l[f])))}function a(f,b){try{i(r[f](b))}catch(y){d(o[0][3],y)}}function i(f){f.value instanceof Nt?Promise.resolve(f.value.v).then(c,h):d(o[0][2],f)}function c(f){a("next",f)}function h(f){a("throw",f)}function d(f,b){f(b),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ts(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Eh=="function"?Eh(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(u,a){s=t[o](s),l(u,a,s.done,s.value)})}}function l(o,s,u,a){Promise.resolve(a).then(function(i){o({value:i,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ux(t){var n;if(t.candidates==null||t.candidates.length===0)return!1;const e=(n=t.candidates[0])===null||n===void 0?void 0:n.content;return e===void 0?!1:R0(e)}function R0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const n of t.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function zx(t){if(t.length!==0){for(const n of t)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Nh(t){if(t===void 0||t.length===0)return[];const n=[],e=t.length;let r=0;for(;r<e;)if(t[r].role==="user")n.push(t[r]),r++;else{const l=[];let o=!0;for(;r<e&&t[r].role==="model";)l.push(t[r]),o&&!R0(t[r])&&(o=!1),r++;o?n.push(...l):n.pop()}return n}class Vx{constructor(n,e){this.modelsModule=n,this.apiClient=e}create(n){return new Hx(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class Hx{constructor(n,e,r,l={},o=[]){this.apiClient=n,this.modelsModule=e,this.model=r,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),zx(o)}async sendMessage(n){var e;await this.sendPromise;const r=rn(n.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(e=n.config)!==null&&e!==void 0?e:this.config});return this.sendPromise=(async()=>{var o,s,u;const a=await l,i=(s=(o=a.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=a.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let d=[];c!=null&&(d=(u=c.slice(h))!==null&&u!==void 0?u:[]);const f=i?[i]:[];this.recordHistory(r,f,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(n){var e;await this.sendPromise;const r=rn(n.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(e=n.config)!==null&&e!==void 0?e:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,r)}getHistory(n=!1){const e=n?Nh(this.history):this.history;return structuredClone(e)}processStreamResponse(n,e){var r,l;return Oi(this,arguments,function*(){var s,u,a,i;const c=[];try{for(var h=!0,d=Ts(n),f;f=yield Nt(d.next()),s=f.done,!s;h=!0){i=f.value,h=!1;const b=i;if(Ux(b)){const y=(l=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content;y!==void 0&&c.push(y)}yield yield Nt(b)}}catch(b){u={error:b}}finally{try{!h&&!s&&(a=d.return)&&(yield Nt(a.call(d)))}finally{if(u)throw u.error}}this.recordHistory(e,c)})}recordHistory(n,e,r){let l=[];e.length>0&&e.every(o=>o.role!==void 0)?l=e:l.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Nh(r)):this.history.push(n),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(t){const n={},e=T(t,["file"]);return e!=null&&M(n,["file"],e),n}function qx(t){const n={},e=T(t,["sdkHttpResponse"]);return e!=null&&M(n,["sdkHttpResponse"],e),n}function Gx(t){const n={},e=T(t,["name"]);return e!=null&&M(n,["_url","file"],C0(e)),n}function Wx(t){const n={},e=T(t,["sdkHttpResponse"]);return e!=null&&M(n,["sdkHttpResponse"],e),n}function Kx(t){const n={},e=T(t,["name"]);return e!=null&&M(n,["_url","file"],C0(e)),n}function Yx(t,n){const e={},r=T(t,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const l=T(t,["pageToken"]);return n!==void 0&&l!=null&&M(n,["_query","pageToken"],l),e}function Jx(t){const n={},e=T(t,["config"]);return e!=null&&Yx(e,n),n}function Xx(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["files"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zx extends gr{constructor(n){super(),this.apiClient=n,this.list=async(e={})=>new di(hr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(e),e)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(e=>e)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Jx(n);return o=Me("files",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(i=>{const c=i;return c.sdkHttpResponse={headers:a.headers},c})),l.then(a=>{const i=Xx(a),c=new n2;return Object.assign(c,i),c})}}async createInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$x(n);return o=Me("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>{const i=qx(a),c=new r2;return Object.assign(c,i),c})}}async get(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kx(n);return o=Me("files/{file}",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>a)}}async delete(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gx(n);return o=Me("files/{file}",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(i=>{const c=i;return c.sdkHttpResponse={headers:a.headers},c})),l.then(a=>{const i=Wx(a),c=new i2;return Object.assign(c,i),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uo(t){const n={},e=T(t,["data"]);if(e!=null&&M(n,["data"],e),T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function Qx(t){const n={},e=T(t,["parts"]);if(e!=null){let l=e;Array.isArray(l)&&(l=l.map(o=>mw(o))),M(n,["parts"],l)}const r=T(t,["role"]);return r!=null&&M(n,["role"],r),n}function ew(t){const n={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const e=T(t,["fileUri"]);e!=null&&M(n,["fileUri"],e);const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function tw(t){const n={},e=T(t,["id"]);e!=null&&M(n,["id"],e);const r=T(t,["args"]);r!=null&&M(n,["args"],r);const l=T(t,["name"]);if(l!=null&&M(n,["name"],l),T(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function nw(t){const n={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const e=T(t,["description"]);e!=null&&M(n,["description"],e);const r=T(t,["name"]);r!=null&&M(n,["name"],r);const l=T(t,["parameters"]);l!=null&&M(n,["parameters"],l);const o=T(t,["parametersJsonSchema"]);o!=null&&M(n,["parametersJsonSchema"],o);const s=T(t,["response"]);s!=null&&M(n,["response"],s);const u=T(t,["responseJsonSchema"]);return u!=null&&M(n,["responseJsonSchema"],u),n}function rw(t){const n={},e=T(t,["modelSelectionConfig"]);e!=null&&M(n,["modelConfig"],e);const r=T(t,["responseJsonSchema"]);r!=null&&M(n,["responseJsonSchema"],r);const l=T(t,["audioTimestamp"]);l!=null&&M(n,["audioTimestamp"],l);const o=T(t,["candidateCount"]);o!=null&&M(n,["candidateCount"],o);const s=T(t,["enableAffectiveDialog"]);s!=null&&M(n,["enableAffectiveDialog"],s);const u=T(t,["frequencyPenalty"]);u!=null&&M(n,["frequencyPenalty"],u);const a=T(t,["logprobs"]);a!=null&&M(n,["logprobs"],a);const i=T(t,["maxOutputTokens"]);i!=null&&M(n,["maxOutputTokens"],i);const c=T(t,["mediaResolution"]);c!=null&&M(n,["mediaResolution"],c);const h=T(t,["presencePenalty"]);h!=null&&M(n,["presencePenalty"],h);const d=T(t,["responseLogprobs"]);d!=null&&M(n,["responseLogprobs"],d);const f=T(t,["responseMimeType"]);f!=null&&M(n,["responseMimeType"],f);const b=T(t,["responseModalities"]);b!=null&&M(n,["responseModalities"],b);const y=T(t,["responseSchema"]);y!=null&&M(n,["responseSchema"],y);const p=T(t,["routingConfig"]);p!=null&&M(n,["routingConfig"],p);const g=T(t,["seed"]);g!=null&&M(n,["seed"],g);const m=T(t,["speechConfig"]);m!=null&&M(n,["speechConfig"],P0(m));const x=T(t,["stopSequences"]);x!=null&&M(n,["stopSequences"],x);const C=T(t,["temperature"]);C!=null&&M(n,["temperature"],C);const I=T(t,["thinkingConfig"]);I!=null&&M(n,["thinkingConfig"],I);const D=T(t,["topK"]);D!=null&&M(n,["topK"],D);const z=T(t,["topP"]);if(z!=null&&M(n,["topP"],z),T(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function iw(t){const n={};if(T(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const e=T(t,["enableWidget"]);return e!=null&&M(n,["enableWidget"],e),n}function sw(t){const n={};if(T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=T(t,["timeRangeFilter"]);return e!=null&&M(n,["timeRangeFilter"],e),n}function ow(t,n){const e={},r=T(t,["generationConfig"]);n!==void 0&&r!=null&&M(n,["setup","generationConfig"],r);const l=T(t,["responseModalities"]);n!==void 0&&l!=null&&M(n,["setup","generationConfig","responseModalities"],l);const o=T(t,["temperature"]);n!==void 0&&o!=null&&M(n,["setup","generationConfig","temperature"],o);const s=T(t,["topP"]);n!==void 0&&s!=null&&M(n,["setup","generationConfig","topP"],s);const u=T(t,["topK"]);n!==void 0&&u!=null&&M(n,["setup","generationConfig","topK"],u);const a=T(t,["maxOutputTokens"]);n!==void 0&&a!=null&&M(n,["setup","generationConfig","maxOutputTokens"],a);const i=T(t,["mediaResolution"]);n!==void 0&&i!=null&&M(n,["setup","generationConfig","mediaResolution"],i);const c=T(t,["seed"]);n!==void 0&&c!=null&&M(n,["setup","generationConfig","seed"],c);const h=T(t,["speechConfig"]);n!==void 0&&h!=null&&M(n,["setup","generationConfig","speechConfig"],qc(h));const d=T(t,["thinkingConfig"]);n!==void 0&&d!=null&&M(n,["setup","generationConfig","thinkingConfig"],d);const f=T(t,["enableAffectiveDialog"]);n!==void 0&&f!=null&&M(n,["setup","generationConfig","enableAffectiveDialog"],f);const b=T(t,["systemInstruction"]);n!==void 0&&b!=null&&M(n,["setup","systemInstruction"],Qx(rn(b)));const y=T(t,["tools"]);if(n!==void 0&&y!=null){let D=ts(y);Array.isArray(D)&&(D=D.map(z=>yw(es(z)))),M(n,["setup","tools"],D)}const p=T(t,["sessionResumption"]);n!==void 0&&p!=null&&M(n,["setup","sessionResumption"],gw(p));const g=T(t,["inputAudioTranscription"]);n!==void 0&&g!=null&&M(n,["setup","inputAudioTranscription"],g);const m=T(t,["outputAudioTranscription"]);n!==void 0&&m!=null&&M(n,["setup","outputAudioTranscription"],m);const x=T(t,["realtimeInputConfig"]);n!==void 0&&x!=null&&M(n,["setup","realtimeInputConfig"],x);const C=T(t,["contextWindowCompression"]);n!==void 0&&C!=null&&M(n,["setup","contextWindowCompression"],C);const I=T(t,["proactivity"]);return n!==void 0&&I!=null&&M(n,["setup","proactivity"],I),e}function aw(t,n){const e={},r=T(t,["generationConfig"]);n!==void 0&&r!=null&&M(n,["setup","generationConfig"],rw(r));const l=T(t,["responseModalities"]);n!==void 0&&l!=null&&M(n,["setup","generationConfig","responseModalities"],l);const o=T(t,["temperature"]);n!==void 0&&o!=null&&M(n,["setup","generationConfig","temperature"],o);const s=T(t,["topP"]);n!==void 0&&s!=null&&M(n,["setup","generationConfig","topP"],s);const u=T(t,["topK"]);n!==void 0&&u!=null&&M(n,["setup","generationConfig","topK"],u);const a=T(t,["maxOutputTokens"]);n!==void 0&&a!=null&&M(n,["setup","generationConfig","maxOutputTokens"],a);const i=T(t,["mediaResolution"]);n!==void 0&&i!=null&&M(n,["setup","generationConfig","mediaResolution"],i);const c=T(t,["seed"]);n!==void 0&&c!=null&&M(n,["setup","generationConfig","seed"],c);const h=T(t,["speechConfig"]);n!==void 0&&h!=null&&M(n,["setup","generationConfig","speechConfig"],P0(qc(h)));const d=T(t,["thinkingConfig"]);n!==void 0&&d!=null&&M(n,["setup","generationConfig","thinkingConfig"],d);const f=T(t,["enableAffectiveDialog"]);n!==void 0&&f!=null&&M(n,["setup","generationConfig","enableAffectiveDialog"],f);const b=T(t,["systemInstruction"]);n!==void 0&&b!=null&&M(n,["setup","systemInstruction"],rn(b));const y=T(t,["tools"]);if(n!==void 0&&y!=null){let D=ts(y);Array.isArray(D)&&(D=D.map(z=>bw(es(z)))),M(n,["setup","tools"],D)}const p=T(t,["sessionResumption"]);n!==void 0&&p!=null&&M(n,["setup","sessionResumption"],p);const g=T(t,["inputAudioTranscription"]);n!==void 0&&g!=null&&M(n,["setup","inputAudioTranscription"],g);const m=T(t,["outputAudioTranscription"]);n!==void 0&&m!=null&&M(n,["setup","outputAudioTranscription"],m);const x=T(t,["realtimeInputConfig"]);n!==void 0&&x!=null&&M(n,["setup","realtimeInputConfig"],x);const C=T(t,["contextWindowCompression"]);n!==void 0&&C!=null&&M(n,["setup","contextWindowCompression"],C);const I=T(t,["proactivity"]);return n!==void 0&&I!=null&&M(n,["setup","proactivity"],I),e}function lw(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["setup","model"],mt(t,r));const l=T(n,["config"]);return l!=null&&M(e,["config"],ow(l,e)),e}function uw(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["setup","model"],mt(t,r));const l=T(n,["config"]);return l!=null&&M(e,["config"],aw(l,e)),e}function cw(t){const n={},e=T(t,["musicGenerationConfig"]);return e!=null&&M(n,["musicGenerationConfig"],e),n}function dw(t){const n={},e=T(t,["weightedPrompts"]);if(e!=null){let r=e;Array.isArray(r)&&(r=r.map(l=>l)),M(n,["weightedPrompts"],r)}return n}function fw(t){const n={},e=T(t,["media"]);if(e!=null){let i=x0(e);Array.isArray(i)&&(i=i.map(c=>Uo(c))),M(n,["mediaChunks"],i)}const r=T(t,["audio"]);r!=null&&M(n,["audio"],Uo(_0(r)));const l=T(t,["audioStreamEnd"]);l!=null&&M(n,["audioStreamEnd"],l);const o=T(t,["video"]);o!=null&&M(n,["video"],Uo(w0(o)));const s=T(t,["text"]);s!=null&&M(n,["text"],s);const u=T(t,["activityStart"]);u!=null&&M(n,["activityStart"],u);const a=T(t,["activityEnd"]);return a!=null&&M(n,["activityEnd"],a),n}function hw(t){const n={},e=T(t,["media"]);if(e!=null){let i=x0(e);Array.isArray(i)&&(i=i.map(c=>c)),M(n,["mediaChunks"],i)}const r=T(t,["audio"]);r!=null&&M(n,["audio"],_0(r));const l=T(t,["audioStreamEnd"]);l!=null&&M(n,["audioStreamEnd"],l);const o=T(t,["video"]);o!=null&&M(n,["video"],w0(o));const s=T(t,["text"]);s!=null&&M(n,["text"],s);const u=T(t,["activityStart"]);u!=null&&M(n,["activityStart"],u);const a=T(t,["activityEnd"]);return a!=null&&M(n,["activityEnd"],a),n}function pw(t){const n={},e=T(t,["setupComplete"]);e!=null&&M(n,["setupComplete"],e);const r=T(t,["serverContent"]);r!=null&&M(n,["serverContent"],r);const l=T(t,["toolCall"]);l!=null&&M(n,["toolCall"],l);const o=T(t,["toolCallCancellation"]);o!=null&&M(n,["toolCallCancellation"],o);const s=T(t,["usageMetadata"]);s!=null&&M(n,["usageMetadata"],vw(s));const u=T(t,["goAway"]);u!=null&&M(n,["goAway"],u);const a=T(t,["sessionResumptionUpdate"]);return a!=null&&M(n,["sessionResumptionUpdate"],a),n}function mw(t){const n={},e=T(t,["mediaResolution"]);e!=null&&M(n,["mediaResolution"],e);const r=T(t,["codeExecutionResult"]);r!=null&&M(n,["codeExecutionResult"],r);const l=T(t,["executableCode"]);l!=null&&M(n,["executableCode"],l);const o=T(t,["fileData"]);o!=null&&M(n,["fileData"],ew(o));const s=T(t,["functionCall"]);s!=null&&M(n,["functionCall"],tw(s));const u=T(t,["functionResponse"]);u!=null&&M(n,["functionResponse"],u);const a=T(t,["inlineData"]);a!=null&&M(n,["inlineData"],Uo(a));const i=T(t,["text"]);i!=null&&M(n,["text"],i);const c=T(t,["thought"]);c!=null&&M(n,["thought"],c);const h=T(t,["thoughtSignature"]);h!=null&&M(n,["thoughtSignature"],h);const d=T(t,["videoMetadata"]);return d!=null&&M(n,["videoMetadata"],d),n}function gw(t){const n={},e=T(t,["handle"]);if(e!=null&&M(n,["handle"],e),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function P0(t){const n={},e=T(t,["languageCode"]);e!=null&&M(n,["languageCode"],e);const r=T(t,["voiceConfig"]);if(r!=null&&M(n,["voiceConfig"],r),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function yw(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let c=e;Array.isArray(c)&&(c=c.map(h=>h)),M(n,["functionDeclarations"],c)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearchRetrieval"]);r!=null&&M(n,["googleSearchRetrieval"],r);const l=T(t,["computerUse"]);l!=null&&M(n,["computerUse"],l);const o=T(t,["fileSearch"]);o!=null&&M(n,["fileSearch"],o);const s=T(t,["codeExecution"]);if(s!=null&&M(n,["codeExecution"],s),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(t,["googleMaps"]);u!=null&&M(n,["googleMaps"],iw(u));const a=T(t,["googleSearch"]);a!=null&&M(n,["googleSearch"],sw(a));const i=T(t,["urlContext"]);return i!=null&&M(n,["urlContext"],i),n}function bw(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let h=e;Array.isArray(h)&&(h=h.map(d=>nw(d))),M(n,["functionDeclarations"],h)}const r=T(t,["retrieval"]);r!=null&&M(n,["retrieval"],r);const l=T(t,["googleSearchRetrieval"]);l!=null&&M(n,["googleSearchRetrieval"],l);const o=T(t,["computerUse"]);if(o!=null&&M(n,["computerUse"],o),T(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=T(t,["codeExecution"]);s!=null&&M(n,["codeExecution"],s);const u=T(t,["enterpriseWebSearch"]);u!=null&&M(n,["enterpriseWebSearch"],u);const a=T(t,["googleMaps"]);a!=null&&M(n,["googleMaps"],a);const i=T(t,["googleSearch"]);i!=null&&M(n,["googleSearch"],i);const c=T(t,["urlContext"]);return c!=null&&M(n,["urlContext"],c),n}function vw(t){const n={},e=T(t,["promptTokenCount"]);e!=null&&M(n,["promptTokenCount"],e);const r=T(t,["cachedContentTokenCount"]);r!=null&&M(n,["cachedContentTokenCount"],r);const l=T(t,["candidatesTokenCount"]);l!=null&&M(n,["responseTokenCount"],l);const o=T(t,["toolUsePromptTokenCount"]);o!=null&&M(n,["toolUsePromptTokenCount"],o);const s=T(t,["thoughtsTokenCount"]);s!=null&&M(n,["thoughtsTokenCount"],s);const u=T(t,["totalTokenCount"]);u!=null&&M(n,["totalTokenCount"],u);const a=T(t,["promptTokensDetails"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(b=>b)),M(n,["promptTokensDetails"],f)}const i=T(t,["cacheTokensDetails"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(b=>b)),M(n,["cacheTokensDetails"],f)}const c=T(t,["candidatesTokensDetails"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(b=>b)),M(n,["responseTokensDetails"],f)}const h=T(t,["toolUsePromptTokensDetails"]);if(h!=null){let f=h;Array.isArray(f)&&(f=f.map(b=>b)),M(n,["toolUsePromptTokensDetails"],f)}const d=T(t,["trafficType"]);return d!=null&&M(n,["trafficType"],d),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xw(t){const n={},e=T(t,["data"]);if(e!=null&&M(n,["data"],e),T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function ww(t){const n={},e=T(t,["content"]);e!=null&&M(n,["content"],e);const r=T(t,["citationMetadata"]);r!=null&&M(n,["citationMetadata"],_w(r));const l=T(t,["tokenCount"]);l!=null&&M(n,["tokenCount"],l);const o=T(t,["finishReason"]);o!=null&&M(n,["finishReason"],o);const s=T(t,["avgLogprobs"]);s!=null&&M(n,["avgLogprobs"],s);const u=T(t,["groundingMetadata"]);u!=null&&M(n,["groundingMetadata"],u);const a=T(t,["index"]);a!=null&&M(n,["index"],a);const i=T(t,["logprobsResult"]);i!=null&&M(n,["logprobsResult"],i);const c=T(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),M(n,["safetyRatings"],d)}const h=T(t,["urlContextMetadata"]);return h!=null&&M(n,["urlContextMetadata"],h),n}function _w(t){const n={},e=T(t,["citationSources"]);if(e!=null){let r=e;Array.isArray(r)&&(r=r.map(l=>l)),M(n,["citations"],r)}return n}function Sw(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let o=Dn(l);Array.isArray(o)&&(o=o.map(s=>s)),M(e,["contents"],o)}return e}function kw(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["tokensInfo"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>o)),M(n,["tokensInfo"],l)}return n}function Cw(t){const n={},e=T(t,["values"]);e!=null&&M(n,["values"],e);const r=T(t,["statistics"]);return r!=null&&M(n,["statistics"],Tw(r)),n}function Tw(t){const n={},e=T(t,["truncated"]);e!=null&&M(n,["truncated"],e);const r=T(t,["token_count"]);return r!=null&&M(n,["tokenCount"],r),n}function Qa(t){const n={},e=T(t,["parts"]);if(e!=null){let l=e;Array.isArray(l)&&(l=l.map(o=>j3(o))),M(n,["parts"],l)}const r=T(t,["role"]);return r!=null&&M(n,["role"],r),n}function Ew(t){const n={},e=T(t,["controlType"]);e!=null&&M(n,["controlType"],e);const r=T(t,["enableControlImageComputation"]);return r!=null&&M(n,["computeControl"],r),n}function Nw(t){const n={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Aw(t,n){const e={},r=T(t,["systemInstruction"]);n!==void 0&&r!=null&&M(n,["systemInstruction"],rn(r));const l=T(t,["tools"]);if(n!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>F0(u))),M(n,["tools"],s)}const o=T(t,["generationConfig"]);return n!==void 0&&o!=null&&M(n,["generationConfig"],x3(o)),e}function Iw(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let s=Dn(l);Array.isArray(s)&&(s=s.map(u=>Qa(u))),M(e,["contents"],s)}const o=T(n,["config"]);return o!=null&&Nw(o),e}function Mw(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let s=Dn(l);Array.isArray(s)&&(s=s.map(u=>u)),M(e,["contents"],s)}const o=T(n,["config"]);return o!=null&&Aw(o,e),e}function Rw(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["totalTokens"]);r!=null&&M(n,["totalTokens"],r);const l=T(t,["cachedContentTokenCount"]);return l!=null&&M(n,["cachedContentTokenCount"],l),n}function Pw(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["totalTokens"]);return r!=null&&M(n,["totalTokens"],r),n}function Dw(t,n){const e={},r=T(n,["model"]);return r!=null&&M(e,["_url","name"],mt(t,r)),e}function jw(t,n){const e={},r=T(n,["model"]);return r!=null&&M(e,["_url","name"],mt(t,r)),e}function Lw(t){const n={},e=T(t,["sdkHttpResponse"]);return e!=null&&M(n,["sdkHttpResponse"],e),n}function Ow(t){const n={},e=T(t,["sdkHttpResponse"]);return e!=null&&M(n,["sdkHttpResponse"],e),n}function Fw(t,n){const e={},r=T(t,["outputGcsUri"]);n!==void 0&&r!=null&&M(n,["parameters","storageUri"],r);const l=T(t,["negativePrompt"]);n!==void 0&&l!=null&&M(n,["parameters","negativePrompt"],l);const o=T(t,["numberOfImages"]);n!==void 0&&o!=null&&M(n,["parameters","sampleCount"],o);const s=T(t,["aspectRatio"]);n!==void 0&&s!=null&&M(n,["parameters","aspectRatio"],s);const u=T(t,["guidanceScale"]);n!==void 0&&u!=null&&M(n,["parameters","guidanceScale"],u);const a=T(t,["seed"]);n!==void 0&&a!=null&&M(n,["parameters","seed"],a);const i=T(t,["safetyFilterLevel"]);n!==void 0&&i!=null&&M(n,["parameters","safetySetting"],i);const c=T(t,["personGeneration"]);n!==void 0&&c!=null&&M(n,["parameters","personGeneration"],c);const h=T(t,["includeSafetyAttributes"]);n!==void 0&&h!=null&&M(n,["parameters","includeSafetyAttributes"],h);const d=T(t,["includeRaiReason"]);n!==void 0&&d!=null&&M(n,["parameters","includeRaiReason"],d);const f=T(t,["language"]);n!==void 0&&f!=null&&M(n,["parameters","language"],f);const b=T(t,["outputMimeType"]);n!==void 0&&b!=null&&M(n,["parameters","outputOptions","mimeType"],b);const y=T(t,["outputCompressionQuality"]);n!==void 0&&y!=null&&M(n,["parameters","outputOptions","compressionQuality"],y);const p=T(t,["addWatermark"]);n!==void 0&&p!=null&&M(n,["parameters","addWatermark"],p);const g=T(t,["labels"]);n!==void 0&&g!=null&&M(n,["labels"],g);const m=T(t,["editMode"]);n!==void 0&&m!=null&&M(n,["parameters","editMode"],m);const x=T(t,["baseSteps"]);return n!==void 0&&x!=null&&M(n,["parameters","editConfig","baseSteps"],x),e}function Bw(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["prompt"]);l!=null&&M(e,["instances[0]","prompt"],l);const o=T(n,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(a=>z3(a))),M(e,["instances[0]","referenceImages"],u)}const s=T(n,["config"]);return s!=null&&Fw(s,e),e}function Uw(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>el(o))),M(n,["generatedImages"],l)}return n}function zw(t,n){const e={},r=T(t,["taskType"]);n!==void 0&&r!=null&&M(n,["requests[]","taskType"],r);const l=T(t,["title"]);n!==void 0&&l!=null&&M(n,["requests[]","title"],l);const o=T(t,["outputDimensionality"]);if(n!==void 0&&o!=null&&M(n,["requests[]","outputDimensionality"],o),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return e}function Vw(t,n){const e={},r=T(t,["taskType"]);n!==void 0&&r!=null&&M(n,["instances[]","task_type"],r);const l=T(t,["title"]);n!==void 0&&l!=null&&M(n,["instances[]","title"],l);const o=T(t,["outputDimensionality"]);n!==void 0&&o!=null&&M(n,["parameters","outputDimensionality"],o);const s=T(t,["mimeType"]);n!==void 0&&s!=null&&M(n,["instances[]","mimeType"],s);const u=T(t,["autoTruncate"]);return n!==void 0&&u!=null&&M(n,["parameters","autoTruncate"],u),e}function Hw(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let u=Vc(t,l);Array.isArray(u)&&(u=u.map(a=>a)),M(e,["requests[]","content"],u)}const o=T(n,["config"]);o!=null&&zw(o,e);const s=T(n,["model"]);return s!==void 0&&M(e,["requests[]","model"],mt(t,s)),e}function $w(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let s=Vc(t,l);Array.isArray(s)&&(s=s.map(u=>u)),M(e,["instances[]","content"],s)}const o=T(n,["config"]);return o!=null&&Vw(o,e),e}function qw(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["embeddings"],o)}const l=T(t,["metadata"]);return l!=null&&M(n,["metadata"],l),n}function Gw(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Cw(s))),M(n,["embeddings"],o)}const l=T(t,["metadata"]);return l!=null&&M(n,["metadata"],l),n}function Ww(t){const n={},e=T(t,["endpoint"]);e!=null&&M(n,["name"],e);const r=T(t,["deployedModelId"]);return r!=null&&M(n,["deployedModelId"],r),n}function Kw(t){const n={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const e=T(t,["fileUri"]);e!=null&&M(n,["fileUri"],e);const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function Yw(t){const n={},e=T(t,["id"]);e!=null&&M(n,["id"],e);const r=T(t,["args"]);r!=null&&M(n,["args"],r);const l=T(t,["name"]);if(l!=null&&M(n,["name"],l),T(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Jw(t){const n={},e=T(t,["mode"]);e!=null&&M(n,["mode"],e);const r=T(t,["allowedFunctionNames"]);if(r!=null&&M(n,["allowedFunctionNames"],r),T(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Xw(t){const n={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const e=T(t,["description"]);e!=null&&M(n,["description"],e);const r=T(t,["name"]);r!=null&&M(n,["name"],r);const l=T(t,["parameters"]);l!=null&&M(n,["parameters"],l);const o=T(t,["parametersJsonSchema"]);o!=null&&M(n,["parametersJsonSchema"],o);const s=T(t,["response"]);s!=null&&M(n,["response"],s);const u=T(t,["responseJsonSchema"]);return u!=null&&M(n,["responseJsonSchema"],u),n}function Zw(t,n,e){const r={},l=T(n,["systemInstruction"]);e!==void 0&&l!=null&&M(e,["systemInstruction"],Qa(rn(l)));const o=T(n,["temperature"]);o!=null&&M(r,["temperature"],o);const s=T(n,["topP"]);s!=null&&M(r,["topP"],s);const u=T(n,["topK"]);u!=null&&M(r,["topK"],u);const a=T(n,["candidateCount"]);a!=null&&M(r,["candidateCount"],a);const i=T(n,["maxOutputTokens"]);i!=null&&M(r,["maxOutputTokens"],i);const c=T(n,["stopSequences"]);c!=null&&M(r,["stopSequences"],c);const h=T(n,["responseLogprobs"]);h!=null&&M(r,["responseLogprobs"],h);const d=T(n,["logprobs"]);d!=null&&M(r,["logprobs"],d);const f=T(n,["presencePenalty"]);f!=null&&M(r,["presencePenalty"],f);const b=T(n,["frequencyPenalty"]);b!=null&&M(r,["frequencyPenalty"],b);const y=T(n,["seed"]);y!=null&&M(r,["seed"],y);const p=T(n,["responseMimeType"]);p!=null&&M(r,["responseMimeType"],p);const g=T(n,["responseSchema"]);g!=null&&M(r,["responseSchema"],Hc(g));const m=T(n,["responseJsonSchema"]);if(m!=null&&M(r,["responseJsonSchema"],m),T(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=T(n,["safetySettings"]);if(e!==void 0&&x!=null){let H=x;Array.isArray(H)&&(H=H.map(E=>V3(E))),M(e,["safetySettings"],H)}const C=T(n,["tools"]);if(e!==void 0&&C!=null){let H=ts(C);Array.isArray(H)&&(H=H.map(E=>Y3(es(E)))),M(e,["tools"],H)}const I=T(n,["toolConfig"]);if(e!==void 0&&I!=null&&M(e,["toolConfig"],K3(I)),T(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=T(n,["cachedContent"]);e!==void 0&&D!=null&&M(e,["cachedContent"],yr(t,D));const z=T(n,["responseModalities"]);z!=null&&M(r,["responseModalities"],z);const O=T(n,["mediaResolution"]);O!=null&&M(r,["mediaResolution"],O);const B=T(n,["speechConfig"]);if(B!=null&&M(r,["speechConfig"],$c(B)),T(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=T(n,["thinkingConfig"]);V!=null&&M(r,["thinkingConfig"],V);const q=T(n,["imageConfig"]);return q!=null&&M(r,["imageConfig"],C3(q)),r}function Qw(t,n,e){const r={},l=T(n,["systemInstruction"]);e!==void 0&&l!=null&&M(e,["systemInstruction"],rn(l));const o=T(n,["temperature"]);o!=null&&M(r,["temperature"],o);const s=T(n,["topP"]);s!=null&&M(r,["topP"],s);const u=T(n,["topK"]);u!=null&&M(r,["topK"],u);const a=T(n,["candidateCount"]);a!=null&&M(r,["candidateCount"],a);const i=T(n,["maxOutputTokens"]);i!=null&&M(r,["maxOutputTokens"],i);const c=T(n,["stopSequences"]);c!=null&&M(r,["stopSequences"],c);const h=T(n,["responseLogprobs"]);h!=null&&M(r,["responseLogprobs"],h);const d=T(n,["logprobs"]);d!=null&&M(r,["logprobs"],d);const f=T(n,["presencePenalty"]);f!=null&&M(r,["presencePenalty"],f);const b=T(n,["frequencyPenalty"]);b!=null&&M(r,["frequencyPenalty"],b);const y=T(n,["seed"]);y!=null&&M(r,["seed"],y);const p=T(n,["responseMimeType"]);p!=null&&M(r,["responseMimeType"],p);const g=T(n,["responseSchema"]);g!=null&&M(r,["responseSchema"],Hc(g));const m=T(n,["responseJsonSchema"]);m!=null&&M(r,["responseJsonSchema"],m);const x=T(n,["routingConfig"]);x!=null&&M(r,["routingConfig"],x);const C=T(n,["modelSelectionConfig"]);C!=null&&M(r,["modelConfig"],C);const I=T(n,["safetySettings"]);if(e!==void 0&&I!=null){let v=I;Array.isArray(v)&&(v=v.map(_=>_)),M(e,["safetySettings"],v)}const D=T(n,["tools"]);if(e!==void 0&&D!=null){let v=ts(D);Array.isArray(v)&&(v=v.map(_=>F0(es(_)))),M(e,["tools"],v)}const z=T(n,["toolConfig"]);e!==void 0&&z!=null&&M(e,["toolConfig"],z);const O=T(n,["labels"]);e!==void 0&&O!=null&&M(e,["labels"],O);const B=T(n,["cachedContent"]);e!==void 0&&B!=null&&M(e,["cachedContent"],yr(t,B));const V=T(n,["responseModalities"]);V!=null&&M(r,["responseModalities"],V);const q=T(n,["mediaResolution"]);q!=null&&M(r,["mediaResolution"],q);const H=T(n,["speechConfig"]);H!=null&&M(r,["speechConfig"],O0($c(H)));const E=T(n,["audioTimestamp"]);E!=null&&M(r,["audioTimestamp"],E);const R=T(n,["thinkingConfig"]);R!=null&&M(r,["thinkingConfig"],R);const k=T(n,["imageConfig"]);return k!=null&&M(r,["imageConfig"],T3(k)),r}function Ah(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let s=Dn(l);Array.isArray(s)&&(s=s.map(u=>Qa(u))),M(e,["contents"],s)}const o=T(n,["config"]);return o!=null&&M(e,["generationConfig"],Zw(t,o,e)),e}function Ih(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["contents"]);if(l!=null){let s=Dn(l);Array.isArray(s)&&(s=s.map(u=>u)),M(e,["contents"],s)}const o=T(n,["config"]);return o!=null&&M(e,["generationConfig"],Qw(t,o,e)),e}function Mh(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>ww(i))),M(n,["candidates"],a)}const l=T(t,["modelVersion"]);l!=null&&M(n,["modelVersion"],l);const o=T(t,["promptFeedback"]);o!=null&&M(n,["promptFeedback"],o);const s=T(t,["responseId"]);s!=null&&M(n,["responseId"],s);const u=T(t,["usageMetadata"]);return u!=null&&M(n,["usageMetadata"],u),n}function Rh(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["candidates"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(c=>c)),M(n,["candidates"],i)}const l=T(t,["createTime"]);l!=null&&M(n,["createTime"],l);const o=T(t,["modelVersion"]);o!=null&&M(n,["modelVersion"],o);const s=T(t,["promptFeedback"]);s!=null&&M(n,["promptFeedback"],s);const u=T(t,["responseId"]);u!=null&&M(n,["responseId"],u);const a=T(t,["usageMetadata"]);return a!=null&&M(n,["usageMetadata"],a),n}function e3(t,n){const e={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);n!==void 0&&r!=null&&M(n,["parameters","sampleCount"],r);const l=T(t,["aspectRatio"]);n!==void 0&&l!=null&&M(n,["parameters","aspectRatio"],l);const o=T(t,["guidanceScale"]);if(n!==void 0&&o!=null&&M(n,["parameters","guidanceScale"],o),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["safetyFilterLevel"]);n!==void 0&&s!=null&&M(n,["parameters","safetySetting"],s);const u=T(t,["personGeneration"]);n!==void 0&&u!=null&&M(n,["parameters","personGeneration"],u);const a=T(t,["includeSafetyAttributes"]);n!==void 0&&a!=null&&M(n,["parameters","includeSafetyAttributes"],a);const i=T(t,["includeRaiReason"]);n!==void 0&&i!=null&&M(n,["parameters","includeRaiReason"],i);const c=T(t,["language"]);n!==void 0&&c!=null&&M(n,["parameters","language"],c);const h=T(t,["outputMimeType"]);n!==void 0&&h!=null&&M(n,["parameters","outputOptions","mimeType"],h);const d=T(t,["outputCompressionQuality"]);if(n!==void 0&&d!=null&&M(n,["parameters","outputOptions","compressionQuality"],d),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const f=T(t,["imageSize"]);if(n!==void 0&&f!=null&&M(n,["parameters","sampleImageSize"],f),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return e}function t3(t,n){const e={},r=T(t,["outputGcsUri"]);n!==void 0&&r!=null&&M(n,["parameters","storageUri"],r);const l=T(t,["negativePrompt"]);n!==void 0&&l!=null&&M(n,["parameters","negativePrompt"],l);const o=T(t,["numberOfImages"]);n!==void 0&&o!=null&&M(n,["parameters","sampleCount"],o);const s=T(t,["aspectRatio"]);n!==void 0&&s!=null&&M(n,["parameters","aspectRatio"],s);const u=T(t,["guidanceScale"]);n!==void 0&&u!=null&&M(n,["parameters","guidanceScale"],u);const a=T(t,["seed"]);n!==void 0&&a!=null&&M(n,["parameters","seed"],a);const i=T(t,["safetyFilterLevel"]);n!==void 0&&i!=null&&M(n,["parameters","safetySetting"],i);const c=T(t,["personGeneration"]);n!==void 0&&c!=null&&M(n,["parameters","personGeneration"],c);const h=T(t,["includeSafetyAttributes"]);n!==void 0&&h!=null&&M(n,["parameters","includeSafetyAttributes"],h);const d=T(t,["includeRaiReason"]);n!==void 0&&d!=null&&M(n,["parameters","includeRaiReason"],d);const f=T(t,["language"]);n!==void 0&&f!=null&&M(n,["parameters","language"],f);const b=T(t,["outputMimeType"]);n!==void 0&&b!=null&&M(n,["parameters","outputOptions","mimeType"],b);const y=T(t,["outputCompressionQuality"]);n!==void 0&&y!=null&&M(n,["parameters","outputOptions","compressionQuality"],y);const p=T(t,["addWatermark"]);n!==void 0&&p!=null&&M(n,["parameters","addWatermark"],p);const g=T(t,["labels"]);n!==void 0&&g!=null&&M(n,["labels"],g);const m=T(t,["imageSize"]);n!==void 0&&m!=null&&M(n,["parameters","sampleImageSize"],m);const x=T(t,["enhancePrompt"]);return n!==void 0&&x!=null&&M(n,["parameters","enhancePrompt"],x),e}function n3(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["prompt"]);l!=null&&M(e,["instances[0]","prompt"],l);const o=T(n,["config"]);return o!=null&&e3(o,e),e}function r3(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["prompt"]);l!=null&&M(e,["instances[0]","prompt"],l);const o=T(n,["config"]);return o!=null&&t3(o,e),e}function i3(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>g3(s))),M(n,["generatedImages"],o)}const l=T(t,["positivePromptSafetyAttributes"]);return l!=null&&M(n,["positivePromptSafetyAttributes"],j0(l)),n}function s3(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>el(s))),M(n,["generatedImages"],o)}const l=T(t,["positivePromptSafetyAttributes"]);return l!=null&&M(n,["positivePromptSafetyAttributes"],L0(l)),n}function o3(t,n){const e={},r=T(t,["numberOfVideos"]);if(n!==void 0&&r!=null&&M(n,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=T(t,["durationSeconds"]);if(n!==void 0&&l!=null&&M(n,["parameters","durationSeconds"],l),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=T(t,["aspectRatio"]);n!==void 0&&o!=null&&M(n,["parameters","aspectRatio"],o);const s=T(t,["resolution"]);n!==void 0&&s!=null&&M(n,["parameters","resolution"],s);const u=T(t,["personGeneration"]);if(n!==void 0&&u!=null&&M(n,["parameters","personGeneration"],u),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=T(t,["negativePrompt"]);n!==void 0&&a!=null&&M(n,["parameters","negativePrompt"],a);const i=T(t,["enhancePrompt"]);if(n!==void 0&&i!=null&&M(n,["parameters","enhancePrompt"],i),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=T(t,["lastFrame"]);n!==void 0&&c!=null&&M(n,["instances[0]","lastFrame"],tl(c));const h=T(t,["referenceImages"]);if(n!==void 0&&h!=null){let d=h;Array.isArray(d)&&(d=d.map(f=>l4(f))),M(n,["instances[0]","referenceImages"],d)}if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return e}function a3(t,n){const e={},r=T(t,["numberOfVideos"]);n!==void 0&&r!=null&&M(n,["parameters","sampleCount"],r);const l=T(t,["outputGcsUri"]);n!==void 0&&l!=null&&M(n,["parameters","storageUri"],l);const o=T(t,["fps"]);n!==void 0&&o!=null&&M(n,["parameters","fps"],o);const s=T(t,["durationSeconds"]);n!==void 0&&s!=null&&M(n,["parameters","durationSeconds"],s);const u=T(t,["seed"]);n!==void 0&&u!=null&&M(n,["parameters","seed"],u);const a=T(t,["aspectRatio"]);n!==void 0&&a!=null&&M(n,["parameters","aspectRatio"],a);const i=T(t,["resolution"]);n!==void 0&&i!=null&&M(n,["parameters","resolution"],i);const c=T(t,["personGeneration"]);n!==void 0&&c!=null&&M(n,["parameters","personGeneration"],c);const h=T(t,["pubsubTopic"]);n!==void 0&&h!=null&&M(n,["parameters","pubsubTopic"],h);const d=T(t,["negativePrompt"]);n!==void 0&&d!=null&&M(n,["parameters","negativePrompt"],d);const f=T(t,["enhancePrompt"]);n!==void 0&&f!=null&&M(n,["parameters","enhancePrompt"],f);const b=T(t,["generateAudio"]);n!==void 0&&b!=null&&M(n,["parameters","generateAudio"],b);const y=T(t,["lastFrame"]);n!==void 0&&y!=null&&M(n,["instances[0]","lastFrame"],Gn(y));const p=T(t,["referenceImages"]);if(n!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(C=>u4(C))),M(n,["instances[0]","referenceImages"],x)}const g=T(t,["mask"]);n!==void 0&&g!=null&&M(n,["instances[0]","mask"],a4(g));const m=T(t,["compressionQuality"]);return n!==void 0&&m!=null&&M(n,["parameters","compressionQuality"],m),e}function l3(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata"]);r!=null&&M(n,["metadata"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["response","generateVideoResponse"]);return s!=null&&M(n,["response"],f3(s)),n}function u3(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata"]);r!=null&&M(n,["metadata"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["response"]);return s!=null&&M(n,["response"],h3(s)),n}function c3(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["prompt"]);l!=null&&M(e,["instances[0]","prompt"],l);const o=T(n,["image"]);o!=null&&M(e,["instances[0]","image"],tl(o));const s=T(n,["video"]);s!=null&&M(e,["instances[0]","video"],B0(s));const u=T(n,["source"]);u!=null&&p3(u,e);const a=T(n,["config"]);return a!=null&&o3(a,e),e}function d3(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["prompt"]);l!=null&&M(e,["instances[0]","prompt"],l);const o=T(n,["image"]);o!=null&&M(e,["instances[0]","image"],Gn(o));const s=T(n,["video"]);s!=null&&M(e,["instances[0]","video"],U0(s));const u=T(n,["source"]);u!=null&&m3(u,e);const a=T(n,["config"]);return a!=null&&a3(a,e),e}function f3(t){const n={},e=T(t,["generatedSamples"]);if(e!=null){let o=e;Array.isArray(o)&&(o=o.map(s=>b3(s))),M(n,["generatedVideos"],o)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&M(n,["raiMediaFilteredCount"],r);const l=T(t,["raiMediaFilteredReasons"]);return l!=null&&M(n,["raiMediaFilteredReasons"],l),n}function h3(t){const n={},e=T(t,["videos"]);if(e!=null){let o=e;Array.isArray(o)&&(o=o.map(s=>v3(s))),M(n,["generatedVideos"],o)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&M(n,["raiMediaFilteredCount"],r);const l=T(t,["raiMediaFilteredReasons"]);return l!=null&&M(n,["raiMediaFilteredReasons"],l),n}function p3(t,n){const e={},r=T(t,["prompt"]);n!==void 0&&r!=null&&M(n,["instances[0]","prompt"],r);const l=T(t,["image"]);n!==void 0&&l!=null&&M(n,["instances[0]","image"],tl(l));const o=T(t,["video"]);return n!==void 0&&o!=null&&M(n,["instances[0]","video"],B0(o)),e}function m3(t,n){const e={},r=T(t,["prompt"]);n!==void 0&&r!=null&&M(n,["instances[0]","prompt"],r);const l=T(t,["image"]);n!==void 0&&l!=null&&M(n,["instances[0]","image"],Gn(l));const o=T(t,["video"]);return n!==void 0&&o!=null&&M(n,["instances[0]","video"],U0(o)),e}function g3(t){const n={},e=T(t,["_self"]);e!=null&&M(n,["image"],E3(e));const r=T(t,["raiFilteredReason"]);r!=null&&M(n,["raiFilteredReason"],r);const l=T(t,["_self"]);return l!=null&&M(n,["safetyAttributes"],j0(l)),n}function el(t){const n={},e=T(t,["_self"]);e!=null&&M(n,["image"],D0(e));const r=T(t,["raiFilteredReason"]);r!=null&&M(n,["raiFilteredReason"],r);const l=T(t,["_self"]);l!=null&&M(n,["safetyAttributes"],L0(l));const o=T(t,["prompt"]);return o!=null&&M(n,["enhancedPrompt"],o),n}function y3(t){const n={},e=T(t,["_self"]);e!=null&&M(n,["mask"],D0(e));const r=T(t,["labels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>o)),M(n,["labels"],l)}return n}function b3(t){const n={},e=T(t,["video"]);return e!=null&&M(n,["video"],s4(e)),n}function v3(t){const n={},e=T(t,["_self"]);return e!=null&&M(n,["video"],o4(e)),n}function x3(t){const n={},e=T(t,["modelSelectionConfig"]);e!=null&&M(n,["modelConfig"],e);const r=T(t,["responseJsonSchema"]);r!=null&&M(n,["responseJsonSchema"],r);const l=T(t,["audioTimestamp"]);l!=null&&M(n,["audioTimestamp"],l);const o=T(t,["candidateCount"]);o!=null&&M(n,["candidateCount"],o);const s=T(t,["enableAffectiveDialog"]);s!=null&&M(n,["enableAffectiveDialog"],s);const u=T(t,["frequencyPenalty"]);u!=null&&M(n,["frequencyPenalty"],u);const a=T(t,["logprobs"]);a!=null&&M(n,["logprobs"],a);const i=T(t,["maxOutputTokens"]);i!=null&&M(n,["maxOutputTokens"],i);const c=T(t,["mediaResolution"]);c!=null&&M(n,["mediaResolution"],c);const h=T(t,["presencePenalty"]);h!=null&&M(n,["presencePenalty"],h);const d=T(t,["responseLogprobs"]);d!=null&&M(n,["responseLogprobs"],d);const f=T(t,["responseMimeType"]);f!=null&&M(n,["responseMimeType"],f);const b=T(t,["responseModalities"]);b!=null&&M(n,["responseModalities"],b);const y=T(t,["responseSchema"]);y!=null&&M(n,["responseSchema"],y);const p=T(t,["routingConfig"]);p!=null&&M(n,["routingConfig"],p);const g=T(t,["seed"]);g!=null&&M(n,["seed"],g);const m=T(t,["speechConfig"]);m!=null&&M(n,["speechConfig"],O0(m));const x=T(t,["stopSequences"]);x!=null&&M(n,["stopSequences"],x);const C=T(t,["temperature"]);C!=null&&M(n,["temperature"],C);const I=T(t,["thinkingConfig"]);I!=null&&M(n,["thinkingConfig"],I);const D=T(t,["topK"]);D!=null&&M(n,["topK"],D);const z=T(t,["topP"]);if(z!=null&&M(n,["topP"],z),T(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function w3(t,n){const e={},r=T(n,["model"]);return r!=null&&M(e,["_url","name"],mt(t,r)),e}function _3(t,n){const e={},r=T(n,["model"]);return r!=null&&M(e,["_url","name"],mt(t,r)),e}function S3(t){const n={};if(T(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const e=T(t,["enableWidget"]);return e!=null&&M(n,["enableWidget"],e),n}function k3(t){const n={};if(T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=T(t,["timeRangeFilter"]);return e!=null&&M(n,["timeRangeFilter"],e),n}function C3(t){const n={},e=T(t,["aspectRatio"]);e!=null&&M(n,["aspectRatio"],e);const r=T(t,["imageSize"]);if(r!=null&&M(n,["imageSize"],r),T(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(T(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function T3(t){const n={},e=T(t,["aspectRatio"]);e!=null&&M(n,["aspectRatio"],e);const r=T(t,["imageSize"]);r!=null&&M(n,["imageSize"],r);const l=T(t,["outputMimeType"]);l!=null&&M(n,["imageOutputOptions","mimeType"],l);const o=T(t,["outputCompressionQuality"]);return o!=null&&M(n,["imageOutputOptions","compressionQuality"],o),n}function E3(t){const n={},e=T(t,["bytesBase64Encoded"]);e!=null&&M(n,["imageBytes"],qr(e));const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function D0(t){const n={},e=T(t,["gcsUri"]);e!=null&&M(n,["gcsUri"],e);const r=T(t,["bytesBase64Encoded"]);r!=null&&M(n,["imageBytes"],qr(r));const l=T(t,["mimeType"]);return l!=null&&M(n,["mimeType"],l),n}function tl(t){const n={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const e=T(t,["imageBytes"]);e!=null&&M(n,["bytesBase64Encoded"],qr(e));const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function Gn(t){const n={},e=T(t,["gcsUri"]);e!=null&&M(n,["gcsUri"],e);const r=T(t,["imageBytes"]);r!=null&&M(n,["bytesBase64Encoded"],qr(r));const l=T(t,["mimeType"]);return l!=null&&M(n,["mimeType"],l),n}function N3(t,n,e){const r={},l=T(n,["pageSize"]);e!==void 0&&l!=null&&M(e,["_query","pageSize"],l);const o=T(n,["pageToken"]);e!==void 0&&o!=null&&M(e,["_query","pageToken"],o);const s=T(n,["filter"]);e!==void 0&&s!=null&&M(e,["_query","filter"],s);const u=T(n,["queryBase"]);return e!==void 0&&u!=null&&M(e,["_url","models_url"],T0(t,u)),r}function A3(t,n,e){const r={},l=T(n,["pageSize"]);e!==void 0&&l!=null&&M(e,["_query","pageSize"],l);const o=T(n,["pageToken"]);e!==void 0&&o!=null&&M(e,["_query","pageToken"],o);const s=T(n,["filter"]);e!==void 0&&s!=null&&M(e,["_query","filter"],s);const u=T(n,["queryBase"]);return e!==void 0&&u!=null&&M(e,["_url","models_url"],T0(t,u)),r}function I3(t,n){const e={},r=T(n,["config"]);return r!=null&&N3(t,r,e),e}function M3(t,n){const e={},r=T(n,["config"]);return r!=null&&A3(t,r,e),e}function R3(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["_self"]);if(l!=null){let o=E0(l);Array.isArray(o)&&(o=o.map(s=>Pu(s))),M(n,["models"],o)}return n}function P3(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["_self"]);if(l!=null){let o=E0(l);Array.isArray(o)&&(o=o.map(s=>Du(s))),M(n,["models"],o)}return n}function D3(t){const n={},e=T(t,["maskMode"]);e!=null&&M(n,["maskMode"],e);const r=T(t,["segmentationClasses"]);r!=null&&M(n,["maskClasses"],r);const l=T(t,["maskDilation"]);return l!=null&&M(n,["dilation"],l),n}function Pu(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["displayName"]);r!=null&&M(n,["displayName"],r);const l=T(t,["description"]);l!=null&&M(n,["description"],l);const o=T(t,["version"]);o!=null&&M(n,["version"],o);const s=T(t,["_self"]);s!=null&&M(n,["tunedModelInfo"],J3(s));const u=T(t,["inputTokenLimit"]);u!=null&&M(n,["inputTokenLimit"],u);const a=T(t,["outputTokenLimit"]);a!=null&&M(n,["outputTokenLimit"],a);const i=T(t,["supportedGenerationMethods"]);i!=null&&M(n,["supportedActions"],i);const c=T(t,["temperature"]);c!=null&&M(n,["temperature"],c);const h=T(t,["maxTemperature"]);h!=null&&M(n,["maxTemperature"],h);const d=T(t,["topP"]);d!=null&&M(n,["topP"],d);const f=T(t,["topK"]);f!=null&&M(n,["topK"],f);const b=T(t,["thinking"]);return b!=null&&M(n,["thinking"],b),n}function Du(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["displayName"]);r!=null&&M(n,["displayName"],r);const l=T(t,["description"]);l!=null&&M(n,["description"],l);const o=T(t,["versionId"]);o!=null&&M(n,["version"],o);const s=T(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(d=>Ww(d))),M(n,["endpoints"],h)}const u=T(t,["labels"]);u!=null&&M(n,["labels"],u);const a=T(t,["_self"]);a!=null&&M(n,["tunedModelInfo"],X3(a));const i=T(t,["defaultCheckpointId"]);i!=null&&M(n,["defaultCheckpointId"],i);const c=T(t,["checkpoints"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(d=>d)),M(n,["checkpoints"],h)}return n}function j3(t){const n={},e=T(t,["mediaResolution"]);e!=null&&M(n,["mediaResolution"],e);const r=T(t,["codeExecutionResult"]);r!=null&&M(n,["codeExecutionResult"],r);const l=T(t,["executableCode"]);l!=null&&M(n,["executableCode"],l);const o=T(t,["fileData"]);o!=null&&M(n,["fileData"],Kw(o));const s=T(t,["functionCall"]);s!=null&&M(n,["functionCall"],Yw(s));const u=T(t,["functionResponse"]);u!=null&&M(n,["functionResponse"],u);const a=T(t,["inlineData"]);a!=null&&M(n,["inlineData"],xw(a));const i=T(t,["text"]);i!=null&&M(n,["text"],i);const c=T(t,["thought"]);c!=null&&M(n,["thought"],c);const h=T(t,["thoughtSignature"]);h!=null&&M(n,["thoughtSignature"],h);const d=T(t,["videoMetadata"]);return d!=null&&M(n,["videoMetadata"],d),n}function L3(t){const n={},e=T(t,["productImage"]);return e!=null&&M(n,["image"],Gn(e)),n}function O3(t,n){const e={},r=T(t,["numberOfImages"]);n!==void 0&&r!=null&&M(n,["parameters","sampleCount"],r);const l=T(t,["baseSteps"]);n!==void 0&&l!=null&&M(n,["parameters","baseSteps"],l);const o=T(t,["outputGcsUri"]);n!==void 0&&o!=null&&M(n,["parameters","storageUri"],o);const s=T(t,["seed"]);n!==void 0&&s!=null&&M(n,["parameters","seed"],s);const u=T(t,["safetyFilterLevel"]);n!==void 0&&u!=null&&M(n,["parameters","safetySetting"],u);const a=T(t,["personGeneration"]);n!==void 0&&a!=null&&M(n,["parameters","personGeneration"],a);const i=T(t,["addWatermark"]);n!==void 0&&i!=null&&M(n,["parameters","addWatermark"],i);const c=T(t,["outputMimeType"]);n!==void 0&&c!=null&&M(n,["parameters","outputOptions","mimeType"],c);const h=T(t,["outputCompressionQuality"]);n!==void 0&&h!=null&&M(n,["parameters","outputOptions","compressionQuality"],h);const d=T(t,["enhancePrompt"]);n!==void 0&&d!=null&&M(n,["parameters","enhancePrompt"],d);const f=T(t,["labels"]);return n!==void 0&&f!=null&&M(n,["labels"],f),e}function F3(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["source"]);l!=null&&U3(l,e);const o=T(n,["config"]);return o!=null&&O3(o,e),e}function B3(t){const n={},e=T(t,["predictions"]);if(e!=null){let r=e;Array.isArray(r)&&(r=r.map(l=>el(l))),M(n,["generatedImages"],r)}return n}function U3(t,n){const e={},r=T(t,["prompt"]);n!==void 0&&r!=null&&M(n,["instances[0]","prompt"],r);const l=T(t,["personImage"]);n!==void 0&&l!=null&&M(n,["instances[0]","personImage","image"],Gn(l));const o=T(t,["productImages"]);if(n!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>L3(u))),M(n,["instances[0]","productImages"],s)}return e}function z3(t){const n={},e=T(t,["referenceImage"]);e!=null&&M(n,["referenceImage"],Gn(e));const r=T(t,["referenceId"]);r!=null&&M(n,["referenceId"],r);const l=T(t,["referenceType"]);l!=null&&M(n,["referenceType"],l);const o=T(t,["maskImageConfig"]);o!=null&&M(n,["maskImageConfig"],D3(o));const s=T(t,["controlImageConfig"]);s!=null&&M(n,["controlImageConfig"],Ew(s));const u=T(t,["styleImageConfig"]);u!=null&&M(n,["styleImageConfig"],u);const a=T(t,["subjectImageConfig"]);return a!=null&&M(n,["subjectImageConfig"],a),n}function j0(t){const n={},e=T(t,["safetyAttributes","categories"]);e!=null&&M(n,["categories"],e);const r=T(t,["safetyAttributes","scores"]);r!=null&&M(n,["scores"],r);const l=T(t,["contentType"]);return l!=null&&M(n,["contentType"],l),n}function L0(t){const n={},e=T(t,["safetyAttributes","categories"]);e!=null&&M(n,["categories"],e);const r=T(t,["safetyAttributes","scores"]);r!=null&&M(n,["scores"],r);const l=T(t,["contentType"]);return l!=null&&M(n,["contentType"],l),n}function V3(t){const n={},e=T(t,["category"]);if(e!=null&&M(n,["category"],e),T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=T(t,["threshold"]);return r!=null&&M(n,["threshold"],r),n}function H3(t){const n={},e=T(t,["image"]);return e!=null&&M(n,["image"],Gn(e)),n}function $3(t,n){const e={},r=T(t,["mode"]);n!==void 0&&r!=null&&M(n,["parameters","mode"],r);const l=T(t,["maxPredictions"]);n!==void 0&&l!=null&&M(n,["parameters","maxPredictions"],l);const o=T(t,["confidenceThreshold"]);n!==void 0&&o!=null&&M(n,["parameters","confidenceThreshold"],o);const s=T(t,["maskDilation"]);n!==void 0&&s!=null&&M(n,["parameters","maskDilation"],s);const u=T(t,["binaryColorThreshold"]);n!==void 0&&u!=null&&M(n,["parameters","binaryColorThreshold"],u);const a=T(t,["labels"]);return n!==void 0&&a!=null&&M(n,["labels"],a),e}function q3(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["source"]);l!=null&&W3(l,e);const o=T(n,["config"]);return o!=null&&$3(o,e),e}function G3(t){const n={},e=T(t,["predictions"]);if(e!=null){let r=e;Array.isArray(r)&&(r=r.map(l=>y3(l))),M(n,["generatedMasks"],r)}return n}function W3(t,n){const e={},r=T(t,["prompt"]);n!==void 0&&r!=null&&M(n,["instances[0]","prompt"],r);const l=T(t,["image"]);n!==void 0&&l!=null&&M(n,["instances[0]","image"],Gn(l));const o=T(t,["scribbleImage"]);return n!==void 0&&o!=null&&M(n,["instances[0]","scribble"],H3(o)),e}function O0(t){const n={},e=T(t,["languageCode"]);e!=null&&M(n,["languageCode"],e);const r=T(t,["voiceConfig"]);if(r!=null&&M(n,["voiceConfig"],r),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function K3(t){const n={},e=T(t,["functionCallingConfig"]);e!=null&&M(n,["functionCallingConfig"],Jw(e));const r=T(t,["retrievalConfig"]);return r!=null&&M(n,["retrievalConfig"],r),n}function Y3(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let c=e;Array.isArray(c)&&(c=c.map(h=>h)),M(n,["functionDeclarations"],c)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearchRetrieval"]);r!=null&&M(n,["googleSearchRetrieval"],r);const l=T(t,["computerUse"]);l!=null&&M(n,["computerUse"],l);const o=T(t,["fileSearch"]);o!=null&&M(n,["fileSearch"],o);const s=T(t,["codeExecution"]);if(s!=null&&M(n,["codeExecution"],s),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(t,["googleMaps"]);u!=null&&M(n,["googleMaps"],S3(u));const a=T(t,["googleSearch"]);a!=null&&M(n,["googleSearch"],k3(a));const i=T(t,["urlContext"]);return i!=null&&M(n,["urlContext"],i),n}function F0(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let h=e;Array.isArray(h)&&(h=h.map(d=>Xw(d))),M(n,["functionDeclarations"],h)}const r=T(t,["retrieval"]);r!=null&&M(n,["retrieval"],r);const l=T(t,["googleSearchRetrieval"]);l!=null&&M(n,["googleSearchRetrieval"],l);const o=T(t,["computerUse"]);if(o!=null&&M(n,["computerUse"],o),T(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=T(t,["codeExecution"]);s!=null&&M(n,["codeExecution"],s);const u=T(t,["enterpriseWebSearch"]);u!=null&&M(n,["enterpriseWebSearch"],u);const a=T(t,["googleMaps"]);a!=null&&M(n,["googleMaps"],a);const i=T(t,["googleSearch"]);i!=null&&M(n,["googleSearch"],i);const c=T(t,["urlContext"]);return c!=null&&M(n,["urlContext"],c),n}function J3(t){const n={},e=T(t,["baseModel"]);e!=null&&M(n,["baseModel"],e);const r=T(t,["createTime"]);r!=null&&M(n,["createTime"],r);const l=T(t,["updateTime"]);return l!=null&&M(n,["updateTime"],l),n}function X3(t){const n={},e=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);e!=null&&M(n,["baseModel"],e);const r=T(t,["createTime"]);r!=null&&M(n,["createTime"],r);const l=T(t,["updateTime"]);return l!=null&&M(n,["updateTime"],l),n}function Z3(t,n){const e={},r=T(t,["displayName"]);n!==void 0&&r!=null&&M(n,["displayName"],r);const l=T(t,["description"]);n!==void 0&&l!=null&&M(n,["description"],l);const o=T(t,["defaultCheckpointId"]);return n!==void 0&&o!=null&&M(n,["defaultCheckpointId"],o),e}function Q3(t,n){const e={},r=T(t,["displayName"]);n!==void 0&&r!=null&&M(n,["displayName"],r);const l=T(t,["description"]);n!==void 0&&l!=null&&M(n,["description"],l);const o=T(t,["defaultCheckpointId"]);return n!==void 0&&o!=null&&M(n,["defaultCheckpointId"],o),e}function e4(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","name"],mt(t,r));const l=T(n,["config"]);return l!=null&&Z3(l,e),e}function t4(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["config"]);return l!=null&&Q3(l,e),e}function n4(t,n){const e={},r=T(t,["outputGcsUri"]);n!==void 0&&r!=null&&M(n,["parameters","storageUri"],r);const l=T(t,["safetyFilterLevel"]);n!==void 0&&l!=null&&M(n,["parameters","safetySetting"],l);const o=T(t,["personGeneration"]);n!==void 0&&o!=null&&M(n,["parameters","personGeneration"],o);const s=T(t,["includeRaiReason"]);n!==void 0&&s!=null&&M(n,["parameters","includeRaiReason"],s);const u=T(t,["outputMimeType"]);n!==void 0&&u!=null&&M(n,["parameters","outputOptions","mimeType"],u);const a=T(t,["outputCompressionQuality"]);n!==void 0&&a!=null&&M(n,["parameters","outputOptions","compressionQuality"],a);const i=T(t,["enhanceInputImage"]);n!==void 0&&i!=null&&M(n,["parameters","upscaleConfig","enhanceInputImage"],i);const c=T(t,["imagePreservationFactor"]);n!==void 0&&c!=null&&M(n,["parameters","upscaleConfig","imagePreservationFactor"],c);const h=T(t,["labels"]);n!==void 0&&h!=null&&M(n,["labels"],h);const d=T(t,["numberOfImages"]);n!==void 0&&d!=null&&M(n,["parameters","sampleCount"],d);const f=T(t,["mode"]);return n!==void 0&&f!=null&&M(n,["parameters","mode"],f),e}function r4(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["_url","model"],mt(t,r));const l=T(n,["image"]);l!=null&&M(e,["instances[0]","image"],Gn(l));const o=T(n,["upscaleFactor"]);o!=null&&M(e,["parameters","upscaleConfig","upscaleFactor"],o);const s=T(n,["config"]);return s!=null&&n4(s,e),e}function i4(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>el(o))),M(n,["generatedImages"],l)}return n}function s4(t){const n={},e=T(t,["uri"]);e!=null&&M(n,["uri"],e);const r=T(t,["encodedVideo"]);r!=null&&M(n,["videoBytes"],qr(r));const l=T(t,["encoding"]);return l!=null&&M(n,["mimeType"],l),n}function o4(t){const n={},e=T(t,["gcsUri"]);e!=null&&M(n,["uri"],e);const r=T(t,["bytesBase64Encoded"]);r!=null&&M(n,["videoBytes"],qr(r));const l=T(t,["mimeType"]);return l!=null&&M(n,["mimeType"],l),n}function a4(t){const n={},e=T(t,["image"]);e!=null&&M(n,["_self"],Gn(e));const r=T(t,["maskMode"]);return r!=null&&M(n,["maskMode"],r),n}function l4(t){const n={},e=T(t,["image"]);e!=null&&M(n,["image"],tl(e));const r=T(t,["referenceType"]);return r!=null&&M(n,["referenceType"],r),n}function u4(t){const n={},e=T(t,["image"]);e!=null&&M(n,["image"],Gn(e));const r=T(t,["referenceType"]);return r!=null&&M(n,["referenceType"],r),n}function B0(t){const n={},e=T(t,["uri"]);e!=null&&M(n,["uri"],e);const r=T(t,["videoBytes"]);r!=null&&M(n,["encodedVideo"],qr(r));const l=T(t,["mimeType"]);return l!=null&&M(n,["encoding"],l),n}function U0(t){const n={},e=T(t,["uri"]);e!=null&&M(n,["gcsUri"],e);const r=T(t,["videoBytes"]);r!=null&&M(n,["bytesBase64Encoded"],qr(r));const l=T(t,["mimeType"]);return l!=null&&M(n,["mimeType"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c4="Content-Type",d4="X-Server-Timeout",f4="User-Agent",ju="x-goog-api-client",h4="1.30.0",p4=`google-genai-sdk/${h4}`,m4="v1beta1",g4="v1beta",Ph=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class y4{constructor(n){var e,r;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(e=this.clientOptions.apiVersion)!==null&&e!==void 0?e:m4,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:g4,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&r.push(n.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),e=new URL(n);return e.protocol=e.protocol=="http:"?"ws":"wss",e.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,e,r){const l=[this.getRequestUrlInternal(e)];return r&&l.push(this.getBaseResourcePath()),n!==""&&l.push(n),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let e=this.clientOptions.httpOptions;n.httpOptions&&(e=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,e,r);if(n.queryParams)for(const[s,u]of Object.entries(n.queryParams))l.searchParams.append(s,String(u));let o={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=n.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,e,l.toString(),n.abortSignal),this.unaryApiCall(l,o,n.httpMethod)}patchHttpOptions(n,e){const r=JSON.parse(JSON.stringify(n));for(const[l,o]of Object.entries(e))typeof o=="object"?r[l]=Object.assign(Object.assign({},r[l]),o):o!==void 0&&(r[l]=o);return r}async requestStream(n){let e=this.clientOptions.httpOptions;n.httpOptions&&(e=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,e,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=n.body,o=await this.includeExtraHttpOptionsToRequestInit(o,e,l.toString(),n.abortSignal),this.streamApiCall(l,o,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,e,r,l){if(e&&e.timeout||l){const o=new AbortController,s=o.signal;if(e.timeout&&(e==null?void 0:e.timeout)>0){const u=setTimeout(()=>o.abort(),e.timeout);u&&typeof u.unref=="function"&&u.unref()}l&&l.addEventListener("abort",()=>{o.abort()}),n.signal=s}return e&&e.extraBody!==null&&b4(n,e.extraBody),n.headers=await this.getHeadersInternal(e,r),n}async unaryApiCall(n,e,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},e),{method:r})).then(async l=>(await Dh(l),new Iu(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(n,e,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},e),{method:r})).then(async l=>(await Dh(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(n){var e;return Oi(this,arguments,function*(){const l=(e=n==null?void 0:n.body)===null||e===void 0?void 0:e.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:a}=yield Nt(l.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const i=o.decode(a,{stream:!0});try{const h=JSON.parse(i);if("error"in h){const d=JSON.parse(JSON.stringify(h.error)),f=d.status,b=d.code,y=`got status: ${f}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new Za({message:y,status:b})}}catch(h){if(h.name==="ApiError")throw h}s+=i;let c=s.match(Ph);for(;c;){const h=c[1];try{const d=new Response(h,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Nt(new Iu(d)),s=s.slice(c[0].length),c=s.match(Ph)}catch(d){throw new Error(`exception parsing stream chunk ${h}. ${d}`)}}}}finally{l.releaseLock()}})}async apiCall(n,e){return fetch(n,e).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const n={},e=p4+" "+this.clientOptions.userAgentExtra;return n[f4]=e,n[ju]=e,n[c4]="application/json",n}async getHeadersInternal(n,e){const r=new Headers;if(n&&n.headers){for(const[l,o]of Object.entries(n.headers))r.append(l,o);n.timeout&&n.timeout>0&&r.append(d4,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,e),r}getFileName(n){var e;let r="";return typeof n=="string"&&(r=n.replace(/[/\\]+$/,""),r=(e=r.split(/[/\\]/).pop())!==null&&e!==void 0?e:""),r}async uploadFile(n,e){var r;const l={};e!=null&&(l.mimeType=e.mimeType,l.name=e.name,l.displayName=e.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,s=await o.stat(n);l.sizeBytes=String(s.size);const u=(r=e==null?void 0:e.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const a={file:l},i=this.getFileName(n),c=Me("upload/v1beta/files",a._url),h=await this.fetchUploadUrl(c,l.sizeBytes,l.mimeType,i,a,e==null?void 0:e.httpOptions);return o.upload(n,h,this)}async uploadFileToFileSearchStore(n,e,r){var l;const o=this.clientOptions.uploader,s=await o.stat(e),u=String(s.size),a=(l=r==null?void 0:r.mimeType)!==null&&l!==void 0?l:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const i=`upload/v1beta/${n}:uploadToFileSearchStore`,c=this.getFileName(e),h={};r!=null&&r.customMetadata&&(h.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(h.chunkingConfig=r.chunkingConfig);const d=await this.fetchUploadUrl(i,u,a,c,h,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(e,d,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,e,r,l,o,s){var u;let a={};s?a=s:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e}`,"X-Goog-Upload-Header-Content-Type":`${r}`},l?{"X-Goog-Upload-File-Name":l}:{})};const i=await this.request({path:n,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!i||!(i!=null&&i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(u=i==null?void 0:i.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Dh(t){var n;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const e=t.status;let r;!((n=t.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(r);throw e>=400&&e<600?new Za({message:l,status:e}):new Error(l)}}function b4(t,n){if(!n||Object.keys(n).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let e={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))e=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const i=s[a],c=u[a];i&&typeof i=="object"&&!Array.isArray(i)&&c&&typeof c=="object"&&!Array.isArray(c)?u[a]=r(c,i):(c&&i&&typeof c!=typeof i&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${a}". Original type: ${typeof c}, New type: ${typeof i}. Overwriting.`),u[a]=i)}return u}const l=r(e,n);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v4="mcp_used/unknown";let x4=!1;function z0(t){for(const n of t)if(w4(n)||typeof n=="object"&&"inputSchema"in n)return!0;return x4}function V0(t){var n;const e=(n=t[ju])!==null&&n!==void 0?n:"";t[ju]=(e+` ${v4}`).trimStart()}function w4(t){return t!==null&&typeof t=="object"&&t instanceof Gc}function _4(t,n=100){return Oi(this,arguments,function*(){let r,l=0;for(;l<n;){const o=yield Nt(t.listTools({cursor:r}));for(const s of o.tools)yield yield Nt(s),l++;if(!o.nextCursor)break;r=o.nextCursor}})}class Gc{constructor(n=[],e){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=e}static create(n,e){return new Gc(n,e)}async initialize(){var n,e,r,l;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var u=!0,a=(e=void 0,Ts(_4(c))),i;i=await a.next(),n=i.done,!n;u=!0){l=i.value,u=!1;const h=l;s.push(h);const d=h.name;if(o[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);o[d]=c}}catch(h){e={error:h}}finally{try{!u&&!n&&(r=a.return)&&await r.call(a)}finally{if(e)throw e.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),p2(this.mcpTools,this.config)}async callTool(n){await this.initialize();const e=[];for(const r of n)if(r.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await l.callTool({name:r.name,arguments:r.args},void 0,o);e.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return e}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function S4(t,n,e){const r=new o2;let l;e.data instanceof Blob?l=JSON.parse(await e.data.text()):l=JSON.parse(e.data),Object.assign(r,l),n(r)}class k4{constructor(n,e,r){this.apiClient=n,this.auth=e,this.webSocketFactory=r}async connect(n){var e,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=E4(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),a=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let i=()=>{};const c=new Promise(x=>{i=x}),h=n.callbacks,d=function(){i({})},f=this.apiClient,b={onopen:d,onmessage:x=>{S4(f,h.onmessage,x)},onerror:(e=h==null?void 0:h.onerror)!==null&&e!==void 0?e:function(x){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(x){}},y=this.webSocketFactory.create(a,T4(s),b);y.connect(),await c;const m={setup:{model:mt(this.apiClient,n.model)}};return y.send(JSON.stringify(m)),new C4(y,this.apiClient)}}class C4{constructor(n,e){this.conn=n,this.apiClient=e}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const e=dw(n);this.conn.send(JSON.stringify({clientContent:e}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const e=cw(n);this.conn.send(JSON.stringify(e))}sendPlaybackControl(n){const e={playbackControl:n};this.conn.send(JSON.stringify(e))}play(){this.sendPlaybackControl(Ai.PLAY)}pause(){this.sendPlaybackControl(Ai.PAUSE)}stop(){this.sendPlaybackControl(Ai.STOP)}resetContext(){this.sendPlaybackControl(Ai.RESET_CONTEXT)}close(){this.conn.close()}}function T4(t){const n={};return t.forEach((e,r)=>{n[r]=e}),n}function E4(t){const n=new Headers;for(const[e,r]of Object.entries(t))n.append(e,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N4="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function A4(t,n,e){const r=new s2;let l;e.data instanceof Blob?l=await e.data.text():e.data instanceof ArrayBuffer?l=new TextDecoder().decode(e.data):l=e.data;const o=JSON.parse(l);if(t.isVertexAI()){const s=pw(o);Object.assign(r,s)}else Object.assign(r,o);n(r)}class I4{constructor(n,e,r){this.apiClient=n,this.auth=e,this.webSocketFactory=r,this.music=new k4(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var e,r,l,o,s,u;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion();let c;const h=this.apiClient.getHeaders();n.config&&n.config.tools&&z0(n.config.tools)&&V0(h);const d=D4(h);if(this.apiClient.isVertexAI())c=`${a}/ws/google.cloud.aiplatform.${i}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c);else{const B=this.apiClient.getApiKey();let V="BidiGenerateContent",q="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),i!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",q="access_token"),c=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.${V}?${q}=${B}`}let f=()=>{};const b=new Promise(B=>{f=B}),y=n.callbacks,p=function(){var B;(B=y==null?void 0:y.onopen)===null||B===void 0||B.call(y),f({})},g=this.apiClient,m={onopen:p,onmessage:B=>{A4(g,y.onmessage,B)},onerror:(e=y==null?void 0:y.onerror)!==null&&e!==void 0?e:function(B){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(B){}},x=this.webSocketFactory.create(c,P4(d),m);x.connect(),await b;let C=mt(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const B=this.apiClient.getProject(),V=this.apiClient.getLocation();C=`projects/${B}/locations/${V}/`+C}let I={};this.apiClient.isVertexAI()&&((l=n.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[wa.AUDIO]}:n.config.responseModalities=[wa.AUDIO]),!((o=n.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],z=[];for(const B of D)if(this.isCallableTool(B)){const V=B;z.push(await V.tool())}else z.push(B);z.length>0&&(n.config.tools=z);const O={model:C,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?I=uw(this.apiClient,O):I=lw(this.apiClient,O),delete I.config,x.send(JSON.stringify(I)),new R4(x,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const M4={turnComplete:!0};class R4{constructor(n,e){this.conn=n,this.apiClient=e}tLiveClientContent(n,e){if(e.turns!==null&&e.turns!==void 0){let r=[];try{r=Dn(e.turns),n.isVertexAI()||(r=r.map(l=>Qa(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof e.turns}'`)}return{clientContent:{turns:r,turnComplete:e.turnComplete}}}return{clientContent:{turnComplete:e.turnComplete}}}tLiveClienttToolResponse(n,e){let r=[];if(e.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(e.functionResponses)?r=e.functionResponses:r=[e.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!n.isVertexAI()&&!("id"in o))throw new Error(N4)}return{toolResponse:{functionResponses:r}}}sendClientContent(n){n=Object.assign(Object.assign({},M4),n);const e=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(e))}sendRealtimeInput(n){let e={};this.apiClient.isVertexAI()?e={realtimeInput:hw(n)}:e={realtimeInput:fw(n)},this.conn.send(JSON.stringify(e))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const e=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(e))}close(){this.conn.close()}}function P4(t){const n={};return t.forEach((e,r)=>{n[r]=e}),n}function D4(t){const n=new Headers;for(const[e,r]of Object.entries(t))n.append(e,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jh=10;function Lh(t){var n,e,r;if(!((n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let l=!1;for(const s of(e=t==null?void 0:t.tools)!==null&&e!==void 0?e:[])if(Fi(s)){l=!0;break}if(!l)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Fi(t){return"callTool"in t&&typeof t.callTool=="function"}function j4(t){var n,e,r;return(r=(e=(n=t.config)===null||n===void 0?void 0:n.tools)===null||e===void 0?void 0:e.some(l=>Fi(l)))!==null&&r!==void 0?r:!1}function Oh(t){var n;const e=[];return!((n=t==null?void 0:t.config)===null||n===void 0)&&n.tools&&t.config.tools.forEach((r,l)=>{if(Fi(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&e.push(l)}),e}function Fh(t){var n;return!(!((n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L4 extends gr{constructor(n){super(),this.apiClient=n,this.generateContent=async e=>{var r,l,o,s,u;const a=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!j4(e)||Lh(e.config))return await this.generateContentInternal(a);const i=Oh(e);if(i.length>0){const y=i.map(p=>`tools[${p}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,h;const d=Dn(a.contents),f=(o=(l=(r=a.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:jh;let b=0;for(;b<f&&(c=await this.generateContentInternal(a),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,p=[];for(const g of(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Fi(g)){const x=await g.callTool(c.functionCalls);p.push(...x)}b++,h={role:"user",parts:p},a.contents=Dn(a.contents),a.contents.push(y),a.contents.push(h),Fh(a.config)&&(d.push(y),d.push(h))}return Fh(a.config)&&(c.automaticFunctionCallingHistory=d),c},this.generateContentStream=async e=>{var r,l,o,s,u;if(this.maybeMoveToResponseJsonSchem(e),Lh(e.config)){const h=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(h)}const a=Oh(e);if(a.length>0){const h=a.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const i=(o=(l=(r=e==null?void 0:e.config)===null||r===void 0?void 0:r.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(u=(s=e==null?void 0:e.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(i&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(r=>{var l;let o;const s=[];if(r!=null&&r.generatedImages)for(const a of r.generatedImages)a&&(a!=null&&a.safetyAttributes)&&((l=a==null?void 0:a.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=a==null?void 0:a.safetyAttributes:s.push(a);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async e=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),e==null?void 0:e.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new di(hr.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async e=>{const r={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(r.referenceImages=e.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async e=>{let r={numberOfImages:1,mode:"upscale"};e.config&&(r=Object.assign(Object.assign({},r),e.config));const l={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:r};return await this.upscaleImageInternal(l)},this.generateVideos=async e=>{var r,l,o,s,u,a;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=e.video)===null||r===void 0)&&r.uri&&(!((l=e.video)===null||l===void 0)&&l.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:!((s=(o=e.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((a=(u=e.source)===null||u===void 0?void 0:u.video)===null||a===void 0)&&a.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var e,r,l;const o=(e=n.config)===null||e===void 0?void 0:e.tools;if(!o)return n;const s=await Promise.all(o.map(async a=>Fi(a)?await a.tool():a)),u={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:s})};if(u.config.tools=s,n.config&&n.config.tools&&z0(n.config.tools)){const a=(l=(r=n.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&l!==void 0?l:{};let i=Object.assign({},a);Object.keys(i).length===0&&(i=this.apiClient.getDefaultHeaders()),V0(i),u.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:i})}return u}async initAfcToolsMap(n){var e,r,l;const o=new Map;for(const s of(r=(e=n.config)===null||e===void 0?void 0:e.tools)!==null&&r!==void 0?r:[])if(Fi(s)){const u=s,a=await u.tool();for(const i of(l=a.functionDeclarations)!==null&&l!==void 0?l:[]){if(!i.name)throw new Error("Function declaration name is required.");if(o.has(i.name))throw new Error(`Duplicate tool declaration name: ${i.name}`);o.set(i.name,u)}}return o}async processAfcStream(n){var e,r,l;const o=(l=(r=(e=n.config)===null||e===void 0?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:jh;let s=!1,u=0;const a=await this.initAfcToolsMap(n);return function(i,c,h){var d,f;return Oi(this,arguments,function*(){for(var b,y,p,g;u<o;){s&&(u++,s=!1);const I=yield Nt(i.processParamsMaybeAddMcpUsage(h)),D=yield Nt(i.generateContentStreamInternal(I)),z=[],O=[];try{for(var m=!0,x=(y=void 0,Ts(D)),C;C=yield Nt(x.next()),b=C.done,!b;m=!0){g=C.value,m=!1;const B=g;if(yield yield Nt(B),B.candidates&&(!((d=B.candidates[0])===null||d===void 0)&&d.content)){O.push(B.candidates[0].content);for(const V of(f=B.candidates[0].content.parts)!==null&&f!==void 0?f:[])if(u<o&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(V.functionCall.name)){const q=yield Nt(c.get(V.functionCall.name).callTool([V.functionCall]));z.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(B){y={error:B}}finally{try{!m&&!b&&(p=x.return)&&(yield Nt(p.call(x)))}finally{if(y)throw y.error}}if(z.length>0){s=!0;const B=new fs;B.candidates=[{content:{role:"user",parts:z}}],yield yield Nt(B);const V=[];V.push(...O),V.push({role:"user",parts:z});const q=Dn(h.contents).concat(V);h.contents=q}else break}})}(this,a,n)}async generateContentInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=Ih(this.apiClient,n);return u=Me("{model}:generateContent",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Rh(c),d=new fs;return Object.assign(d,h),d})}else{const i=Ah(this.apiClient,n);return u=Me("{model}:generateContent",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Mh(c),d=new fs;return Object.assign(d,h),d})}}async generateContentStreamInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=Ih(this.apiClient,n);return u=Me("{model}:streamGenerateContent?alt=sse",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.requestStream({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return Oi(this,arguments,function*(){var d,f,b,y;try{for(var p=!0,g=Ts(h),m;m=yield Nt(g.next()),d=m.done,!d;p=!0){y=m.value,p=!1;const x=y,C=Rh(yield Nt(x.json()));C.sdkHttpResponse={headers:x.headers};const I=new fs;Object.assign(I,C),yield yield Nt(I)}}catch(x){f={error:x}}finally{try{!p&&!d&&(b=g.return)&&(yield Nt(b.call(g)))}finally{if(f)throw f.error}}})})}else{const i=Ah(this.apiClient,n);return u=Me("{model}:streamGenerateContent?alt=sse",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.requestStream({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(h){return Oi(this,arguments,function*(){var d,f,b,y;try{for(var p=!0,g=Ts(h),m;m=yield Nt(g.next()),d=m.done,!d;p=!0){y=m.value,p=!1;const x=y,C=Mh(yield Nt(x.json()));C.sdkHttpResponse={headers:x.headers};const I=new fs;Object.assign(I,C),yield yield Nt(I)}}catch(x){f={error:x}}finally{try{!p&&!d&&(b=g.return)&&(yield Nt(b.call(g)))}finally{if(f)throw f.error}}})})}}async embedContent(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=$w(this.apiClient,n);return u=Me("{model}:predict",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Gw(c),d=new hh;return Object.assign(d,h),d})}else{const i=Hw(this.apiClient,n);return u=Me("{model}:batchEmbedContents",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=qw(c),d=new hh;return Object.assign(d,h),d})}}async generateImagesInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=r3(this.apiClient,n);return u=Me("{model}:predict",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=s3(c),d=new ph;return Object.assign(d,h),d})}else{const i=n3(this.apiClient,n);return u=Me("{model}:predict",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=i3(c),d=new ph;return Object.assign(d,h),d})}}async editImageInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Bw(this.apiClient,n);return o=Me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(i=>{const c=i;return c.sdkHttpResponse={headers:a.headers},c})),l.then(a=>{const i=Uw(a),c=new Kv;return Object.assign(c,i),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=r4(this.apiClient,n);return o=Me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(i=>{const c=i;return c.sdkHttpResponse={headers:a.headers},c})),l.then(a=>{const i=i4(a),c=new Yv;return Object.assign(c,i),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=F3(this.apiClient,n);return o=Me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>{const i=B3(a),c=new Jv;return Object.assign(c,i),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=q3(this.apiClient,n);return o=Me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>{const i=G3(a),c=new Xv;return Object.assign(c,i),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=_3(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Du(c))}else{const i=w3(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Pu(c))}}async listInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=M3(this.apiClient,n);return u=Me("{models_url}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=P3(c),d=new mh;return Object.assign(d,h),d})}else{const i=I3(this.apiClient,n);return u=Me("{models_url}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=R3(c),d=new mh;return Object.assign(d,h),d})}}async update(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=t4(this.apiClient,n);return u=Me("{model}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"PATCH",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Du(c))}else{const i=e4(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Pu(c))}}async delete(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=jw(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Ow(c),d=new gh;return Object.assign(d,h),d})}else{const i=Dw(this.apiClient,n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Lw(c),d=new gh;return Object.assign(d,h),d})}}async countTokens(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=Mw(this.apiClient,n);return u=Me("{model}:countTokens",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Pw(c),d=new yh;return Object.assign(d,h),d})}else{const i=Iw(this.apiClient,n);return u=Me("{model}:countTokens",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Rw(c),d=new yh;return Object.assign(d,h),d})}}async computeTokens(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Sw(this.apiClient,n);return o=Me("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(i=>{const c=i;return c.sdkHttpResponse={headers:a.headers},c})),l.then(a=>{const i=kw(a),c=new Zv;return Object.assign(c,i),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=d3(this.apiClient,n);return u=Me("{model}:predictLongRunning",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const h=u3(c),d=new _a;return Object.assign(d,h),d})}else{const i=c3(this.apiClient,n);return u=Me("{model}:predictLongRunning",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const h=l3(c),d=new _a;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O4 extends gr{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const e=n.operation,r=n.config;if(e.name===void 0||e.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=e.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:e.name,resourceName:l,config:{httpOptions:o}});return e._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:e.name,config:r});return e._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(n){const e=n.operation,r=n.config;if(e.name===void 0||e.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=e.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:e.name,resourceName:l,config:{httpOptions:o}});return e._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:e.name,config:r});return e._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=Vv(n);return u=Me("{operationName}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const i=zv(n);return u=Me("{operationName}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Dv(n);return o=Me("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F4(t){const n={},e=T(t,["data"]);if(e!=null&&M(n,["data"],e),T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function B4(t){const n={},e=T(t,["parts"]);if(e!=null){let l=e;Array.isArray(l)&&(l=l.map(o=>K4(o))),M(n,["parts"],l)}const r=T(t,["role"]);return r!=null&&M(n,["role"],r),n}function U4(t,n,e){const r={},l=T(n,["expireTime"]);e!==void 0&&l!=null&&M(e,["expireTime"],l);const o=T(n,["newSessionExpireTime"]);e!==void 0&&o!=null&&M(e,["newSessionExpireTime"],o);const s=T(n,["uses"]);e!==void 0&&s!=null&&M(e,["uses"],s);const u=T(n,["liveConnectConstraints"]);e!==void 0&&u!=null&&M(e,["bidiGenerateContentSetup"],W4(t,u));const a=T(n,["lockAdditionalFields"]);return e!==void 0&&a!=null&&M(e,["fieldMask"],a),r}function z4(t,n){const e={},r=T(n,["config"]);return r!=null&&M(e,["config"],U4(t,r,e)),e}function V4(t){const n={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const e=T(t,["fileUri"]);e!=null&&M(n,["fileUri"],e);const r=T(t,["mimeType"]);return r!=null&&M(n,["mimeType"],r),n}function H4(t){const n={},e=T(t,["id"]);e!=null&&M(n,["id"],e);const r=T(t,["args"]);r!=null&&M(n,["args"],r);const l=T(t,["name"]);if(l!=null&&M(n,["name"],l),T(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function $4(t){const n={};if(T(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const e=T(t,["enableWidget"]);return e!=null&&M(n,["enableWidget"],e),n}function q4(t){const n={};if(T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const e=T(t,["timeRangeFilter"]);return e!=null&&M(n,["timeRangeFilter"],e),n}function G4(t,n){const e={},r=T(t,["generationConfig"]);n!==void 0&&r!=null&&M(n,["setup","generationConfig"],r);const l=T(t,["responseModalities"]);n!==void 0&&l!=null&&M(n,["setup","generationConfig","responseModalities"],l);const o=T(t,["temperature"]);n!==void 0&&o!=null&&M(n,["setup","generationConfig","temperature"],o);const s=T(t,["topP"]);n!==void 0&&s!=null&&M(n,["setup","generationConfig","topP"],s);const u=T(t,["topK"]);n!==void 0&&u!=null&&M(n,["setup","generationConfig","topK"],u);const a=T(t,["maxOutputTokens"]);n!==void 0&&a!=null&&M(n,["setup","generationConfig","maxOutputTokens"],a);const i=T(t,["mediaResolution"]);n!==void 0&&i!=null&&M(n,["setup","generationConfig","mediaResolution"],i);const c=T(t,["seed"]);n!==void 0&&c!=null&&M(n,["setup","generationConfig","seed"],c);const h=T(t,["speechConfig"]);n!==void 0&&h!=null&&M(n,["setup","generationConfig","speechConfig"],qc(h));const d=T(t,["thinkingConfig"]);n!==void 0&&d!=null&&M(n,["setup","generationConfig","thinkingConfig"],d);const f=T(t,["enableAffectiveDialog"]);n!==void 0&&f!=null&&M(n,["setup","generationConfig","enableAffectiveDialog"],f);const b=T(t,["systemInstruction"]);n!==void 0&&b!=null&&M(n,["setup","systemInstruction"],B4(rn(b)));const y=T(t,["tools"]);if(n!==void 0&&y!=null){let D=ts(y);Array.isArray(D)&&(D=D.map(z=>J4(es(z)))),M(n,["setup","tools"],D)}const p=T(t,["sessionResumption"]);n!==void 0&&p!=null&&M(n,["setup","sessionResumption"],Y4(p));const g=T(t,["inputAudioTranscription"]);n!==void 0&&g!=null&&M(n,["setup","inputAudioTranscription"],g);const m=T(t,["outputAudioTranscription"]);n!==void 0&&m!=null&&M(n,["setup","outputAudioTranscription"],m);const x=T(t,["realtimeInputConfig"]);n!==void 0&&x!=null&&M(n,["setup","realtimeInputConfig"],x);const C=T(t,["contextWindowCompression"]);n!==void 0&&C!=null&&M(n,["setup","contextWindowCompression"],C);const I=T(t,["proactivity"]);return n!==void 0&&I!=null&&M(n,["setup","proactivity"],I),e}function W4(t,n){const e={},r=T(n,["model"]);r!=null&&M(e,["setup","model"],mt(t,r));const l=T(n,["config"]);return l!=null&&M(e,["config"],G4(l,e)),e}function K4(t){const n={},e=T(t,["mediaResolution"]);e!=null&&M(n,["mediaResolution"],e);const r=T(t,["codeExecutionResult"]);r!=null&&M(n,["codeExecutionResult"],r);const l=T(t,["executableCode"]);l!=null&&M(n,["executableCode"],l);const o=T(t,["fileData"]);o!=null&&M(n,["fileData"],V4(o));const s=T(t,["functionCall"]);s!=null&&M(n,["functionCall"],H4(s));const u=T(t,["functionResponse"]);u!=null&&M(n,["functionResponse"],u);const a=T(t,["inlineData"]);a!=null&&M(n,["inlineData"],F4(a));const i=T(t,["text"]);i!=null&&M(n,["text"],i);const c=T(t,["thought"]);c!=null&&M(n,["thought"],c);const h=T(t,["thoughtSignature"]);h!=null&&M(n,["thoughtSignature"],h);const d=T(t,["videoMetadata"]);return d!=null&&M(n,["videoMetadata"],d),n}function Y4(t){const n={},e=T(t,["handle"]);if(e!=null&&M(n,["handle"],e),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function J4(t){const n={},e=T(t,["functionDeclarations"]);if(e!=null){let c=e;Array.isArray(c)&&(c=c.map(h=>h)),M(n,["functionDeclarations"],c)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearchRetrieval"]);r!=null&&M(n,["googleSearchRetrieval"],r);const l=T(t,["computerUse"]);l!=null&&M(n,["computerUse"],l);const o=T(t,["fileSearch"]);o!=null&&M(n,["fileSearch"],o);const s=T(t,["codeExecution"]);if(s!=null&&M(n,["codeExecution"],s),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(t,["googleMaps"]);u!=null&&M(n,["googleMaps"],$4(u));const a=T(t,["googleSearch"]);a!=null&&M(n,["googleSearch"],q4(a));const i=T(t,["urlContext"]);return i!=null&&M(n,["urlContext"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X4(t){const n=[];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const l=Object.keys(r).map(o=>`${e}.${o}`);n.push(...l)}else n.push(e)}return n.join(",")}function Z4(t,n){let e=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,e=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(e){const o=X4(e);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(i=>s.includes(i)?`generationConfig.${i}`:i));const a=[];o&&a.push(o),u.length>0&&a.push(...u),a.length>0?t.fieldMask=a.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class Q4 extends gr{constructor(n){super(),this.apiClient=n}async create(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=z4(this.apiClient,n);o=Me("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const a=Z4(u,n.config);return l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(i=>i.json()),l.then(i=>i)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(t,n){const e={},r=T(t,["displayName"]);return n!==void 0&&r!=null&&M(n,["displayName"],r),e}function t_(t){const n={},e=T(t,["config"]);return e!=null&&e_(e,n),n}function n_(t,n){const e={},r=T(t,["force"]);return n!==void 0&&r!=null&&M(n,["_query","force"],r),e}function r_(t){const n={},e=T(t,["name"]);e!=null&&M(n,["_url","name"],e);const r=T(t,["config"]);return r!=null&&n_(r,n),n}function i_(t){const n={},e=T(t,["name"]);return e!=null&&M(n,["_url","name"],e),n}function s_(t,n){const e={},r=T(t,["customMetadata"]);if(n!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["customMetadata"],o)}const l=T(t,["chunkingConfig"]);return n!==void 0&&l!=null&&M(n,["chunkingConfig"],l),e}function o_(t){const n={},e=T(t,["name"]);e!=null&&M(n,["name"],e);const r=T(t,["metadata"]);r!=null&&M(n,["metadata"],r);const l=T(t,["done"]);l!=null&&M(n,["done"],l);const o=T(t,["error"]);o!=null&&M(n,["error"],o);const s=T(t,["response"]);return s!=null&&M(n,["response"],l_(s)),n}function a_(t){const n={},e=T(t,["fileSearchStoreName"]);e!=null&&M(n,["_url","file_search_store_name"],e);const r=T(t,["fileName"]);r!=null&&M(n,["fileName"],r);const l=T(t,["config"]);return l!=null&&s_(l,n),n}function l_(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["parent"]);r!=null&&M(n,["parent"],r);const l=T(t,["documentName"]);return l!=null&&M(n,["documentName"],l),n}function u_(t,n){const e={},r=T(t,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const l=T(t,["pageToken"]);return n!==void 0&&l!=null&&M(n,["_query","pageToken"],l),e}function c_(t){const n={},e=T(t,["config"]);return e!=null&&u_(e,n),n}function d_(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["fileSearchStores"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["fileSearchStores"],o)}return n}function f_(t,n){const e={},r=T(t,["mimeType"]);n!==void 0&&r!=null&&M(n,["mimeType"],r);const l=T(t,["displayName"]);n!==void 0&&l!=null&&M(n,["displayName"],l);const o=T(t,["customMetadata"]);if(n!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(a=>a)),M(n,["customMetadata"],u)}const s=T(t,["chunkingConfig"]);return n!==void 0&&s!=null&&M(n,["chunkingConfig"],s),e}function h_(t){const n={},e=T(t,["fileSearchStoreName"]);e!=null&&M(n,["_url","file_search_store_name"],e);const r=T(t,["config"]);return r!=null&&f_(r,n),n}function p_(t){const n={},e=T(t,["sdkHttpResponse"]);return e!=null&&M(n,["sdkHttpResponse"],e),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m_(t,n){const e={},r=T(t,["force"]);return n!==void 0&&r!=null&&M(n,["_query","force"],r),e}function g_(t){const n={},e=T(t,["name"]);e!=null&&M(n,["_url","name"],e);const r=T(t,["config"]);return r!=null&&m_(r,n),n}function y_(t){const n={},e=T(t,["name"]);return e!=null&&M(n,["_url","name"],e),n}function b_(t,n){const e={},r=T(t,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const l=T(t,["pageToken"]);return n!==void 0&&l!=null&&M(n,["_query","pageToken"],l),e}function v_(t){const n={},e=T(t,["parent"]);e!=null&&M(n,["_url","parent"],e);const r=T(t,["config"]);return r!=null&&b_(r,n),n}function x_(t){const n={},e=T(t,["sdkHttpResponse"]);e!=null&&M(n,["sdkHttpResponse"],e);const r=T(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const l=T(t,["documents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>s)),M(n,["documents"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w_ extends gr{constructor(n){super(),this.apiClient=n,this.list=async e=>new di(hr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:e.parent,config:r.config}),await this.listInternal(e),e)}async get(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=y_(n);return o=Me("{name}",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>a)}}async delete(n){var e,r;let l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=g_(n);l=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=v_(n);return o=Me("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>{const i=x_(a),c=new Qv;return Object.assign(c,i),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class __ extends gr{constructor(n,e=new w_(n)){super(),this.apiClient=n,this.documents=e,this.list=async(r={})=>new di(hr.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(r),r)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=t_(n);return o=Me("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>a)}}async get(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=i_(n);return o=Me("{name}",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>a)}}async delete(n){var e,r;let l="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=r_(n);l=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=c_(n);return o=Me("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>{const i=d_(a),c=new e2;return Object.assign(c,i),c})}}async uploadToFileSearchStoreInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h_(n);return o=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>{const i=p_(a),c=new t2;return Object.assign(c,i),c})}}async importFile(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a_(n);return o=Me("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),l.then(a=>{const i=o_(a),c=new Uc;return Object.assign(c,i),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(t,n){const e={},r=T(t,["name"]);return r!=null&&M(e,["_url","name"],r),e}function k_(t,n){const e={},r=T(t,["name"]);return r!=null&&M(e,["_url","name"],r),e}function C_(t,n,e){const r={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=T(t,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&M(n,["displayName"],l),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=T(t,["epochCount"]);n!==void 0&&o!=null&&M(n,["tuningTask","hyperparameters","epochCount"],o);const s=T(t,["learningRateMultiplier"]);if(s!=null&&M(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=T(t,["batchSize"]);n!==void 0&&u!=null&&M(n,["tuningTask","hyperparameters","batchSize"],u);const a=T(t,["learningRate"]);if(n!==void 0&&a!=null&&M(n,["tuningTask","hyperparameters","learningRate"],a),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(T(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function T_(t,n,e){const r={};let l=T(e,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=T(t,["validationDataset"]);n!==void 0&&f!=null&&M(n,["supervisedTuningSpec"],Bh(f))}else if(l==="PREFERENCE_TUNING"){const f=T(t,["validationDataset"]);n!==void 0&&f!=null&&M(n,["preferenceOptimizationSpec"],Bh(f))}const o=T(t,["tunedModelDisplayName"]);n!==void 0&&o!=null&&M(n,["tunedModelDisplayName"],o);const s=T(t,["description"]);n!==void 0&&s!=null&&M(n,["description"],s);let u=T(e,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=T(t,["epochCount"]);n!==void 0&&f!=null&&M(n,["supervisedTuningSpec","hyperParameters","epochCount"],f)}else if(u==="PREFERENCE_TUNING"){const f=T(t,["epochCount"]);n!==void 0&&f!=null&&M(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],f)}let a=T(e,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=T(t,["learningRateMultiplier"]);n!==void 0&&f!=null&&M(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f)}else if(a==="PREFERENCE_TUNING"){const f=T(t,["learningRateMultiplier"]);n!==void 0&&f!=null&&M(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],f)}let i=T(e,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const f=T(t,["exportLastCheckpointOnly"]);n!==void 0&&f!=null&&M(n,["supervisedTuningSpec","exportLastCheckpointOnly"],f)}else if(i==="PREFERENCE_TUNING"){const f=T(t,["exportLastCheckpointOnly"]);n!==void 0&&f!=null&&M(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],f)}let c=T(e,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=T(t,["adapterSize"]);n!==void 0&&f!=null&&M(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f)}else if(c==="PREFERENCE_TUNING"){const f=T(t,["adapterSize"]);n!==void 0&&f!=null&&M(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],f)}if(T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=T(t,["labels"]);n!==void 0&&h!=null&&M(n,["labels"],h);const d=T(t,["beta"]);return n!==void 0&&d!=null&&M(n,["preferenceOptimizationSpec","hyperParameters","beta"],d),r}function E_(t,n){const e={},r=T(t,["baseModel"]);r!=null&&M(e,["baseModel"],r);const l=T(t,["preTunedModel"]);l!=null&&M(e,["preTunedModel"],l);const o=T(t,["trainingDataset"]);o!=null&&F_(o);const s=T(t,["config"]);return s!=null&&C_(s,e),e}function N_(t,n){const e={},r=T(t,["baseModel"]);r!=null&&M(e,["baseModel"],r);const l=T(t,["preTunedModel"]);l!=null&&M(e,["preTunedModel"],l);const o=T(t,["trainingDataset"]);o!=null&&B_(o,e,n);const s=T(t,["config"]);return s!=null&&T_(s,e,n),e}function A_(t,n){const e={},r=T(t,["name"]);return r!=null&&M(e,["_url","name"],r),e}function I_(t,n){const e={},r=T(t,["name"]);return r!=null&&M(e,["_url","name"],r),e}function M_(t,n,e){const r={},l=T(t,["pageSize"]);n!==void 0&&l!=null&&M(n,["_query","pageSize"],l);const o=T(t,["pageToken"]);n!==void 0&&o!=null&&M(n,["_query","pageToken"],o);const s=T(t,["filter"]);return n!==void 0&&s!=null&&M(n,["_query","filter"],s),r}function R_(t,n,e){const r={},l=T(t,["pageSize"]);n!==void 0&&l!=null&&M(n,["_query","pageSize"],l);const o=T(t,["pageToken"]);n!==void 0&&o!=null&&M(n,["_query","pageToken"],o);const s=T(t,["filter"]);return n!==void 0&&s!=null&&M(n,["_query","filter"],s),r}function P_(t,n){const e={},r=T(t,["config"]);return r!=null&&M_(r,e),e}function D_(t,n){const e={},r=T(t,["config"]);return r!=null&&R_(r,e),e}function j_(t,n){const e={},r=T(t,["sdkHttpResponse"]);r!=null&&M(e,["sdkHttpResponse"],r);const l=T(t,["nextPageToken"]);l!=null&&M(e,["nextPageToken"],l);const o=T(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>H0(u))),M(e,["tuningJobs"],s)}return e}function L_(t,n){const e={},r=T(t,["sdkHttpResponse"]);r!=null&&M(e,["sdkHttpResponse"],r);const l=T(t,["nextPageToken"]);l!=null&&M(e,["nextPageToken"],l);const o=T(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Lu(u))),M(e,["tuningJobs"],s)}return e}function O_(t,n){const e={},r=T(t,["name"]);r!=null&&M(e,["model"],r);const l=T(t,["name"]);return l!=null&&M(e,["endpoint"],l),e}function F_(t,n){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=T(t,["examples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>o)),M(e,["examples","examples"],l)}return e}function B_(t,n,e){const r={};let l=T(e,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const s=T(t,["gcsUri"]);n!==void 0&&s!=null&&M(n,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(l==="PREFERENCE_TUNING"){const s=T(t,["gcsUri"]);n!==void 0&&s!=null&&M(n,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=T(e,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=T(t,["vertexDatasetResource"]);n!==void 0&&s!=null&&M(n,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=T(t,["vertexDatasetResource"]);n!==void 0&&s!=null&&M(n,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function H0(t,n){const e={},r=T(t,["sdkHttpResponse"]);r!=null&&M(e,["sdkHttpResponse"],r);const l=T(t,["name"]);l!=null&&M(e,["name"],l);const o=T(t,["state"]);o!=null&&M(e,["state"],k0(o));const s=T(t,["createTime"]);s!=null&&M(e,["createTime"],s);const u=T(t,["tuningTask","startTime"]);u!=null&&M(e,["startTime"],u);const a=T(t,["tuningTask","completeTime"]);a!=null&&M(e,["endTime"],a);const i=T(t,["updateTime"]);i!=null&&M(e,["updateTime"],i);const c=T(t,["description"]);c!=null&&M(e,["description"],c);const h=T(t,["baseModel"]);h!=null&&M(e,["baseModel"],h);const d=T(t,["_self"]);return d!=null&&M(e,["tunedModel"],O_(d)),e}function Lu(t,n){const e={},r=T(t,["sdkHttpResponse"]);r!=null&&M(e,["sdkHttpResponse"],r);const l=T(t,["name"]);l!=null&&M(e,["name"],l);const o=T(t,["state"]);o!=null&&M(e,["state"],k0(o));const s=T(t,["createTime"]);s!=null&&M(e,["createTime"],s);const u=T(t,["startTime"]);u!=null&&M(e,["startTime"],u);const a=T(t,["endTime"]);a!=null&&M(e,["endTime"],a);const i=T(t,["updateTime"]);i!=null&&M(e,["updateTime"],i);const c=T(t,["error"]);c!=null&&M(e,["error"],c);const h=T(t,["description"]);h!=null&&M(e,["description"],h);const d=T(t,["baseModel"]);d!=null&&M(e,["baseModel"],d);const f=T(t,["tunedModel"]);f!=null&&M(e,["tunedModel"],f);const b=T(t,["preTunedModel"]);b!=null&&M(e,["preTunedModel"],b);const y=T(t,["supervisedTuningSpec"]);y!=null&&M(e,["supervisedTuningSpec"],y);const p=T(t,["preferenceOptimizationSpec"]);p!=null&&M(e,["preferenceOptimizationSpec"],p);const g=T(t,["tuningDataStats"]);g!=null&&M(e,["tuningDataStats"],g);const m=T(t,["encryptionSpec"]);m!=null&&M(e,["encryptionSpec"],m);const x=T(t,["partnerModelTuningSpec"]);x!=null&&M(e,["partnerModelTuningSpec"],x);const C=T(t,["customBaseModel"]);C!=null&&M(e,["customBaseModel"],C);const I=T(t,["experiment"]);I!=null&&M(e,["experiment"],I);const D=T(t,["labels"]);D!=null&&M(e,["labels"],D);const z=T(t,["outputUri"]);z!=null&&M(e,["outputUri"],z);const O=T(t,["pipelineJob"]);O!=null&&M(e,["pipelineJob"],O);const B=T(t,["serviceAccount"]);B!=null&&M(e,["serviceAccount"],B);const V=T(t,["tunedModelDisplayName"]);V!=null&&M(e,["tunedModelDisplayName"],V);const q=T(t,["veoTuningSpec"]);return q!=null&&M(e,["veoTuningSpec"],q),e}function U_(t,n){const e={},r=T(t,["sdkHttpResponse"]);r!=null&&M(e,["sdkHttpResponse"],r);const l=T(t,["name"]);l!=null&&M(e,["name"],l);const o=T(t,["metadata"]);o!=null&&M(e,["metadata"],o);const s=T(t,["done"]);s!=null&&M(e,["done"],s);const u=T(t,["error"]);return u!=null&&M(e,["error"],u),e}function Bh(t,n){const e={},r=T(t,["gcsUri"]);r!=null&&M(e,["validationDatasetUri"],r);const l=T(t,["vertexDatasetResource"]);return l!=null&&M(e,["validationDatasetUri"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z_ extends gr{constructor(n){super(),this.apiClient=n,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new di(hr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(e),e),this.tune=async e=>{var r;if(this.apiClient.isVertexAI())if(e.baseModel.startsWith("projects/")){const l={tunedModelName:e.baseModel};!((r=e.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(l.checkpointId=e.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},e),{preTunedModel:l});return o.baseModel=void 0,await this.tuneInternal(o)}else{const l=Object.assign({},e);return await this.tuneInternal(l)}else{const l=Object.assign({},e),o=await this.tuneMldevInternal(l);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Au.JOB_STATE_QUEUED}}}}async getInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=I_(n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>Lu(c))}else{const i=A_(n);return u=Me("{name}",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>H0(c))}}async listInternal(n){var e,r,l,o;let s,u="",a={};if(this.apiClient.isVertexAI()){const i=D_(n);return u=Me("tuningJobs",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=L_(c),d=new bh;return Object.assign(d,h),d})}else{const i=P_(n);return u=Me("tunedModels",i._url),a=i._query,delete i._url,delete i._query,s=this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(i),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=j_(c),d=new bh;return Object.assign(d,h),d})}}async cancel(n){var e,r,l,o;let s="",u={};if(this.apiClient.isVertexAI()){const a=k_(n);s=Me("{name}:cancel",a._url),u=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=S_(n);s=Me("{name}:cancel",a._url),u=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=N_(n,n);return o=Me("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(i=>{const c=i;return c.sdkHttpResponse={headers:a.headers},c})),l.then(a=>Lu(a))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var e,r;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=E_(n);return o=Me("tunedModels",u._url),s=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=n.config)===null||e===void 0?void 0:e.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(i=>{const c=i;return c.sdkHttpResponse={headers:a.headers},c})),l.then(a=>U_(a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V_{async download(n,e){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const H_=1024*1024*8,$_=3,q_=1e3,G_=2,ka="x-goog-upload-status";async function W_(t,n,e){var r;const l=await $0(t,n,e),o=await(l==null?void 0:l.json());if(((r=l==null?void 0:l.headers)===null||r===void 0?void 0:r[ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function K_(t,n,e){var r;const l=await $0(t,n,e),o=await(l==null?void 0:l.json());if(((r=l==null?void 0:l.headers)===null||r===void 0?void 0:r[ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=b0(o),u=new zc;return Object.assign(u,s),u}async function $0(t,n,e){var r,l;let o=0,s=0,u=new Iu(new Response),a="upload";for(o=t.size;s<o;){const i=Math.min(H_,o-s),c=t.slice(s,s+i);s+i>=o&&(a+=", finalize");let h=0,d=q_;for(;h<$_&&(u=await e.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(s),"Content-Length":String(i)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[ka]));)h++,await J_(d),d=d*G_;if(s+=i,((l=u==null?void 0:u.headers)===null||l===void 0?void 0:l[ka])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Y_(t){return{size:t.size,type:t.type}}function J_(t){return new Promise(n=>setTimeout(n,t))}class X_{async upload(n,e,r){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await W_(n,e,r)}async uploadToFileSearchStore(n,e,r){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await K_(n,e,r)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await Y_(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z_{create(n,e,r){return new Q_(n,e,r)}}class Q_{constructor(n,e,r){this.url=n,this.headers=e,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh="x-goog-api-key";class e6{constructor(n){this.apiKey=n}async addAuthHeaders(n,e){if(n.get(Uh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Uh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t6="gl-node/";class Gr{constructor(n){var e;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(e=n.vertexai)!==null&&e!==void 0?e:!1,this.apiKey=n.apiKey;const r=Rv(n.httpOptions,n.vertexai,void 0,void 0);r&&(n.httpOptions?n.httpOptions.baseUrl=r:n.httpOptions={baseUrl:r}),this.apiVersion=n.apiVersion;const l=new e6(this.apiKey);this.apiClient=new y4({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:t6+"web",uploader:new X_,downloader:new V_}),this.models=new L4(this.apiClient),this.live=new I4(this.apiClient,l,new Z_),this.batches=new ax(this.apiClient),this.chats=new Vx(this.models,this.apiClient),this.caches=new Bx(this.apiClient),this.files=new Zx(this.apiClient),this.operations=new O4(this.apiClient),this.authTokens=new Q4(this.apiClient),this.tunings=new z_(this.apiClient),this.fileSearchStores=new __(this.apiClient)}}const n6=({text:t})=>{const n=t.split(/(```[\s\S]*?```)/g);return A.jsx("div",{className:"text-sm leading-relaxed text-gray-700 space-y-2",children:n.map((e,r)=>{if(e.startsWith("```")){const l=e.slice(3,-3);return A.jsx("div",{className:"bg-gray-900 text-gray-100 p-3 rounded-md font-mono text-xs my-2 overflow-x-auto custom-scrollbar",children:A.jsx("pre",{children:l})},r)}return A.jsx("p",{className:"whitespace-pre-wrap",children:e},r)})})},q0=({freelancers:t,projects:n,assignments:e,onCallAction:r,agentMode:l,customTitle:o,customSystemInstruction:s,customTools:u,contextData:a})=>{const[i,c]=ae.useState([]),[h,d]=ae.useState(""),[f,b]=ae.useState(!1),y=ae.useRef(null),p=()=>{var m;(m=y.current)==null||m.scrollIntoView({behavior:"smooth"})};ae.useEffect(()=>{p()},[i]);const g=async()=>{if(!h.trim())return;const m=h;d(""),b(!0),c(x=>[...x,{role:"user",parts:[{text:m}]}]);try{const x=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'});let C=s||`You are Studio Roster AI. 
            You have access to:
            - ${t.length} freelancers
            - ${n.length} projects
            - ${e.length} assignments
            
            Current Date: ${new Date().toLocaleDateString()}
            `;a&&(C+=`

Context Data:
${a}`);let I;u?I=[{functionDeclarations:u}]:r&&(I=[{functionDeclarations:[{name:"create_project",description:"Create a new project",parameters:{type:Ye.OBJECT,properties:{name:{type:Ye.STRING},clientName:{type:Ye.STRING}},required:["name"]}},{name:"create_freelancer",description:"Add a new freelancer",parameters:{type:Ye.OBJECT,properties:{name:{type:Ye.STRING},role:{type:Ye.STRING}},required:["name","role"]}},{name:"assign_freelancer",description:"Assign a freelancer to a project",parameters:{type:Ye.OBJECT,properties:{projectId:{type:Ye.STRING},freelancerId:{type:Ye.STRING},role:{type:Ye.STRING}},required:["projectId","freelancerId"]}}]}]);const D=[...i,{role:"user",parts:[{text:m}]}],z=await x.models.generateContent({model:"gemini-2.5-flash",contents:D,config:{systemInstruction:C,tools:I}}),O=z.text,B=z.functionCalls;if(B&&B.length>0&&r)for(const V of B){const q=await r(V.name,V.args);c(H=>[...H,{role:"model",parts:[{text:`Executed ${V.name}: ${JSON.stringify(q)}`}]}])}else O&&c(V=>[...V,{role:"model",parts:[{text:O}]}])}catch(x){console.error(x),c(C=>[...C,{role:"model",parts:[{text:"I'm having trouble connecting right now."}]}])}finally{b(!1)}};return A.jsxs("div",{className:`flex flex-col h-full bg-white ${l?"":"rounded-2xl border border-gray-100 shadow-sm"}`,children:[A.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-lg flex items-center justify-center",children:A.jsx(Il,{size:18})}),A.jsxs("div",{children:[A.jsx("div",{className:"text-sm font-bold text-gray-900",children:o||"Studio Intelligence"}),A.jsxs("div",{className:"text-[10px] text-gray-500 font-medium flex items-center gap-1",children:[A.jsx($r,{size:10,className:"text-emerald-500"})," Gemini 2.5 Flash"]})]})]}),l&&A.jsx("button",{className:"text-gray-400 hover:text-gray-900 transition-colors",children:A.jsx(xv,{size:16})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[i.length===0&&A.jsxs("div",{className:"text-center text-gray-400 mt-10",children:[A.jsx(p0,{size:32,className:"mx-auto mb-3 opacity-50"}),A.jsx("p",{className:"text-sm font-medium",children:"How can I help you manage the studio today?"})]}),i.map((m,x)=>A.jsxs("div",{className:`flex gap-4 ${m.role==="user"?"flex-row-reverse":""}`,children:[A.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${m.role==="user"?"bg-gray-900 text-white":"bg-indigo-50 text-indigo-600"}`,children:m.role==="user"?A.jsx(Fc,{size:14}):A.jsx(Il,{size:14})}),A.jsx("div",{className:`max-w-[80%] rounded-2xl p-4 text-sm ${m.role==="user"?"bg-gray-900 text-white":"bg-gray-50 text-gray-800"}`,children:A.jsx(n6,{text:m.parts[0].text||""})})]},x)),f&&A.jsxs("div",{className:"flex gap-4",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center flex-shrink-0",children:A.jsx(Il,{size:14})}),A.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 flex items-center gap-2 text-gray-400",children:[A.jsx(_n,{size:16,className:"animate-spin"})," Thinking..."]})]}),A.jsx("div",{ref:y})]}),A.jsx("div",{className:"p-4 border-t border-gray-100",children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:outline-none focus:border-indigo-500 focus:bg-white transition-all shadow-sm placeholder-gray-400",placeholder:"Ask anything...",value:h,onChange:m=>d(m.target.value),onKeyDown:m=>m.key==="Enter"&&g()}),A.jsx("button",{onClick:g,disabled:!h.trim()||f,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors shadow-sm",children:A.jsx(yv,{size:14})})]})})]})},r6=t=>new Promise(n=>setTimeout(n,t)),Wr=async(t,n,e=3)=>{try{return await t.models.generateContent(n)}catch(r){if(e>0)return await r6(1e3),Wr(t,n,e-1);throw r}},G0="studio_roster_v1_",ar=(t,n)=>{try{const e=localStorage.getItem(G0+t);return e?JSON.parse(e):n}catch(e){return console.error(`Failed to load ${t}`,e),n}},Mt=(t,n)=>{try{localStorage.setItem(G0+t,JSON.stringify(n))}catch(e){console.error(`Failed to save ${t}`,e)}};let Yt=ar("freelancers",[]),zt=ar("projects",[]),dn=ar("assignments",[]),_r=ar("scripts",[]),nr=ar("assets",[]);const i6=async(t,n={},e=15e3)=>{const r=new AbortController,{signal:l}=r,o=fetch(t,{...n,signal:l}),s=new Promise((u,a)=>{setTimeout(()=>{r.abort(),a(new Error("Request timed out"))},e)});return Promise.race([o,s])};async function vt(t,n){try{const e={...(n==null?void 0:n.headers)||{},"Cache-Control":"no-store, no-cache, must-revalidate",Pragma:"no-cache"},r=(n==null?void 0:n.timeout)||3e4,l=await i6(t,{...n,headers:e},r);if(l.status===401)throw console.warn("Session expired or unauthorized. Redirecting..."),new Error("Unauthorized");const o=l.headers.get("content-type");if(o&&o.includes("text/html"))throw new Error("Backend unavailable (Received HTML fallback)");if(l.status===404)throw new Error(`Endpoint not found: ${t}`);if(l.status===502||l.status===503||l.status===504)throw new Error("Backend unavailable (Gateway Error)");let s=null;try{s=await l.json()}catch{if(l.ok&&l.status===204)return{success:!0};if(l.ok)return{success:!0,data:{}};throw new Error("Invalid JSON response")}if(!l.ok){const u=s==null?void 0:s.error,a=(u==null?void 0:u.message)||l.statusText||"Unknown Error";throw new Error(a)}return s.data===void 0&&(Array.isArray(s)||s.id||s.email||s.name||s.bucket)?{data:s,success:!0}:s}catch(e){throw e}}const s6=async(t,n)=>{var o;const e=new FormData;e.append("file",t),n&&e.append("projectId",n);const l=(await vt("/api/assets/upload",{method:"POST",body:e,timeout:6e5})).data;if(!l.url&&!l.publicUrl)try{const s=await vt(`/api/assets/${l.id}/url`);l.url=(o=s.data)==null?void 0:o.url}catch{console.warn("Could not sign URL for asset",l.id)}else l.publicUrl&&(l.url=l.publicUrl);return l},it={auth:{login:async t=>{const n={id:"u1",name:"Studio Admin",contactInfo:t,role:"Admin",avatar:"https://ui-avatars.com/api/?name=Admin&background=random"};return localStorage.setItem("studio_roster_v1_auth_token","mock-jwt"),localStorage.setItem("studio_roster_v1_auth_user",JSON.stringify(n)),{data:{accessToken:"mock-jwt",user:n},success:!0}}},assets:{list:async()=>{try{const t=await vt("/api/assets");return nr=t.data||[],Mt("assets",nr),t}catch(t){return console.error("Assets API Error:",t),{data:nr,success:!0,message:"Offline Mode (Cached)"}}},upload:async(t,n)=>{try{const e=await s6(t,n);return nr=[e,...nr],Mt("assets",nr),{data:e,success:!0}}catch(e){throw console.error("Upload failed:",e.message||e),e}},delete:async t=>{try{await vt(`/api/assets/${t}`,{method:"DELETE"})}catch{console.warn("Delete failed online, removing locally")}return nr=nr.filter(n=>n.id!==t),Mt("assets",nr),{data:!0,success:!0}}},storage:{getInfo:async()=>{try{return await vt("/api/storage/info")}catch{return{data:{bucket:"Unknown",configured:!1,projectId:""},success:!1}}}},freelancers:{list:async t=>{try{const n=await vt("/api/freelancers");return Yt=n.data||[],Mt("freelancers",Yt),n}catch{return{data:Yt,success:!0,message:"Offline Mode (Cached)"}}},create:async t=>{try{const n=await vt("/api/freelancers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Yt=[...Yt,n.data],Mt("freelancers",Yt),n}catch{return Yt.push(t),Mt("freelancers",Yt),{data:t,success:!0}}},update:async t=>{try{const n=await vt(`/api/freelancers/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Yt=Yt.map(e=>e.id===t.id?n.data:e),Mt("freelancers",Yt),n}catch{return Yt=Yt.map(e=>e.id===t.id?t:e),Mt("freelancers",Yt),{data:t,success:!0}}},delete:async t=>{try{await vt(`/api/freelancers/${t}`,{method:"DELETE"})}catch{}return Yt=Yt.filter(n=>n.id!==t),Mt("freelancers",Yt),{data:!0,success:!0}},importBatch:async t=>{try{return await vt("/api/freelancers/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{return{data:{created:0,updated:0,errors:[]},success:!1}}}},projects:{list:async t=>{try{const n=await vt("/api/projects");return zt=n.data||[],Mt("projects",zt),n}catch{return{data:zt,success:!0,message:"Offline Mode (Cached)"}}},create:async t=>{try{const n=await vt("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return zt=[...zt,n.data],Mt("projects",zt),n}catch{return zt.push(t),Mt("projects",zt),{data:t,success:!0}}},update:async t=>{try{const n=await vt(`/api/projects/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return zt=zt.map(e=>e.id===t.id?n.data:e),Mt("projects",zt),n}catch{return zt=zt.map(e=>e.id===t.id?t:e),Mt("projects",zt),{data:t,success:!0}}},delete:async t=>{try{await vt(`/api/projects/${t}`,{method:"DELETE"})}catch{}return zt=zt.filter(n=>n.id!==t),Mt("projects",zt),{data:!0,success:!0}},deleteBatch:async t=>{try{await vt("/api/projects/batch-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{}return zt=zt.filter(n=>!t.includes(n.id)),Mt("projects",zt),{data:!0,success:!0}},importBatch:async t=>{try{return await vt("/api/projects/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{return{data:{created:0,updated:0},success:!1}}}},assignments:{list:async t=>{try{const n=await vt("/api/assignments");return dn=n.data||[],Mt("assignments",dn),n}catch{return{data:dn,success:!0}}},create:async t=>{try{const n=await vt("/api/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return dn=[...dn,n.data],Mt("assignments",dn),n}catch{return dn.push(t),Mt("assignments",dn),{data:t,success:!0}}},update:async t=>{try{const n=await vt(`/api/assignments/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return dn=dn.map(e=>e.id===t.id?n.data:e),Mt("assignments",dn),n}catch{return dn=dn.map(e=>e.id===t.id?t:e),Mt("assignments",dn),{data:t,success:!0}}}},scripts:{list:async t=>{try{const n=await vt("/api/scripts");return _r=n.data||[],Mt("scripts",_r),n}catch{return{data:_r,success:!0}}},create:async t=>{try{const n=await vt("/api/scripts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return _r=[..._r,n.data],Mt("scripts",_r),n}catch{return _r.push(t),Mt("scripts",_r),{data:t,success:!0}}},findByProject:async t=>{try{return await vt(`/api/scripts/project/${t}`)}catch{return{data:[],success:!0}}}},drive:{listTeamAssets:async()=>{try{return await vt("/api/google/drive/team-assets")}catch{}return{data:[],success:!0}}},moodboard:{list:async t=>{try{if(t)return await vt(`/api/moodboard/${t}`)}catch{}return{data:[],success:!0}},linkAsset:async(t,n)=>await vt(`/api/moodboard/${t}/link-asset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:n})}),create:async t=>await vt(`/api/moodboard/${t.projectId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),update:async t=>{try{return await vt(`/api/moodboard/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{return{data:t,success:!0}}},delete:async t=>{try{await vt(`/api/moodboard/${t}`,{method:"DELETE"})}catch{}return{data:!0,success:!0}}},knowledge:{createFromAsset:async(t,n,e)=>await vt("/api/knowledge/create-from-asset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:t,assetId:n})}),delete:async t=>{try{await vt(`/api/knowledge/${t}`,{method:"DELETE"})}catch{}return{data:!0,success:!0}}},suggestions:{get:async()=>[]}},o6=()=>{const[t,n]=ae.useState([]),[e,r]=ae.useState(!1),[l,o]=ae.useState(!1),[s,u]=ae.useState(!1),[a,i]=ae.useState("connected"),[c,h]=ae.useState(""),d=ae.useCallback(async()=>{u(!0);try{const[g,m]=await Promise.all([it.assets.list(),it.storage.getInfo()]);if(m.success&&m.data&&h(m.data.bucket),g.success&&g.data){const x=localStorage.getItem("local_asset_logic"),C=x?JSON.parse(x):{},I=g.data.map(D=>({id:D.id,name:D.fileName,mimeType:D.mimeType,size:D.sizeBytes,url:D.url||"",publicUrl:D.publicUrl,modifiedTime:D.createdAt?new Date(D.createdAt).toISOString():new Date().toISOString(),logic:C[D.id]||[],synced:!0}));n(I),g.message==="Offline Mode"?i("offline"):i("connected")}}catch(g){i("offline"),console.error("Failed to fetch assets",g)}finally{u(!1)}},[]);ae.useEffect(()=>{d()},[d]);const f=ae.useCallback(async(g,m)=>{n(x=>{const C=x.find(O=>O.id===g);if(!C)return x;const I=m(C),D=x.map(O=>O.id===g?I:O),z=D.reduce((O,B)=>({...O,[B.id]:B.logic}),{});return localStorage.setItem("local_asset_logic",JSON.stringify(z)),D})},[]),b=ae.useCallback(async g=>{if(!g)return;o(!0);const m=Array.from(g).map(async I=>{try{const z=(await it.assets.upload(I)).data;if(z)return{id:z.id,name:z.fileName,mimeType:z.mimeType,size:z.sizeBytes,url:z.url||"",publicUrl:z.publicUrl,modifiedTime:z.createdAt?new Date(z.createdAt).toISOString():new Date().toISOString(),logic:[],synced:!0}}catch(D){console.error("Upload failed",D),alert(`Upload failed for ${I.name}: ${D.message}`)}return null}),C=(await Promise.all(m)).filter(Boolean);n(I=>[...C,...I]),o(!1)},[]),y=ae.useCallback(async g=>{try{await it.assets.delete(g),n(m=>m.filter(x=>x.id!==g))}catch(m){console.error("Delete failed",m),alert("Failed to delete asset from cloud storage.")}},[]),p=ae.useCallback(()=>{const g="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),m=document.createElement("a");m.setAttribute("href",g),m.setAttribute("download",`assets_export_${new Date().toISOString()}.json`),document.body.appendChild(m),m.click(),m.remove()},[t]);return{files:t,isDragging:e,setIsDragging:r,isUploading:l,isSyncing:s,updateFile:f,handleImport:b,handleExport:p,handleDelete:y,connectionStatus:a,bucketName:c,refresh:d}},W0=({type:t,value:n})=>{const e={script:"bg-emerald-50 text-emerald-700 border-emerald-100",trigger:"bg-amber-50 text-amber-700 border-amber-100",tag:"bg-indigo-50 text-indigo-700 border-indigo-100"},r={script:A.jsx(Xb,{size:10}),trigger:A.jsx(va,{size:10}),tag:A.jsx(xa,{size:10})};return A.jsxs("span",{className:`flex items-center gap-1 text-[9px] px-1.5 py-0.5 rounded border ${e[t]||e.tag} font-bold uppercase tracking-wider`,children:[r[t]||A.jsx(xa,{size:10})," ",n]})},a6=zu.memo(({file:t,viewMode:n,onSelect:e,isSelected:r,compact:l})=>{const o=n==="list",s=!t.publicUrl,u=a=>a.includes("image")?A.jsx(Ya,{className:"text-purple-500",size:l?16:20}):a.includes("video")?A.jsx(Gs,{className:"text-rose-500",size:l?16:20}):a.includes("pdf")?A.jsx(Qi,{className:"text-red-500",size:l?16:20}):A.jsx(rv,{className:"text-indigo-400",size:l?16:20});return A.jsxs("div",{onClick:()=>e(t),draggable:"true",onDragStart:a=>{const i=t.mimeType.startsWith("image/")?`![${t.name}](${t.url})`:`[${t.name}](${t.url})`;a.dataTransfer.setData("text/plain",i),a.dataTransfer.setData("application/json",JSON.stringify(t)),a.dataTransfer.effectAllowed="copy"},className:`
        group relative cursor-grab active:cursor-grabbing transition-all border select-none bg-white hover:-translate-y-0.5 hover:shadow-card
        ${r?"border-indigo-500 shadow-md ring-1 ring-indigo-500/20 z-10":"border-gray-100 hover:border-gray-200"}
        ${o?"flex items-center gap-3 p-2 rounded-lg":`rounded-xl ${l?"p-2":"p-3"} flex flex-col ${l?"gap-2":"gap-3"}`}
      `,children:[A.jsxs("div",{className:`${o?"w-8 h-8":"aspect-square"} flex items-center justify-center bg-gray-50 rounded-lg overflow-hidden relative border border-gray-50 group-hover:border-gray-100 transition-colors`,children:[t.mimeType.includes("image")&&t.url?A.jsx("img",{src:t.url,className:"w-full h-full object-cover",loading:"lazy"}):null,A.jsx("div",{className:`absolute inset-0 flex items-center justify-center -z-10 bg-gray-50 ${t.mimeType.includes("image")?"opacity-0 group-hover:opacity-10":""}`,children:u(t.mimeType)}),A.jsx("div",{className:"absolute top-1 left-1",children:s?A.jsx("div",{className:"bg-black/20 backdrop-blur-md rounded-full p-0.5 text-white",title:"Private (Signed URL)",children:A.jsx(dv,{size:8})}):A.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-indigo-500/80 backdrop-blur-md rounded-full p-0.5 text-white",title:"Public Access",children:A.jsx(m0,{size:8})})}),t.logic.length>0&&!l&&A.jsx("div",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-indigo-500 rounded-full shadow-sm ring-1 ring-white"})]}),A.jsxs("div",{className:`flex-1 min-w-0 ${!o&&"text-center"}`,children:[A.jsx("div",{className:`font-display font-semibold text-gray-900 truncate ${l?"text-[10px] tracking-tight":"text-xs"}`,children:t.name}),!l&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5 justify-center min-h-[1rem]",children:t.logic.slice(0,o?5:2).map(a=>A.jsx(W0,{type:a.type,value:a.value},a.id))}),!o&&A.jsxs("div",{className:"text-[9px] text-gray-400 mt-1.5 font-mono flex items-center justify-center gap-1 uppercase tracking-wide",children:[(Number(t.size||0)/1024).toFixed(1)," KB"]})]})]})]})}),l6=({file:t,onClose:n,onUpdate:e,onDelete:r})=>{const[l,o]=ae.useState(""),[s,u]=ae.useState("tag"),a=()=>{l&&(e(t.id,i=>({...i,logic:[...i.logic,{id:`logic-${Date.now()}`,type:s,value:l}]})),o(""))};return A.jsxs("div",{className:"w-72 border-l border-gray-100 bg-white h-full flex flex-col shadow-xl absolute right-0 top-0 z-20 animate-in slide-in-from-right duration-300",children:[A.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white/80 backdrop-blur-xl",children:[A.jsxs("h3",{className:"font-bold text-[10px] uppercase tracking-widest text-gray-500 flex items-center gap-2",children:[A.jsx(va,{size:12})," Metadata"]}),A.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-50 rounded-full text-gray-400 hover:text-gray-900 transition-colors",children:A.jsx(Rn,{size:14})})]}),A.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[A.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100",children:A.jsx(Qi,{className:"text-indigo-500",size:16})}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("div",{className:"text-xs font-bold text-gray-900 truncate",children:t.name}),A.jsx("div",{className:"text-[9px] text-gray-400 font-mono uppercase tracking-wide mt-0.5",children:t.mimeType.split("/")[1]})]})]})}),A.jsxs("div",{className:"mb-6",children:[A.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Smart Tags"}),A.jsxs("div",{className:"space-y-2",children:[t.logic.map(i=>A.jsxs("div",{className:"flex items-center justify-between p-2 bg-white border border-gray-100 rounded-lg shadow-sm group hover:border-indigo-100 transition-colors",children:[A.jsx(W0,{type:i.type,value:i.value}),A.jsx("button",{onClick:()=>e(t.id,c=>({...c,logic:c.logic.filter(h=>h.id!==i.id)})),className:"text-gray-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:A.jsx(Rn,{size:12})})]},i.id)),t.logic.length===0&&A.jsx("div",{className:"text-[10px] text-gray-300 italic text-center py-4 border border-dashed border-gray-100 rounded-lg",children:"No tags attached."})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",value:l,onChange:i=>o(i.target.value),placeholder:"Add tag...",className:"flex-1 px-3 py-2 text-[10px] font-medium border border-gray-200 rounded-lg outline-none focus:border-indigo-500 bg-white transition-colors placeholder-gray-300",onKeyDown:i=>i.key==="Enter"&&a()}),A.jsx("button",{onClick:a,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm transition-all",children:A.jsx($n,{size:14})})]}),A.jsx("div",{className:"pt-6 border-t border-gray-100 mt-6",children:A.jsxs("button",{onClick:()=>{r(t.id),n()},className:"w-full py-2.5 text-[10px] font-bold text-rose-600 bg-rose-50 hover:bg-rose-100 rounded-xl transition-colors uppercase tracking-widest flex items-center justify-center gap-2",children:[A.jsx(Rn,{size:12})," Delete Asset"]})})]})]})},u6=({onSelect:t,compact:n=!1})=>{const{files:e,isDragging:r,setIsDragging:l,isUploading:o,isSyncing:s,updateFile:u,handleImport:a,handleExport:i,handleDelete:c,connectionStatus:h,bucketName:d,refresh:f}=o6(),[b,y]=ae.useState(null),[p,g]=ae.useState(n?"list":"grid"),[m,x]=ae.useState(""),C=ae.useRef(null),I=e.filter(D=>D.name.toLowerCase().includes(m.toLowerCase()));return A.jsxs("div",{className:"h-full flex flex-col bg-white relative overflow-hidden",onDragOver:D=>{D.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:D=>{D.preventDefault(),l(!1),a(D.dataTransfer.files)},children:[r&&A.jsx("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-sm border-2 border-dashed border-indigo-500 m-4 rounded-2xl flex items-center justify-center animate-in fade-in duration-300",children:A.jsxs("div",{className:"flex flex-col items-center gap-3 animate-bounce",children:[A.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center shadow-sm",children:A.jsx(Wi,{size:32})}),A.jsx("h3",{className:"text-xs font-bold text-indigo-900 uppercase tracking-widest",children:"Drop to Import"})]})}),A.jsxs("div",{className:`border-b border-gray-100 bg-white/80 backdrop-blur-xl z-10 ${n?"p-3":"px-6 py-4"}`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsx("div",{children:A.jsxs("h1",{className:`font-display font-bold text-gray-900 flex items-center gap-2 ${n?"text-xs uppercase tracking-widest":"text-lg tracking-tight"}`,children:[A.jsx(ov,{className:"text-indigo-600",size:n?14:18}),n?"Local Assets":"Asset Repository"]})}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("button",{onClick:f,className:"p-2 text-gray-400 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",title:"Sync with Cloud",children:A.jsx(ba,{size:16,className:s||o?"animate-spin":""})}),!n&&A.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",title:"Export",children:A.jsx(Qb,{size:16})}),A.jsxs("button",{onClick:()=>{var D;return(D=C.current)==null?void 0:D.click()},disabled:o,className:`flex items-center justify-center gap-2 font-bold text-white bg-gray-900 hover:bg-black rounded-lg shadow-sm transition-all disabled:opacity-70 ${n?"w-6 h-6":"px-3 py-1.5 text-xs uppercase tracking-wide"}`,children:[o?A.jsx(ba,{size:12,className:"animate-spin"}):A.jsx($n,{size:12})," ",!n&&(o?"Syncing...":"Import")]}),A.jsx("input",{type:"file",multiple:!0,ref:C,className:"hidden",onChange:D=>a(D.target.files)})]})]}),A.jsxs("div",{className:"relative group",children:[A.jsx(Ja,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors"}),A.jsx("input",{type:"text",placeholder:"Filter assets...",value:m,onChange:D=>x(D.target.value),className:"w-full pl-9 pr-3 py-2 text-xs bg-gray-50/50 border border-gray-100 hover:border-gray-200 focus:border-indigo-500 focus:bg-white rounded-xl outline-none transition-all placeholder-gray-400 font-medium"})]})]}),A.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[A.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${n?"p-3":"p-6"}`,children:e.length===0?A.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 gap-3 opacity-60",children:[A.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-2xl flex items-center justify-center border border-gray-100",children:A.jsx(Jb,{size:20,className:"text-gray-300"})}),A.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"No Assets Found"})]}):A.jsx("div",{className:p==="grid"?`grid ${n?"grid-cols-2":"grid-cols-4"} gap-3`:"space-y-2",children:I.map(D=>A.jsx(a6,{file:D,viewMode:p,onSelect:z=>{y(z),t&&t(z)},isSelected:(b==null?void 0:b.id)===D.id,compact:n},D.id))})}),b&&!n&&A.jsx("div",{className:"relative w-72",children:A.jsx(l6,{file:b,onClose:()=>y(null),onUpdate:u,onDelete:c})})]}),!n&&A.jsxs("div",{className:"px-6 py-2 border-t border-gray-100 bg-white text-[10px] text-gray-400 flex justify-between items-center font-medium uppercase tracking-wider",children:[A.jsxs("span",{children:[e.length," Items ",d&&A.jsxs("span",{className:"text-indigo-400 ml-2",children:["@ ",d]})]}),A.jsxs("span",{className:`flex items-center gap-1.5 ${h==="connected"?"text-emerald-500":"text-gray-400"}`,children:[h==="connected"?A.jsx(Yb,{size:10}):A.jsx(kv,{size:10})," ",h==="connected"?"Cloud Synced":"Local Mode"]})]})]})},Co=({label:t,value:n,trend:e,icon:r,active:l=!1,delay:o=0})=>A.jsxs("div",{className:`
            relative overflow-hidden rounded-3xl p-5 flex flex-col justify-between h-full min-h-[120px] transition-all duration-700 hover:-translate-y-1 hover:shadow-float group
            ${l?"bg-ink-primary text-white shadow-card ring-1 ring-white/10":"bg-surface text-ink-primary shadow-soft border border-border-subtle"}
        `,style:{animationDelay:`${o}ms`},children:[l&&A.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-gradient-to-br from-edge-teal/20 to-edge-magenta/20 blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none"}),A.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[A.jsx("div",{className:`p-2 rounded-xl ${l?"bg-white/10 backdrop-blur-md":"bg-app border border-border-subtle"}`,children:A.jsx(r,{size:16,strokeWidth:2,className:l?"text-white":"text-ink-secondary"})}),e&&A.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-[9px] font-bold uppercase tracking-wider ${l?"bg-white/10 text-white":"bg-state-success-bg text-state-success border border-state-success/20"}`,children:[A.jsx(zb,{size:10})," ",e]})]}),A.jsxs("div",{className:"relative z-10 mt-3",children:[A.jsx("div",{className:"text-3xl font-display font-bold tracking-tighter leading-none mb-1",children:n}),A.jsx("div",{className:`text-[9px] font-bold uppercase tracking-widest flex items-center gap-2 ${l?"text-white/60":"text-ink-tertiary"}`,children:t})]})]}),c6=()=>{const t=new Date().getHours();return t<12?"Good Morning":t<18?"Good Afternoon":"Good Evening"},d6=({projectCount:t,urgentCount:n,assignments:e})=>{const r=new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),l=c6();return A.jsxs("div",{className:"bg-surface rounded-3xl p-5 relative overflow-hidden group h-full flex flex-col border border-border-subtle shadow-card hover:shadow-float transition-shadow duration-700",children:[A.jsx("div",{className:"absolute top-0 right-0 w-[250px] h-[250px] bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-primary/10 via-transparent to-transparent opacity-60 blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none"}),A.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-4",children:[A.jsx("div",{className:"flex items-center gap-2",children:A.jsx("span",{className:"text-[9px] font-bold text-ink-secondary uppercase tracking-widest border border-border-subtle px-2.5 py-1 rounded-md bg-app/50 backdrop-blur-sm font-mono",children:r})}),A.jsxs("span",{className:"text-[9px] font-bold text-edge-teal uppercase tracking-widest flex items-center gap-1.5 bg-white/80 border border-border-subtle/50 px-2 py-1 rounded-md backdrop-blur-sm",children:[A.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[A.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-edge-teal opacity-75"}),A.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-edge-teal"})]}),"System Optimal"]})]}),A.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-between animate-enter",children:[A.jsxs("div",{children:[A.jsxs("h1",{className:"text-3xl font-display font-bold text-ink-primary tracking-tighter leading-none mb-2",children:[l,"."]}),A.jsxs("p",{className:"text-xs text-ink-secondary font-medium mb-4 max-w-[90%] leading-relaxed text-balance",children:["Studio performance is nominal. You have ",A.jsxs("span",{className:"text-ink-primary font-bold",children:[e," active assignments"]})," across the roster."]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[A.jsx("div",{className:"flex flex-col justify-center p-3 rounded-xl bg-app/40 border border-border-subtle/60 hover:bg-white hover:border-border-hover transition-colors group/stat",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-border-subtle flex items-center justify-center text-primary font-bold text-xs shadow-sm group-hover/stat:scale-110 transition-transform",children:t}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-bold text-ink-primary tracking-tight",children:"Active"}),A.jsx("div",{className:"text-[9px] text-ink-tertiary uppercase tracking-widest font-semibold",children:"Campaigns"})]})]})}),A.jsx("div",{className:"flex flex-col justify-center p-3 rounded-xl bg-app/40 border border-border-subtle/60 hover:bg-white hover:border-border-hover transition-colors group/stat",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`w-8 h-8 rounded-lg border border-border-subtle flex items-center justify-center font-bold text-xs shadow-sm group-hover/stat:scale-110 transition-transform ${n>0?"bg-state-danger-bg text-state-danger border-state-danger/20":"bg-white text-ink-tertiary"}`,children:n}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-bold text-ink-primary tracking-tight",children:"Attention"}),A.jsx("div",{className:"text-[9px] text-ink-tertiary uppercase tracking-widest font-semibold",children:"Required"})]})]})})]})]})]})},f6=({projects:t})=>{const n=t.filter(e=>e.priority===Pn.URGENT||e.priority===Pn.HIGH).filter(e=>e.status!==Sn.DELIVERED&&e.status!==Sn.ARCHIVED).sort((e,r)=>e.dueDate&&r.dueDate?new Date(e.dueDate).getTime()-new Date(r.dueDate).getTime():0).slice(0,5);return A.jsxs("div",{className:"bg-surface rounded-3xl flex flex-col h-full overflow-hidden border border-border-subtle shadow-sm hover:shadow-card transition-shadow duration-500",children:[A.jsxs("div",{className:"px-6 py-5 border-b border-border-subtle flex justify-between items-center bg-surface/50 backdrop-blur-md",children:[A.jsxs("h3",{className:"text-[10px] font-bold text-ink-secondary uppercase tracking-widest flex items-center gap-2",children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-state-danger animate-pulse"}),"Critical Path"]}),A.jsx(yn,{to:"/projects",className:"text-[10px] font-bold text-ink-primary hover:text-primary uppercase tracking-widest transition-colors",children:"View Index"})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar bg-app/30",children:n.length===0?A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-ink-tertiary text-center opacity-60",children:[A.jsx(qb,{size:40,className:"mb-4 opacity-20"}),A.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"All Systems Normal"})]}):n.map(e=>A.jsxs(yn,{to:`/projects/${e.id}`,className:"block p-4 bg-white border border-border-subtle rounded-xl hover:border-primary/50 transition-colors group shadow-sm",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("span",{className:"font-bold text-xs text-ink-primary line-clamp-1 group-hover:text-primary transition-colors",children:e.name}),A.jsx("span",{className:`text-[9px] font-bold uppercase tracking-widest px-1.5 py-0.5 rounded ${e.priority===Pn.URGENT?"bg-state-danger-bg text-state-danger":"bg-state-warning-bg text-state-warning"}`,children:e.priority})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-[10px] text-ink-tertiary font-medium uppercase tracking-wide",children:e.clientName}),A.jsxs("span",{className:"text-[10px] text-ink-primary font-mono font-bold flex items-center gap-1",children:[A.jsx(Hb,{size:10,className:"text-ink-tertiary"}),e.dueDate?new Date(e.dueDate).toLocaleDateString(void 0,{month:"numeric",day:"numeric"}):"N/A"]})]})]},e.id))})]})},h6=({projects:t,freelancers:n,assignments:e,onCallAction:r})=>{const l=e.filter(u=>new Date(u.endDate)>=new Date).length,o=t.filter(u=>u.priority===Pn.URGENT||u.priority===Pn.HIGH).length,s=[{name:"create_project",description:"Create a new project in the system.",parameters:{type:Ye.OBJECT,properties:{name:{type:Ye.STRING,description:"Project name"},clientName:{type:Ye.STRING,description:"Client name"},description:{type:Ye.STRING,description:"Brief description"}},required:["name"]}},{name:"navigate",description:"Navigate to a specific page.",parameters:{type:Ye.OBJECT,properties:{path:{type:Ye.STRING,description:"Path to navigate to (e.g. /projects, /freelancers)"}},required:["path"]}}];return A.jsxs("div",{className:"p-8 max-w-[1800px] mx-auto space-y-8 animate-enter pb-24 font-sans text-ink-primary",children:[A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[280px]",children:[A.jsx("div",{className:"lg:col-span-2 h-full",children:A.jsx(d6,{projectCount:t.length,urgentCount:o,assignments:l})}),A.jsx("div",{className:"h-full",children:A.jsx(f6,{projects:t})})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[A.jsx(Co,{label:"Total Roster",value:n.length,icon:Tv,delay:100}),A.jsx(Co,{label:"Active Projects",value:t.filter(u=>u.status===Sn.IN_PROGRESS).length,icon:c0,active:!0,trend:"+12%",delay:200}),A.jsx(Co,{label:"Utilization",value:`${Math.round(e.length/(n.length||1)*100)}%`,icon:Lc,delay:300}),A.jsx(Co,{label:"Data Points",value:"1.2k",icon:Qs,delay:400})]}),A.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 h-[600px]",children:[A.jsx("div",{className:"xl:col-span-2 bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden flex flex-col",children:A.jsx(q0,{freelancers:n,projects:t,assignments:e,onCallAction:r,customTitle:"Studio Director AI",customSystemInstruction:"You are the Studio Director AI. You can manage projects, assign freelancers, and analyze studio performance.",customTools:s})}),A.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden flex flex-col p-6",children:[A.jsxs("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-widest mb-4 flex items-center gap-2",children:[A.jsx(Zb,{size:16})," Quick Access"]}),A.jsx("div",{className:"flex-1 overflow-hidden",children:A.jsx(u6,{compact:!0,onSelect:()=>{}})})]})]})]})},p6=({isOpen:t,onClose:n,onSave:e,initialData:r})=>{var b;const[l,o]=ae.useState({name:"",clientName:"",category:"",description:"",status:Sn.PLANNED,priority:Pn.NORMAL,roleRequirements:[],budget:"",startDate:"",dueDate:"",tags:[],notes:""}),[s,u]=ae.useState(""),[a,i]=ae.useState(!1),[c,h]=ae.useState("");ae.useEffect(()=>{var y;t&&(r?(o({...r}),h(((y=r.tags)==null?void 0:y.join(", "))||""),u("")):(o({name:"",clientName:"",category:"Social Media",description:"",status:Sn.PLANNED,priority:Pn.NORMAL,roleRequirements:[],budget:"",startDate:new Date().toISOString().split("T")[0],dueDate:"",tags:[],notes:""}),h(""),u("")))},[t,r]);const d=async()=>{if(!l.name&&!s){alert("Please enter a Project Name or provide Source Material.");return}i(!0);try{const y=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),p=`
        Role: Creative Producer AI.
        Task: Analyze the context and structure a project.
        
        CONTEXT: "${s||l.name}"
        CLIENT: ${l.clientName}

        Return JSON schema:
        {
          "narrative_brief": "String",
          "production_constraints": "String",
          "stylistic_tags": ["String"],
          "suggested_roles": [{ "role": "String", "count": Integer, "skills": ["String"] }]
        }
      `,m=(await Wr(y,{model:"gemini-2.5-flash",contents:p,config:{responseMimeType:"application/json"}})).text.replace(/```json/g,"").replace(/```/g,"").trim(),x=JSON.parse(m),C=(x.suggested_roles||[]).map((I,D)=>({id:`role-${Date.now()}-${D}`,role:I.role,count:I.count||1,filled:0,skillsRequired:I.skills||[]}));o(I=>({...I,description:x.narrative_brief,notes:x.production_constraints,roleRequirements:C.length>0?C:I.roleRequirements,tags:x.stylistic_tags||[]})),h((x.stylistic_tags||[]).join(", "))}catch(y){console.error("AI Generation failed",y)}finally{i(!1)}},f=y=>{y.preventDefault();const p=c.split(",").map(g=>g.trim()).filter(Boolean);e({...l,tags:p}),n()};return t?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/40 backdrop-blur-sm p-4 font-sans animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden border border-gray-200",children:[A.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-white",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-base font-semibold text-gray-900",children:r?"Edit Project":"New Project"}),A.jsx("p",{className:"text-xs text-gray-500",children:"Configure campaign parameters."})]}),A.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-900 transition-colors",children:A.jsx(Rn,{size:20})})]}),A.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[A.jsxs("div",{className:"w-full lg:w-80 bg-gray-50/50 border-r border-gray-100 p-6 flex flex-col gap-6 overflow-y-auto",children:[A.jsxs("div",{className:"flex-1 flex flex-col",children:[A.jsxs("label",{className:"text-[10px] font-bold text-indigo-900 uppercase tracking-wide mb-2 flex items-center gap-2",children:[A.jsx(jc,{size:12,className:"text-indigo-600"})," Auto-Config"]}),A.jsx("textarea",{className:"flex-1 w-full p-3 bg-white border border-indigo-100 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-xs resize-none shadow-sm placeholder-indigo-200 text-gray-700 leading-relaxed font-mono",placeholder:"Paste messy notes, emails, or briefs here. AI will structure the project.",value:s,onChange:y=>u(y.target.value)}),A.jsxs("button",{type:"button",onClick:d,disabled:a||!s&&!l.name,className:"mt-3 bg-indigo-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-indigo-700 shadow-sm disabled:opacity-50 transition-all flex items-center justify-center gap-2 uppercase tracking-wide",children:[a?A.jsx(_n,{size:12,className:"animate-spin"}):A.jsx($r,{size:12}),a?"Processing...":"Analyze & Fill"]})]}),A.jsxs("div",{className:"pt-6 border-t border-gray-200 space-y-4",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Name"}),A.jsx("input",{required:!0,className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none text-sm font-medium",value:l.name,onChange:y=>o({...l,name:y.target.value})})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Client"}),A.jsx("input",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none text-sm",value:l.clientName,onChange:y=>o({...l,clientName:y.target.value})})]})]})]}),A.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:A.jsxs("form",{id:"project-form",onSubmit:f,className:"space-y-8 max-w-3xl mx-auto",children:[A.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"text-[11px] font-semibold text-gray-700 flex items-center gap-2",children:[A.jsx(Qi,{size:14,className:"text-gray-400"})," Narrative Brief"]}),A.jsx("textarea",{className:"w-full p-4 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900/5 focus:border-gray-900 outline-none text-sm leading-relaxed min-h-[120px] shadow-sm font-sans",placeholder:"Core story...",value:l.description,onChange:y=>o({...l,description:y.target.value})})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"text-[11px] font-semibold text-gray-700 flex items-center gap-2",children:[A.jsx(Ga,{size:14,className:"text-gray-400"})," Constraints"]}),A.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900/5 focus:border-gray-900 outline-none text-xs font-mono min-h-[80px] text-gray-600",placeholder:"Tech specs...",value:l.notes,onChange:y=>o({...l,notes:y.target.value})})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-5 rounded-xl border border-gray-100 bg-white shadow-sm",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Status"}),A.jsx("select",{className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:l.status,onChange:y=>o({...l,status:y.target.value}),children:Object.values(Sn).map(y=>A.jsx("option",{value:y,children:y},y))})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Start"}),A.jsx("input",{type:"date",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:l.startDate?new Date(l.startDate).toISOString().split("T")[0]:"",onChange:y=>o({...l,startDate:y.target.value})})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Due"}),A.jsx("input",{type:"date",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:l.dueDate?new Date(l.dueDate).toISOString().split("T")[0]:"",onChange:y=>o({...l,dueDate:y.target.value})})]}),A.jsxs("div",{className:"col-span-2 md:col-span-4 mt-2",children:[A.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide flex items-center gap-1 mb-1",children:[A.jsx(xa,{size:12})," Tags"]}),A.jsx("input",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",placeholder:"Comma separated tags...",value:c,onChange:y=>h(y.target.value)})]})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Staffing Plan"}),A.jsxs("button",{type:"button",onClick:()=>o(y=>({...y,roleRequirements:[...y.roleRequirements||[],{id:`role-${Date.now()}`,role:"New",count:1,filled:0,skillsRequired:[]}]})),className:"text-indigo-600 hover:text-indigo-700 text-[10px] font-bold flex items-center gap-1 uppercase",children:[A.jsx($n,{size:12})," Add Role"]})]}),A.jsx("div",{className:"space-y-2",children:(b=l.roleRequirements)==null?void 0:b.map(y=>A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[A.jsx(Fc,{size:14,className:"text-gray-400"}),A.jsx("input",{className:"w-32 bg-transparent text-xs font-bold text-gray-900 border-none focus:ring-0 p-0",value:y.role,onChange:p=>{var m;const g=(m=l.roleRequirements)==null?void 0:m.map(x=>x.id===y.id?{...x,role:p.target.value}:x);o({...l,roleRequirements:g})}}),A.jsx("div",{className:"h-4 w-px bg-gray-200"}),A.jsx("input",{type:"number",className:"w-12 bg-transparent text-xs text-gray-600 border-none focus:ring-0 p-0 text-center",value:y.count,onChange:p=>{var m;const g=(m=l.roleRequirements)==null?void 0:m.map(x=>x.id===y.id?{...x,count:parseInt(p.target.value)}:x);o({...l,roleRequirements:g})}}),A.jsx("div",{className:"h-4 w-px bg-gray-200"}),A.jsx("input",{className:"flex-1 bg-transparent text-xs text-gray-500 border-none focus:ring-0 p-0",placeholder:"Required Skills...",value:y.skillsRequired.join(", "),onChange:p=>{var m;const g=(m=l.roleRequirements)==null?void 0:m.map(x=>x.id===y.id?{...x,skillsRequired:p.target.value.split(",")}:x);o({...l,roleRequirements:g})}}),A.jsx("button",{type:"button",onClick:()=>o(p=>{var g;return{...p,roleRequirements:(g=p.roleRequirements)==null?void 0:g.filter(m=>m.id!==y.id)}}),className:"text-gray-400 hover:text-rose-500",children:A.jsx(Xa,{size:14})})]},y.id))})]})]})})]}),A.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-white flex justify-end gap-3 z-10",children:[A.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-md text-xs transition-colors",children:"Cancel"}),A.jsx("button",{onClick:f,className:"px-5 py-2 bg-gray-900 text-white font-medium rounded-md text-xs hover:bg-black shadow-sm transition-all",children:r?"Update Project":"Create Project"})]})]})}):null},Ca=({children:t,variant:n="neutral",className:e=""})=>{const r={neutral:"bg-subtle text-ink-secondary border-transparent",success:"bg-state-success-bg text-state-success border-state-success/20",warning:"bg-state-warning-bg text-state-warning border-state-warning/20",danger:"bg-state-danger-bg text-state-danger border-state-danger/20",ai:"bg-primary-tint text-primary pl-2.5 pr-2 border-l-2 border-edge-teal"},l="inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest border";return A.jsxs("span",{className:`${l} ${r[n]} ${e}`,children:[n==="ai"&&A.jsx($r,{size:10,className:"text-edge-magenta"}),t]})},zo=({children:t,variant:n="primary",size:e="md",isLoading:r=!1,leftIcon:l,className:o="",disabled:s,...u})=>{const a="relative inline-flex items-center justify-center font-medium transition-all duration-200 ease-out rounded-sm disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-1",i={sm:"px-3 py-1.5 text-xs tracking-wide",md:"px-5 py-2.5 text-sm",lg:"px-6 py-3.5 text-base"},c={primary:"bg-primary hover:bg-primary-hover text-ink-inverse shadow-sm focus:ring-primary/40 border border-transparent",secondary:"bg-surface border border-border-subtle text-ink-primary hover:bg-subtle/50 hover:border-border-hover focus:ring-border-subtle shadow-sm",ghost:"bg-transparent text-ink-secondary hover:text-ink-primary hover:bg-subtle/50",danger:"bg-state-danger text-white hover:bg-red-700 shadow-sm focus:ring-red-500/40"};return A.jsxs("button",{className:`
        ${a}
        ${i[e]}
        ${c[n]}
        ${o}
      `,disabled:s||r,...u,children:[r&&A.jsx(_n,{size:16,className:"animate-spin mr-2"}),!r&&l&&A.jsx("span",{className:"mr-2 opacity-90",children:l}),A.jsx("span",{className:r?"opacity-0":"opacity-100",children:t})]})},m6=({projects:t,onCreate:n,onUpdate:e,onDelete:r,onBulkDelete:l})=>{const[o,s]=ae.useState(""),[u,a]=ae.useState(new Set),[i,c]=ae.useState(!1),[h,d]=ae.useState(void 0),[f,b]=ae.useState({status:"",priority:""}),[y,p]=ae.useState({key:"dueDate",direction:"asc"}),g=ae.useMemo(()=>t.filter(D=>{const z=D.name.toLowerCase().includes(o.toLowerCase())||(D.clientName||"").toLowerCase().includes(o.toLowerCase()),O=f.status?D.status===f.status:!0;return z&&O}).sort((D,z)=>y.direction==="asc"?1:-1),[t,o,f,y]),m=()=>{u.size===g.length&&g.length>0?a(new Set):a(new Set(g.map(D=>D.id)))},x=D=>{const z=new Set(u);z.has(D)?z.delete(D):z.add(D),a(z)},C=D=>{switch(D){case Sn.DELIVERED:return"success";case Sn.REVIEW:return"warning";case Sn.IN_PROGRESS:return"ai";default:return"neutral"}},I=D=>{switch(D){case Pn.URGENT:return"danger";case Pn.HIGH:return"warning";case Pn.NORMAL:return"ai";default:return"neutral"}};return A.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto space-y-8 font-sans text-ink-primary animate-enter",children:[A.jsx(p6,{isOpen:i,onClose:()=>c(!1),onSave:D=>{h&&e?e({...h,...D}):n&&n(D)},initialData:h}),A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-display font-semibold tracking-tight text-ink-primary",children:"Projects"}),A.jsx("p",{className:"text-ink-secondary mt-1 text-sm font-medium",children:"Manage active campaigns and production schedules."})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx(yn,{to:"/imports",children:A.jsx(zo,{variant:"secondary",size:"sm",leftIcon:A.jsx(Ws,{size:14}),children:"Import"})}),A.jsx(zo,{variant:"primary",size:"sm",leftIcon:A.jsx($n,{size:14}),onClick:()=>{d(void 0),c(!0)},children:"New Project"})]})]}),A.jsxs("div",{className:"bg-surface rounded-2xl border border-border-subtle shadow-card overflow-hidden flex flex-col",children:[A.jsxs("div",{className:"p-5 border-b border-border-subtle flex items-center justify-between gap-4 bg-white",children:[A.jsxs("div",{className:"relative flex-1 max-w-md group",children:[A.jsx(Ja,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-ink-tertiary group-focus-within:text-primary transition-colors",size:14}),A.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 bg-app/50 border border-border-subtle rounded-xl text-sm focus:outline-none focus:border-primary focus:bg-white transition-all placeholder-ink-tertiary font-medium text-ink-primary",placeholder:"Filter projects...",value:o,onChange:D=>s(D.target.value)})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"h-6 w-px bg-border-subtle"}),A.jsxs("div",{className:"relative flex items-center",children:[A.jsx(nv,{size:14,className:"absolute left-2 text-ink-tertiary pointer-events-none"}),A.jsxs("select",{className:"bg-transparent pl-7 pr-8 py-1.5 text-xs font-bold uppercase tracking-widest text-ink-secondary focus:outline-none cursor-pointer hover:text-ink-primary transition-colors appearance-none",value:f.status,onChange:D=>b({...f,status:D.target.value}),children:[A.jsx("option",{value:"",children:"All Status"}),Object.values(Sn).map(D=>A.jsx("option",{value:D,children:D},D))]})]})]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left border-collapse",children:[A.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-4 w-12 text-center",children:A.jsx("button",{onClick:m,className:"text-ink-tertiary hover:text-primary transition-colors",children:u.size>0?A.jsx(hf,{size:16}):A.jsx(mf,{size:16})})}),A.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Project Name"}),A.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Status"}),A.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Owner"}),A.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Timeline"}),A.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Priority"}),A.jsx("th",{className:"px-6 py-4 text-right"})]})}),A.jsx("tbody",{className:"divide-y divide-border-subtle bg-surface",children:g.map(D=>{const z=D.assignedToId?`User ${D.assignedToId.slice(0,4)}`:null,O=u.has(D.id);return A.jsxs("tr",{className:`group hover:bg-subtle/30 transition-colors ${O?"bg-primary-tint/30":""}`,children:[A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("button",{onClick:()=>x(D.id),className:`transition-colors ${O?"text-primary":"text-border-hover hover:text-ink-secondary"}`,children:O?A.jsx(hf,{size:16}):A.jsx(mf,{size:16})})}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs(yn,{to:`/projects/${D.id}`,className:"block",children:[A.jsx("div",{className:"font-semibold text-sm text-ink-primary group-hover:text-primary transition-colors tracking-tight",children:D.name}),A.jsx("div",{className:"text-[10px] text-ink-secondary font-medium uppercase tracking-wide mt-1",children:D.clientName})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx(Ca,{variant:C(D.status),children:D.status})}),A.jsx("td",{className:"px-6 py-4",children:z?A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-6 h-6 rounded-full bg-subtle flex items-center justify-center text-[9px] font-bold text-ink-secondary border border-border-subtle",children:z[0]}),A.jsx("span",{className:"text-xs text-ink-primary font-medium",children:"Owner"})]}):A.jsx("span",{className:"text-ink-tertiary text-xs",children:""})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("div",{className:"text-xs font-mono font-medium text-ink-primary",children:D.dueDate?new Date(D.dueDate).toLocaleDateString():""})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx(Ca,{variant:I(D.priority),children:D.priority})}),A.jsx("td",{className:"px-6 py-4 text-right",children:A.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx(zo,{variant:"ghost",size:"sm",onClick:()=>{d(D),c(!0)},className:"h-8 px-2 text-[10px] uppercase font-bold",children:"Edit"}),A.jsx(yn,{to:`/projects/${D.id}`,children:A.jsx("div",{className:"p-2 text-ink-tertiary hover:text-primary hover:bg-subtle rounded-md transition-colors",children:A.jsx(Wa,{size:16})})})]})})]},D.id)})})]})})]})]})},zh=({children:t,className:n="",noPadding:e=!1,hoverable:r=!1})=>A.jsx("div",{className:`
        bg-surface 
        border border-border-subtle 
        rounded-md 
        shadow-card
        overflow-hidden
        ${r?"transition-transform duration-300 hover:-translate-y-1 hover:shadow-float":""}
        ${n}
      `,children:A.jsx("div",{className:e?"":"p-6",children:t})}),Vh=({timezone:t})=>{let n="",e=!1,r=!1;try{n=new Date().toLocaleTimeString("en-US",{timeZone:t,hour:"2-digit",minute:"2-digit",hour12:!1});const o=parseInt(n.split(":")[0]);e=o>=9&&o<18,r=o>=22||o<6}catch{n="UNK"}return A.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono font-bold tracking-tight bg-subtle/50 px-2 py-1 rounded-md border border-border-subtle",children:[A.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-state-success shadow-[0_0_6px_rgba(22,163,74,0.6)]":r?"bg-ink-tertiary":"bg-state-warning"}`}),A.jsx("span",{className:"text-ink-secondary",children:n})]})},g6=({freelancers:t,assignments:n=[],onCreate:e})=>{const[r,l]=ae.useState("grid"),[o,s]=ae.useState(""),u=ae.useMemo(()=>t.filter(a=>a.name.toLowerCase().includes(o.toLowerCase())),[t,o]);return A.jsxs("div",{className:"p-8 max-w-[2000px] mx-auto space-y-8 animate-enter pb-24 font-sans",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-5xl font-display font-semibold tracking-tighter text-ink-primary leading-[0.9]",children:"Roster."}),A.jsx("p",{className:"text-ink-secondary mt-2 text-sm font-medium tracking-wide",children:"Global talent index."})]}),A.jsx("div",{className:"flex gap-3",children:A.jsx(zo,{variant:"primary",leftIcon:A.jsx($n,{size:14}),onClick:e,children:"Add Talent"})})]}),A.jsxs("div",{className:"bg-surface p-2 rounded-xl flex flex-col xl:flex-row gap-4 xl:items-center justify-between sticky top-4 z-20 shadow-card border border-border-subtle/60 backdrop-blur-md",children:[A.jsxs("div",{className:"relative w-full xl:w-96 group",children:[A.jsx(Ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-ink-tertiary group-focus-within:text-primary transition-colors",size:14}),A.jsx("input",{type:"text",placeholder:"Search by name or skill...",className:"w-full pl-9 pr-4 py-2.5 bg-subtle/30 border border-transparent rounded-lg focus:bg-white focus:border-primary focus:ring-1 focus:ring-primary text-xs transition-all font-medium placeholder-ink-tertiary text-ink-primary outline-none",value:o,onChange:a=>s(a.target.value)})]}),A.jsx("div",{className:"flex items-center gap-2 p-1",children:A.jsxs("div",{className:"flex bg-subtle/50 p-1 rounded-lg border border-border-subtle",children:[A.jsx("button",{onClick:()=>l("grid"),className:`p-1.5 rounded-md transition-all ${r==="grid"?"bg-white shadow-sm text-ink-primary":"text-ink-tertiary hover:text-ink-secondary"}`,children:A.jsx(Lc,{size:16})}),A.jsx("button",{onClick:()=>l("list"),className:`p-1.5 rounded-md transition-all ${r==="list"?"bg-white shadow-sm text-ink-primary":"text-ink-tertiary hover:text-ink-secondary"}`,children:A.jsx(cv,{size:16})})]})})]}),r==="grid"&&A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(a=>A.jsx(yn,{to:`/freelancers/${a.id}`,children:A.jsxs(zh,{className:"h-full flex flex-col p-6 hover:-translate-y-1 transition-transform duration-300",children:[A.jsxs("div",{className:"flex justify-between items-start mb-5",children:[A.jsx("div",{className:"relative",children:A.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-sm ring-1 ring-black/5",children:A.jsx("img",{src:a.avatar,alt:a.name,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500"})})}),A.jsx("div",{className:"text-right flex flex-col items-end gap-1",children:A.jsx(Vh,{timezone:a.timezone})})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("h3",{className:"font-display font-semibold text-lg text-ink-primary leading-tight hover:text-primary transition-colors tracking-tight",children:a.name}),A.jsx("p",{className:"text-xs text-ink-secondary font-medium mt-1 uppercase tracking-wide",children:a.role})]}),A.jsx("div",{className:"flex flex-wrap gap-1.5 mt-auto",children:(a.skills||[]).slice(0,3).map(i=>A.jsx("span",{className:"px-2 py-1 bg-subtle text-ink-secondary text-[9px] font-bold uppercase tracking-wider rounded border border-border-subtle",children:i},i))}),A.jsxs("div",{className:"mt-5 pt-4 border-t border-border-subtle flex justify-between items-center",children:[A.jsxs("span",{className:"text-[10px] font-mono font-semibold text-ink-primary uppercase tracking-wider",children:[a.currency==="USD"?"$":a.currency,a.rate,A.jsx("span",{className:"text-ink-tertiary text-[9px]",children:"/Day"})]}),A.jsx(Ca,{variant:a.status===Xn.ACTIVE?"success":"neutral",children:a.status})]})]})},a.id))}),r==="list"&&A.jsx(zh,{noPadding:!0,className:"overflow-hidden",children:A.jsxs("table",{className:"w-full text-left border-collapse",children:[A.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Talent"}),A.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Local Time"}),A.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Rate"}),A.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Status"})]})}),A.jsx("tbody",{className:"divide-y divide-border-subtle bg-surface",children:u.map(a=>A.jsxs("tr",{className:"group hover:bg-subtle/30 transition-colors",children:[A.jsx("td",{className:"px-8 py-5",children:A.jsxs(yn,{to:`/freelancers/${a.id}`,className:"flex items-center gap-4",children:[A.jsx("img",{src:a.avatar,className:"w-10 h-10 rounded-xl grayscale group-hover:grayscale-0 transition-all border border-border-subtle object-cover"}),A.jsxs("div",{children:[A.jsx("div",{className:"text-sm font-semibold text-ink-primary tracking-tight group-hover:text-primary transition-colors",children:a.name}),A.jsx("div",{className:"text-[10px] text-ink-secondary uppercase tracking-wide font-medium",children:a.role})]})]})}),A.jsx("td",{className:"px-8 py-5",children:A.jsx(Vh,{timezone:a.timezone})}),A.jsx("td",{className:"px-8 py-5",children:A.jsxs("div",{className:"text-xs font-mono font-medium text-ink-primary tracking-tight",children:[a.currency==="USD"?"$":a.currency,a.rate]})}),A.jsx("td",{className:"px-8 py-5",children:A.jsx(Ca,{variant:a.status===Xn.ACTIVE?"success":"neutral",children:a.status})})]},a.id))})]})})]})},y6=["After Effects","Premiere Pro","Figma","Photoshop","Illustrator","Cinema 4D","Blender","DaVinci Resolve","Copywriting","SEO","React","Node.js","Python","Marketing Strategy","Brand Identity"],b6=({freelancers:t,projects:n,assignments:e,onUpdate:r,onDelete:l})=>{const{id:o}=Dc(),s=Zi(),u=t.find(C=>C.id===o),[a,i]=ae.useState(""),[c,h]=ae.useState(!1);if(!u)return A.jsx("div",{children:"Freelancer not found"});const d=e.filter(C=>C.freelancerId===u.id),f=d.filter(C=>new Date(C.endDate)>=new Date),b=d.filter(C=>new Date(C.endDate)<new Date),y=C=>{C.preventDefault(),a.trim()&&!u.skills.includes(a.trim())&&(r({...u,skills:[...u.skills,a.trim()]}),i(""))},p=C=>{r({...u,skills:u.skills.filter(I=>I!==C)})},g=()=>{r({...u,status:u.status===Xn.ACTIVE?Xn.INACTIVE:Xn.ACTIVE})},m=async()=>{if(u.bio){h(!0);try{const C=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),I=await Wr(C,{model:"gemini-2.5-flash",contents:`Rewrite this freelancer bio to be more professional, punchy, and highlight key strengths. Bio: "${u.bio}"`});r({...u,bio:I.text})}catch(C){console.error("Failed to polish bio",C)}finally{h(!1)}}},x=async()=>{window.confirm("Are you sure you want to delete this freelancer? This action cannot be undone.")&&(await l(u.id),s("/freelancers"))};return A.jsxs("div",{className:"p-8 max-w-6xl mx-auto animate-in fade-in duration-500 font-sans text-ink pb-24",children:[A.jsxs("div",{className:"mb-12 border-b border-mist pb-8",children:[A.jsxs(yn,{to:"/freelancers",className:"inline-flex items-center text-[10px] font-bold text-pencil hover:text-ink mb-8 transition-colors uppercase tracking-widest",children:[A.jsx(Ub,{size:10,className:"mr-2"})," Roster Index"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-8",children:[A.jsxs("div",{className:"flex items-center gap-8",children:[A.jsx("div",{className:"w-28 h-28 bg-white border border-mist p-1 rounded-3xl overflow-hidden shadow-sm",children:A.jsx("img",{src:u.avatar,className:"w-full h-full object-cover grayscale rounded-2xl"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-5xl font-semibold text-ink tracking-tighter mb-3",children:u.name}),A.jsxs("div",{className:"flex items-center gap-4 text-sm text-pencil",children:[A.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:u.role}),A.jsx("span",{className:"text-mist",children:"/"}),A.jsx("span",{className:`px-2.5 py-1 border text-[10px] font-bold uppercase tracking-widest rounded ${u.status===Xn.ACTIVE?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-gray-50 text-gray-500 border-mist"}`,children:u.status})]})]})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:g,className:"px-5 py-2.5 bg-white border border-mist text-ink hover:border-ink hover:bg-gray-50 transition-all text-xs font-bold uppercase tracking-widest rounded-xl shadow-sm",children:u.status===Xn.ACTIVE?"Deactivate":"Activate"}),A.jsx("button",{className:"px-5 py-2.5 bg-ink text-white border border-ink hover:bg-black transition-all text-xs font-bold uppercase tracking-widest rounded-xl shadow-lg",children:"Edit Profile"}),A.jsx("button",{onClick:x,className:"px-3.5 py-2.5 bg-white border border-rose-200 text-rose-600 hover:bg-rose-50 transition-all rounded-xl shadow-sm",title:"Delete Freelancer",children:A.jsx(Xa,{size:16})})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[A.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 border-b border-mist pb-3",children:"Details"}),A.jsxs("div",{className:"space-y-5 text-xs font-medium",children:[A.jsxs("div",{className:"flex items-center justify-between group",children:[A.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Email"}),A.jsx("span",{className:"text-ink font-bold",children:u.contactInfo})]}),u.phone&&A.jsxs("div",{className:"flex items-center justify-between group",children:[A.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Phone"}),A.jsx("span",{className:"text-ink font-bold",children:u.phone})]}),A.jsxs("div",{className:"flex items-center justify-between group",children:[A.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Zone"}),A.jsx("span",{className:"text-ink font-bold",children:u.timezone})]}),A.jsxs("div",{className:"flex items-center justify-between group",children:[A.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Rate"}),A.jsxs("span",{className:"text-ink font-bold",children:[u.rate," ",u.currency,"/day"]})]})]})]}),A.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[A.jsxs("div",{className:"flex justify-between items-center mb-5 border-b border-mist pb-3",children:[A.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest",children:"Bio"}),u.bio&&A.jsxs("button",{onClick:m,disabled:c,className:"text-[10px] text-indigo-600 font-bold flex items-center gap-1 hover:text-indigo-800 transition-colors uppercase tracking-wide",children:[c?A.jsx(_n,{size:12,className:"animate-spin"}):A.jsx($r,{size:12}),"Refine"]})]}),A.jsx("p",{className:"text-sm text-ink leading-loose font-normal",children:u.bio||A.jsx("span",{className:"text-pencil italic",children:"No bio available."})})]}),A.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[A.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-5 border-b border-mist pb-3",children:"Skills"}),A.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.skills.map(C=>A.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-canvas text-ink text-[10px] font-bold border border-mist uppercase tracking-wide rounded-lg",children:[C,A.jsx("button",{onClick:()=>p(C),className:"text-pencil hover:text-rose-500 transition-colors ml-1",children:A.jsx(Rn,{size:10})})]},C))}),A.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[A.jsxs("div",{className:"flex-1 relative",children:[A.jsx("input",{type:"text",list:"system-skills",value:a,onChange:C=>i(C.target.value),placeholder:"ADD SKILL...",className:"w-full px-4 py-2.5 text-[10px] border border-mist rounded-xl focus:border-ink outline-none transition-all bg-white placeholder-pencil font-bold uppercase tracking-wide"}),A.jsx("datalist",{id:"system-skills",children:y6.map(C=>A.jsx("option",{value:C},C))})]}),A.jsx("button",{type:"submit",disabled:!a,className:"px-3 bg-ink text-white hover:bg-black disabled:opacity-50 transition-colors rounded-xl",children:A.jsx($n,{size:16})})]})]})]}),A.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[A.jsxs("div",{className:"bg-white border border-mist rounded-3xl overflow-hidden shadow-sm",children:[A.jsx("div",{className:"p-8 border-b border-mist bg-canvas/30",children:A.jsx("h3",{className:"font-semibold text-ink text-lg tracking-tight",children:"Active & Upcoming"})}),f.length>0?A.jsx("div",{className:"divide-y divide-mist",children:f.map(C=>{const I=n.find(D=>D.id===C.projectId);return A.jsxs("div",{className:"p-6 hover:bg-canvas/50 transition-colors flex justify-between items-center group",children:[A.jsxs("div",{children:[A.jsx("div",{className:"font-semibold text-ink mb-1 text-base tracking-tight",children:I==null?void 0:I.name}),A.jsxs("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest",children:[I==null?void 0:I.clientName,"  ",C.role]})]}),A.jsxs("div",{className:"text-right",children:[A.jsxs("div",{className:"text-xs font-bold text-ink tabular-nums font-mono mb-1",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]}),A.jsx("div",{className:"text-[10px] text-indigo-600 font-bold bg-indigo-50 inline-block px-2.5 py-0.5 border border-indigo-100 uppercase tracking-widest rounded-full",children:"100% Load"})]})]},C.id)})}):A.jsxs("div",{className:"p-16 text-center text-pencil text-sm flex flex-col items-center opacity-60",children:[A.jsx("div",{className:"w-12 h-12 bg-canvas flex items-center justify-center mb-4 border border-mist text-pencil rounded-full",children:A.jsx(Ka,{size:20})}),A.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Available for booking"})]})]}),b.length>0&&A.jsxs("div",{className:"bg-white border border-mist opacity-60 hover:opacity-100 transition-opacity rounded-3xl overflow-hidden",children:[A.jsx("div",{className:"p-8 border-b border-mist bg-canvas/30",children:A.jsx("h3",{className:"font-bold text-pencil text-xs uppercase tracking-widest",children:"Archive"})}),A.jsx("div",{className:"divide-y divide-mist",children:b.map(C=>{const I=n.find(D=>D.id===C.projectId);return A.jsxs("div",{className:"p-6 flex justify-between items-center hover:bg-canvas/50 transition-colors",children:[A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-pencil group-hover:text-ink transition-colors",children:I==null?void 0:I.name}),A.jsx("div",{className:"text-[10px] text-pencil/70 uppercase tracking-wide font-medium",children:I==null?void 0:I.clientName})]}),A.jsx("div",{className:"text-[10px] text-pencil font-bold tabular-nums font-mono",children:new Date(C.endDate).toLocaleDateString()})]},C.id)})})]})]})]})]})},v6=({items:t,onAdd:n,onRemove:e})=>{const[r,l]=ae.useState(""),[o,s]=ae.useState(!1),[u,a]=ae.useState("idle"),[i,c]=ae.useState(""),h=ae.useRef(null),d=async p=>{p.preventDefault();const g=r.trim();if(g){s(!1),a("analyzing"),c("Scanning URL...");try{await n(g,"url")}finally{l(""),a("idle"),c("")}}},f=async p=>{if(p.target.files&&p.target.files[0]){const g=p.target.files[0];s(!1),a("uploading"),c(`Ingesting ${g.name}...`);const m=new FileReader;m.onload=async x=>{var I;const C=(I=x.target)==null?void 0:I.result;a("vectorizing"),c("Updating Neural Weights...");try{await n(C,"file",g)}finally{a("idle"),c("")}},m.readAsDataURL(g)}},b=p=>p.startsWith("data:image")||p.match(/\.(jpeg|jpg|gif|png|webp)$/i)?A.jsx(Ya,{size:24,className:"text-purple-500"}):p.startsWith("data:video")||p.includes("youtube")||p.includes("vimeo")||p.match(/\.(mp4|mov)$/i)?A.jsx(Gs,{size:24,className:"text-rose-500"}):p.startsWith("data:application/pdf")?A.jsx(Qi,{size:24,className:"text-red-500"}):A.jsx(g0,{size:24,className:"text-blue-500"}),y=p=>{var g;if(p.startsWith("data:image")||p.match(/\.(jpeg|jpg|gif|png|webp)$/i))return p;if(p.includes("youtube.com/watch?v=")){const m=(g=p.split("v=")[1])==null?void 0:g.split("&")[0];if(m)return`https://img.youtube.com/vi/${m}/0.jpg`}return null};return A.jsx("div",{className:"space-y-6",children:A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[!o&&u==="idle"&&A.jsxs("button",{onClick:()=>s(!0),className:"aspect-video bg-canvas rounded-2xl border border-dashed border-mist flex flex-col items-center justify-center text-pencil hover:text-ink hover:border-pencil hover:bg-white transition-all group",children:[A.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-mist flex items-center justify-center mb-3 shadow-sm group-hover:scale-110 transition-transform duration-300",children:A.jsx($n,{size:18})}),A.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Add Asset"})]}),o&&A.jsxs("div",{className:"col-span-1 md:col-span-2 aspect-video bg-white rounded-2xl border border-mist shadow-sm p-6 flex flex-col justify-between animate-in zoom-in-95 duration-200",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("span",{className:"text-[10px] font-bold text-ink uppercase tracking-widest flex items-center gap-2",children:[A.jsx(Qs,{size:12,className:"text-indigo-600"})," Add Knowledge"]}),A.jsx("button",{onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},className:"text-[9px] bg-canvas hover:bg-mist text-ink px-3 py-1.5 rounded-lg font-bold uppercase tracking-wide transition-colors",children:"Upload File"})]}),A.jsx("input",{type:"url",placeholder:"Paste URL...",className:"w-full px-4 py-3 border border-mist rounded-xl text-xs focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all placeholder-pencil font-medium bg-canvas/30",value:r,onChange:p=>l(p.target.value),autoFocus:!0,onKeyDown:p=>p.key==="Enter"&&d(p)}),A.jsx("input",{type:"file",ref:h,className:"hidden",onChange:f}),A.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[A.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-[10px] font-bold uppercase tracking-widest text-pencil hover:text-ink",children:"Cancel"}),A.jsx("button",{onClick:d,disabled:!r,className:"px-4 py-2 bg-ink text-white rounded-lg text-[10px] font-bold uppercase tracking-widest hover:bg-black transition-colors shadow-sm disabled:opacity-50",children:"Scan"})]})]}),u!=="idle"&&A.jsxs("div",{className:"aspect-video bg-white rounded-2xl border border-indigo-100 flex flex-col items-center justify-center p-6 relative overflow-hidden shadow-sm",children:[A.jsx("div",{className:"absolute inset-0 bg-indigo-50/30 animate-pulse"}),A.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u==="uploading"?A.jsx(Wi,{size:24,className:"text-indigo-600 animate-bounce mb-3"}):A.jsx(jc,{size:24,className:"text-indigo-600 animate-pulse mb-3"}),A.jsx("div",{className:"text-[9px] font-bold text-indigo-900 uppercase tracking-widest",children:u==="uploading"?"Ingesting":"Thinking"}),A.jsx("div",{className:"text-[9px] text-indigo-600/70 mt-1.5 text-center truncate w-full px-2 font-medium",children:i})]}),A.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-indigo-500 animate-[progress_2s_ease-in-out_infinite] w-full"})]}),t.map((p,g)=>{const m=y(p),x=p.startsWith("data:"),C=x?"Uploaded Asset":new URL(p).hostname;return A.jsxs("div",{className:"group relative aspect-video bg-white rounded-2xl overflow-hidden border border-mist shadow-sm hover:shadow-soft transition-all duration-300 transform hover:-translate-y-1",children:[A.jsxs("div",{className:"absolute top-3 left-3 z-10 flex items-center gap-1.5 bg-white/90 backdrop-blur px-2 py-1 rounded-lg border border-gray-100 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),A.jsx("span",{className:"text-[8px] font-bold text-gray-700 uppercase tracking-widest",children:"Indexed"})]}),m?A.jsx("img",{src:m,alt:"Reference",className:"w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-500"}):A.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-canvas group-hover:bg-white transition-colors relative",children:[b(p),A.jsx("span",{className:"text-[10px] text-pencil mt-3 font-medium max-w-[80%] truncate",children:C})]}),A.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors flex items-start justify-end p-3 opacity-0 group-hover:opacity-100",children:A.jsx("button",{onClick:()=>e(p),className:"p-2 bg-white text-pencil hover:text-rose-600 rounded-lg shadow-sm border border-mist transition-colors",children:A.jsx(Xa,{size:14})})}),!x&&A.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-3 right-3 p-2 bg-white/95 hover:bg-white text-pencil hover:text-indigo-600 rounded-lg shadow-sm border border-mist opacity-0 group-hover:opacity-100 transition-all text-[9px] flex items-center gap-1.5 font-bold uppercase tracking-widest",children:["Open ",A.jsx(ev,{size:10})]})]},g)})]})})};class x6{constructor(){this.chunks=[]}addChunks(n){this.chunks=[...this.chunks,...n]}async search(n,e=5){const r=n.toLowerCase().split(" ");return this.chunks.map(o=>{let s=0;const u=o.text.toLowerCase();return r.forEach(a=>{u.includes(a)&&(s+=1)}),(o.tags.includes("tone")||o.tags.includes("voice"))&&(s*=1.5),o.tags.includes("external_truth")&&(s*=1.2),o.tags.includes("lore")&&(s*=1.3),{...o,relevanceScore:s}}).filter(o=>(o.relevanceScore||0)>0).sort((o,s)=>(s.relevanceScore||0)-(o.relevanceScore||0)).slice(0,e)}clear(){this.chunks=[]}}const Vo=new x6,K0={async ingestFile(t){return t.type.startsWith("image/")?this.ingestImage(t):new Promise((n,e)=>{const r=new FileReader;r.onload=async l=>{var u;const o=(u=l.target)==null?void 0:u.result,s=this.chunkContent(o,t.name,["file","upload"]);Vo.addChunks(s),n({id:`file-${Date.now()}`,type:"file",title:t.name,url:"",originalContent:o,summary:`Imported document: ${t.name} (${Math.round(t.size/1024)} KB)`,status:"indexed",chunks:s,createdAt:new Date().toISOString()})},r.onerror=l=>e(l),r.readAsText(t)})},async ingestURL(t){let n="url";t.includes("youtube.com")||t.includes("youtu.be")?n="youtube":(t.includes("wikipedia")||t.includes("fandom.com"))&&(n="wiki");let e="",r="";if(await new Promise(s=>setTimeout(s,1500)),n==="youtube")r="Transcript: "+(t.length>30?t.slice(0,30)+"...":t),e=`[00:00] Welcome back to the channel. Today we are analyzing the core themes of this project.
[00:15] Key takeaway: The visual style must be high-contrast and neon.
[00:45] Lore Detail: The protagonist, 'Unit 734', cannot speak but communicates via radio waves.
[01:20] IMPORTANT: Never use blue light in the enemy base scenes. Only red.`;else if(n==="wiki")r="Wiki Entry: Lore Database",e=`History and Origins
The faction known as "The Silenced" emerged in 2040.
They are characterized by their lack of digital footprints.

Powers & Abilities
- Signal Jamming: Blocks all wifi within 50m.
- Stealth: Can turn invisible to thermal cameras.

Weaknesses
- Analog tech: They cannot hack mechanical devices.`;else{try{r="External Resource: "+new URL(t).hostname}catch{r="External Link"}e=`Strategic Overview extracted from ${t}:
1. Focus on speed and efficiency.
2. Target audience is Gen Z gamers.
3. Key Keywords: Glitch, Hype, Drop, Rare.
4. Avoid corporate speak.`}const l=n==="wiki"?["external_truth","lore"]:["general","context"],o=this.chunkContent(e,t,l);return Vo.addChunks(o),{id:`source-${Date.now()}-${Math.floor(Math.random()*1e3)}`,type:n,title:r,url:t,originalContent:e,summary:`AI Analysis: Extracted ${o.length} chunks from ${n}.`,status:"indexed",chunks:o,createdAt:new Date().toISOString()}},async ingestImage(t){const n=await this.fileToBase64(t),e=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),l=(await Wr(e,{model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:t.type,data:n}},{text:"Analyze this image in detail. Extract all visible text, describe visual elements, style, mood, and any technical specs provided."}]}})).text||"No analysis generated.",o=this.chunkContent(l,t.name,["image","analysis"]);return Vo.addChunks(o),{id:`img-${Date.now()}`,type:"file",title:t.name,url:"",originalContent:l,summary:`AI Image Analysis of ${t.name}`,status:"indexed",chunks:o,createdAt:new Date().toISOString()}},chunkContent(t,n,e=["general"]){return t.split(`

`).flatMap(l=>l.length>500?l.match(/.{1,500}/g)||[]:[l]).map((l,o)=>({id:`chunk-${Date.now()}-${o}`,sourceId:n,text:l.trim(),tags:e})).filter(l=>l.text.length>0)},fileToBase64(t){return new Promise((n,e)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{const o=r.result.split(",")[1];n(o)},r.onerror=l=>e(l)})}},w6={async validate(t,n){if(!t)return{hasViolation:!1,violations:[]};try{const e=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),r=`
      You are a Continuity Editor. Check the following generated text against these Constraints (Context).
      
      CONSTRAINTS / TRUTH:
      ${n.map(s=>`- ${s}`).join(`
`)}
      
      TEXT TO CHECK:
      "${t}"
      
      Task: Identify if any part of the text contradicts the constraints or established truth.
      Return valid JSON (no markdown):
      {
        "hasViolation": boolean,
        "violations": [
          { "quote": "exact substring from text", "rule": "which rule was broken", "correction": "suggestion" }
        ]
      }
      `;let o=(await Wr(e,{model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}})).text;return o?(o=o.replace(/```json/g,"").replace(/```/g,"").trim(),JSON.parse(o)):{hasViolation:!1,violations:[]}}catch(e){return console.error("Guard failed",e),{hasViolation:!1,violations:[]}}}},_6={async generate(t,n,e){const l=(await Vo.search(t,8)).map((c,h)=>`[Source ${h+1}]: ${c.text}`).join(`

`),o=n.map(c=>`[Summary of ${c.title}]: ${c.summary}`).join(`
`),u=`
    You are a Creative Assistant. Write content based on the user's prompt using the provided Source Material.
    
    CRITICAL RULES:
    1. PRIORITIZE the "Source Material" above all else.
    2. If you use a specific fact from a Source, append a citation like [[Source X]].
    3. Adhere to Tone/Style: ${(e.tags||[]).join(", ")}.
    4. Do NOT hallucinate facts not found in the source if it concerns specific Lore.
    
    SOURCE MATERIAL (RAG CONTEXT):
    ${l}
    
    HIGH-LEVEL SUMMARIES:
    ${o}
    `,a=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'});return(await Wr(a,{model:"gemini-2.5-flash",contents:[{role:"user",parts:[{text:u+`

USER PROMPT: ${t}`}]}]})).text}},S6=({sources:t,onAddSource:n,onRemoveSource:e})=>{const[r,l]=ae.useState(""),[o,s]=ae.useState(!1),[u,a]=ae.useState(!1),[i,c]=ae.useState(""),h=ae.useRef(null),d=async p=>{if(p.preventDefault(),!!r){s(!0),c("Scanning...");try{const g=await K0.ingestURL(r);n(g),l("")}catch{alert("Failed to ingest URL. Ensure it is accessible.")}finally{s(!1),c("")}}},f=async p=>{s(!0),c("Uploading...");try{const m=(await it.assets.upload(p)).data;c("Indexing...");const x=await it.knowledge.createFromAsset("global",m.id,m);n(x.data)}catch(g){alert(`Failed to ingest file: ${g.message}`),console.error(g)}finally{s(!1),c("")}},b=async p=>{p.preventDefault(),p.stopPropagation(),a(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&f(p.dataTransfer.files[0])},y=p=>{switch(p){case"youtube":return{icon:Cv,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",label:"Video"};case"wiki":return{icon:Vb,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",label:"Wiki"};case"file":return{icon:Qi,color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100",label:"Doc"};default:return{icon:uv,color:"text-sky-600",bg:"bg-sky-50",border:"border-sky-100",label:"Web"}}};return A.jsxs("div",{className:"h-full flex flex-col bg-white",children:[A.jsxs("div",{className:"p-5 border-b border-mist bg-white relative z-10",children:[A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("div",{className:"relative flex-1 group",children:[A.jsx("input",{type:"text",className:"block w-full pl-10 pr-10 py-3 bg-canvas border border-mist rounded-xl text-xs text-ink placeholder-pencil/60 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/5 transition-all outline-none font-medium",placeholder:"Feed URL to Neural Net...",value:r,onChange:p=>l(p.target.value),onKeyDown:p=>p.key==="Enter"&&d(p)}),A.jsx(m0,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-pencil group-focus-within:text-indigo-500 transition-colors"}),r&&A.jsx("button",{onClick:d,disabled:o,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-sm disabled:opacity-50",children:o?A.jsx(_n,{size:12,className:"animate-spin"}):A.jsx($n,{size:12,strokeWidth:3})})]}),A.jsx("button",{onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},onDragEnter:()=>a(!0),disabled:o,className:`px-4 rounded-xl border flex items-center justify-center transition-all gap-2 ${u?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-mist bg-canvas text-pencil hover:border-indigo-300 hover:text-indigo-600"}`,title:"Upload File",children:o?A.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-indigo-600 uppercase tracking-wide",children:[A.jsx(_n,{size:12,className:"animate-spin"})," ",i]}):A.jsx(Wi,{size:16})})]}),A.jsx("input",{type:"file",ref:h,className:"hidden",onChange:p=>{var g;return((g=p.target.files)==null?void 0:g[0])&&f(p.target.files[0])},accept:".txt,.md,.json,.csv,.js,.ts,.html,.pdf,.png,.jpg,.jpeg"}),u&&A.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/95 backdrop-blur-sm flex flex-col items-center justify-center border-2 border-indigo-500 border-dashed m-3 rounded-lg shadow-lg",onDragLeave:()=>a(!1),onDragOver:p=>p.preventDefault(),onDrop:b,children:[A.jsx(Wi,{size:32,className:"text-indigo-600 mb-3 animate-bounce pointer-events-none"}),A.jsx("p",{className:"text-xs font-bold text-indigo-900 pointer-events-none uppercase tracking-widest",children:"Drop to Ingest"})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-3 bg-canvas/30",children:[t.length===0&&A.jsxs("div",{className:"text-center py-20 opacity-60",children:[A.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 border border-mist shadow-sm",children:A.jsx(jc,{size:20,className:"text-pencil"})}),A.jsx("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest",children:"Context Empty"}),A.jsx("p",{className:"text-[10px] text-pencil/70 mt-1 max-w-[150px] mx-auto leading-relaxed font-medium",children:"System awaits intelligence input."})]}),t.map(p=>{const g=y(p.type),m=g.icon;return A.jsxs("div",{className:"group relative bg-white border border-mist p-4 rounded-2xl hover:shadow-soft hover:border-indigo-200 transition-all duration-300",children:[A.jsxs("div",{className:"flex justify-between items-start mb-3",children:[A.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-lg border ${g.bg} ${g.border} ${g.color}`,children:[A.jsx(m,{size:12}),A.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:g.label})]}),A.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:A.jsx("button",{onClick:()=>e(p.id),className:"text-pencil hover:text-rose-500 transition-colors",children:A.jsx(Xa,{size:14})})})]}),A.jsx("div",{className:"font-semibold text-sm text-ink leading-tight mb-2 line-clamp-1 tracking-tight",title:p.title,children:p.title}),A.jsx("div",{className:"text-[10px] text-pencil font-medium line-clamp-2 leading-relaxed bg-canvas/50 p-2.5 rounded-xl border border-transparent group-hover:border-mist transition-colors",children:p.summary}),p.status==="indexed"&&A.jsx("div",{className:"absolute top-4 right-4 text-emerald-500",title:"Indexed",children:A.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"})})]},p.id)})]})]})},k6=({project:t,onUpdate:n})=>{var f,b;const[e,r]=ae.useState(""),[l,o]=ae.useState(""),[s,u]=ae.useState(""),a=y=>{y.preventDefault(),e.trim()&&(n({toneAttributes:[...t.toneAttributes||[],e.trim()]}),r(""))},i=y=>{n({toneAttributes:(t.toneAttributes||[]).filter(p=>p!==y)})},c=y=>{var p,g;y.preventDefault(),l.trim()&&(n({brandGuidelines:{...t.brandGuidelines,dos:[...((p=t.brandGuidelines)==null?void 0:p.dos)||[],l.trim()],donts:((g=t.brandGuidelines)==null?void 0:g.donts)||[]}}),o(""))},h=y=>{var p,g;y.preventDefault(),s.trim()&&(n({brandGuidelines:{...t.brandGuidelines,dos:((p=t.brandGuidelines)==null?void 0:p.dos)||[],donts:[...((g=t.brandGuidelines)==null?void 0:g.donts)||[],s.trim()]}}),u(""))},d=(y,p)=>{const g=t.brandGuidelines||{dos:[],donts:[]};n({brandGuidelines:{...g,[y]:g[y].filter(m=>m!==p)}})};return A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[A.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[A.jsx(Oc,{size:14,className:"text-indigo-600"})," Tone & Atmosphere"]}),A.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[(t.toneAttributes||[]).map(y=>A.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white text-ink text-xs font-semibold rounded-lg border border-mist shadow-sm",children:[y,A.jsx("button",{onClick:()=>i(y),className:"text-pencil hover:text-rose-500 transition-colors",children:A.jsx(Rn,{size:10})})]},y)),(t.toneAttributes||[]).length===0&&A.jsx("span",{className:"text-xs text-pencil italic font-medium",children:"No tone keywords defined."})]}),A.jsxs("form",{onSubmit:a,className:"relative group",children:[A.jsx("input",{type:"text",value:e,onChange:y=>r(y.target.value),placeholder:"Add keyword (e.g. 'Optimistic')",className:"w-full pl-4 pr-10 py-3 bg-canvas/50 border border-mist rounded-xl text-xs font-medium outline-none focus:border-indigo-500 focus:bg-white transition-all placeholder-pencil/60"}),A.jsx("button",{type:"submit",disabled:!e,className:"absolute right-2 top-2 p-1.5 text-pencil hover:text-indigo-600 disabled:opacity-0 transition-all",children:A.jsx($n,{size:14})})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[A.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[A.jsx(Sv,{size:14,className:"text-emerald-600"})," Brand Guardrails"]}),A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[A.jsx(_v,{size:12,className:"text-emerald-500"}),A.jsx("span",{className:"text-[10px] font-bold text-ink uppercase tracking-wide",children:"Do's"})]}),A.jsx("ul",{className:"space-y-2 mb-3",children:(((f=t.brandGuidelines)==null?void 0:f.dos)||[]).map((y,p)=>A.jsxs("li",{className:"text-xs text-ink font-medium flex items-start gap-3 group bg-emerald-50/50 p-2 rounded-lg border border-transparent hover:border-emerald-100 transition-colors",children:[A.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-1.5 flex-shrink-0"}),A.jsx("span",{className:"flex-1 leading-relaxed",children:y}),A.jsx("button",{onClick:()=>d("dos",y),className:"text-pencil hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:A.jsx(Rn,{size:12})})]},p))}),A.jsxs("form",{onSubmit:c,className:"relative",children:[A.jsx("input",{type:"text",value:l,onChange:y=>o(y.target.value),placeholder:"Add a required element...",className:"w-full pl-3 pr-10 py-2 bg-canvas/50 border border-transparent hover:border-mist rounded-lg text-xs font-medium outline-none focus:border-emerald-500 focus:bg-white transition-all placeholder-pencil/50"}),A.jsx("button",{type:"submit",disabled:!l,className:"absolute right-1 top-1 p-1 text-pencil hover:text-emerald-600 disabled:opacity-0 transition-all",children:A.jsx($n,{size:14})})]})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[A.jsx(wv,{size:12,className:"text-rose-500"}),A.jsx("span",{className:"text-[10px] font-bold text-ink uppercase tracking-wide",children:"Don'ts"})]}),A.jsx("ul",{className:"space-y-2 mb-3",children:(((b=t.brandGuidelines)==null?void 0:b.donts)||[]).map((y,p)=>A.jsxs("li",{className:"text-xs text-ink font-medium flex items-start gap-3 group bg-rose-50/50 p-2 rounded-lg border border-transparent hover:border-rose-100 transition-colors",children:[A.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-400 mt-1.5 flex-shrink-0"}),A.jsx("span",{className:"flex-1 leading-relaxed",children:y}),A.jsx("button",{onClick:()=>d("donts",y),className:"text-pencil hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:A.jsx(Rn,{size:12})})]},p))}),A.jsxs("form",{onSubmit:h,className:"relative",children:[A.jsx("input",{type:"text",value:s,onChange:y=>u(y.target.value),placeholder:"Add a restriction...",className:"w-full pl-3 pr-10 py-2 bg-canvas/50 border border-transparent hover:border-mist rounded-lg text-xs font-medium outline-none focus:border-rose-500 focus:bg-white transition-all placeholder-pencil/50"}),A.jsx("button",{type:"submit",disabled:!s,className:"absolute right-1 top-1 p-1 text-pencil hover:text-rose-600 disabled:opacity-0 transition-all",children:A.jsx($n,{size:14})})]})]})]})]})]})},C6=({item:t,onClose:n,onUpdate:e,onDelete:r})=>{const[l,o]=ae.useState(t),[s,u]=ae.useState(""),[a,i]=ae.useState(""),c=()=>{e(l),n()},h=f=>{f.preventDefault(),s.trim()&&(o({...l,tags:[...l.tags,s.trim()]}),u(""))},d=f=>{f.preventDefault(),a.trim()&&(o({...l,moods:[...l.moods,a.trim()]}),i(""))};return A.jsx("div",{className:"fixed inset-0 z-[60] flex justify-end bg-black/20 backdrop-blur-sm animate-in fade-in duration-200",children:A.jsxs("div",{className:"w-full max-w-xl bg-white h-full shadow-2xl flex flex-col border-l border-gray-100 animate-in slide-in-from-right duration-300",children:[A.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-white/80 backdrop-blur",children:[A.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide flex items-center gap-2",children:[t.type==="video"?A.jsx(Gs,{size:14,className:"text-rose-500"}):A.jsx(Ya,{size:14,className:"text-indigo-500"}),"Asset Detail"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>{r(t.id),n()},className:"p-2 text-gray-400 hover:text-rose-600 transition-colors rounded-lg hover:bg-rose-50",children:[A.jsx("span",{className:"sr-only",children:"Delete"}),A.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})]}),A.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-900 transition-colors rounded-lg hover:bg-gray-50",children:A.jsx(Rn,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:[A.jsx("div",{className:"bg-gray-50 rounded-2xl overflow-hidden border border-gray-100 mb-8 shadow-sm",children:t.type==="video"?A.jsx("video",{src:t.url,controls:!0,className:"w-full h-auto max-h-[400px] object-contain",autoPlay:!0,muted:!0,loop:!0}):A.jsx("img",{src:t.url,alt:"Detail",className:"w-full h-auto object-contain"})}),A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"AI Caption"}),A.jsx("textarea",{value:l.caption,onChange:f=>o({...l,caption:f.target.value}),className:"w-full p-3 bg-white border border-gray-200 rounded-xl text-sm leading-relaxed focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none resize-none shadow-sm",rows:3})]}),l.shotType&&A.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-600 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100 w-fit",children:[A.jsx($b,{size:14,className:"text-gray-400"})," ",l.shotType]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[A.jsx(xa,{size:12})," Tags"]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map(f=>A.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full flex items-center gap-1 group border border-transparent hover:border-gray-200",children:[f,A.jsx("button",{onClick:()=>o({...l,tags:l.tags.filter(b=>b!==f)}),className:"text-gray-400 hover:text-rose-500",children:A.jsx(Rn,{size:10})})]},f))}),A.jsx("form",{onSubmit:h,children:A.jsx("input",{placeholder:"Add tag...",value:s,onChange:f=>u(f.target.value),className:"text-xs bg-transparent border-b border-gray-200 focus:border-indigo-500 outline-none py-1 w-full placeholder-gray-300"})})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-400"})," Moods"]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:l.moods.map(f=>A.jsxs("span",{className:"px-3 py-1 bg-rose-50 text-rose-700 text-xs font-medium rounded-full flex items-center gap-1 border border-rose-100",children:[f,A.jsx("button",{onClick:()=>o({...l,moods:l.moods.filter(b=>b!==f)}),className:"text-rose-400 hover:text-rose-600",children:A.jsx(Rn,{size:10})})]},f))}),A.jsx("form",{onSubmit:d,children:A.jsx("input",{placeholder:"Add mood...",value:a,onChange:f=>i(f.target.value),className:"text-xs bg-transparent border-b border-gray-200 focus:border-rose-500 outline-none py-1 w-full placeholder-gray-300"})})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[A.jsx(Oc,{size:12})," Palette"]}),A.jsx("div",{className:"flex gap-3",children:l.colors.map(f=>A.jsxs("div",{className:"group relative",children:[A.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm border border-gray-100 ring-2 ring-transparent group-hover:ring-offset-1 group-hover:ring-gray-200 transition-all cursor-pointer",style:{backgroundColor:f}}),A.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-[9px] font-mono text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity bg-white px-1 rounded shadow-sm border border-gray-100",children:f})]},f))})]})]})]}),A.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[A.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-900 text-xs font-bold uppercase tracking-wide",children:"Cancel"}),A.jsxs("button",{onClick:c,className:"px-6 py-2 bg-gray-900 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-black transition-all shadow-sm flex items-center gap-2",children:[A.jsx(ya,{size:14})," Save Changes"]})]})]})})},Y0=({projectId:t})=>{const[n,e]=ae.useState(t),[r,l]=ae.useState([]),[o,s]=ae.useState([]),[u,a]=ae.useState(!1),[i,c]=ae.useState(""),[h,d]=ae.useState("all"),[f,b]=ae.useState(null),[y,p]=ae.useState(!1),[g,m]=ae.useState(!1),x=ae.useRef(null),[C,I]=ae.useState(!1),[D,z]=ae.useState("");ae.useEffect(()=>{t?e(t):it.projects.list().then(k=>l(k.data))},[t]),ae.useEffect(()=>{if(!n){s([]);return}a(!0);let k=!0;return it.moodboard.list(n).then(v=>{k&&(s(v.data),a(!1))}),()=>{k=!1}},[n]);const O=async k=>{if(n){p(!0);try{const v=[];for(let _=0;_<k.length;_++){const w=k[_],N=(await it.assets.upload(w,n)).data,j=await it.moodboard.linkAsset(n,N.id);v.push(j.data)}s(_=>[...v,..._])}catch(v){console.error(v),alert(`Upload failed: ${v.message||"Unknown error"}`)}finally{p(!1),x.current&&(x.current.value="")}}},B=async k=>{if(k.preventDefault(),!(!n||!D.trim())){p(!0);try{const v=await it.moodboard.create({projectId:n,type:"image",url:D.trim(),caption:"Imported from URL"});s(_=>[v.data,..._]),z(""),I(!1)}catch{alert("Failed to import URL")}finally{p(!1)}}},V=async k=>{k.target.files&&k.target.files.length>0&&await O(k.target.files)},q=async k=>{k.preventDefault(),k.stopPropagation(),m(!1),k.dataTransfer.files&&k.dataTransfer.files.length>0&&await O(k.dataTransfer.files)},H=async k=>{await it.moodboard.update(k),s(v=>v.map(_=>_.id===k.id?k:_))},E=async k=>{await it.moodboard.delete(k),s(v=>v.filter(_=>_.id!==k))},R=o.filter(k=>{const v=i===""||k.tags.some(w=>w.toLowerCase().includes(i.toLowerCase()))||k.moods.some(w=>w.toLowerCase().includes(i.toLowerCase()))||k.caption.toLowerCase().includes(i.toLowerCase()),_=h==="all"||k.type===h;return v&&_});return A.jsxs("div",{className:"flex flex-col h-full bg-[#F5F5F7] p-8 min-h-screen relative",onDragOver:k=>{k.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:q,children:[g&&n&&A.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-sm m-4 rounded-3xl border-2 border-dashed border-indigo-500 flex flex-col items-center justify-center animate-in fade-in duration-200",children:[A.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-float animate-bounce",children:A.jsx(Wi,{size:48,className:"text-indigo-600 mb-2"})}),A.jsx("h3",{className:"mt-4 text-xl font-bold text-indigo-900 tracking-tight",children:"Drop to Upload"}),A.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"Add to Moodboard"})]}),A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8 sticky top-0 z-20 bg-[#F5F5F7]/95 backdrop-blur-sm py-4",children:[A.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[!t&&A.jsxs("div",{className:"relative",children:[A.jsxs("select",{value:n||"",onChange:k=>e(k.target.value),className:"appearance-none bg-white border border-gray-200 text-gray-900 text-xs font-bold uppercase tracking-widest pl-4 pr-10 py-3 rounded-2xl shadow-sm focus:outline-none focus:border-indigo-500 cursor-pointer hover:border-gray-300 transition-colors",children:[A.jsx("option",{value:"",disabled:!0,children:"Select Context..."}),r.map(k=>A.jsx("option",{value:k.id,children:k.name},k.id))]}),A.jsx(f0,{size:14,className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),A.jsxs("div",{className:"relative flex-1 md:w-96 group",children:[A.jsx(Ja,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors"}),A.jsx("input",{type:"text",placeholder:"Search by mood, tag, or context...",value:i,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-2xl shadow-sm focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-500 outline-none text-sm font-medium transition-all"})]})]}),A.jsxs("div",{className:"flex gap-3 items-center",children:[A.jsxs("div",{className:"flex bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[A.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${h==="all"?"bg-gray-900 text-white shadow-md":"text-gray-500 hover:text-gray-900"}`,children:"All"}),A.jsx("button",{onClick:()=>d("image"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${h==="image"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-600"}`,children:"Images"}),A.jsx("button",{onClick:()=>d("video"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${h==="video"?"bg-rose-500 text-white shadow-md":"text-gray-500 hover:text-rose-500"}`,children:"Videos"})]}),n&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"relative flex items-center",children:C?A.jsxs("form",{onSubmit:B,className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl p-1 shadow-sm absolute right-0 min-w-[300px] animate-in slide-in-from-right-5 fade-in z-30",children:[A.jsx("input",{autoFocus:!0,type:"url",placeholder:"https://...",value:D,onChange:k=>z(k.target.value),className:"flex-1 pl-3 text-xs outline-none bg-transparent h-8"}),A.jsx("button",{type:"submit",disabled:y,className:"p-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:y?A.jsx(_n,{size:12,className:"animate-spin"}):A.jsx(ya,{size:12})}),A.jsx("button",{type:"button",onClick:()=>I(!1),className:"p-1.5 text-gray-400 hover:text-gray-600",children:A.jsx(Ws,{size:12,className:"rotate-45"})})]}):A.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl text-xs font-bold uppercase tracking-widest hover:border-indigo-300 hover:text-indigo-600 transition-all shadow-sm flex items-center gap-2",children:[A.jsx(g0,{size:14})," Import URL"]})}),A.jsxs("button",{onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},disabled:y,className:"px-6 py-3 bg-gray-900 text-white rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-black transition-all shadow-lg shadow-gray-300/50 flex items-center gap-2 disabled:opacity-70",children:[y?A.jsx(_n,{size:16,className:"animate-spin"}):A.jsx(Ws,{size:16}),"Upload"]}),A.jsx("input",{type:"file",multiple:!0,ref:x,className:"hidden",accept:"image/*,video/*",onChange:V})]})]})]}),n?u?A.jsx("div",{className:"flex-1 flex items-center justify-center",children:A.jsx(_n,{size:32,className:"animate-spin text-gray-300"})}):R.length===0?A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[A.jsx("div",{onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6 cursor-pointer hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:A.jsx(pv,{size:32,className:"opacity-50"})}),A.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Board is empty"}),A.jsx("p",{className:"text-xs mt-2 text-gray-400 max-w-xs text-center leading-relaxed",children:"Upload images or paste a URL to start building your visual moodboard."})]}):A.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-6 space-y-6 pb-20",children:R.map(k=>A.jsxs("div",{onClick:()=>b(k),className:"break-inside-avoid bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-zoom-in group relative border border-gray-100",children:[A.jsxs("div",{className:"relative",children:[k.type==="video"?A.jsx("video",{src:k.url,className:"w-full h-auto object-cover",muted:!0,loop:!0,onMouseOver:v=>v.currentTarget.play(),onMouseOut:v=>v.currentTarget.pause()}):A.jsx("img",{src:k.url,alt:"Moodboard",className:"w-full h-auto object-cover"}),A.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:[A.jsx("div",{className:"text-white font-medium text-xs line-clamp-2 leading-relaxed mb-2 drop-shadow-md",children:k.status==="processing"?A.jsxs("span",{className:"flex items-center gap-2 text-indigo-200",children:[A.jsx(_n,{size:12,className:"animate-spin"})," Analyzing visual data..."]}):k.caption||"No caption"}),k.status==="ready"&&A.jsx("div",{className:"flex flex-wrap gap-1",children:k.moods.slice(0,3).map(v=>A.jsx("span",{className:"px-2 py-0.5 bg-white/20 backdrop-blur-md text-white text-[9px] font-bold rounded-md uppercase tracking-wide border border-white/30",children:v},v))})]}),A.jsx("div",{className:"absolute top-3 right-3 bg-black/20 backdrop-blur-md p-1.5 rounded-lg text-white opacity-0 group-hover:opacity-100 transition-opacity",children:k.type==="video"?A.jsx(Gs,{size:12}):A.jsx(Ya,{size:12})})]}),k.colors.length>0&&A.jsx("div",{className:"h-1.5 flex w-full",children:k.colors.map(v=>A.jsx("div",{style:{backgroundColor:v},className:"flex-1"},v))})]},k.id))}):A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 opacity-60",children:[A.jsx(Gs,{size:48,className:"mb-4 opacity-50"}),A.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Select a project to enable uploads"})]}),f&&A.jsx(C6,{item:f,onClose:()=>b(null),onUpdate:H,onDelete:E})]})},T6=({dueDate:t,idealPostDate:n})=>{if(!t)return A.jsx("span",{className:"text-pencil text-xs font-medium tracking-wide",children:"No Date"});const e=new Date(t),r=new Date,l=e.getTime()-r.getTime(),o=Math.ceil(l/(1e3*60*60*24));let s="bg-emerald-50 text-emerald-700 border-emerald-100",u=A.jsx(h0,{size:12}),a=`${o} days left`;return o<0?(s="bg-rose-50 text-rose-700 border-rose-100",u=A.jsx(Ga,{size:12}),a=`Overdue (${Math.abs(o)}d)`):o<3&&(s="bg-amber-50 text-amber-700 border-amber-100",a=`Due in ${o} days`),A.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border ${s}`,children:[u," ",a]})},E6=({projects:t,freelancers:n,assignments:e,onUpdateProject:r})=>{const{id:l}=Dc(),o=Zi(),s=t.find(g=>g.id===l),[u,a]=ae.useState("overview"),[i,c]=ae.useState([]),[h,d]=ae.useState([]);ae.useEffect(()=>{var g;if(s){it.scripts.findByProject(s.id).then(x=>c(x.data)).catch(console.error);const m=[];(g=s.knowledgeBase)==null||g.forEach(x=>{const C={General:"url",Research:"wiki",Technical:"file",Brand:"text"};m.push({id:x.id,type:C[x.category]||"text",title:x.title,originalContent:x.content,summary:`Project Context (${x.category})`,status:"indexed",chunks:[],createdAt:x.updatedAt})}),d(m)}},[s==null?void 0:s.id,s==null?void 0:s.knowledgeBase]);const f=async g=>{if(!s)return;d(I=>[...I,g]);let m="General";g.type==="file"?m="Technical":g.type==="wiki"||g.type==="youtube"?m="Research":g.type==="text"&&(m="Brand");const x={id:g.id,title:g.title,content:g.originalContent||g.summary||"",category:m,updatedAt:new Date().toISOString()},C=[...s.knowledgeBase||[],x];r({...s,knowledgeBase:C})},b=async g=>{if(!s)return;d(x=>x.filter(C=>C.id!==g));const m=(s.knowledgeBase||[]).filter(x=>x.id!==g);r({...s,knowledgeBase:m})},y=g=>{s&&r({...s,...g})};if(!s)return A.jsx("div",{className:"p-12 text-center text-pencil text-sm font-medium",children:"Project not found"});const p=e.filter(g=>g.projectId===s.id).map(g=>n.find(m=>m.id===g.freelancerId)).filter(Boolean);return A.jsxs("div",{className:"h-full min-h-screen flex flex-col bg-canvas font-sans text-ink",children:[A.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-xl border-b border-mist px-8 py-4 flex flex-col gap-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsx("button",{onClick:()=>o("/projects"),className:"p-2 -ml-2 hover:bg-mist/50 rounded-full text-pencil transition-colors",children:A.jsx(f0,{size:20,className:"rotate-90",strokeWidth:2})}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1.5 opacity-80",children:[A.jsx("span",{className:"text-[10px] font-bold tracking-widest text-pencil uppercase",children:s.category||"Campaign"}),A.jsx("span",{className:"text-mist text-[10px]",children:"/"}),A.jsx("span",{className:"text-[10px] font-bold tracking-widest text-pencil uppercase",children:s.clientName})]}),A.jsx("h1",{className:"text-2xl font-semibold text-ink leading-none tracking-tight",children:s.name})]})]}),A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsx(T6,{dueDate:s.dueDate,idealPostDate:s.idealPostDate}),A.jsx("button",{className:"bg-ink text-white px-5 py-2.5 rounded-lg text-[10px] font-bold uppercase tracking-widest hover:bg-black transition-all shadow-sm",children:"Edit Project"})]})]}),A.jsxs("div",{className:"flex gap-6 border-t border-mist/50 pt-2",children:[A.jsxs("button",{onClick:()=>a("overview"),className:`pb-2 text-xs font-bold uppercase tracking-widest border-b-2 transition-all flex items-center gap-2 ${u==="overview"?"border-ink text-ink":"border-transparent text-pencil hover:text-ink"}`,children:[A.jsx(lv,{size:14})," Brief & Specs"]}),A.jsxs("button",{onClick:()=>a("moodboard"),className:`pb-2 text-xs font-bold uppercase tracking-widest border-b-2 transition-all flex items-center gap-2 ${u==="moodboard"?"border-indigo-600 text-indigo-600":"border-transparent text-pencil hover:text-indigo-600"}`,children:[A.jsx(iv,{size:14})," Visual Moodboard"]})]})]}),u==="moodboard"?A.jsx("div",{className:"flex-1",children:A.jsx(Y0,{projectId:s.id})}):A.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden max-w-[1800px] mx-auto w-full p-8 gap-10 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[A.jsxs("main",{className:"flex-1 flex flex-col gap-12 overflow-y-auto custom-scrollbar pr-2 pb-24",children:[A.jsxs("section",{children:[A.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[A.jsx(Qi,{size:14,className:"opacity-70"})," Brief & Constraints"]}),A.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-10 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[A.jsx("div",{className:"prose prose-sm max-w-none text-ink leading-loose font-sans font-medium text-base/7",children:s.description||A.jsx("span",{className:"text-pencil italic font-normal",children:"No brief provided."})}),s.notes&&A.jsxs("div",{className:"mt-10 pt-8 border-t border-mist/60",children:[A.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 opacity-70",children:"Technical Notes"}),A.jsx("div",{className:"bg-canvas/50 p-6 rounded-xl border border-mist/60",children:A.jsx("p",{className:"text-xs text-ink font-mono leading-relaxed",children:s.notes})})]})]})]}),A.jsxs("section",{children:[A.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[A.jsx(av,{size:14,className:"opacity-70"})," Quick References"]}),A.jsx(v6,{items:s.references||[],onAdd:async g=>{const m=[...s.references||[],g];r({...s,references:m})},onRemove:g=>{const m=(s.references||[]).filter(x=>x!==g);r({...s,references:m})}})]}),A.jsxs("section",{children:[A.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[A.jsx($r,{size:14,className:"opacity-70"})," Creative Direction"]}),A.jsx(k6,{project:s,onUpdate:y})]}),A.jsxs("section",{children:[A.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[A.jsx(Qs,{size:14,className:"opacity-70"})," Project Intelligence"]}),A.jsx("div",{className:"bg-white rounded-2xl border border-mist overflow-hidden h-[460px] shadow-sm hover:shadow-soft transition-shadow duration-500",children:A.jsx(S6,{sources:h,onAddSource:f,onRemoveSource:b})})]})]}),A.jsxs("aside",{className:"w-full lg:w-96 flex flex-col gap-8 flex-shrink-0",children:[A.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm",children:[A.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[A.jsx(Fc,{size:14})," Team Assignment"]}),A.jsxs("div",{className:"space-y-5",children:[p.length===0?A.jsx("div",{className:"text-center py-8 border border-dashed border-mist rounded-xl bg-canvas/30",children:A.jsx("span",{className:"text-xs text-pencil font-medium",children:"No active assignments"})}):p.map(g=>A.jsxs("div",{className:"flex items-center gap-4 group cursor-default",children:[A.jsx("img",{src:g.avatar,className:"w-10 h-10 rounded-full bg-mist object-cover border border-mist group-hover:border-ink transition-colors"}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:g.name}),A.jsx("div",{className:"text-[10px] text-pencil font-medium truncate uppercase tracking-wide mt-0.5",children:g.role})]})]},g.id)),A.jsx("button",{className:"w-full mt-4 py-3 text-[10px] font-bold text-ink bg-white hover:bg-canvas rounded-xl border border-mist transition-colors uppercase tracking-widest shadow-sm",children:"Manage Roster"})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm",children:[A.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6",children:"Specifications"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[A.jsx("span",{className:"text-xs text-pencil font-medium",children:"Format"}),A.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:s.format||""})]}),A.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[A.jsx("span",{className:"text-xs text-pencil font-medium",children:"Duration"}),A.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:s.length||""})]}),A.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[A.jsx("span",{className:"text-xs text-pencil font-medium",children:"Budget"}),A.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:s.budget||""})]})]})]}),A.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm flex flex-col h-96",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest flex items-center gap-2",children:[A.jsx(gv,{size:14})," Scripts"]}),A.jsxs(yn,{to:`/studio?project=${s.id}`,className:"text-[10px] font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1 transition-colors uppercase tracking-wide",children:["Open Studio ",A.jsx(Wa,{size:12})]})]}),A.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:i.length===0?A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 bg-canvas/30 rounded-xl border border-dashed border-mist",children:[A.jsx("span",{className:"text-xs text-pencil font-medium mb-3",children:"No drafts initialized."}),A.jsx(yn,{to:`/studio?project=${s.id}`,className:"px-4 py-2 bg-white border border-mist rounded-lg text-[10px] font-bold text-ink uppercase tracking-wide shadow-sm hover:border-ink transition-colors",children:"Start Writing"})]}):i.map(g=>A.jsxs(yn,{to:`/studio?project=${s.id}&script=${g.id}`,className:"block p-4 hover:bg-canvas rounded-xl border border-mist hover:border-indigo-200 transition-all group shadow-sm hover:shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("span",{className:"font-semibold text-xs text-ink group-hover:text-indigo-600 transition-colors truncate",children:g.title}),A.jsxs("span",{className:"text-[9px] font-mono font-bold text-pencil bg-canvas px-1.5 py-0.5 rounded border border-mist/50 group-hover:border-indigo-100 group-hover:text-indigo-500 transition-colors",children:["v",g.version]})]}),A.jsxs("div",{className:"text-[10px] text-pencil line-clamp-2 leading-relaxed font-medium",children:[g.content.substring(0,80),"..."]})]},g.id))})]})]})]})]})},N6=({freelancers:t,projects:n,assignments:e,onAssign:r,checkConflict:l})=>{const[o,s]=ae.useState(new Date("2023-10-01")),u=21,a=54,c=(()=>{const p=[];return n.forEach(g=>{g.roleRequirements.forEach(m=>{const x=e.filter(C=>C.projectId===g.id&&C.role===m.role).length;x<m.count&&p.push({project:g,roleId:m.id,roleName:m.role,count:m.count-x})})}),p})(),h=(p,g)=>{p.dataTransfer.setData("application/json",JSON.stringify(g)),p.dataTransfer.effectAllowed="copy"},d=(p,g)=>{p.preventDefault();try{const m=p.dataTransfer.getData("application/json");if(!m)return;const x=JSON.parse(m);if(!x.projectId||!x.roleName)return;const C=n.find(I=>I.id===x.projectId);if(C){if(C.startDate&&C.dueDate&&new Date(C.startDate)>new Date(C.dueDate)){alert("Cannot assign: Project start date is after due date.");return}const I=new Date(o).toISOString(),D=new Date(o.getTime()+14*24*60*60*1e3).toISOString(),z=C.startDate||I,O=C.dueDate||D;if(l&&l(g,z,O)&&!window.confirm("Scheduling Conflict detected. Create overlap?"))return;const B={id:`asn-${Date.now()}`,projectId:C.id,freelancerId:g,role:x.roleName,startDate:z,endDate:O,allocation:100,status:"Tentative",notes:""};r(B)}}catch(m){console.error("Drop failed",m)}},f=p=>{p.preventDefault(),p.dataTransfer.dropEffect="copy"},b=[];for(let p=0;p<u;p++){const g=new Date(o);g.setDate(g.getDate()+p),b.push(g)}const y=(p,g)=>{const m=new Date(p),x=new Date(g),C=o,I=Math.abs(x.getTime()-m.getTime()),D=Math.ceil(I/(1e3*60*60*24))+1,z=m.getTime()-C.getTime(),O=Math.ceil(z/(1e3*60*60*24));if(O+D<0||O>u)return null;const B=Math.max(0,O*a),V=Math.min(D*a,u*a-B);return{left:`${B}px`,width:`${V}px`}};return A.jsxs("div",{className:"p-6 md:p-12 max-w-[2000px] mx-auto space-y-8 animate-enter pb-24 font-sans text-ink",children:[A.jsxs("div",{className:"flex justify-between items-end px-2",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-5xl font-semibold tracking-tighter text-ink leading-[0.9]",children:"Schedule."}),A.jsx("p",{className:"text-pencil mt-2 text-sm font-medium tracking-wide",children:"Allocation timeline."})]}),A.jsx("div",{className:"flex items-center gap-4",children:A.jsxs("div",{className:"flex items-center gap-1 bg-white p-1.5 border border-mist rounded-xl shadow-sm",children:[A.jsx("button",{onClick:()=>{const p=new Date(o);p.setDate(p.getDate()-7),s(p)},className:"p-2 hover:bg-gray-50 text-pencil transition-colors rounded-lg",children:A.jsx(Wb,{size:16})}),A.jsxs("div",{className:"flex items-center gap-2 px-6 min-w-[180px] justify-center font-bold text-ink text-xs font-mono uppercase tracking-wide",children:[A.jsx(Ka,{size:14,className:"text-pencil"}),o.toLocaleDateString(void 0,{month:"long",year:"numeric"})]}),A.jsx("button",{onClick:()=>{const p=new Date(o);p.setDate(p.getDate()+7),s(p)},className:"p-2 hover:bg-gray-50 text-pencil transition-colors rounded-lg",children:A.jsx(Kb,{size:16})})]})})]}),A.jsxs("div",{className:"flex flex-col xl:flex-row gap-8 pb-4 h-[700px]",children:[A.jsxs("div",{className:"w-full xl:w-72 flex-shrink-0 bg-white border border-mist flex flex-col h-full rounded-2xl overflow-hidden shadow-sm",children:[A.jsx("div",{className:"p-5 border-b border-mist bg-canvas/30",children:A.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest",children:"Unassigned Roles"})}),A.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-3 custom-scrollbar bg-white",children:c.length===0?A.jsxs("div",{className:"text-center py-16 text-pencil text-xs flex flex-col items-center opacity-60",children:[A.jsx("div",{className:"mb-3 p-3 bg-canvas rounded-xl border border-mist",children:A.jsx(h0,{size:20})}),A.jsx("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:"All roles filled"})]}):c.map((p,g)=>A.jsxs("div",{draggable:!0,onDragStart:m=>h(m,{projectId:p.project.id,roleName:p.roleName}),className:"bg-white border border-mist p-4 hover:border-ink cursor-grab active:cursor-grabbing transition-colors group relative rounded-xl hover:shadow-md",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("span",{className:"text-[9px] font-bold text-white bg-ink px-2 py-0.5 uppercase tracking-wide rounded-md shadow-sm",children:p.roleName}),A.jsx(sv,{size:14,className:"text-mist group-hover:text-ink transition-colors"})]}),A.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:p.project.name}),A.jsxs("div",{className:"text-[10px] text-pencil mt-1.5 flex items-center gap-1.5 font-medium",children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),p.project.startDate?new Date(p.project.startDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"TBD"]})]},`${p.project.id}-${p.roleId}-${g}`))})]}),A.jsxs("div",{className:"flex-1 bg-white border border-mist flex flex-col overflow-hidden rounded-2xl shadow-sm",children:[A.jsxs("div",{className:"flex border-b border-mist bg-canvas/30 overflow-x-hidden",children:[A.jsx("div",{className:"w-72 flex-shrink-0 p-5 border-r border-mist font-bold text-[10px] text-pencil uppercase tracking-widest flex items-center bg-canvas/30 z-20 sticky left-0",children:"Freelancer"}),A.jsx("div",{className:"flex-1 overflow-hidden relative",children:A.jsx("div",{className:"flex",style:{width:`${u*a}px`},children:b.map((p,g)=>{const m=p.toDateString()===new Date().toDateString();return A.jsxs("div",{className:`flex-shrink-0 text-center border-r border-mist/50 last:border-r-0 ${m?"bg-indigo-50/20":""}`,style:{width:`${a}px`},children:[A.jsx("div",{className:"text-[9px] text-pencil uppercase py-3 font-bold tracking-wider",children:p.toLocaleDateString("en-US",{weekday:"narrow"})}),A.jsx("div",{className:`text-xs font-bold pb-3 font-mono ${m?"text-indigo-600":"text-ink"}`,children:p.getDate()})]},g)})})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:t.map(p=>{const g=e.filter(m=>m.freelancerId===p.id);return A.jsxs("div",{className:"flex border-b border-mist min-h-[80px] hover:bg-canvas/30 transition-colors group/row",onDragOver:f,onDrop:m=>d(m,p.id),children:[A.jsxs("div",{className:"w-72 flex-shrink-0 p-5 border-r border-mist flex items-center gap-4 bg-white z-10 sticky left-0 group-hover/row:bg-gray-50/50 transition-colors",children:[A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:p.avatar,className:"w-10 h-10 rounded-xl border border-mist object-cover"}),p.utilization>0&&A.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 border-2 border-white flex items-center justify-center rounded-full ${p.utilization>100?"bg-rose-500":"bg-emerald-500"}`})]}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:p.name}),A.jsx("div",{className:"text-[10px] text-pencil truncate font-medium uppercase tracking-widest mt-0.5",children:p.role})]})]}),A.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 flex pointer-events-none",children:[...Array(u)].map((m,x)=>A.jsx("div",{className:"border-r border-mist/30 h-full",style:{width:`${a}px`}},x))}),g.map(m=>{const x=y(m.startDate,m.endDate);if(!x)return null;const C=n.find(I=>I.id===m.projectId);return A.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-12 border border-ink bg-white overflow-hidden cursor-pointer hover:bg-ink group z-10 transition-colors rounded shadow-sm",style:{...x},title:`${C==null?void 0:C.name} - ${m.role}`,children:A.jsx("div",{className:"pl-3 pr-3 h-full flex flex-col justify-center",children:A.jsx("span",{className:"text-[10px] font-bold text-ink group-hover:text-white truncate uppercase tracking-widest",children:C==null?void 0:C.name})})},m.id)}),g.length===0&&A.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none transition-opacity duration-300",children:A.jsx("span",{className:"text-[9px] text-pencil font-bold uppercase tracking-widest border border-dashed border-mist px-3 py-1.5 bg-white rounded-lg shadow-sm",children:"Drop to assign"})})]})]},p.id)})})]})]})]})};function To(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var J0={exports:{}};/*! ExcelJS 19-10-2023 */(function(t,n){(function(e){t.exports=e()})(function(){return function e(r,l,o){function s(i,c){if(!l[i]){if(!r[i]){var h=typeof To=="function"&&To;if(!c&&h)return h(i,!0);if(u)return u(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var f=l[i]={exports:{}};r[i][0].call(f.exports,function(b){return s(r[i][1][b]||b)},f,f.exports,e,r,l,o)}return l[i].exports}for(var u=typeof To=="function"&&To,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(e,r,l){const o=e("fs"),s=e("fast-csv"),u=e("dayjs/plugin/customParseFormat"),a=e("dayjs/plugin/utc"),i=e("dayjs").extend(u).extend(a),c=e("../utils/stream-buf"),{fs:{exists:h}}=e("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};r.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,b){if(b=b||{},!await h(f))throw new Error("File not found: "+f);const y=o.createReadStream(f),p=await this.read(y,b);return y.close(),p}read(f,b){return b=b||{},new Promise((y,p)=>{const g=this.workbook.addWorksheet(b.sheetName),m=b.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=b.map||function(I){if(I==="")return null;const D=Number(I);if(!Number.isNaN(D)&&D!==1/0)return D;const z=m.reduce((B,V)=>{if(B)return B;const q=i(I,V,!0);return q.isValid()?q:null},null);if(z)return new Date(z.valueOf());const O=d[I];return O!==void 0?O:I},C=s.parse(b.parserOptions).on("data",I=>{g.addRow(I.map(x))}).on("end",()=>{C.emit("worksheet",g)});C.on("worksheet",y).on("error",p),f.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,b){return new Promise((y,p)=>{b=b||{};const g=this.workbook.getWorksheet(b.sheetName||b.sheetId),m=s.format(b.formatterOptions);f.on("finish",()=>{y()}),m.on("error",p),m.pipe(f);const{dateFormat:x,dateUTC:C}=b,I=b.map||(O=>{if(O){if(O.text||O.hyperlink)return O.hyperlink||O.text||"";if(O.formula||O.result)return O.result||"";if(O instanceof Date)return x?C?i.utc(O).format(x):i(O).format(x):C?i.utc(O).format():i(O).format();if(O.error)return O.error;if(typeof O=="object")return JSON.stringify(O)}return O}),D=b.includeEmptyRows===void 0||b.includeEmptyRows;let z=1;g&&g.eachRow((O,B)=>{if(D)for(;z++<B-1;)m.write([]);const{values:V}=O;V.shift(),m.write(V.map(I)),z=B}),m.end()})}writeFile(f,b){const y={encoding:(b=b||{}).encoding||"utf8"},p=o.createWriteStream(f,y);return this.write(p,b)}async writeBuffer(f){const b=new c;return await this.write(b,f),b.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,r,l){const o=e("../utils/col-cache");class s{constructor(a,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=a,i)if(typeof i=="string"){const h=o.decodeAddress(i);this.nativeCol=h.col+c,this.nativeColOff=0,this.nativeRow=h.row+c,this.nativeRowOff=0}else i.nativeCol!==void 0?(this.nativeCol=i.nativeCol||0,this.nativeColOff=i.nativeColOff||0,this.nativeRow=i.nativeRow||0,this.nativeRowOff=i.nativeRowOff||0):i.col!==void 0?(this.col=i.col+c,this.row=i.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(a){return a instanceof s||a==null?a:new s(a)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(a){this.nativeCol=Math.floor(a),this.nativeColOff=Math.floor((a-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(a){this.nativeRow=Math.floor(a),this.nativeRowOff=Math.floor((a-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(a){this.nativeCol=a.nativeCol,this.nativeColOff=a.nativeColOff,this.nativeRow=a.nativeRow,this.nativeRowOff=a.nativeRowOff}}r.exports=s},{"../utils/col-cache":19}],3:[function(e,r,l){const o=e("../utils/col-cache"),s=e("../utils/under-dash"),u=e("./enums"),{slideFormula:a}=e("../utils/shared-formula"),i=e("./note");class c{constructor(f,b,y){if(!f||!b)throw new Error("A Cell needs a Row");this._row=f,this._column=b,o.validateAddress(y),this._address=y,this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(f.style,b.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,b,y){const p=f&&f.numFmt||b&&b.numFmt;p&&(y.numFmt=p);const g=f&&f.font||b&&b.font;g&&(y.font=g);const m=f&&f.alignment||b&&b.alignment;m&&(y.alignment=m);const x=f&&f.border||b&&b.border;x&&(y.border=x);const C=f&&f.fill||b&&b.fill;C&&(y.fill=C);const I=f&&f.protection||b&&b.protection;return I&&(y.protection=I),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(f,b){this._value.release(),this._value=h.create(c.Types.Merge,this,f),b||(this.style=f.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===c.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==c.Types.Merge?(this._value.release(),this._value=h.create(h.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new i(f)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===c.Types.String&&(this._value=h.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:b}=this.workbook;b.removeAllNames(this.fullAddress),f.forEach(y=>{b.addEx(this.fullAddress,y)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=h.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=i.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}c.Types=u.ValueType;const h={getType:d=>d==null?c.Types.Null:d instanceof String||typeof d=="string"?c.Types.String:typeof d=="number"?c.Types.Number:typeof d=="boolean"?c.Types.Boolean:d instanceof Date?c.Types.Date:d.text&&d.hyperlink?c.Types.Hyperlink:d.formula||d.sharedFormula?c.Types.Formula:d.richText?c.Types.RichText:d.sharedString?c.Types.SharedString:d.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(d){this.model={address:d.address,type:c.Types.Null}}get value(){return null}set value(d){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Number,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.String,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Date,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(d,f){this.cell=d,this.model={address:d.address,type:c.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(d){const f={},b=y=>{const p=d[y];p&&(f[y]=p)};return b("formula"),b("result"),b("ref"),b("shareType"),b("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(h.getType(d)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?u.FormulaType.Master:this.model.sharedFormula?u.FormulaType.Shared:u.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return c.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?u.ValueType.Null:d instanceof String||typeof d=="string"?u.ValueType.String:typeof d=="number"?u.ValueType.Number:d instanceof Date?u.ValueType.Date:d.text&&d.hyperlink?u.ValueType.Hyperlink:d.formula?u.ValueType.Formula:u.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,f=d.findCell(this.model.sharedFormula);this._translatedFormula=f&&a(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof c?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.SharedString,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.String,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Boolean,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Error,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,f)=>(d[f.t]=f.f,d),[]),create(d,f,b){const y=this.types[d];if(!y)throw new Error("Could not create Value of type "+d);return new y(f,b)}};r.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,r,l){const o=e("../utils/under-dash"),s=e("./enums"),u=e("../utils/col-cache");class a{constructor(c,h,d){this._worksheet=c,this._number=h,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return u.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((h,d)=>{this._worksheet.getCell(d+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&o.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,h){const d=this.number;h||(h=c,c=null),this._worksheet.eachRow(c,(f,b)=>{h(f.getCell(d),b)})}get values(){const c=[];return this.eachCell((h,d)=>{h&&h.type!==s.ValueType.Null&&(c[d]=h.value)}),c}set values(c){if(!c)return;const h=this.number;let d=0;c.hasOwnProperty("0")&&(d=1),c.forEach((f,b)=>{this._worksheet.getCell(b+d,h).value=f})}_applyStyle(c,h){return this.style[c]=h,this.eachCell(d=>{d[c]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const h=[];let d=null;return c&&c.forEach((f,b)=>{f.isDefault?d&&(d=null):d&&f.equivalentTo(d)?d.max=b+1:(d={min:b+1,max:b+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},h.push(d))}),h.length?h:void 0}static fromModel(c,h){const d=[];let f=1,b=0;for(h=(h=h||[]).sort(function(y,p){return y.min-p.min});b<h.length;){const y=h[b++];for(;f<y.min;)d.push(new a(c,f++));for(;f<=y.max;)d.push(new a(c,f++,y))}return d.length?d:null}}r.exports=a},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,r,l){r.exports=class{constructor(o){this.model=o||{}}add(o,s){return this.model[o]=s}find(o){return this.model[o]}remove(o){this.model[o]=void 0}}},{}],6:[function(e,r,l){const o=e("../utils/under-dash"),s=e("../utils/col-cache"),u=e("../utils/cell-matrix"),a=e("./range"),i=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;r.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new u)}add(c,h){const d=s.decodeEx(c);this.addEx(d,h)}addEx(c,h){const d=this.getMatrix(h);if(c.top)for(let f=c.left;f<=c.right;f++)for(let b=c.top;b<=c.bottom;b++){const y={sheetName:c.sheetName,address:s.n2l(f)+b,row:b,col:f};d.addCellEx(y)}else d.addCellEx(c)}remove(c,h){const d=s.decodeEx(c);this.removeEx(d,h)}removeEx(c,h){this.getMatrix(h).removeCellEx(c)}removeAllNames(c){o.each(this.matrixMap,h=>{h.removeCellEx(c)})}forEach(c){o.each(this.matrixMap,(h,d)=>{h.forEach(f=>{c(d,f)})})}getNames(c){return this.getNamesEx(s.decodeEx(c))}getNamesEx(c){return o.map(this.matrixMap,(h,d)=>h.findCellEx(c)&&d).filter(Boolean)}_explore(c,h){h.mark=!1;const{sheetName:d}=h,f=new a(h.row,h.col,h.row,h.col,d);let b,y;function p(m,x){const C=c.findCellAt(d,m,h.col);return!(!C||!C.mark)&&(f[x]=m,C.mark=!1,!0)}for(y=h.row-1;p(y,"top");y--);for(y=h.row+1;p(y,"bottom");y++);function g(m,x){const C=[];for(y=f.top;y<=f.bottom;y++){const I=c.findCellAt(d,y,m);if(!I||!I.mark)return!1;C.push(I)}f[x]=m;for(let I=0;I<C.length;I++)C[I].mark=!1;return!0}for(b=h.col-1;g(b,"left");b--);for(b=h.col+1;g(b,"right");b++);return f}getRanges(c,h){return(h=h||this.matrixMap[c])?(h.forEach(d=>{d.mark=!0}),{name:c,ranges:h.map(d=>d.mark&&this._explore(h,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,h){c.forEachInSheet(h,(d,f,b)=>{d&&(d.row===f&&d.col===b||(d.row=f,d.col=b,d.address=s.n2l(b)+f))})}spliceRows(c,h,d,f){o.each(this.matrixMap,b=>{b.spliceRows(c,h,d,f),this.normaliseMatrix(b,c)})}spliceColumns(c,h,d,f){o.each(this.matrixMap,b=>{b.spliceColumns(c,h,d,f),this.normaliseMatrix(b,c)})}get model(){return o.map(this.matrixMap,(c,h)=>this.getRanges(h,c)).filter(c=>c.ranges.length)}set model(c){const h=this.matrixMap={};c.forEach(d=>{const f=h[d.name]=new u;d.ranges.forEach(b=>{i.test(b.split("!").pop()||"")&&f.addCell(b)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,r,l){r.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,r,l){const o=e("../utils/col-cache"),s=e("./anchor");r.exports=class{constructor(u,a){this.worksheet=u,this.model=a}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(u){let{type:a,imageId:i,range:c,hyperlinks:h}=u;if(this.type=a,this.imageId=i,a==="image")if(typeof c=="string"){const d=o.decode(c);this.range={tl:new s(this.worksheet,{col:d.left,row:d.top},-1),br:new s(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,c.tl,0),br:c.br&&new s(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:h||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,r,l){const o=e("../utils/under-dash");class s{constructor(a){this.note=a}get model(){let a=null;switch(typeof this.note){case"string":a={type:"note",note:{texts:[{text:this.note}]}};break;default:a={type:"note",note:this.note}}return o.deepMerge({},s.DEFAULT_CONFIGS,a)}set model(a){const{note:i}=a,{texts:c}=i;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=i}static fromModel(a){const i=new s;return i.model=a,i}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},r.exports=s},{"../utils/under-dash":26}],10:[function(e,r,l){const o=e("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(a,i,c,h,d){if(arguments.length<4){const f=o.decodeAddress(a),b=o.decodeAddress(i);this.model={top:Math.min(f.row,b.row),left:Math.min(f.col,b.col),bottom:Math.max(f.row,b.row),right:Math.max(f.col,b.col),sheetName:c},this.setTLBR(f.row,f.col,b.row,b.col,d)}else this.model={top:Math.min(a,c),left:Math.min(i,h),bottom:Math.max(a,c),right:Math.max(i,h),sheetName:d}}decode(a){switch(a.length){case 5:this.setTLBR(a[0],a[1],a[2],a[3],a[4]);break;case 4:this.setTLBR(a[0],a[1],a[2],a[3]);break;case 3:this.setTLBR(a[0],a[1],a[2]);break;case 2:this.setTLBR(a[0],a[1]);break;case 1:{const i=a[0];if(i instanceof s)this.model={top:i.model.top,left:i.model.left,bottom:i.model.bottom,right:i.model.right,sheetName:i.sheetName};else if(i instanceof Array)this.decode(i);else if(i.top&&i.left&&i.bottom&&i.right)this.model={top:i.top,left:i.left,bottom:i.bottom,right:i.right,sheetName:i.sheetName};else{const c=o.decodeEx(i);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+a.length)}}get top(){return this.model.top||1}set top(a){this.model.top=a}get left(){return this.model.left||1}set left(a){this.model.left=a}get bottom(){return this.model.bottom||1}set bottom(a){this.model.bottom=a}get right(){return this.model.right||1}set right(a){this.model.right=a}get sheetName(){return this.model.sheetName}set sheetName(a){this.model.sheetName=a}get _serialisedSheetName(){const{sheetName:a}=this.model;return a?/^[a-zA-Z0-9]*$/.test(a)?a+"!":`'${a}'!`:""}expand(a,i,c,h){(!this.model.top||a<this.top)&&(this.top=a),(!this.model.left||i<this.left)&&(this.left=i),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(a){if(a){const{dimensions:i,number:c}=a;i&&this.expand(c,i.min,c,i.max)}}expandToAddress(a){const i=o.decodeEx(a);this.expand(i.row,i.col,i.row,i.col)}get tl(){return o.n2l(this.left)+this.top}get $t$l(){return`$${o.n2l(this.left)}$${this.top}`}get br(){return o.n2l(this.right)+this.bottom}get $b$r(){return`$${o.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&!(a.bottom<this.top)&&!(a.top>this.bottom)&&!(a.right<this.left)&&!(a.left>this.right)}contains(a){const i=o.decodeEx(a);return this.containsEx(i)}containsEx(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&a.row>=this.top&&a.row<=this.bottom&&a.col>=this.left&&a.col<=this.right}forEachAddress(a){for(let i=this.left;i<=this.right;i++)for(let c=this.top;c<=this.bottom;c++)a(o.encodeAddress(c,i),c,i)}}r.exports=s},{"../utils/col-cache":19}],11:[function(e,r,l){const o=e("../utils/under-dash"),s=e("./enums"),u=e("../utils/col-cache"),a=e("./cell");r.exports=class{constructor(i,c){this._worksheet=i,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(i){return this._cells[i-1]}getCellEx(i){let c=this._cells[i.col-1];if(!c){const h=this._worksheet.getColumn(i.col);c=new a(this,h,i.address),this._cells[i.col-1]=c}return c}getCell(i){if(typeof i=="string"){const c=this._worksheet.getColumnKey(i);i=c?c.number:u.l2n(i)}return this._cells[i-1]||this.getCellEx({address:u.encodeAddress(this._number,i),row:this._number,col:i})}splice(i,c){const h=i+c;for(var d=arguments.length,f=new Array(d>2?d-2:0),b=2;b<d;b++)f[b-2]=arguments[b];const y=f.length-c,p=this._cells.length;let g,m,x;if(y<0)for(g=i+f.length;g<=p;g++)x=this._cells[g-1],m=this._cells[g-y-1],m?(x=this.getCell(g),x.value=m.value,x.style=m.style,x._comment=m._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(y>0)for(g=p;g>=h;g--)m=this._cells[g-1],m?(x=this.getCell(g+y),x.value=m.value,x.style=m.style,x._comment=m._comment):this._cells[g+y-1]=void 0;for(g=0;g<f.length;g++)x=this.getCell(i+g),x.value=f[g],x.style={},x._comment=void 0}eachCell(i,c){if(c||(c=i,i=null),i&&i.includeEmpty){const h=this._cells.length;for(let d=1;d<=h;d++)c(this.getCell(d),d)}else this._cells.forEach((h,d)=>{h&&h.type!==s.ValueType.Null&&c(h,d+1)})}addPageBreak(i,c){const h=this._worksheet,d=Math.max(0,i-1)||0,f=Math.max(0,c-1)||16838,b={id:this._number,max:f,man:1};d&&(b.min=d),h.rowBreaks.push(b)}get values(){const i=[];return this._cells.forEach(c=>{c&&c.type!==s.ValueType.Null&&(i[c.col]=c.value)}),i}set values(i){if(this._cells=[],i)if(i instanceof Array){let c=0;i.hasOwnProperty("0")&&(c=1),i.forEach((h,d)=>{h!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,d+c),row:this._number,col:d+c}).value=h)})}else this._worksheet.eachColumnKey((c,h)=>{i[h]!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=i[h])})}get hasValues(){return o.some(this._cells,i=>i&&i.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let i=0;return this.eachCell(()=>{i++}),i}get dimensions(){let i=0,c=0;return this._cells.forEach(h=>{h&&h.type!==s.ValueType.Null&&((!i||i>h.col)&&(i=h.col),c<h.col&&(c=h.col))}),i>0?{min:i,max:c}:null}_applyStyle(i,c){return this.style[i]=c,this._cells.forEach(h=>{h&&(h[i]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(i){this._applyStyle("numFmt",i)}get font(){return this.style.font}set font(i){this._applyStyle("font",i)}get alignment(){return this.style.alignment}set alignment(i){this._applyStyle("alignment",i)}get protection(){return this.style.protection}set protection(i){this._applyStyle("protection",i)}get border(){return this.style.border}set border(i){this._applyStyle("border",i)}get fill(){return this.style.fill}set fill(i){this._applyStyle("fill",i)}get hidden(){return!!this._hidden}set hidden(i){this._hidden=i}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(i){this._outlineLevel=i}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const i=[];let c=0,h=0;return this._cells.forEach(d=>{if(d){const f=d.model;f&&((!c||c>d.col)&&(c=d.col),h<d.col&&(h=d.col),i.push(f))}}),this.height||i.length?{cells:i,number:this.number,min:c,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(i){if(i.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],i.cells.forEach(h=>{switch(h.type){case a.Types.Merge:break;default:{let d;if(h.address)d=u.decodeAddress(h.address);else if(c){const{row:f}=c,b=c.col+1;d={row:f,col:b,address:u.encodeAddress(f,b),$col$row:`$${u.n2l(b)}$${f}`}}c=d,this.getCellEx(d).model=h;break}}}),i.height?this.height=i.height:delete this.height,this.hidden=i.hidden,this.outlineLevel=i.outlineLevel||0,this.style=i.style&&JSON.parse(JSON.stringify(i.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,r,l){const o=e("../utils/col-cache");class s{constructor(a,i,c){this.table=a,this.column=i,this.index=c}_set(a,i){this.table.cacheState(),this.column[a]=i}get name(){return this.column.name}set name(a){this._set("name",a)}get filterButton(){return this.column.filterButton}set filterButton(a){this.column.filterButton=a}get style(){return this.column.style}set style(a){this.column.style=a}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(a){this._set("totalsRowLabel",a)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(a){this._set("totalsRowFunction",a)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(a){this._set("totalsRowResult",a)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(a){this._set("totalsRowFormula",a)}}r.exports=class{constructor(u,a){this.worksheet=u,a&&(this.table=a,this.validate(),this.store())}getFormula(u){switch(u.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${u.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${u.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${u.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${u.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${u.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${u.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${u.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${u.name}])`;case"custom":return u.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+u.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:u}=this,a=(y,p,g)=>{y[p]===void 0&&(y[p]=g)};a(u,"headerRow",!0),a(u,"totalsRow",!1),a(u,"style",{}),a(u.style,"theme","TableStyleMedium2"),a(u.style,"showFirstColumn",!1),a(u.style,"showLastColumn",!1),a(u.style,"showRowStripes",!1),a(u.style,"showColumnStripes",!1);const i=(y,p)=>{if(!y)throw new Error(p)};i(u.ref,"Table must have ref"),i(u.columns,"Table must have column definitions"),i(u.rows,"Table must have row definitions"),u.tl=o.decodeAddress(u.ref);const{row:c,col:h}=u.tl;i(c>0,"Table must be on valid row"),i(h>0,"Table must be on valid col");const{width:d,filterHeight:f,tableHeight:b}=this;u.autoFilterRef=o.encode(c,h,c+f-1,h+d-1),u.tableRef=o.encode(c,h,c+b-1,h+d-1),u.columns.forEach((y,p)=>{i(y.name,`Column ${p} must have a name`),p===0?a(y,"totalsRowLabel","Total"):(a(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const u=(f,b)=>{b&&Object.keys(b).forEach(y=>{f[y]=b[y]})},{worksheet:a,table:i}=this,{row:c,col:h}=i.tl;let d=0;if(i.headerRow){const f=a.getRow(c+d++);i.columns.forEach((b,y)=>{const{style:p,name:g}=b,m=f.getCell(h+y);m.value=g,u(m,p)})}if(i.rows.forEach(f=>{const b=a.getRow(c+d++);f.forEach((y,p)=>{const g=b.getCell(h+p);g.value=y,u(g,i.columns[p].style)})}),i.totalsRow){const f=a.getRow(c+d++);i.columns.forEach((b,y)=>{const p=f.getCell(h+y);if(y===0)p.value=b.totalsRowLabel;else{const g=this.getFormula(b);p.value=g?{formula:b.totalsRowFormula,result:b.totalsRowResult}:null}u(p,b.style)})}}load(u){const{table:a}=this,{row:i,col:c}=a.tl;let h=0;if(a.headerRow){const d=u.getRow(i+h++);a.columns.forEach((f,b)=>{d.getCell(c+b).value=f.name})}if(a.rows.forEach(d=>{const f=u.getRow(i+h++);d.forEach((b,y)=>{f.getCell(c+y).value=b})}),a.totalsRow){const d=u.getRow(i+h++);a.columns.forEach((f,b)=>{const y=d.getCell(c+b);b===0?y.value=f.totalsRowLabel:this.getFormula(f)&&(y.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(u){this.table=u}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const u=o.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let a=0;a<this._cache.tableHeight;a++){const i=this.worksheet.getRow(u.row+a);for(let c=0;c<this._cache.width;c++)i.getCell(u.col+c).value=null}else{for(let a=this.tableHeight;a<this._cache.tableHeight;a++){const i=this.worksheet.getRow(u.row+a);for(let c=0;c<this._cache.width;c++)i.getCell(u.col+c).value=null}for(let a=0;a<this.tableHeight;a++){const i=this.worksheet.getRow(u.row+a);for(let c=this.width;c<this._cache.width;c++)i.getCell(u.col+c).value=null}}this.store()}addRow(u,a){this.cacheState(),a===void 0?this.table.rows.push(u):this.table.rows.splice(a,0,u)}removeRows(u){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(u,a)}getColumn(u){const a=this.table.columns[u];return new s(this,a,u)}addColumn(u,a,i){this.cacheState(),i===void 0?(this.table.columns.push(u),this.table.rows.forEach((c,h)=>{c.push(a[h])})):(this.table.columns.splice(i,0,u),this.table.rows.forEach((c,h)=>{c.splice(i,0,a[h])}))}removeColumns(u){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(u,a),this.table.rows.forEach(i=>{i.splice(u,a)})}_assign(u,a,i){this.cacheState(),u[a]=i}get ref(){return this.table.ref}set ref(u){this._assign(this.table,"ref",u)}get name(){return this.table.name}set name(u){this.table.name=u}get displayName(){return this.table.displyName||this.table.name}set displayNamename(u){this.table.displayName=u}get headerRow(){return this.table.headerRow}set headerRow(u){this._assign(this.table,"headerRow",u)}get totalsRow(){return this.table.totalsRow}set totalsRow(u){this._assign(this.table,"totalsRow",u)}get theme(){return this.table.style.name}set theme(u){this.table.style.name=u}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(u){this.table.style.showFirstColumn=u}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(u){this.table.style.showLastColumn=u}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(u){this.table.style.showRowStripes=u}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(u){this.table.style.showColumnStripes=u}}},{"../utils/col-cache":19}],13:[function(e,r,l){const o=e("./worksheet"),s=e("./defined-names"),u=e("../xlsx/xlsx"),a=e("../csv/csv");r.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new u(this)),this._xlsx}get csv(){return this._csv||(this._csv=new a(this)),this._csv}get nextId(){for(let i=1;i<this._worksheets.length;i++)if(!this._worksheets[i])return i;return this._worksheets.length||1}addWorksheet(i,c){const h=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const d=this._worksheets.reduce((y,p)=>(p&&p.orderNo)>y?p.orderNo:y,0),f=Object.assign({},c,{id:h,name:i,orderNo:d+1,workbook:this}),b=new o(f);return this._worksheets[h]=b,b}removeWorksheetEx(i){delete this._worksheets[i.id]}removeWorksheet(i){const c=this.getWorksheet(i);c&&c.destroy()}getWorksheet(i){return i===void 0?this._worksheets.find(Boolean):typeof i=="number"?this._worksheets[i]:typeof i=="string"?this._worksheets.find(c=>c&&c.name===i):void 0}get worksheets(){return this._worksheets.slice(1).sort((i,c)=>i.orderNo-c.orderNo).filter(Boolean)}eachSheet(i){this.worksheets.forEach(c=>{i(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(i){const c=this.media.length;return this.media.push(Object.assign({},i,{type:"image"})),c}getImage(i){return this.media[i]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(i=>i.model),sheets:this.worksheets.map(i=>i.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(i){this.creator=i.creator,this.lastModifiedBy=i.lastModifiedBy,this.lastPrinted=i.lastPrinted,this.created=i.created,this.modified=i.modified,this.company=i.company,this.manager=i.manager,this.title=i.title,this.subject=i.subject,this.keywords=i.keywords,this.category=i.category,this.description=i.description,this.language=i.language,this.revision=i.revision,this.contentStatus=i.contentStatus,this.properties=i.properties,this.calcProperties=i.calcProperties,this._worksheets=[],i.worksheets.forEach(c=>{const{id:h,name:d,state:f}=c,b=i.sheets&&i.sheets.findIndex(y=>y.id===h);(this._worksheets[h]=new o({id:h,name:d,orderNo:b,state:f,workbook:this})).model=c}),this._definedNames.model=i.definedNames,this.views=i.views,this._themes=i.themes,this.media=i.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,r,l){const o=e("../utils/under-dash"),s=e("../utils/col-cache"),u=e("./range"),a=e("./row"),i=e("./column"),c=e("./enums"),h=e("./image"),d=e("./table"),f=e("./data-validations"),b=e("../utils/encryptor"),{copyStyle:y}=e("../utils/copy-style");r.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new f,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new u;return this._rows.forEach(g=>{if(g){const m=g.dimensions;m&&p.expand(g.number,m.min,g.number,m.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((x,C)=>{const I=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(x,I)},0);let g=1;const m=this._columns=[];p.forEach(x=>{const C=new i(this,g++,!1);m.push(C),C.defn=x})}getColumnKey(p){return this._keys[p]}setColumnKey(p,g){this._keys[p]=g}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){o.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const g=this._keys[p];if(g)return g;p=s.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let g=this._columns.length+1;for(;g<=p;)this._columns.push(new i(this,g++))}return this._columns[p-1]}spliceColumns(p,g){const m=this._rows.length;for(var x=arguments.length,C=new Array(x>2?x-2:0),I=2;I<x;I++)C[I-2]=arguments[I];if(C.length>0)for(let B=0;B<m;B++){const V=[p,g];C.forEach(H=>{V.push(H[B]||null)});const q=this.getRow(B+1);q.splice.apply(q,V)}else this._rows.forEach(B=>{B&&B.splice(p,g)});const D=C.length-g,z=p+g,O=this._columns.length;if(D<0)for(let B=p+C.length;B<=O;B++)this.getColumn(B).defn=this.getColumn(B-D).defn;else if(D>0)for(let B=O;B>=z;B--)this.getColumn(B+D).defn=this.getColumn(B).defn;for(let B=p;B<p+C.length;B++)this.getColumn(B).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,g,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(g=>{p=Math.max(p,g.cellCount)}),p}get actualColumnCount(){const p=[];let g=0;return this.eachRow(m=>{m.eachCell(x=>{let{col:C}=x;p[C]||(p[C]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){const p=this._rows;let g=p.length;for(;g>0&&p[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,g){return this._rows.slice(p-1,p-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let g=this._rows[p-1];return g||(g=this._rows[p-1]=new a(this,p)),g}getRows(p,g){if(g<1)return;const m=[];for(let x=p;x<p+g;x++)m.push(this.getRow(x));return m}addRow(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=this._nextRow,x=this.getRow(m);return x.values=p,this._setStyleOption(m,g[0]==="i"?g:"n"),x}addRows(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=[];return p.forEach(x=>{m.push(this.addRow(x,g))}),m}insertRow(p,g){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,g),this._setStyleOption(p,m),this.getRow(p)}insertRows(p,g){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...g),m!=="n")for(let x=0;x<g.length;x++)m[0]==="o"&&this.findRow(g.length+p+x)!==void 0?this._copyStyle(g.length+p+x,p+x,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+x,m[1]==="+");return this.getRows(p,g.length)}_setStyleOption(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,g[1]==="+"):g[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,g[1]==="+")}_copyStyle(p,g){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(p),C=this.getRow(g);C.style=y(x.style),x.eachCell({includeEmpty:m},(I,D)=>{C.getCell(D).style=y(I.style)}),C.height=x.height}duplicateRow(p,g){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[p-1],C=new Array(g).fill(x.values);this.spliceRows(p+1,m?0:g,...C);for(let I=0;I<g;I++){const D=this._rows[p+I];D.style=x.style,D.height=x.height,x.eachCell({includeEmpty:!0},(z,O)=>{D.getCell(O).style=z.style})}}spliceRows(p,g){const m=p+g;for(var x=arguments.length,C=new Array(x>2?x-2:0),I=2;I<x;I++)C[I-2]=arguments[I];const D=C.length,z=D-g,O=this._rows.length;let B,V;if(z<0)for(p===O&&(this._rows[O-1]=void 0),B=m;B<=O;B++)if(V=this._rows[B-1],V){const q=this.getRow(B+z);q.values=V.values,q.style=V.style,q.height=V.height,V.eachCell({includeEmpty:!0},(H,E)=>{q.getCell(E).style=H.style}),this._rows[B-1]=void 0}else this._rows[B+z-1]=void 0;else if(z>0)for(B=O;B>=m;B--)if(V=this._rows[B-1],V){const q=this.getRow(B+z);q.values=V.values,q.style=V.style,q.height=V.height,V.eachCell({includeEmpty:!0},(H,E)=>{if(q.getCell(E).style=H.style,H._value.constructor.name==="MergeValue"){const R=this.getRow(H._row._number+D).getCell(E),k=H._value._master,v=this.getRow(k._row._number+D).getCell(k._column._number);R.merge(v)}})}else this._rows[B+z-1]=void 0;for(B=0;B<D;B++){const q=this.getRow(p+B);q.style={},q.values=C[B]}this.workbook.definedNames.spliceRows(this.name,p,g,D)}eachRow(p,g){if(g||(g=p,p=void 0),p&&p.includeEmpty){const m=this._rows.length;for(let x=1;x<=m;x++)g(this.getRow(x),x)}else this._rows.forEach(m=>{m&&m.hasValues&&g(m,m.number)})}getSheetValues(){const p=[];return this._rows.forEach(g=>{g&&(p[g.number]=g.values)}),p}findCell(p,g){const m=s.getAddress(p,g),x=this._rows[m.row-1];return x?x.findCell(m.col):void 0}getCell(p,g){const m=s.getAddress(p,g);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];const x=new u(g);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];const x=new u(g);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(p,g){o.each(this._merges,x=>{if(x.intersects(p))throw new Error("Cannot merge already merged cells")});const m=this.getCell(p.top,p.left);for(let x=p.top;x<=p.bottom;x++)for(let C=p.left;C<=p.right;C++)(x>p.top||C>p.left)&&this.getCell(x,C).merge(m,g);this._merges[m.address]=p}_unMergeMaster(p){const g=this._merges[p.address];if(g){for(let m=g.top;m<=g.bottom;m++)for(let x=g.left;x<=g.right;x++)this.getCell(m,x).unmerge();delete this._merges[p.address]}}get hasMerges(){return o.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];const x=new u(g);for(let C=x.top;C<=x.bottom;C++)for(let I=x.left;I<=x.right;I++){const D=this.findCell(C,I);D&&(D.type===c.ValueType.Merge?this._unMergeMaster(D.master):this._merges[D.address]&&this._unMergeMaster(D))}}fillFormula(p,g,m){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=s.decode(p),{top:I,left:D,bottom:z,right:O}=C,B=O-D+1,V=s.encodeAddress(I,D),q=x==="shared";let H;H=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(R,k)=>m[R-I][k-D]:(R,k)=>m[(R-I)*B+(k-D)]:()=>{};let E=!0;for(let R=I;R<=z;R++)for(let k=D;k<=O;k++)E?(this.getCell(R,k).value={shareType:x,formula:g,ref:p,result:H(R,k)},E=!1):this.getCell(R,k).value=q?{sharedFormula:V,result:H(R,k)}:H(R,k)}addImage(p,g){const m={type:"image",imageId:p,range:g};this._media.push(new h(this,m))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const g={type:"background",imageId:p};this._media.push(new h(this,g))}getBackgroundImageId(){const p=this._media.find(g=>g.type==="background");return p&&p.imageId}protect(p,g){return new Promise(m=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=b.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=b.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!p&&"spinCount"in g&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(p){const g=new d(this,p);return this.tables[p.name]=g,g}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};p.cols=i.toModel(this.columns);const g=p.rows=[],m=p.dimensions=new u;return this._rows.forEach(x=>{const C=x&&x.model;C&&(m.expand(C.number,C.min,C.number,C.max),g.push(C))}),p.merges=[],o.each(this._merges,x=>{p.merges.push(x.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(g=>{const m=new a(this,g.number);this._rows[m.number-1]=m,m.model=g})}_parseMergeCells(p){o.each(p.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(p){this.name=p.name,this._columns=i.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new f(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(g=>new h(this,g)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((g,m)=>{const x=new d;return x.model=m,g[m.name]=x,g},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,r,l){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const o={Workbook:e("./doc/workbook")},s=e("./doc/enums");Object.keys(s).forEach(u=>{o[u]=s[u]}),r.exports=o},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,r,l){const o=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");l.bufferToString=function(s){return typeof s=="string"?s:o?o.decode(s):s.toString()}},{}],17:[function(e,r,l){const o=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=e("buffer");l.stringToBuffer=function(u){return typeof u!="string"?u:o?s.from(o.encode(u).buffer):s.from(u)}},{buffer:220}],18:[function(e,r,l){const o=e("./under-dash"),s=e("./col-cache");r.exports=class{constructor(u){this.template=u,this.sheets={}}addCell(u){this.addCellEx(s.decodeEx(u))}getCell(u){return this.findCellEx(s.decodeEx(u),!0)}findCell(u){return this.findCellEx(s.decodeEx(u),!1)}findCellAt(u,a,i){const c=this.sheets[u],h=c&&c[a];return h&&h[i]}addCellEx(u){if(u.top)for(let a=u.top;a<=u.bottom;a++)for(let i=u.left;i<=u.right;i++)this.getCellAt(u.sheetName,a,i);else this.findCellEx(u,!0)}getCellEx(u){return this.findCellEx(u,!0)}findCellEx(u,a){const i=this.findSheet(u,a),c=this.findSheetRow(i,u,a);return this.findRowCell(c,u,a)}getCellAt(u,a,i){const c=this.sheets[u]||(this.sheets[u]=[]),h=c[a]||(c[a]=[]);return h[i]||(h[i]={sheetName:u,address:s.n2l(i)+a,row:a,col:i})}removeCellEx(u){const a=this.findSheet(u);if(!a)return;const i=this.findSheetRow(a,u);i&&delete i[u.col]}forEachInSheet(u,a){const i=this.sheets[u];i&&i.forEach((c,h)=>{c&&c.forEach((d,f)=>{d&&a(d,h,f)})})}forEach(u){o.each(this.sheets,(a,i)=>{this.forEachInSheet(i,u)})}map(u){const a=[];return this.forEach(i=>{a.push(u(i))}),a}findSheet(u,a){const i=u.sheetName;return this.sheets[i]?this.sheets[i]:a?this.sheets[i]=[]:void 0}findSheetRow(u,a,i){const{row:c}=a;return u&&u[c]?u[c]:i?u[c]=[]:void 0}findRowCell(u,a,i){const{col:c}=a;return u&&u[c]?u[c]:i?u[c]=this.template?Object.assign(a,JSON.parse(JSON.stringify(this.template))):a:void 0}spliceRows(u,a,i,c){const h=this.sheets[u];if(h){const d=[];for(let f=0;f<c;f++)d.push([]);h.splice(a,i,...d)}}spliceColumns(u,a,i,c){const h=this.sheets[u];if(h){const d=[];for(let f=0;f<c;f++)d.push(null);o.each(h,f=>{f.splice(a,i,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,r,l){const o=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:u=>u<=26?1:u<=676?2:3,_fill(u){let a,i,c,h,d,f=1;if(u>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&u>=1){for(;f<=26;)a=this._dictionary[f-1],this._n2l[f]=a,this._l2n[a]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&u>=2){for(f=27;f<=702;)i=f-27,c=i%26,h=Math.floor(i/26),a=this._dictionary[h]+this._dictionary[c],this._n2l[f]=a,this._l2n[a]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&u>=3){for(f=703;f<=16384;)i=f-703,c=i%26,h=Math.floor(i/26)%26,d=Math.floor(i/676),a=this._dictionary[d]+this._dictionary[h]+this._dictionary[c],this._n2l[f]=a,this._l2n[a]=f,f++;this._l2nFill=3}},l2n(u){if(this._l2n[u]||this._fill(u.length),!this._l2n[u])throw new Error("Out of bounds. Invalid column letter: "+u);return this._l2n[u]},n2l(u){if(u<1||u>16384)throw new Error(u+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[u]||this._fill(this._level(u)),this._n2l[u]},_hash:{},validateAddress(u){if(!o.test(u))throw new Error("Invalid Address: "+u);return!0},decodeAddress(u){const a=u.length<5&&this._hash[u];if(a)return a;let i=!1,c="",h=0,d=!1,f="",b=0;for(let p,g=0;g<u.length;g++)if(p=u.charCodeAt(g),!d&&p>=65&&p<=90)i=!0,c+=u[g],h=26*h+p-64;else if(p>=48&&p<=57)d=!0,f+=u[g],b=10*b+p-48;else if(d&&i&&p!==36)break;if(i){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else h=void 0;d||(b=void 0);const y={address:u=c+f,col:h,row:b,$col$row:`$${c}$${f}`};return h<=100&&b<=100&&(this._hash[u]=y,this._hash[y.$col$row]=y),y},getAddress(u,a){if(a){const i=this.n2l(a)+u;return this.decodeAddress(i)}return this.decodeAddress(u)},decode(u){const a=u.split(":");if(a.length===2){const i=this.decodeAddress(a[0]),c=this.decodeAddress(a[1]),h={top:Math.min(i.row,c.row),left:Math.min(i.col,c.col),bottom:Math.max(i.row,c.row),right:Math.max(i.col,c.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(u)},decodeEx(u){const a=u.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),i=a[1]||a[2],c=a[3],h=c.split(":");if(h.length>1){let f=this.decodeAddress(h[0]),b=this.decodeAddress(h[1]);const y=Math.min(f.row,b.row),p=Math.min(f.col,b.col),g=Math.max(f.row,b.row),m=Math.max(f.col,b.col);return f=this.n2l(p)+y,b=this.n2l(m)+g,{top:y,left:p,bottom:g,right:m,sheetName:i,tl:{address:f,col:p,row:y,$col$row:`$${this.n2l(p)}$${y}`,sheetName:i},br:{address:b,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:i},dimensions:`${f}:${b}`}}if(c.startsWith("#"))return i?{sheetName:i,error:c}:{error:c};const d=this.decodeAddress(c);return i?{sheetName:i,...d}:d},encodeAddress:(u,a)=>s.n2l(a)+u,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(u,a){const[i,c,,h,d]=u,[f,b]=a;return f>=i&&f<=h&&b>=c&&b<=d}};r.exports=s},{}],20:[function(e,r,l){const o=(u,a)=>({...u,...a.reduce((i,c)=>(u[c]&&(i[c]={...u[c]}),i),{})}),s=function(u,a,i){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];u[i]&&(a[i]=o(u[i],c))};l.copyStyle=u=>{if(!u)return u;if(a=u,Object.keys(a).length===0)return{};var a;const i={...u};return s(u,i,"font",["color"]),s(u,i,"alignment"),s(u,i,"protection"),u.border&&(s(u,i,"border"),s(u.border,i.border,"top",["color"]),s(u.border,i.border,"left",["color"]),s(u.border,i.border,"bottom",["color"]),s(u.border,i.border,"right",["color"]),s(u.border,i.border,"diagonal",["color"])),u.fill&&(s(u,i,"fill",["fgColor","bgColor","center"]),u.fill.stops&&(i.fill.stops=u.fill.stops.map(c=>o(c,["color"])))),i}},{}],21:[function(e,r,l){(function(o){(function(){const s=e("crypto"),u={hash(a){const i=s.createHash(a);for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];return i.update(o.concat(h)),i.digest()},convertPasswordToHash(a,i,c,h){if(i=i.toLowerCase(),s.getHashes().indexOf(i)<0)throw new Error(`Hash algorithm '${i}' not supported!`);const d=o.from(a,"utf16le");let f=this.hash(i,o.from(c,"base64"),d);for(let b=0;b<h;b++){const y=o.alloc(4);y.writeUInt32LE(b,0),f=this.hash(i,f,y)}return f.toString("base64")},randomBytes:a=>s.randomBytes(a)};r.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,r,l){const{SaxesParser:o}=e("saxes"),{PassThrough:s}=e("readable-stream"),{bufferToString:u}=e("./browser-buffer-decode");r.exports=async function*(a){a.pipe&&!a[Symbol.asyncIterator]&&(a=a.pipe(new s));const i=new o;let c;i.on("error",d=>{c=d});let h=[];i.on("opentag",d=>h.push({eventType:"opentag",value:d})),i.on("text",d=>h.push({eventType:"text",value:d})),i.on("closetag",d=>h.push({eventType:"closetag",value:d}));for await(const d of a){if(i.write(u(d)),c)throw c;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,r,l){const o=e("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,u=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;r.exports={slideFormula:function(a,i,c){const h=o.decode(i),d=o.decode(c);return a.replace(s,(f,b,y,p,g)=>{if(g)return f;const m=u.exec(p);if(m){const x=m[1],C=m[2].toUpperCase(),I=m[3],D=m[4];if(C.length>3||C.length===3&&C>"XFD")return f;let z=o.l2n(C),O=parseInt(D,10);return x||(z+=d.col-h.col),I||(O+=d.row-h.row),(b||"")+(x||"")+o.n2l(z)+(I||"")+O}return f})}}},{"./col-cache":19}],24:[function(e,r,l){(function(o,s){(function(){const u=e("readable-stream"),a=e("./utils"),i=e("./string-buf");class c{constructor(p,g){this._data=p,this._encoding=g}get length(){return this.toBuffer().length}copy(p,g,m,x){return this.toBuffer().copy(p,g,m,x)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,g,m,x){return this._data._buf.copy(p,g,m,x)}toBuffer(){return this._data.toBuffer()}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,g,m,x){this._data.copy(p,g,m,x)}toBuffer(){return this._data}}class f{constructor(p){this.size=p,this.buffer=s.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let g;return p===0?null:p===void 0||p>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=s.alloc(p),this.buffer.copy(g,0,this.iRead,p),this.iRead+=p,g)}write(p,g,m){const x=Math.min(m,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,g,g+x),this.iWrite+=x,x}}const b=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};a.inherits(b,u.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const y=new f(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map(function(p){return new Promise(g=>{p.write(y.toBuffer(),()=>{g()})})}))},_writeToBuffers(y){let p=0;const g=y.length;for(;p<g;)p+=this._getWritableBuffer().write(y,p,g-p)},async write(y,p,g){let m;if(p instanceof Function&&(g=p,p="utf8"),g=g||a.nop,y instanceof i)m=new h(y);else if(y instanceof s)m=new d(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new c(y,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),o.nextTick(g)):(await this._pipe(m),g());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,p,g){const m=x=>{x?g(x):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};y?this.write(y,p,m):m()},read(y){let p;if(y){for(p=[];y&&this.buffers.length&&!this.buffers[0].eod;){const g=this.buffers[0],m=g.read(y);y-=m.length,p.push(m),g.eod&&g.full&&this.buffers.shift()}return s.concat(p)}return p=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],s.concat(p)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(p=>p!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),r.exports=b}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,r,l){(function(o){(function(){r.exports=class{constructor(s){this._buf=o.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=o.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let u=2*this._buf.length;for(;u<s;)u*=2;const a=o.alloc(u);this._buf.copy(a,0),this._buf=a}addText(s){this._buffer=void 0;let u=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;u>=this._buf.length-4;)this._grow(this._inPos+s.length),u=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=u}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,r,l){const{toString:o}=Object.prototype,s=/["&<>]/,u={each:function(a,i){a&&(Array.isArray(a)?a.forEach(i):Object.keys(a).forEach(c=>{i(a[c],c)}))},some:function(a,i){return!!a&&(Array.isArray(a)?a.some(i):Object.keys(a).some(c=>i(a[c],c)))},every:function(a,i){return!a||(Array.isArray(a)?a.every(i):Object.keys(a).every(c=>i(a[c],c)))},map:function(a,i){return a?Array.isArray(a)?a.map(i):Object.keys(a).map(c=>i(a[c],c)):[]},keyBy:(a,i)=>a.reduce((c,h)=>(c[h[i]]=h,c),{}),isEqual:function(a,i){const c=typeof a,h=typeof i,d=Array.isArray(a),f=Array.isArray(i);let b;if(c!==h)return!1;switch(typeof a){case"object":if(d||f)return!(!d||!f)&&a.length===i.length&&a.every((y,p)=>{const g=i[p];return u.isEqual(y,g)});if(a===null||i===null)return a===i;if(b=Object.keys(a),Object.keys(i).length!==b.length)return!1;for(const y of b)if(!i.hasOwnProperty(y))return!1;return u.every(a,(y,p)=>{const g=i[p];return u.isEqual(y,g)});default:return a===i}},escapeHtml(a){const i=s.exec(a);if(!i)return a;let c="",h="",d=0,f=i.index;for(;f<a.length;f++){switch(a.charAt(f)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}d!==f&&(c+=a.substring(d,f)),d=f+1,c+=h}return d!==f?c+a.substring(d,f):c},strcmp:(a,i)=>a<i?-1:a>i?1:0,isUndefined:a=>o.call(a)==="[object Undefined]",isObject:a=>o.call(a)==="[object Object]",deepMerge(){const a=arguments[0]||{},{length:i}=arguments;let c,h,d;function f(b,y){c=a[y],d=Array.isArray(b),u.isObject(b)||d?(d?(d=!1,h=c&&Array.isArray(c)?c:[]):h=c&&u.isObject(c)?c:{},a[y]=u.deepMerge(h,b)):u.isUndefined(b)||(a[y]=b)}for(let b=0;b<i;b++)u.each(arguments[b],f);return a}};r.exports=u},{}],27:[function(e,r,l){(function(o,s){(function(){const u=e("fs"),a=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,i={nop(){},promiseImmediate:c=>new Promise(h=>{o.setImmediate?s(()=>{h(c)}):setTimeout(()=>{h(c)},1)}),inherits:function(c,h,d,f){c.super_=h,f||(f=d,d=null),d&&Object.keys(d).forEach(y=>{Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(d,y))});const b={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(y=>{b[y]=Object.getOwnPropertyDescriptor(f,y)}),c.prototype=Object.create(h.prototype,b)},dateToExcel:(c,h)=>25569+c.getTime()/864e5-(h?1462:0),excelToDate(c,h){const d=Math.round(24*(c-25569+(h?1462:0))*3600*1e3);return new Date(d)},parsePath(c){const h=c.lastIndexOf("/");return{path:c.substring(0,h),name:c.substring(h+1)}},getRelsPath(c){const h=i.parsePath(c);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(c){const h=a.exec(c);if(!h)return c;let d="",f="",b=0,y=h.index;for(;y<c.length;y++){const p=c.charCodeAt(y);switch(p){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){f="";break}continue}b!==y&&(d+=c.substring(b,y)),b=y+1,f&&(d+=f)}return b!==y?d+c.substring(b,y):d},xmlDecode:c=>c.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(c){const h=parseInt(c,10);return Number.isNaN(h)?0:h},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(h=>{u.access(c,u.constants.F_OK,d=>{h(!d)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};r.exports=i}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,r,l){const o=e("./under-dash"),s=e("./utils");function u(c,h,d){c.push(` ${h}="${s.xmlEncode(d.toString())}"`)}function a(c,h){if(h){const d=[];o.each(h,(f,b)=>{f!==void 0&&u(d,b,f)}),c.push(d.join(""))}}class i{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const d=this._xml;d.push("<?xml"),a(d,h),d.push(`?>
`)}openNode(h,d){const f=this.tos,b=this._xml;f&&this.open&&b.push(">"),this._stack.push(h),b.push("<"),b.push(h),a(b,d),this.leaf=!0,this.open=!0}addAttribute(h,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&u(this._xml,h,d)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a(this._xml,h)}writeText(h){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(s.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(h),d.push(">")),this.open=!1,this.leaf=!1}leafNode(h,d,f){this.openNode(h,d),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}i.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},r.exports=i},{"./under-dash":26,"./utils":27}],29:[function(e,r,l){(function(o){(function(){const s=e("events"),u=e("jszip"),a=e("./stream-buf"),{stringToBuffer:i}=e("./browser-buffer-encode");class c extends s.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new u,this.stream=new a}append(d,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,d,{base64:!0}):(o.browser&&typeof d=="string"&&(d=i(d)),this.zip.file(f.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,f){return this.stream.pipe(d,f)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}r.exports={ZipWriter:c}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,r,l){r.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,r,l){r.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,r,l){const o=e("../../utils/parse-sax"),s=e("../../utils/xml-stream");class u{prepare(){}render(){}parseOpen(i){}parseText(i){}parseClose(i){}reconcile(i,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(i=>{i instanceof u?i.reset():i.xform&&i.xform.reset()})}mergeModel(i){this.model=Object.assign(this.model||{},i)}async parse(i){for await(const c of i)for(const{eventType:h,value:d}of c)if(h==="opentag")this.parseOpen(d);else if(h==="text")this.parseText(d);else if(h==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(i){return this.parse(o(i))}get xml(){return this.toXml(this.model)}toXml(i){const c=new s;return this.render(c,i),c.xml}static toAttribute(i,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(i===void 0){if(h)return c}else if(h||i!==c)return i.toString()}static toStringAttribute(i,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(i,c,h)}static toStringValue(i,c){return i===void 0?c:i}static toBoolAttribute(i,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(i===void 0){if(h)return c}else if(h||i!==c)return i?"1":"0"}static toBoolValue(i,c){return i===void 0?c:i==="1"}static toIntAttribute(i,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(i,c,h)}static toIntValue(i,c){return i===void 0?c:parseInt(i,10)}static toFloatAttribute(i,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(i,c,h)}static toFloatValue(i,c){return i===void 0?c:parseFloat(i)}}r.exports=u},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,r,l){const o=e("../base-xform"),s=e("../../../utils/col-cache");function u(i){try{return s.decodeEx(i),!0}catch{return!1}}function a(i){const c=[];let h=!1,d="";return i.split(",").forEach(f=>{if(!f)return;const b=(f.match(/'/g)||[]).length;if(!b)return void(h?d+=f+",":u(f)&&c.push(f));const y=b%2==0;!h&&y&&u(f)?c.push(f):h&&!y?(h=!1,u(d+f)&&c.push(d+f),d=""):(h=!0,d+=f+",")}),c}r.exports=class extends o{render(i,c){i.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),i.writeText(c.ranges.join(",")),i.closeNode()}parseOpen(i){switch(i.name){case"definedName":return this._parsedName=i.attributes.name,this._parsedLocalSheetId=i.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(i){this._parsedText.push(i)}parseClose(){return this.model={name:this._parsedName,ranges:a(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,r,l){const o=e("../../../utils/utils"),s=e("../base-xform");r.exports=class extends s{render(u,a){u.leafNode("sheet",{sheetId:a.id,name:a.name,state:a.state,"r:id":a.rId})}parseOpen(u){return u.name==="sheet"&&(this.model={name:o.xmlDecode(u.attributes.name),id:parseInt(u.attributes.sheetId,10),state:u.attributes.state,rId:u.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{render(s,u){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:u.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{render(s,u){s.leafNode("workbookPr",{date1904:u.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{render(s,u){const a={xWindow:u.x||0,yWindow:u.y||0,windowWidth:u.width||12e3,windowHeight:u.height||24e3,firstSheet:u.firstSheet,activeTab:u.activeTab};u.visibility&&u.visibility!=="visible"&&(a.visibility=u.visibility),s.leafNode("workbookView",a)}parseOpen(s){if(s.name==="workbookView"){const u=this.model={},a=function(c,h,d){const f=h!==void 0?u[c]=h:d;f!==void 0&&(u[c]=f)},i=function(c,h,d){const f=h!==void 0?u[c]=parseInt(h,10):d;f!==void 0&&(u[c]=f)};return i("x",s.attributes.xWindow,0),i("y",s.attributes.yWindow,0),i("width",s.attributes.windowWidth,25e3),i("height",s.attributes.windowHeight,1e4),a("visibility",s.attributes.visibility,"visible"),i("activeTab",s.attributes.activeTab,void 0),i("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),a=e("../base-xform"),i=e("../static-xform"),c=e("../list-xform"),h=e("./defined-name-xform"),d=e("./sheet-xform"),f=e("./workbook-view-xform"),b=e("./workbook-properties-xform"),y=e("./workbook-calc-properties-xform");class p extends a{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new b,bookViews:new c({tag:"bookViews",count:!1,childXform:new f}),sheets:new c({tag:"sheets",count:!1,childXform:new d}),definedNames:new c({tag:"definedNames",count:!1,childXform:new h}),calcPr:new y}}prepare(m){m.sheets=m.worksheets;const x=[];let C=0;m.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(D=>{const z=D.split(":"),O={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${z[0]}:$${z[1]}`],localSheetId:C};x.push(O)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){const D=[];if(I.pageSetup.printTitlesColumn){const O=I.pageSetup.printTitlesColumn.split(":");D.push(`'${I.name}'!$${O[0]}:$${O[1]}`)}if(I.pageSetup.printTitlesRow){const O=I.pageSetup.printTitlesRow.split(":");D.push(`'${I.name}'!$${O[0]}:$${O[1]}`)}const z={name:"_xlnm.Print_Titles",ranges:D,localSheetId:C};x.push(z)}C++}),x.length&&(m.definedNames=m.definedNames.concat(x)),(m.media||[]).forEach((I,D)=>{I.name=I.type+(D+1)})}render(m,x){m.openXml(u.StdDocAttributes),m.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,x.properties),this.map.bookViews.render(m,x.views),this.map.sheets.render(m,x.sheets),this.map.definedNames.render(m,x.definedNames),this.map.calcPr.render(m,x.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){const x=(m.workbookRels||[]).reduce((O,B)=>(O[B.Id]=B,O),{}),C=[];let I,D=0;(m.sheets||[]).forEach(O=>{const B=x[O.rId];B&&(I=m.worksheetHash["xl/"+B.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=O.name,I.id=O.id,I.state=O.state,C[D++]=I))});const z=[];o.each(m.definedNames,O=>{if(O.name==="_xlnm.Print_Area"){if(I=C[O.localSheetId],I){I.pageSetup||(I.pageSetup={});const B=s.decodeEx(O.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${B.dimensions}`:B.dimensions}}else if(O.name==="_xlnm.Print_Titles"){if(I=C[O.localSheetId],I){I.pageSetup||(I.pageSetup={});const B=O.ranges.join(","),V=/\$/g,q=/\$\d+:\$\d+/,H=B.match(q);if(H&&H.length){const k=H[0];I.pageSetup.printTitlesRow=k.replace(V,"")}const E=/\$[A-Z]+:\$[A-Z]+/,R=B.match(E);if(R&&R.length){const k=R[0];I.pageSetup.printTitlesColumn=k.replace(V,"")}}}else z.push(O)}),m.definedNames=z,m.media.forEach((O,B)=>{O.index=B})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new i({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},r.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,r,l){const o=e("../strings/rich-text-xform"),s=e("../../../utils/utils"),u=e("../base-xform"),a=r.exports=function(i){this.model=i};s.inherits(a,u,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new o),this._richTextXform},render(i,c){c=c||this.model,i.openNode("comment",{ref:c.ref,authorId:0}),i.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(h=>{this.richTextXform.render(i,h)}),i.closeNode(),i.closeNode()},parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"comment":return this.model={type:"note",note:{texts:[]},...i.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(i),!0;default:return!1}},parseText(i){this.parser&&this.parser.parseText(i)},parseClose(i){switch(i){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../../../utils/utils"),u=e("../base-xform"),a=e("./comment-xform"),i=r.exports=function(){this.map={comment:new a}};s.inherits(i,u,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,h){h=h||this.model,c.openXml(o.StdDocAttributes),c.openNode("comments",i.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),h.comments.forEach(d=>{this.map.comment.render(c,d)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,r,l){const o=e("../../base-xform");r.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,u,a){(u===a[2]||this.tag==="x:SizeWithCells"&&u===a[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,r,l){const o=e("../../base-xform");r.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"x:Anchor"}getAnchorRect(s){const u=Math.floor(s.left),a=Math.floor(68*(s.left-u)),i=Math.floor(s.top),c=Math.floor(18*(s.top-i)),h=Math.floor(s.right),d=Math.floor(68*(s.right-h)),f=Math.floor(s.bottom);return[u,a,i,c,h,d,f,Math.floor(18*(s.bottom-f))]}getDefaultRect(s){const u=s.col,a=Math.max(s.row-2,0);return[u,6,a,14,u+2,2,a+4,16]}render(s,u){const a=u.anchor?this.getAnchorRect(u.anchor):this.getDefaultRect(u.refAddress);s.leafNode("x:Anchor",null,a.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,r,l){const o=e("../base-xform"),s=e("./vml-anchor-xform"),u=e("./style/vml-protection-xform"),a=e("./style/vml-position-xform"),i=["twoCells","oneCells","absolute"];r.exports=class extends o{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new u({tag:"x:Locked"}),"x:LockText":new u({tag:"x:LockText"}),"x:SizeWithCells":new a({tag:"x:SizeWithCells"}),"x:MoveWithCells":new a({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,h){const{protection:d,editAs:f}=h.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,f,i),this.map["x:SizeWithCells"].render(c,f,i),this.map["x:Anchor"].render(c,h),this.map["x:Locked"].render(c,d.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,d.lockText),c.leafNode("x:Row",null,h.refAddress.row-1),c.leafNode("x:Column",null,h.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(c).length;this.model.editAs=i[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("./vml-shape-xform");class a extends s{constructor(){super(),this.map={"v:shape":new u}}get tag(){return"xml"}render(c,h){c.openXml(o.StdDocAttributes),c.openNode(this.tag,a.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),h.comments.forEach((d,f)=>{this.map["v:shape"].render(c,d,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,h){c.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,h):this.map["xdr:oneCellAnchor"].reconcile(d,h)})}}a.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},r.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,r,l){const o=e("../base-xform"),s=e("./vml-textbox-xform"),u=e("./vml-client-data-xform");class a extends o{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new u}}get tag(){return"v:shape"}render(c,h,d){c.openNode("v:shape",a.V_SHAPE_ATTRIBUTES(h,d)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,h),this.map["x:ClientData"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}a.V_SHAPE_ATTRIBUTES=(i,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":i.note.margins&&i.note.margins.insetmode}),r.exports=a},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"v:textbox"}conversionUnit(s,u,a){return`${parseFloat(s)*u.toFixed(2)}${a}`}reverseConversionUnit(s){return(s||"").split(",").map(u=>Number(parseFloat(this.conversionUnit(parseFloat(u),.1,"")).toFixed(2)))}render(s,u){const a={style:"mso-direction-alt:auto"};if(u&&u.note){let{inset:i}=u.note&&u.note.margins;Array.isArray(i)&&(i=i.map(c=>this.conversionUnit(c,10,"mm")).join(",")),i&&(a.inset=i)}s.openNode("v:textbox",a),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,r,l){const o=e("./base-xform");r.exports=class extends o{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,u){this.model[s]=u.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{render(s,u){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,u.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{render(s,u){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:u.length,baseType:"lpstr"}),u.forEach(a=>{s.leafNode("vt:lpstr",void 0,a.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("../simple/string-xform"),a=e("./app-heading-pairs-xform"),i=e("./app-titles-of-parts-xform");class c extends s{constructor(){super(),this.map={Company:new u({tag:"Company"}),Manager:new u({tag:"Manager"}),HeadingPairs:new a,TitleOfParts:new i}}render(d,f){d.openXml(o.StdDocAttributes),d.openNode("Properties",c.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,f.worksheets),this.map.TitleOfParts.render(d,f.worksheets),this.map.Company.render(d,f.company||""),this.map.Manager.render(d,f.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform");class u extends s{render(i,c){i.openXml(o.StdDocAttributes),i.openNode("Types",u.PROPERTY_ATTRIBUTES);const h={};(c.media||[]).forEach(d=>{if(d.type==="image"){const f=d.extension;h[f]||(h[f]=!0,i.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),i.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),i.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),i.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(d=>{const f=`/xl/worksheets/sheet${d.id}.xml`;i.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),i.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),i.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&i.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(d=>{i.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(d=>{i.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(i.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(d=>{let{commentName:f}=d;i.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),i.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),i.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),i.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},r.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("../simple/date-xform"),a=e("../simple/string-xform"),i=e("../simple/integer-xform");class c extends s{constructor(){super(),this.map={"dc:creator":new a({tag:"dc:creator"}),"dc:title":new a({tag:"dc:title"}),"dc:subject":new a({tag:"dc:subject"}),"dc:description":new a({tag:"dc:description"}),"dc:identifier":new a({tag:"dc:identifier"}),"dc:language":new a({tag:"dc:language"}),"cp:keywords":new a({tag:"cp:keywords"}),"cp:category":new a({tag:"cp:category"}),"cp:lastModifiedBy":new a({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new u({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new i({tag:"cp:revision"}),"cp:version":new a({tag:"cp:version"}),"cp:contentStatus":new a({tag:"cp:contentStatus"}),"cp:contentType":new a({tag:"cp:contentType"}),"dcterms:created":new u({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new u({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(d,f){d.openXml(o.StdDocAttributes),d.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,f.creator),this.map["dc:title"].render(d,f.title),this.map["dc:subject"].render(d,f.subject),this.map["dc:description"].render(d,f.description),this.map["dc:identifier"].render(d,f.identifier),this.map["dc:language"].render(d,f.language),this.map["cp:keywords"].render(d,f.keywords),this.map["cp:category"].render(d,f.category),this.map["cp:lastModifiedBy"].render(d,f.lastModifiedBy),this.map["cp:lastPrinted"].render(d,f.lastPrinted),this.map["cp:revision"].render(d,f.revision),this.map["cp:version"].render(d,f.version),this.map["cp:contentStatus"].render(d,f.contentStatus),this.map["cp:contentType"].render(d,f.contentType),this.map["dcterms:created"].render(d,f.created),this.map["dcterms:modified"].render(d,f.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{render(s,u){s.leafNode("Relationship",u)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("./relationship-xform");class a extends s{constructor(){super(),this.map={Relationship:new u}}render(c,h){h=h||this._values,c.openXml(o.StdDocAttributes),c.openNode("Relationships",a.RELATIONSHIPS_ATTRIBUTES),h.forEach(d=>{this.map.Relationship.render(c,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}a.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},r.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,u){if(s&&s.rId){const a=u.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(a){const i=a[1],c=u.mediaIndex[i];return u.media[c]}}}}},{"../base-xform":32}],57:[function(e,r,l){const o=e("../base-xform"),s=e("./blip-xform");r.exports=class extends o{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(u,a){u.openNode(this.tag),this.map["a:blip"].render(u,a),u.openNode("a:stretch"),u.leafNode("a:fillRect"),u.closeNode(),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"a:blip"}render(s,u){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":u.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,r,l){const o=e("../base-xform"),s=e("./hlink-click-xform"),u=e("./ext-lst-xform");r.exports=class extends o{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new u}}get tag(){return"xdr:cNvPr"}render(a,i){a.openNode(this.tag,{id:i.index,name:"Picture "+i.index}),this.map["a:hlinkClick"].render(a,i),this.map["a:extLst"].render(a,i),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,r,l){const o=e("../base-xform"),s=e("../simple/integer-xform");r.exports=class extends o{constructor(u){super(),this.tag=u.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(u,a){u.openNode(this.tag),this.map["xdr:col"].render(u,a.nativeCol),this.map["xdr:colOff"].render(u,a.nativeColOff),this.map["xdr:row"].render(u,a.nativeRow),this.map["xdr:rowOff"].render(u,a.nativeRowOff),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,r,l){const o=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),u=e("../base-xform"),a=e("./two-cell-anchor-xform"),i=e("./one-cell-anchor-xform");class c extends u{constructor(){super(),this.map={"xdr:twoCellAnchor":new a,"xdr:oneCellAnchor":new i}}prepare(d){d.anchors.forEach((f,b)=>{f.anchorType=function(y){return(typeof y.range=="string"?o.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:b})})}get tag(){return"xdr:wsDr"}render(d,f){d.openXml(s.StdDocAttributes),d.openNode(this.tag,c.DRAWING_ATTRIBUTES),f.anchors.forEach(b=>{this.map[b.anchorType].render(d,b)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,f){d.anchors.forEach(b=>{b.br?this.map["xdr:twoCellAnchor"].reconcile(b,f):this.map["xdr:oneCellAnchor"].reconcile(b,f)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},r.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,u){s.openNode(this.tag);const a=Math.floor(9525*u.width),i=Math.floor(9525*u.height);s.addAttribute("cx",a),s.addAttribute("cy",i),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"a:hlinkClick"}render(s,u){u.hyperlinks&&u.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":u.hyperlinks.rId,tooltip:u.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,r,l){const o=e("../base-xform"),s=e("./c-nv-pr-xform"),u=e("./c-nv-pic-pr-xform");r.exports=class extends o{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new u}}get tag(){return"xdr:nvPicPr"}render(a,i){a.openNode(this.tag),this.map["xdr:cNvPr"].render(a,i),this.map["xdr:cNvPicPr"].render(a,i),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,r,l){const o=e("./base-cell-anchor-xform"),s=e("../static-xform"),u=e("./cell-position-xform"),a=e("./ext-xform"),i=e("./pic-xform");r.exports=class extends o{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:ext":new a({tag:"xdr:ext"}),"xdr:pic":new i,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,h){this.map["xdr:pic"].prepare(c.picture,h)}render(c,h){c.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,h.range.tl),this.map["xdr:ext"].render(c,h.range.ext),this.map["xdr:pic"].render(c,h.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,h){c.medium=this.reconcilePicture(c.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,r,l){const o=e("../base-xform"),s=e("../static-xform"),u=e("./blip-fill-xform"),a=e("./nv-pic-pr-xform"),i=e("./sp-pr");r.exports=class extends o{constructor(){super(),this.map={"xdr:nvPicPr":new a,"xdr:blipFill":new u,"xdr:spPr":new s(i)}}get tag(){return"xdr:pic"}prepare(c,h){c.index=h.index+1}render(c,h){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,h),this.map["xdr:blipFill"].render(c,h),this.map["xdr:spPr"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,r,l){r.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,r,l){const o=e("./base-cell-anchor-xform"),s=e("../static-xform"),u=e("./cell-position-xform"),a=e("./pic-xform");r.exports=class extends o{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:to":new u({tag:"xdr:to"}),"xdr:pic":new a,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(i,c){this.map["xdr:pic"].prepare(i.picture,c)}render(i,c){i.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(i,c.range.tl),this.map["xdr:to"].render(i,c.range.br),this.map["xdr:pic"].render(i,c.picture),this.map["xdr:clientData"].render(i,{}),i.closeNode()}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(i,c){i.medium=this.reconcilePicture(i.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,r,l){const o=e("./base-xform");r.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,u){const{childXform:a}=this;s&&s.forEach((i,c)=>{u.index=c,a.prepare(i,u)})}render(s,u){if(this.always||u&&u.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,u&&u.length||0);const{childXform:a}=this;(u||[]).forEach((i,c)=>{a.render(s,i,c)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,u){if(s){const{childXform:a}=this;s.forEach(i=>{a.reconcile(i,u)})}}}},{"./base-xform":32}],72:[function(e,r,l){const o=e("../../../utils/col-cache"),s=e("../base-xform");r.exports=class extends s{get tag(){return"autoFilter"}render(u,a){if(a)if(typeof a=="string")u.leafNode("autoFilter",{ref:a});else{const i=function(d){return typeof d=="string"?d:o.getAddress(d.row,d.column).address},c=i(a.from),h=i(a.to);c&&h&&u.leafNode("autoFilter",{ref:`${c}:${h}`})}}parseOpen(u){u.name==="autoFilter"&&(this.model=u.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,r,l){const o=e("../../../utils/utils"),s=e("../base-xform"),u=e("../../../doc/range"),a=e("../../../doc/enums"),i=e("../strings/rich-text-xform");function c(h){if(h==null)return a.ValueType.Null;if(h instanceof String||typeof h=="string")return a.ValueType.String;if(typeof h=="number")return a.ValueType.Number;if(typeof h=="boolean")return a.ValueType.Boolean;if(h instanceof Date)return a.ValueType.Date;if(h.text&&h.hyperlink)return a.ValueType.Hyperlink;if(h.formula)return a.ValueType.Formula;if(h.error)return a.ValueType.Error;throw new Error("I could not understand type of value")}r.exports=class extends s{constructor(){super(),this.richTextXForm=new i}get tag(){return"c"}prepare(h,d){const f=d.styles.addStyleModel(h.style||{},function(b){switch(b.type){case a.ValueType.Formula:return c(b.result);default:return b.type}}(h));switch(f&&(h.styleId=f),h.comment&&d.comments.push({...h.comment,ref:h.address}),h.type){case a.ValueType.String:case a.ValueType.RichText:d.sharedStrings&&(h.ssId=d.sharedStrings.add(h.value));break;case a.ValueType.Date:d.date1904&&(h.date1904=!0);break;case a.ValueType.Hyperlink:d.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=d.sharedStrings.add(h.text)),d.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case a.ValueType.Merge:d.merges.add(h);break;case a.ValueType.Formula:if(d.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=d.siFormulae++),h.formula)d.formulae[h.address]=h;else if(h.sharedFormula){const b=d.formulae[h.sharedFormula];if(!b)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);b.si===void 0?(b.shareType="shared",b.si=d.siFormulae++,b.range=new u(b.address,h.address)):b.range&&b.range.expandToAddress(h.address),h.si=b.si}}}renderFormula(h,d){let f=null;switch(d.shareType){case"shared":f={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":f={t:"array",ref:d.ref};break;default:d.si!==void 0&&(f={t:"shared",si:d.si})}switch(c(d.result)){case a.ValueType.Null:h.leafNode("f",f,d.formula);break;case a.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result);break;case a.ValueType.Number:h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result);break;case a.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result?1:0);break;case a.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result.error);break;case a.ValueType.Date:h.leafNode("f",f,d.formula),h.leafNode("v",null,o.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,d){if(d.type!==a.ValueType.Null||d.styleId){switch(h.openNode("c"),h.addAttribute("r",d.address),d.styleId&&h.addAttribute("s",d.styleId),d.type){case a.ValueType.Null:break;case a.ValueType.Number:h.leafNode("v",null,d.value);break;case a.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,d.value?"1":"0");break;case a.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,d.value.error);break;case a.ValueType.String:case a.ValueType.RichText:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),d.value.richText.forEach(f=>{this.richTextXForm.render(h,f)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,d.value));break;case a.ValueType.Date:h.leafNode("v",null,o.dateToExcel(d.value,d.date1904));break;case a.ValueType.Hyperlink:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,d.text));break;case a.ValueType.Formula:this.renderFormula(h,d);break;case a.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=a.ValueType.Formula,d.value&&(this.t==="str"?d.result=o.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=a.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=a.ValueType.String,d.value=o.xmlDecode(d.value);break;case"inlineStr":d.type=a.ValueType.String;break;case"b":d.type=a.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=a.ValueType.Error,d.value={error:d.value};break;default:d.type=a.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=a.ValueType.Null:d.type=a.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,d){const f=h.styleId&&d.styles&&d.styles.getStyleModel(h.styleId);switch(f&&(h.style=f),h.styleId!==void 0&&(h.styleId=void 0),h.type){case a.ValueType.String:typeof h.value=="number"&&d.sharedStrings&&(h.value=d.sharedStrings.getString(h.value)),h.value.richText&&(h.type=a.ValueType.RichText);break;case a.ValueType.Number:f&&o.isDateFmt(f.numFmt)&&(h.type=a.ValueType.Date,h.value=o.excelToDate(h.value,d.date1904));break;case a.ValueType.Formula:h.result!==void 0&&f&&o.isDateFmt(f.numFmt)&&(h.result=o.excelToDate(h.result,d.date1904)),h.shareType==="shared"&&(h.ref?d.formulae[h.si]=h.address:(h.sharedFormula=d.formulae[h.si],delete h.shareType),delete h.si)}const b=d.hyperlinkMap[h.address];b&&(h.type===a.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=a.ValueType.Hyperlink,h.hyperlink=b);const y=d.commentsMap&&d.commentsMap[h.address];y&&(h.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,r,l){const o=e("../../base-xform");r.exports=class extends o{get tag(){return"x14:cfIcon"}render(s,u){s.leafNode(this.tag,{iconSet:u.iconSet,iconId:u.iconId})}parseOpen(s){let{attributes:u}=s;this.model={iconSet:u.iconSet,iconId:o.toIntValue(u.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(e,r,l){const{v4:o}=e("uuid"),s=e("../../base-xform"),u=e("../../composite-xform"),a=e("./databar-ext-xform"),i=e("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends u{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new a,"x14:iconSet":this.iconSetXform=new i}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?a.isExt(f):!(f.type!=="iconSet"||!f.custom&&!c[f.iconSet])}prepare(f){h.isExt(f)&&(f.x14Id=`{${o()}}`.toUpperCase())}render(f,b){if(h.isExt(b))switch(b.type){case"dataBar":this.renderDataBar(f,b);break;case"iconSet":this.renderIconSet(f,b)}}renderDataBar(f,b){f.openNode(this.tag,{type:"dataBar",id:b.x14Id}),this.databarXform.render(f,b),f.closeNode()}renderIconSet(f,b){f.openNode(this.tag,{type:"iconSet",priority:b.priority,id:b.x14Id||`{${o()}}`}),this.iconSetXform.render(f,b),f.closeNode()}createNewModel(f){let{attributes:b}=f;return{type:b.type,x14Id:b.id,priority:s.toIntValue(b.priority)}}onParserClose(f,b){Object.assign(this.model,b.model)}}r.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,r,l){const o=e("../../composite-xform"),s=e("./f-ext-xform");r.exports=class extends o{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(u,a){u.openNode(this.tag,{type:a.type}),a.value!==void 0&&this.fExtXform.render(u,a.value),u.closeNode()}createNewModel(u){return{type:u.attributes.type}}onParserClose(u,a){switch(u){case"xm:f":this.model.value=a.model?parseFloat(a.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,r,l){const o=e("../../composite-xform"),s=e("./sqref-ext-xform"),u=e("./cf-rule-ext-xform");r.exports=class extends o{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new u}}get tag(){return"x14:conditionalFormatting"}prepare(a,i){a.rules.forEach(c=>{this.cfRule.prepare(c,i)})}render(a,i){i.rules.some(u.isExt)&&(a.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),i.rules.filter(u.isExt).forEach(c=>this.cfRule.render(a,c)),this.sqRef.render(a,i.ref),a.closeNode())}createNewModel(){return{rules:[]}}onParserClose(a,i){switch(a){case"xm:sqref":this.model.ref=i.model;break;case"x14:cfRule":this.model.rules.push(i.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,r,l){const o=e("../../composite-xform"),s=e("./cf-rule-ext-xform"),u=e("./conditional-formatting-ext-xform");r.exports=class extends o{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new u}}get tag(){return"x14:conditionalFormattings"}hasContent(a){return a.hasExtContent===void 0&&(a.hasExtContent=a.some(i=>i.rules.some(s.isExt))),a.hasExtContent}prepare(a,i){a.forEach(c=>{this.cfXform.prepare(c,i)})}render(a,i){this.hasContent(i)&&(a.openNode(this.tag),i.forEach(c=>this.cfXform.render(a,c)),a.closeNode())}createNewModel(){return[]}onParserClose(a,i){this.model.push(i.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,r,l){const o=e("../../base-xform"),s=e("../../composite-xform"),u=e("../../style/color-xform"),a=e("./cfvo-ext-xform");r.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:borderColor":this.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new u("x14:axisColor")}}static isExt(i){return!i.gradient}get tag(){return"x14:dataBar"}render(i,c){i.openNode(this.tag,{minLength:o.toIntAttribute(c.minLength,0,!0),maxLength:o.toIntAttribute(c.maxLength,100,!0),border:o.toBoolAttribute(c.border,!1),gradient:o.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:o.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toAttribute(c.axisPosition,"auto"),direction:o.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(h=>{this.cfvoXform.render(i,h)}),this.borderColorXform.render(i,c.borderColor),this.negativeBorderColorXform.render(i,c.negativeBorderColor),this.negativeFillColorXform.render(i,c.negativeFillColor),this.axisColorXform.render(i,c.axisColor),i.closeNode()}createNewModel(i){let{attributes:c}=i;return{cfvo:[],minLength:o.toIntValue(c.minLength,0),maxLength:o.toIntValue(c.maxLength,100),border:o.toBoolValue(c.border,!1),gradient:o.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:o.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toStringValue(c.axisPosition,"auto"),direction:o.toStringValue(c.direction,"leftToRight")}}onParserClose(i,c){const[,h]=i.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,r,l){const o=e("../../base-xform");r.exports=class extends o{get tag(){return"xm:f"}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(e,r,l){const o=e("../../base-xform"),s=e("../../composite-xform"),u=e("./cfvo-ext-xform"),a=e("./cf-icon-ext-xform");r.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:cfIcon":this.cfIconXform=new a}}get tag(){return"x14:iconSet"}render(i,c){i.openNode(this.tag,{iconSet:o.toStringAttribute(c.iconSet),reverse:o.toBoolAttribute(c.reverse,!1),showValue:o.toBoolAttribute(c.showValue,!0),custom:o.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(h=>{this.cfvoXform.render(i,h)}),c.icons&&c.icons.forEach((h,d)=>{h.iconId=d,this.cfIconXform.render(i,h)}),i.closeNode()}createNewModel(i){let{attributes:c}=i;return{cfvo:[],iconSet:o.toStringValue(c.iconSet,"3TrafficLights"),reverse:o.toBoolValue(c.reverse,!1),showValue:o.toBoolValue(c.showValue,!0)}}onParserClose(i,c){const[,h]=i.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,r,l){const o=e("../../base-xform");r.exports=class extends o{get tag(){return"xm:sqref"}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(e,r,l){const o=e("../../base-xform"),s=e("../../composite-xform"),u=e("../../../../doc/range"),a=e("./databar-xform"),i=e("./ext-lst-ref-xform"),c=e("./formula-xform"),h=e("./color-scale-xform"),d=e("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},b=p=>{const{type:g,operator:m}=p;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:m}}};class y extends s{constructor(){super(),this.map={dataBar:this.databarXform=new a,extLst:this.extLstRefXform=new i,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!f[g.iconSet]}render(g,m){switch(m.type){case"expression":this.renderExpression(g,m);break;case"cellIs":this.renderCellIs(g,m);break;case"top10":this.renderTop10(g,m);break;case"aboveAverage":this.renderAboveAverage(g,m);break;case"dataBar":this.renderDataBar(g,m);break;case"colorScale":this.renderColorScale(g,m);break;case"iconSet":this.renderIconSet(g,m);break;case"containsText":this.renderText(g,m);break;case"timePeriod":this.renderTimePeriod(g,m)}}renderExpression(g,m){g.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(g,m.formulae[0]),g.closeNode()}renderCellIs(g,m){g.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(x=>{this.formulaXform.render(g,x)}),g.closeNode()}renderTop10(g,m){g.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:o.toBoolAttribute(m.percent,!1),bottom:o.toBoolAttribute(m.bottom,!1),rank:o.toIntValue(m.rank,10,!0)})}renderAboveAverage(g,m){g.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:o.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(g,m){g.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(g,m),this.extLstRefXform.render(g,m),g.closeNode()}renderColorScale(g,m){g.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(g,m),g.closeNode()}renderIconSet(g,m){y.isPrimitive(m)&&(g.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(g,m),g.closeNode())}renderText(g,m){g.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:o.toStringAttribute(m.operator,"containsText")});const x=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const I=new u(C.ref),{tl:D}=I;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${D})))`;case"containsBlanks":return`LEN(TRIM(${D}))=0`;case"notContainsBlanks":return`LEN(TRIM(${D}))>0`;case"containsErrors":return`ISERROR(${D})`;case"notContainsErrors":return`NOT(ISERROR(${D}))`;default:return}})(m);x&&this.formulaXform.render(g,x),g.closeNode()}renderTimePeriod(g,m){g.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});const x=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const I=new u(C.ref),{tl:D}=I;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${D},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${D},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${D},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${D},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${D},1)=TODAY()-1`;case"today":return`FLOOR(${D},1)=TODAY()`;case"tomorrow":return`FLOOR(${D},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${D},1)<=6,FLOOR(${D},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0-1)),YEAR(${D})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${D})=MONTH(TODAY()),YEAR(${D})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0+1)),YEAR(${D})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);x&&this.formulaXform.render(g,x),g.closeNode()}createNewModel(g){let{attributes:m}=g;return{...b(m),dxfId:o.toIntValue(m.dxfId),priority:o.toIntValue(m.priority),timePeriod:m.timePeriod,percent:o.toBoolValue(m.percent),bottom:o.toBoolValue(m.bottom),rank:o.toIntValue(m.rank),aboveAverage:o.toBoolValue(m.aboveAverage)}}onParserClose(g,m){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}r.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,r,l){const o=e("../../base-xform");r.exports=class extends o{get tag(){return"cfvo"}render(s,u){s.leafNode(this.tag,{type:u.type,val:u.value})}parseOpen(s){this.model={type:s.attributes.type,value:o.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(e,r,l){const o=e("../../composite-xform"),s=e("../../style/color-xform"),u=e("./cfvo-xform");r.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new s}}get tag(){return"colorScale"}render(a,i){a.openNode(this.tag),i.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),i.color.forEach(c=>{this.colorXform.render(a,c)}),a.closeNode()}createNewModel(a){return{cfvo:[],color:[]}}onParserClose(a,i){this.model[a].push(i.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,r,l){const o=e("../../composite-xform"),s=e("./cf-rule-xform");r.exports=class extends o{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(u,a){a.rules.some(s.isPrimitive)&&(u.openNode(this.tag,{sqref:a.ref}),a.rules.forEach(i=>{s.isPrimitive(i)&&(i.ref=a.ref,this.map.cfRule.render(u,i))}),u.closeNode())}createNewModel(u){let{attributes:a}=u;return{ref:a.sqref,rules:[]}}onParserClose(u,a){this.model.rules.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,r,l){const o=e("../../base-xform"),s=e("./conditional-formatting-xform");r.exports=class extends o{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(u,a){let i=u.reduce((c,h)=>Math.max(c,...h.rules.map(d=>d.priority||0)),1);u.forEach(c=>{c.rules.forEach(h=>{h.priority||(h.priority=i++),h.style&&(h.dxfId=a.styles.addDxfStyle(h.style))})})}render(u,a){a.forEach(i=>{this.cfXform.render(u,i)})}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(!!this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(u,a){u.forEach(i=>{i.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=a.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,r,l){const o=e("../../composite-xform"),s=e("../../style/color-xform"),u=e("./cfvo-xform");r.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new s}}get tag(){return"dataBar"}render(a,i){a.openNode(this.tag),i.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.colorXform.render(a,i.color),a.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(a,i){switch(a){case"cfvo":this.model.cfvo.push(i.model);break;case"color":this.model.color=i.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,r,l){const o=e("../../base-xform"),s=e("../../composite-xform");class u extends o{get tag(){return"x14:id"}render(c,h){c.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class a extends s{constructor(){super(),this.map={"x14:id":this.idXform=new u}}get tag(){return"ext"}render(c,h){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,h.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,h){this.model.x14Id=h.model}}r.exports=class extends s{constructor(){super(),this.map={ext:new a}}get tag(){return"extLst"}render(i,c){i.openNode(this.tag),this.map.ext.render(i,c),i.closeNode()}createNewModel(){return{}}onParserClose(i,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,r,l){const o=e("../../base-xform");r.exports=class extends o{get tag(){return"formula"}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(e,r,l){const o=e("../../base-xform"),s=e("../../composite-xform"),u=e("./cfvo-xform");r.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new u}}get tag(){return"iconSet"}render(a,i){a.openNode(this.tag,{iconSet:o.toStringAttribute(i.iconSet,"3TrafficLights"),reverse:o.toBoolAttribute(i.reverse,!1),showValue:o.toBoolAttribute(i.showValue,!0)}),i.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:i}=a;return{iconSet:o.toStringValue(i.iconSet,"3TrafficLights"),reverse:o.toBoolValue(i.reverse),showValue:o.toBoolValue(i.showValue),cfvo:[]}}onParserClose(a,i){this.model[a].push(i.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,r,l){const o=e("../../../utils/utils"),s=e("../base-xform");r.exports=class extends s{get tag(){return"col"}prepare(u,a){const i=a.styles.addStyleModel(u.style||{});i&&(u.styleId=i)}render(u,a){u.openNode("col"),u.addAttribute("min",a.min),u.addAttribute("max",a.max),a.width&&u.addAttribute("width",a.width),a.styleId&&u.addAttribute("style",a.styleId),a.hidden&&u.addAttribute("hidden","1"),a.bestFit&&u.addAttribute("bestFit","1"),a.outlineLevel&&u.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&u.addAttribute("collapsed","1"),u.addAttribute("customWidth","1"),u.closeNode()}parseOpen(u){if(u.name==="col"){const a=this.model={min:parseInt(u.attributes.min||"0",10),max:parseInt(u.attributes.max||"0",10),width:u.attributes.width===void 0?void 0:parseFloat(u.attributes.width||"0")};return u.attributes.style&&(a.styleId=parseInt(u.attributes.style,10)),o.parseBoolean(u.attributes.hidden)&&(a.hidden=!0),o.parseBoolean(u.attributes.bestFit)&&(a.bestFit=!0),u.attributes.outlineLevel&&(a.outlineLevel=parseInt(u.attributes.outlineLevel,10)),o.parseBoolean(u.attributes.collapsed)&&(a.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(u,a){u.styleId&&(u.style=a.styles.getStyleModel(u.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../../../utils/utils"),u=e("../../../utils/col-cache"),a=e("../base-xform"),i=e("../../../doc/range");function c(d,f,b,y){const p=f[b];p!==void 0?d[b]=p:y!==void 0&&(d[b]=y)}function h(d,f,b,y){const p=f[b];p!==void 0?d[b]=s.parseBoolean(p):y!==void 0&&(d[b]=y)}r.exports=class extends a{get tag(){return"dataValidations"}render(d,f){const b=function(y){const p=o.map(y,(x,C)=>({address:C,dataValidation:x,marked:!1})).sort((x,C)=>o.strcmp(x.address,C.address)),g=o.keyBy(p,"address"),m=(x,C,I)=>{for(let D=0;D<C;D++){const z=u.encodeAddress(x.row+D,I);if(!y[z]||!o.isEqual(y[x.address],y[z]))return!1}return!0};return p.map(x=>{if(!x.marked){const C=u.decodeEx(x.address);if(C.dimensions)return g[C.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let I=1,D=u.encodeAddress(C.row+I,C.col);for(;y[D]&&o.isEqual(x.dataValidation,y[D]);)I++,D=u.encodeAddress(C.row+I,C.col);let z=1;for(;m(C,I,C.col+z);)z++;for(let O=0;O<I;O++)for(let B=0;B<z;B++)D=u.encodeAddress(C.row+O,C.col+B),g[D].marked=!0;if(I>1||z>1){const O=C.row+(I-1),B=C.col+(z-1);return{...x.dataValidation,sqref:`${x.address}:${u.encodeAddress(O,B)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)}(f);b.length&&(d.openNode("dataValidations",{count:b.length}),b.forEach(y=>{d.openNode("dataValidation"),y.type!=="any"&&(d.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&d.addAttribute("operator",y.operator),y.allowBlank&&d.addAttribute("allowBlank","1")),y.showInputMessage&&d.addAttribute("showInputMessage","1"),y.promptTitle&&d.addAttribute("promptTitle",y.promptTitle),y.prompt&&d.addAttribute("prompt",y.prompt),y.showErrorMessage&&d.addAttribute("showErrorMessage","1"),y.errorStyle&&d.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&d.addAttribute("errorTitle",y.errorTitle),y.error&&d.addAttribute("error",y.error),d.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((p,g)=>{d.openNode("formula"+(g+1)),y.type==="date"?d.writeText(s.dateToExcel(new Date(p))):d.writeText(p),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const f={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&h(f,d.attributes,"allowBlank"),h(f,d.attributes,"showInputMessage"),h(f,d.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:c(f,d.attributes,"operator","between")}return c(f,d.attributes,"promptTitle"),c(f,d.attributes,"prompt"),c(f,d.attributes,"errorStyle"),c(f,d.attributes,"errorTitle"),c(f,d.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new i(f).forEachAddress(b=>{this.model[b]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=s.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"dimension"}render(s,u){u&&s.leafNode("dimension",{ref:u})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"drawing"}render(s,u){u&&s.leafNode(this.tag,{"r:id":u.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,r,l){const o=e("../composite-xform"),s=e("./cf-ext/conditional-formattings-ext-xform");class u extends o{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(i){return this.conditionalFormattings.hasContent(i.conditionalFormattings)}prepare(i,c){this.conditionalFormattings.prepare(i.conditionalFormattings,c)}render(i,c){i.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(i,c.conditionalFormattings),i.closeNode()}createNewModel(){return{}}onParserClose(i,c){this.model[i]=c.model}}r.exports=class extends o{constructor(){super(),this.map={ext:this.ext=new u}}get tag(){return"extLst"}prepare(a,i){this.ext.prepare(a,i)}hasContent(a){return this.ext.hasContent(a)}render(a,i){this.hasContent(i)&&(a.openNode("extLst"),this.ext.render(a,i),a.closeNode())}createNewModel(){return{}}onParserClose(a,i){Object.assign(this.model,i.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"headerFooter"}render(s,u){if(u){s.addRollback();let a=!1;s.openNode("headerFooter"),u.differentFirst&&(s.addAttribute("differentFirst","1"),a=!0),u.differentOddEven&&(s.addAttribute("differentOddEven","1"),a=!0),u.oddHeader&&typeof u.oddHeader=="string"&&(s.leafNode("oddHeader",null,u.oddHeader),a=!0),u.oddFooter&&typeof u.oddFooter=="string"&&(s.leafNode("oddFooter",null,u.oddFooter),a=!0),u.evenHeader&&typeof u.evenHeader=="string"&&(s.leafNode("evenHeader",null,u.evenHeader),a=!0),u.evenFooter&&typeof u.evenFooter=="string"&&(s.leafNode("evenFooter",null,u.evenFooter),a=!0),u.firstHeader&&typeof u.firstHeader=="string"&&(s.leafNode("firstHeader",null,u.firstHeader),a=!0),u.firstFooter&&typeof u.firstFooter=="string"&&(s.leafNode("firstFooter",null,u.firstFooter),a=!0),a?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"hyperlink"}render(s,u){this.isInternalLink(u)?s.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip,location:u.target}):s.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"mergeCell"}render(s,u){s.leafNode("mergeCell",{ref:u})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../../../doc/range"),u=e("../../../utils/col-cache"),a=e("../../../doc/enums");r.exports=class{constructor(){this.merges={}}add(i){if(this.merges[i.master])this.merges[i.master].expandToAddress(i.address);else{const c=`${i.master}:${i.address}`;this.merges[i.master]=new s(c)}}get mergeCells(){return o.map(this.merges,i=>i.range)}reconcile(i,c){o.each(i,h=>{const d=u.decode(h);for(let f=d.top;f<=d.bottom;f++){const b=c[f-1];for(let y=d.left;y<=d.right;y++){const p=b.cells[y-1];p?p.type===a.ValueType.Merge&&(p.master=d.tl):b.cells[y]={type:a.ValueType.Null,address:u.encodeAddress(f,y)}}}})}getMasterAddress(i){const c=this.hash[i];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,r,l){const o=e("../base-xform"),s=u=>u!==void 0;r.exports=class extends o{get tag(){return"outlinePr"}render(u,a){return!(!a||!s(a.summaryBelow)&&!s(a.summaryRight))&&(u.leafNode(this.tag,{summaryBelow:s(a.summaryBelow)?Number(a.summaryBelow):void 0,summaryRight:s(a.summaryRight)?Number(a.summaryRight):void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={summaryBelow:s(u.attributes.summaryBelow)?!!Number(u.attributes.summaryBelow):void 0,summaryRight:s(u.attributes.summaryRight)?!!Number(u.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"brk"}render(s,u){s.leafNode("brk",u)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");r.exports=class extends s{get tag(){return"pageMargins"}render(u,a){if(a){const i={left:a.left,right:a.right,top:a.top,bottom:a.bottom,header:a.header,footer:a.footer};o.some(i,c=>c!==void 0)&&u.leafNode(this.tag,i)}}parseOpen(u){switch(u.name){case this.tag:return this.model={left:parseFloat(u.attributes.left||.7),right:parseFloat(u.attributes.right||.7),top:parseFloat(u.attributes.top||.75),bottom:parseFloat(u.attributes.bottom||.75),header:parseFloat(u.attributes.header||.3),footer:parseFloat(u.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"pageSetUpPr"}render(s,u){return!(!u||!u.fitToPage)&&(s.leafNode(this.tag,{fitToPage:u.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");function u(h){return h?"1":void 0}function a(h){switch(h){case"overThenDown":return h;default:return}}function i(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function c(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}r.exports=class extends s{get tag(){return"pageSetup"}render(h,d){if(d){const f={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:a(d.pageOrder),blackAndWhite:u(d.blackAndWhite),draft:u(d.draft),cellComments:i(d.cellComments),errors:c(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:u(d.firstPageNumber),usePrinterDefaults:u(d.usePrinterDefaults),copies:d.copies};o.some(f,b=>b!==void 0)&&h.leafNode(this.tag,f)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(d=h.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"picture"}render(s,u){u&&s.leafNode(this.tag,{"r:id":u.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");function u(a){return a?"1":void 0}r.exports=class extends s{get tag(){return"printOptions"}render(a,i){if(i){const c={headings:u(i.showRowColHeaders),gridLines:u(i.showGridLines),horizontalCentered:u(i.horizontalCentered),verticalCentered:u(i.verticalCentered)};o.some(c,h=>h!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={showRowColHeaders:a.attributes.headings==="1",showGridLines:a.attributes.gridLines==="1",horizontalCentered:a.attributes.horizontalCentered==="1",verticalCentered:a.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,r,l){const o=e("./page-breaks-xform"),s=e("../list-xform");r.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new o})}render(u,a){if(a&&a.length){u.openNode(this.tag,this.$),this.count&&(u.addAttribute(this.$count,a.length),u.addAttribute("manualBreakCount",a.length));const{childXform:i}=this;a.forEach(c=>{i.render(u,c)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,r,l){const o=e("../base-xform"),s=e("../../../utils/utils"),u=e("./cell-xform");r.exports=class extends o{constructor(a){super(),this.maxItems=a&&a.maxItems,this.map={c:new u}}get tag(){return"row"}prepare(a,i){const c=i.styles.addStyleModel(a.style);c&&(a.styleId=c);const h=this.map.c;a.cells.forEach(d=>{h.prepare(d,i)})}render(a,i,c){a.openNode("row"),a.addAttribute("r",i.number),i.height&&(a.addAttribute("ht",i.height),a.addAttribute("customHeight","1")),i.hidden&&a.addAttribute("hidden","1"),i.min>0&&i.max>0&&i.min<=i.max&&a.addAttribute("spans",`${i.min}:${i.max}`),i.styleId&&(a.addAttribute("s",i.styleId),a.addAttribute("customFormat","1")),a.addAttribute("x14ac:dyDescent","0.25"),i.outlineLevel&&a.addAttribute("outlineLevel",i.outlineLevel),i.collapsed&&a.addAttribute("collapsed","1");const h=this.map.c;i.cells.forEach(d=>{h.render(a,d,c)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;if(a.name==="row"){this.numRowsSeen+=1;const i=a.attributes.spans?a.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],c=this.model={number:parseInt(a.attributes.r,10),min:i[0],max:i[1],cells:[]};return a.attributes.s&&(c.styleId=parseInt(a.attributes.s,10)),s.parseBoolean(a.attributes.hidden)&&(c.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(c.bestFit=!0),a.attributes.ht&&(c.height=parseFloat(a.attributes.ht)),a.attributes.outlineLevel&&(c.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(a,i){a.style=a.styleId?i.styles.getStyleModel(a.styleId):{},a.styleId!==void 0&&(a.styleId=void 0);const c=this.map.c;a.cells.forEach(h=>{c.reconcile(h,i)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");r.exports=class extends s{get tag(){return"sheetFormatPr"}render(u,a){if(a){const i={defaultRowHeight:a.defaultRowHeight,outlineLevelRow:a.outlineLevelRow,outlineLevelCol:a.outlineLevelCol,"x14ac:dyDescent":a.dyDescent};a.defaultColWidth&&(i.defaultColWidth=a.defaultColWidth),a.defaultRowHeight&&a.defaultRowHeight===15||(i.customHeight="1"),o.some(i,c=>c!==void 0)&&u.leafNode("sheetFormatPr",i)}}parseOpen(u){return u.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(u.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(u.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(u.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(u.attributes.outlineLevelCol||"0",10)},u.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(u.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,r,l){const o=e("../base-xform"),s=e("../style/color-xform"),u=e("./page-setup-properties-xform"),a=e("./outline-properties-xform");r.exports=class extends o{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new u,outlinePr:new a}}get tag(){return"sheetPr"}render(i,c){if(c){i.addRollback(),i.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(i,c.tabColor)||h,h=this.map.pageSetUpPr.render(i,c.pageSetup)||h,h=this.map.outlinePr.render(i,c.outlineProperties)||h,h?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){return this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag?(this.reset(),!0):!!this.map[i.name]&&(this.parser=this.map[i.name],this.parser.parseOpen(i),!0)}parseText(i){return!!this.parser&&(this.parser.parseText(i),!0)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../base-xform");function u(i,c){return i?c:void 0}function a(i,c){return i===c||void 0}r.exports=class extends s{get tag(){return"sheetProtection"}render(i,c){if(c){const h={sheet:u(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:u(c.formatCells,"0"),formatColumns:u(c.formatColumns,"0"),formatRows:u(c.formatRows,"0"),insertColumns:u(c.insertColumns,"0"),insertRows:u(c.insertRows,"0"),insertHyperlinks:u(c.insertHyperlinks,"0"),deleteColumns:u(c.deleteColumns,"0"),deleteRows:u(c.deleteRows,"0"),sort:u(c.sort,"0"),autoFilter:u(c.autoFilter,"0"),pivotTables:u(c.pivotTables,"0")};c.sheet&&(h.algorithmName=c.algorithmName,h.hashValue=c.hashValue,h.saltValue=c.saltValue,h.spinCount=c.spinCount,h.objects=u(c.objects===!1,"1"),h.scenarios=u(c.scenarios===!1,"1")),o.some(h,d=>d!==void 0)&&i.leafNode(this.tag,h)}}parseOpen(i){switch(i.name){case this.tag:return this.model={sheet:a(i.attributes.sheet,"1"),objects:i.attributes.objects!=="1"&&void 0,scenarios:i.attributes.scenarios!=="1"&&void 0,selectLockedCells:i.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:i.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:a(i.attributes.formatCells,"0"),formatColumns:a(i.attributes.formatColumns,"0"),formatRows:a(i.attributes.formatRows,"0"),insertColumns:a(i.attributes.insertColumns,"0"),insertRows:a(i.attributes.insertRows,"0"),insertHyperlinks:a(i.attributes.insertHyperlinks,"0"),deleteColumns:a(i.attributes.deleteColumns,"0"),deleteRows:a(i.attributes.deleteRows,"0"),sort:a(i.attributes.sort,"0"),autoFilter:a(i.attributes.autoFilter,"0"),pivotTables:a(i.attributes.pivotTables,"0")},i.attributes.algorithmName&&(this.model.algorithmName=i.attributes.algorithmName,this.model.hashValue=i.attributes.hashValue,this.model.saltValue=i.attributes.saltValue,this.model.spinCount=parseInt(i.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,r,l){const o=e("../../../utils/col-cache"),s=e("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"};r.exports=class extends s{get tag(){return"sheetView"}prepare(a){switch(a.state){case"frozen":case"split":break;default:a.state="normal"}}render(a,i){a.openNode("sheetView",{workbookViewId:i.workbookViewId||0});const c=function(y,p,g){g&&a.addAttribute(y,p)};let h,d,f,b;switch(c("rightToLeft","1",i.rightToLeft===!0),c("tabSelected","1",i.tabSelected),c("showRuler","0",i.showRuler===!1),c("showRowColHeaders","0",i.showRowColHeaders===!1),c("showGridLines","0",i.showGridLines===!1),c("zoomScale",i.zoomScale,i.zoomScale),c("zoomScaleNormal",i.zoomScaleNormal,i.zoomScaleNormal),c("view",i.style,i.style),i.state){case"frozen":d=i.xSplit||0,f=i.ySplit||0,h=i.topLeftCell||o.getAddress(f+1,d+1).address,b=(i.xSplit&&i.ySplit?"bottomRight":i.xSplit&&"topRight")||"bottomLeft",a.leafNode("pane",{xSplit:i.xSplit||void 0,ySplit:i.ySplit||void 0,topLeftCell:h,activePane:b,state:"frozen"}),a.leafNode("selection",{pane:b,activeCell:i.activeCell,sqref:i.activeCell});break;case"split":i.activePane==="topLeft"&&(i.activePane=void 0),a.leafNode("pane",{xSplit:i.xSplit||void 0,ySplit:i.ySplit||void 0,topLeftCell:i.topLeftCell,activePane:i.activePane}),a.leafNode("selection",{pane:i.activePane,activeCell:i.activeCell,sqref:i.activeCell});break;case"normal":i.activeCell&&a.leafNode("selection",{activeCell:i.activeCell,sqref:i.activeCell})}a.closeNode()}parseOpen(a){switch(a.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(a.attributes.workbookViewId,10),rightToLeft:a.attributes.rightToLeft==="1",tabSelected:a.attributes.tabSelected==="1",showRuler:a.attributes.showRuler!=="0",showRowColHeaders:a.attributes.showRowColHeaders!=="0",showGridLines:a.attributes.showGridLines!=="0",zoomScale:parseInt(a.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(a.attributes.zoomScaleNormal||"100",10),style:a.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(a.attributes.xSplit||"0",10),ySplit:parseInt(a.attributes.ySplit||"0",10),topLeftCell:a.attributes.topLeftCell,activePane:a.attributes.activePane||"topLeft",state:a.attributes.state},!0;case"selection":{const i=a.attributes.pane||"topLeft";return this.selections[i]={pane:i,activeCell:a.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(a){let i,c;switch(a){case"sheetView":return this.sheetView&&this.pane?(i=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(i.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(i.activeCell=c.activeCell),this.sheetView.style&&(i.style=this.sheetView.style)):(i=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(i.activeCell=c.activeCell),this.sheetView.style&&(i.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"tablePart"}render(s,u){u&&s.leafNode(this.tag,{"r:id":u.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),a=e("../../rel-type"),i=e("./merges"),c=e("../base-xform"),h=e("../list-xform"),d=e("./row-xform"),f=e("./col-xform"),b=e("./dimension-xform"),y=e("./hyperlink-xform"),p=e("./merge-cell-xform"),g=e("./data-validations-xform"),m=e("./sheet-properties-xform"),x=e("./sheet-format-properties-xform"),C=e("./sheet-view-xform"),I=e("./sheet-protection-xform"),D=e("./page-margins-xform"),z=e("./page-setup-xform"),O=e("./print-options-xform"),B=e("./auto-filter-xform"),V=e("./picture-xform"),q=e("./drawing-xform"),H=e("./table-part-xform"),E=e("./row-breaks-xform"),R=e("./header-footer-xform"),k=e("./cf/conditional-formattings-xform"),v=e("./ext-lst-xform"),_=(S,N)=>{if(!N||!N.length)return S;if(!S||!S.length)return N;const j={},U={};return S.forEach(G=>{j[G.ref]=G,G.rules.forEach(W=>{const{x14Id:J}=W;J&&(U[J]=W)})}),N.forEach(G=>{G.rules.forEach(W=>{const J=U[W.x14Id];J?((F,K)=>{Object.keys(K).forEach(L=>{const P=F[L],$=K[L];P===void 0&&$!==void 0&&(F[L]=$)})})(J,W):j[G.ref]?j[G.ref].rules.push(W):S.push({ref:G.ref,rules:[W]})})}),S};class w extends c{constructor(N){super();const{maxRows:j,maxCols:U,ignoreNodes:G}=N||{};this.ignoreNodes=G||[],this.map={sheetPr:new m,dimension:new b,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new x,cols:new h({tag:"cols",count:!1,childXform:new f}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:U}),maxItems:j}),autoFilter:new B,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new E,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new D,dataValidations:new g,pageSetup:new z,headerFooter:new R,printOptions:new O,picture:new V,drawing:new q,sheetProtection:new I,tableParts:new h({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new k,extLst:new v}}prepare(N,j){j.merges=new i,N.hyperlinks=j.hyperlinks=[],N.comments=j.comments=[],j.formulae={},j.siFormulae=0,this.map.cols.prepare(N.cols,j),this.map.sheetData.prepare(N.rows,j),this.map.conditionalFormatting.prepare(N.conditionalFormattings,j),N.mergeCells=j.merges.mergeCells;const U=N.rels=[];function G(F){return"rId"+(F.length+1)}if(N.hyperlinks.forEach(F=>{const K=G(U);F.rId=K,U.push({Id:K,Type:a.Hyperlink,Target:F.target,TargetMode:"External"})}),N.comments.length>0){const F={Id:G(U),Type:a.Comments,Target:`../comments${N.id}.xml`};U.push(F);const K={Id:G(U),Type:a.VmlDrawing,Target:`../drawings/vmlDrawing${N.id}.vml`};U.push(K),N.comments.forEach(L=>{L.refAddress=s.decodeAddress(L.ref)}),j.commentRefs.push({commentName:"comments"+N.id,vmlDrawing:"vmlDrawing"+N.id})}const W=[];let J;N.media.forEach(F=>{if(F.type==="background"){const K=G(U);J=j.media[F.imageId],U.push({Id:K,Type:a.Image,Target:`../media/${J.name}.${J.extension}`}),N.background={rId:K},N.image=j.media[F.imageId]}else if(F.type==="image"){let{drawing:K}=N;J=j.media[F.imageId],K||(K=N.drawing={rId:G(U),name:"drawing"+ ++j.drawingsCount,anchors:[],rels:[]},j.drawings.push(K),U.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let L=this.preImageId===F.imageId?W[F.imageId]:W[K.rels.length];L||(L=G(K.rels),W[K.rels.length]=L,K.rels.push({Id:L,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const P={picture:{rId:L},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){const $=G(K.rels);W[K.rels.length]=$,P.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:$},K.rels.push({Id:$,Type:a.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,K.anchors.push(P)}}),N.tables.forEach(F=>{const K=G(U);F.rId=K,U.push({Id:K,Type:a.Table,Target:"../tables/"+F.target}),F.columns.forEach(L=>{const{style:P}=L;P&&(L.dxfId=j.styles.addDxfStyle(P))})}),this.map.extLst.prepare(N,j)}render(N,j){N.openXml(u.StdDocAttributes),N.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);const U=j.properties?{defaultRowHeight:j.properties.defaultRowHeight,dyDescent:j.properties.dyDescent,outlineLevelCol:j.properties.outlineLevelCol,outlineLevelRow:j.properties.outlineLevelRow}:void 0;j.properties&&j.properties.defaultColWidth&&(U.defaultColWidth=j.properties.defaultColWidth);const G={outlineProperties:j.properties&&j.properties.outlineProperties,tabColor:j.properties&&j.properties.tabColor,pageSetup:j.pageSetup&&j.pageSetup.fitToPage?{fitToPage:j.pageSetup.fitToPage}:void 0},W=j.pageSetup&&j.pageSetup.margins,J={showRowColHeaders:j.pageSetup&&j.pageSetup.showRowColHeaders,showGridLines:j.pageSetup&&j.pageSetup.showGridLines,horizontalCentered:j.pageSetup&&j.pageSetup.horizontalCentered,verticalCentered:j.pageSetup&&j.pageSetup.verticalCentered},F=j.sheetProtection;this.map.sheetPr.render(N,G),this.map.dimension.render(N,j.dimensions),this.map.sheetViews.render(N,j.views),this.map.sheetFormatPr.render(N,U),this.map.cols.render(N,j.cols),this.map.sheetData.render(N,j.rows),this.map.sheetProtection.render(N,F),this.map.autoFilter.render(N,j.autoFilter),this.map.mergeCells.render(N,j.mergeCells),this.map.conditionalFormatting.render(N,j.conditionalFormattings),this.map.dataValidations.render(N,j.dataValidations),this.map.hyperlinks.render(N,j.hyperlinks),this.map.printOptions.render(N,J),this.map.pageMargins.render(N,W),this.map.pageSetup.render(N,j.pageSetup),this.map.headerFooter.render(N,j.headerFooter),this.map.rowBreaks.render(N,j.rowBreaks),this.map.drawing.render(N,j.drawing),this.map.picture.render(N,j.background),this.map.tableParts.render(N,j.tables),this.map.extLst.render(N,j),j.rels&&j.rels.forEach(K=>{K.Type===a.VmlDrawing&&N.leafNode("legacyDrawing",{"r:id":K.Id})}),N.closeNode()}parseOpen(N){return this.parser?(this.parser.parseOpen(N),!0):N.name==="worksheet"?(o.each(this.map,j=>{j.reset()}),!0):(this.map[N.name]&&!this.ignoreNodes.includes(N.name)&&(this.parser=this.map[N.name],this.parser.parseOpen(N)),!0)}parseText(N){this.parser&&this.parser.parseText(N)}parseClose(N){if(this.parser)return this.parser.parseClose(N)||(this.parser=void 0),!0;switch(N){case"worksheet":{const j=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(j.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(j.outlineProperties=this.map.sheetPr.model.outlineProperties);const U={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},G=Object.assign(U,this.map.pageSetup.model,this.map.printOptions.model),W=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:j,views:this.map.sheetViews.model,pageSetup:G,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(N,j){const U=(N.relationships||[]).reduce((W,J)=>{if(W[J.Id]=J,J.Type===a.Comments&&(N.comments=j.comments[J.Target].comments),J.Type===a.VmlDrawing&&N.comments&&N.comments.length){const F=j.vmlDrawings[J.Target].comments;N.comments.forEach((K,L)=>{K.note=Object.assign({},K.note,F[L])})}return W},{});if(j.commentsMap=(N.comments||[]).reduce((W,J)=>(J.ref&&(W[J.ref]=J),W),{}),j.hyperlinkMap=(N.hyperlinks||[]).reduce((W,J)=>(J.rId&&(W[J.address]=U[J.rId].Target),W),{}),j.formulae={},N.rows=N.rows&&N.rows.filter(Boolean)||[],N.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(N.cols,j),this.map.sheetData.reconcile(N.rows,j),this.map.conditionalFormatting.reconcile(N.conditionalFormattings,j),N.media=[],N.drawing){const W=U[N.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const J=W[1];j.drawings[J].anchors.forEach(F=>{if(F.medium){const K={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};N.media.push(K)}})}}const G=N.background&&U[N.background.rId];if(G){const W=G.Target.split("/media/")[1],J=j.mediaIndex&&j.mediaIndex[W];J!==void 0&&N.media.push({type:"background",imageId:J})}N.tables=(N.tables||[]).map(W=>{const J=U[W.rId];return j.tables[J.Target]}),delete N.relationships,delete N.hyperlinks,delete N.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},r.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,u){u&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(u){try{return Number.isNaN(u.getTime())?"":u.toISOString()}catch{return""}},this._parse=s.parse||function(u){return new Date(u)}}render(s,u){u&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(u)):s.writeText(this._format(u)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,u){(u||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,u):s.writeText(u),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,u){u!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,u):s.writeText(u),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,r,l){const o=e("./base-xform"),s=e("../../utils/xml-stream");r.exports=class extends o{constructor(u){super(),this._model=u}render(u){if(!this._xml){const a=new s;(function i(c,h){c.openNode(h.tag,h.$),h.c&&h.c.forEach(d=>{i(c,d)}),h.t&&c.writeText(h.t),c.closeNode()})(a,this._model),this._xml=a.xml}u.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(u){switch(u){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,r,l){const o=e("./text-xform"),s=e("./rich-text-xform"),u=e("../base-xform");r.exports=class extends u{constructor(){super(),this.map={r:new s,t:new o}}get tag(){return"rPh"}render(a,i){if(a.openNode(this.tag,{sb:i.sb||0,eb:i.eb||0}),i&&i.hasOwnProperty("richText")&&i.richText){const{r:c}=this.map;i.richText.forEach(h=>{c.render(a,h)})}else i&&this.map.t.render(a,i.text);a.closeNode()}parseOpen(a){const{name:i}=a;return this.parser?(this.parser.parseOpen(a),!0):i===this.tag?(this.model={sb:parseInt(a.attributes.sb,10),eb:parseInt(a.attributes.eb,10)},!0):(this.parser=this.map[i],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let i=this.model.richText;i||(i=this.model.richText=[]),i.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,r,l){const o=e("./text-xform"),s=e("../style/font-xform"),u=e("../base-xform");class a extends u{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new o)}get fontXform(){return this._fontXform||(this._fontXform=new s(a.FONT_OPTIONS))}render(c,h){h=h||this.model,c.openNode("r"),h.font&&this.fontXform.render(c,h.font),this.textXform.render(c,h.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}a.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},r.exports=a},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,r,l){const o=e("./text-xform"),s=e("./rich-text-xform"),u=e("./phonetic-text-xform"),a=e("../base-xform");r.exports=class extends a{constructor(i){super(),this.model=i,this.map={r:new s,t:new o,rPh:new u}}get tag(){return"si"}render(i,c){i.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(h=>{this.map.r.render(i,h)}):this.map.t.render(i,""):c!=null&&this.map.t.render(i,c),i.closeNode()}parseOpen(i){const{name:c}=i;return this.parser?(this.parser.parseOpen(i),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(i),!0))}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){switch(i){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("./shared-string-xform");r.exports=class extends s{constructor(a){super(),this.model=a||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new u)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(a){return this.model.values[a]}add(a){return a.richText?this.addRichText(a):this.addText(a)}addText(a){let i=this.hash[a];return i===void 0&&(i=this.hash[a]=this.model.values.length,this.model.values.push(a)),this.model.count++,i}addRichText(a){const i=this.sharedStringXform.toXml(a);let c=this.rich[i];return c===void 0&&(c=this.rich[i]=this.model.values.length,this.model.values.push(a)),this.model.count++,c}render(a,i){i=i||this._values,a.openXml(o.StdDocAttributes),a.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:i.count,uniqueCount:i.values.length});const c=this.sharedStringXform;i.values.forEach(h=>{c.render(a,h)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(a),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(a){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"t"}render(s,u){s.openNode("t"),/^\s|\n|\s$/.test(u)&&s.addAttribute("xml:space","preserve"),s.writeText(u),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,u)=>String.fromCharCode(parseInt(u,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,r,l){const o=e("../../../doc/enums"),s=e("../../../utils/utils"),u=e("../base-xform"),a={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=s.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=s.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return o.ReadingOrder.LeftToRight;case"rtl":return o.ReadingOrder.RightToLeft;default:return}}},i={toXml(c){if(c=a.textRotation(c)){if(c==="vertical")return 255;const h=Math.round(c);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(c){const h=s.validInt(c);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};r.exports=class extends u{get tag(){return"alignment"}render(c,h){c.addRollback(),c.openNode("alignment");let d=!1;function f(b,y){y&&(c.addAttribute(b,y),d=!0)}f("horizontal",a.horizontal(h.horizontal)),f("vertical",a.vertical(h.vertical)),f("wrapText",!!a.wrapText(h.wrapText)&&"1"),f("shrinkToFit",!!a.shrinkToFit(h.shrinkToFit)&&"1"),f("indent",a.indent(h.indent)),f("textRotation",i.toXml(h.textRotation)),f("readingOrder",a.readingOrder(h.readingOrder)),c.closeNode(),d?c.commit():c.rollback()}parseOpen(c){const h={};let d=!1;function f(b,y,p){b&&(h[y]=p,d=!0)}f(c.attributes.horizontal,"horizontal",c.attributes.horizontal),f(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),f(c.attributes.wrapText,"wrapText",s.parseBoolean(c.attributes.wrapText)),f(c.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(c.attributes.shrinkToFit)),f(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),f(c.attributes.textRotation,"textRotation",i.toModel(c.attributes.textRotation)),f(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,r,l){const o=e("../base-xform"),s=e("../../../utils/utils"),u=e("./color-xform");class a extends o{constructor(c){super(),this.name=c,this.map={color:new u}}get tag(){return this.name}render(c,h,d){const f=h&&h.color||d||this.defaultColor;c.openNode(this.name),h&&h.style&&(c.addAttribute("style",h.style),f&&this.map.color.render(c,f)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:h}=c.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return a.validStyleValues[c]}}a.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((i,c)=>(i[c]=!0,i),{}),r.exports=class extends o{constructor(){super(),this.map={top:new a("top"),left:new a("left"),bottom:new a("bottom"),right:new a("right"),diagonal:new a("diagonal")}}render(i,c){const{color:h}=c;function d(f,b){f&&!f.color&&c.color&&(f={...f,color:c.color}),b.render(i,f,h)}i.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&i.addAttribute("diagonalUp","1"),c.diagonal.down&&i.addAttribute("diagonalDown","1")),d(c.left,this.map.left),d(c.right,this.map.right),d(c.top,this.map.top),d(c.bottom,this.map.bottom),d(c.diagonal,this.map.diagonal),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(i.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(i.attributes.diagonalDown),!0;default:return this.parser=this.map[i.name],!!this.parser&&(this.parser.parseOpen(i),!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;if(i==="border"){const c=this.model={},h=function(d,f,b){f&&(b&&Object.assign(f,b),c[d]=f)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,u){return!!u&&(s.openNode(this.name),u.argb?s.addAttribute("rgb",u.argb):u.theme!==void 0?(s.addAttribute("theme",u.theme),u.tint!==void 0&&s.addAttribute("tint",u.tint)):u.indexed!==void 0?s.addAttribute("indexed",u.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,r,l){const o=e("../base-xform"),s=e("./alignment-xform"),u=e("./border-xform"),a=e("./fill-xform"),i=e("./font-xform"),c=e("./numfmt-xform"),h=e("./protection-xform");r.exports=class extends o{constructor(){super(),this.map={alignment:new s,border:new u,fill:new a,font:new i,numFmt:new c,protection:new h}}get tag(){return"dxf"}render(d,f){if(d.openNode(this.tag),f.font&&this.map.font.render(d,f.font),f.numFmt&&f.numFmtId){const b={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(d,b)}f.fill&&this.map.fill.render(d,f.fill),f.alignment&&this.map.alignment.render(d,f.alignment),f.border&&this.map.border.render(d,f.border),f.protection&&this.map.protection.render(d,f.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,r,l){const o=e("../base-xform"),s=e("./color-xform");class u extends o{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(d,f){d.openNode("stop"),d.addAttribute("position",f.position),this.map.color.render(d,f.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class a extends o{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,f){d.openNode("patternFill"),d.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(d,f.fgColor),f.bgColor&&this.map.bgColor.render(d,f.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class i extends o{constructor(){super(),this.map={stop:new u}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,f){switch(d.openNode("gradientFill"),f.gradient){case"angle":d.addAttribute("degree",f.degree);break;case"path":d.addAttribute("type","path"),f.center.left&&(d.addAttribute("left",f.center.left),f.center.right===void 0&&d.addAttribute("right",f.center.left)),f.center.right&&d.addAttribute("right",f.center.right),f.center.top&&(d.addAttribute("top",f.center.top),f.center.bottom===void 0&&d.addAttribute("bottom",f.center.top)),f.center.bottom&&d.addAttribute("bottom",f.center.bottom)}const b=this.map.stop;f.stops.forEach(y=>{b.render(d,y)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const f=this.model={stops:[]};return d.attributes.degree?(f.gradient="angle",f.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(f.gradient="path",f.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(f.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(f.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends o{constructor(){super(),this.map={patternFill:new a,gradientFill:new i}}get tag(){return"fill"}render(d,f){switch(d.addRollback(),d.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(d,f);break;case"gradient":this.map.gradientFill.render(d,f);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return c.validPatternValues[d]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,d)=>(h[d]=!0,h),{}),c.StopXform=u,c.PatternFillXform=a,c.GradientFillXform=i,r.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(e,r,l){const o=e("./color-xform"),s=e("../simple/boolean-xform"),u=e("../simple/integer-xform"),a=e("../simple/string-xform"),i=e("./underline-xform"),c=e("../../../utils/under-dash"),h=e("../base-xform");class d extends h{constructor(b){super(),this.options=b||d.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new i},charset:{prop:"charset",xform:new u({tag:"charset",attr:"val"})},color:{prop:"color",xform:new o},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new u({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new a({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new a({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new u({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new a({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(b,y){const{map:p}=this;b.openNode(this.options.tagName),c.each(this.map,(g,m)=>{p[m].xform.render(b,y[g.prop])}),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;if(this.map[b.name])return this.parser=this.map[b.name].xform,this.parser.parseOpen(b);switch(b.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser&&!this.parser.parseClose(b)){const y=this.map[b];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(b){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},r.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,r,l){const o=e("../../../utils/under-dash"),s=e("../../defaultnumformats"),u=e("../base-xform"),a=function(){const c={};return o.each(s,(h,d)=>{h.f&&(c[h.f]=parseInt(d,10))}),c}();class i extends u{constructor(h,d){super(),this.id=h,this.formatCode=d}get tag(){return"numFmt"}render(h,d){h.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}i.getDefaultFmtId=function(c){return a[c]},i.getDefaultFmtCode=function(c){return s[c]&&s[c].f},r.exports=i},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,r,l){const o=e("../base-xform"),s={boolean:(u,a)=>u===void 0?a:u};r.exports=class extends o{get tag(){return"protection"}render(u,a){u.addRollback(),u.openNode("protection");let i=!1;function c(h,d){d!==void 0&&(u.addAttribute(h,d),i=!0)}c("locked",s.boolean(a.locked,!0)?void 0:"0"),c("hidden",s.boolean(a.hidden,!1)?"1":void 0),u.closeNode(),i?u.commit():u.rollback()}parseOpen(u){const a={locked:u.attributes.locked!=="0",hidden:u.attributes.hidden==="1"},i=!a.locked||a.hidden;this.model=i?a:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,r,l){const o=e("../base-xform"),s=e("./alignment-xform"),u=e("./protection-xform");r.exports=class extends o{constructor(a){super(),this.xfId=!(!a||!a.xfId),this.map={alignment:new s,protection:new u}}get tag(){return"xf"}render(a,i){a.openNode("xf",{numFmtId:i.numFmtId||0,fontId:i.fontId||0,fillId:i.fillId||0,borderId:i.borderId||0}),this.xfId&&a.addAttribute("xfId",i.xfId||0),i.numFmtId&&a.addAttribute("applyNumberFormat","1"),i.fontId&&a.addAttribute("applyFont","1"),i.fillId&&a.addAttribute("applyFill","1"),i.borderId&&a.addAttribute("applyBorder","1"),i.alignment&&a.addAttribute("applyAlignment","1"),i.protection&&a.addAttribute("applyProtection","1"),i.alignment&&this.map.alignment.render(a,i.alignment),i.protection&&this.map.protection.render(a,i.protection),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"xf":return this.model={numFmtId:parseInt(a.attributes.numFmtId,10),fontId:parseInt(a.attributes.fontId,10),fillId:parseInt(a.attributes.fillId,10),borderId:parseInt(a.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(a.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(a),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):a!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,r,l){const o=e("../../../doc/enums"),s=e("../../../utils/xml-stream"),u=e("../base-xform"),a=e("../static-xform"),i=e("../list-xform"),c=e("./font-xform"),h=e("./fill-xform"),d=e("./border-xform"),f=e("./numfmt-xform"),b=e("./style-xform"),y=e("./dxf-xform");class p extends u{constructor(m){super(),this.map={numFmts:new i({tag:"numFmts",count:!0,childXform:new f}),fonts:new i({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new i({tag:"fills",count:!0,childXform:new h}),borders:new i({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new i({tag:"cellStyleXfs",count:!0,childXform:new b}),cellXfs:new i({tag:"cellXfs",count:!0,childXform:new b({xfId:!0})}),dxfs:new i({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new f,font:new c,fill:new h,border:new d,style:new b({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,x){x=x||this.model,m.openXml(s.StdDocAttributes),m.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(m.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(C=>{m.writeXml(C)}),m.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(C=>{m.writeXml(C)}),m.closeNode(),m.openNode("fills",{count:x.fills.length}),x.fills.forEach(C=>{m.writeXml(C)}),m.closeNode(),m.openNode("borders",{count:x.borders.length}),x.borders.forEach(C=>{m.writeXml(C)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(C=>{m.writeXml(C)}),m.closeNode()):(this.map.numFmts.render(m,x.numFmts),this.map.fonts.render(m,x.fonts),this.map.fills.render(m,x.fills),this.map.borders.render(m,x.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,x.styles)),p.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,x.dxfs),p.STATIC_XFORMS.tableStyles.render(m),p.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};const x=(C,I)=>{I.model&&I.model.length&&(this.model[C]=I.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(I=>{C[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(m,x){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);const C={};if(x=x||o.ValueType.Number,m.numFmt)C.numFmtId=this._addNumFmtStr(m.numFmt);else switch(x){case o.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case o.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(C.fontId=this._addFont(m.font)),m.border&&(C.borderId=this._addBorder(m.border)),m.fill&&(C.fillId=this._addFill(m.fill)),m.alignment&&(C.alignment=m.alignment),m.protection&&(C.protection=m.protection);const I=this._addStyle(C);return this.weakMap&&this.weakMap.set(m,I),I}getStyleModel(m){const x=this.model.styles[m];if(!x)return null;let C=this.index.model[m];if(C)return C;if(C=this.index.model[m]={},x.numFmtId){const D=this.index.numFmt[x.numFmtId]||f.getDefaultFmtCode(x.numFmtId);D&&(C.numFmt=D)}function I(D,z,O){if(O||O===0){const B=z[O];B&&(C[D]=B)}}return I("font",this.model.fonts,x.fontId),I("border",this.model.borders,x.borderId),I("fill",this.model.fills,x.fillId),x.alignment&&(C.alignment=x.alignment),x.protection&&(C.protection=x.protection),C}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){const x=this.map.style.toXml(m);let C=this.index.style[x];return C===void 0&&(C=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),C}_addNumFmtStr(m){let x=f.getDefaultFmtId(m);if(x!==void 0||(x=this.index.numFmt[m],x!==void 0))return x;x=this.index.numFmt[m]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:x,formatCode:m});return this.model.numFmts.push(C),x}_addFont(m){const x=this.map.font.toXml(m);let C=this.index.font[x];return C===void 0&&(C=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),C}_addBorder(m){const x=this.map.border.toXml(m);let C=this.index.border[x];return C===void 0&&(C=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),C}_addFill(m){const x=this.map.fill.toXml(m);let C=this.index.fill[x];return C===void 0&&(C=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),C}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new a({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new a({tag:"dxfs",$:{count:0}}),tableStyles:new a({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new a({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,m){switch(m){case o.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const g={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},r.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,r,l){const o=e("../base-xform");class s extends o{constructor(a){super(),this.model=a}get tag(){return"u"}render(a,i){if((i=i||this.model)===!0)a.leafNode("u");else{const c=s.Attributes[i];c&&a.leafNode("u",c)}}parseOpen(a){a.name==="u"&&(this.model=a.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},r.exports=s},{"../base-xform":32}],137:[function(e,r,l){const o=e("../base-xform"),s=e("./filter-column-xform");r.exports=class extends o{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(u){u.columns.forEach((a,i)=>{this.map.filterColumn.prepare(a,{index:i})})}render(u,a){return u.openNode(this.tag,{ref:a.autoFilterRef}),a.columns.forEach(i=>{this.map.filterColumn.render(u,i)}),u.closeNode(),!0}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model={autoFilterRef:u.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"customFilter"}render(s,u){s.leafNode(this.tag,{val:u.val,operator:u.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,r,l){const o=e("../base-xform"),s=e("../list-xform"),u=e("./custom-filter-xform"),a=e("./filter-xform");r.exports=class extends o{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new u}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new a})}}get tag(){return"filterColumn"}prepare(i,c){i.colId=c.index.toString()}render(i,c){return c.customFilters?(i.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(i,c.customFilters),i.closeNode(),!0):(i.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;const{attributes:c}=i;switch(i.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[i.name],this.parser)return this.parseOpen(i),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"filter"}render(s,u){s.leafNode(this.tag,{val:u.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"tableColumn"}prepare(s,u){s.id=u.index+1}render(s,u){return s.leafNode(this.tag,{id:u.id.toString(),name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:u}=s;return this.model={name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,r,l){const o=e("../base-xform");r.exports=class extends o{get tag(){return"tableStyleInfo"}render(s,u){return s.leafNode(this.tag,{name:u.theme?u.theme:void 0,showFirstColumn:u.showFirstColumn?"1":"0",showLastColumn:u.showLastColumn?"1":"0",showRowStripes:u.showRowStripes?"1":"0",showColumnStripes:u.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:u}=s;return this.model={theme:u.name?u.name:null,showFirstColumn:u.showFirstColumn==="1",showLastColumn:u.showLastColumn==="1",showRowStripes:u.showRowStripes==="1",showColumnStripes:u.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,r,l){const o=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("../list-xform"),a=e("./auto-filter-xform"),i=e("./table-column-xform"),c=e("./table-style-info-xform");class h extends s{constructor(){super(),this.map={autoFilter:new a,tableColumns:new u({tag:"tableColumns",count:!0,empty:!0,childXform:new i}),tableStyleInfo:new c}}prepare(f,b){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,b)}get tag(){return"table"}render(f,b){f.openXml(o.StdDocAttributes),f.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:b.id,name:b.name,displayName:b.displayName||b.name,ref:b.tableRef,totalsRowCount:b.totalsRow?"1":void 0,totalsRowShown:b.totalsRow?void 0:"1",headerRowCount:b.headerRow?"1":"0"}),this.map.autoFilter.render(f,b),this.map.tableColumns.render(f,b.columns),this.map.tableStyleInfo.render(f,b.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:b,attributes:y}=f;switch(b){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((b,y)=>{this.model.columns[y].filterButton=b.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,b){f.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=b.styles.getDxfStyle(y.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},r.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,r,l){(function(o,s){(function(){const u=e("fs"),a=e("jszip"),{PassThrough:i}=e("readable-stream"),c=e("../utils/zip-stream"),h=e("../utils/stream-buf"),d=e("../utils/utils"),f=e("../utils/xml-stream"),{bufferToString:b}=e("../utils/browser-buffer-decode"),y=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),g=e("./xform/strings/shared-strings-xform"),m=e("./xform/core/relationships-xform"),x=e("./xform/core/content-types-xform"),C=e("./xform/core/app-xform"),I=e("./xform/book/workbook-xform"),D=e("./xform/sheet/worksheet-xform"),z=e("./xform/drawing/drawing-xform"),O=e("./xform/table/table-xform"),B=e("./xform/comment/comments-xform"),V=e("./xform/comment/vml-notes-xform"),q=e("./xml/theme1");class H{constructor(R){this.workbook=R}async readFile(R,k){if(!await d.fs.exists(R))throw new Error("File not found: "+R);const v=u.createReadStream(R);try{const _=await this.read(v,k);return v.close(),_}catch(_){throw v.close(),_}}parseRels(R){return new m().parseStream(R)}parseWorkbook(R){return new I().parseStream(R)}parseSharedStrings(R){return new g().parseStream(R)}reconcile(R,k){const v=new I,_=new D(k),w=new z,S=new O;v.reconcile(R);const N={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach(G=>{const W=R.drawings[G],J=R.drawingRels[G];J&&(N.rels=J.reduce((F,K)=>(F[K.Id]=K,F),{}),(W.anchors||[]).forEach(F=>{const K=F.picture&&F.picture.hyperlinks;K&&N.rels[K.rId]&&(K.hyperlink=N.rels[K.rId].Target,delete K.rId)}),w.reconcile(W,N))});const j={styles:R.styles};Object.values(R.tables).forEach(G=>{S.reconcile(G,j)});const U={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach(G=>{G.relationships=R.worksheetRels[G.sheetNo],_.reconcile(G,U)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}async _processWorksheetEntry(R,k,v,_,w){const S=new D(_),N=await S.parseStream(R);N.sheetNo=v,k.worksheetHash[w]=N,k.worksheets.push(N)}async _processCommentEntry(R,k,v){const _=new B,w=await _.parseStream(R);k.comments[`../${v}.xml`]=w}async _processTableEntry(R,k,v){const _=new O,w=await _.parseStream(R);k.tables[`../tables/${v}.xml`]=w}async _processWorksheetRelsEntry(R,k,v){const _=new m,w=await _.parseStream(R);k.worksheetRels[v]=w}async _processMediaEntry(R,k,v){const _=v.lastIndexOf(".");if(_>=1){const w=v.substr(_+1),S=v.substr(0,_);await new Promise((N,j)=>{const U=new h;U.on("finish",()=>{k.mediaIndex[v]=k.media.length,k.mediaIndex[S]=k.media.length;const G={type:"image",name:S,extension:w,buffer:U.toBuffer()};k.media.push(G),N()}),R.on("error",G=>{j(G)}),R.pipe(U)})}}async _processDrawingEntry(R,k,v){const _=new z,w=await _.parseStream(R);k.drawings[v]=w}async _processDrawingRelsEntry(R,k,v){const _=new m,w=await _.parseStream(R);k.drawingRels[v]=w}async _processVmlDrawingEntry(R,k,v){const _=new V,w=await _.parseStream(R);k.vmlDrawings[`../drawings/${v}.vml`]=w}async _processThemeEntry(R,k,v){await new Promise((_,w)=>{const S=new h;R.on("error",w),S.on("error",w),S.on("finish",()=>{k.themes[v]=S.read().toString(),_()}),R.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(R,k){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new i));const v=[];for await(const _ of R)v.push(_);return this.load(s.concat(v),k)}async load(R,k){let v;v=k&&k.base64?s.from(R.toString(),"base64"):R;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await a.loadAsync(v);for(const S of Object.values(w.files))if(!S.dir){let N,j=S.name;if(j[0]==="/"&&(j=j.substr(1)),j.match(/xl\/media\//)||j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))N=new i,N.write(await S.async("nodebuffer"));else{let U;N=new i({writableObjectMode:!0,readableObjectMode:!0}),U=o.browser?b(await S.async("nodebuffer")):await S.async("string");const G=16384;for(let W=0;W<U.length;W+=G)N.write(U.substring(W,W+G))}switch(N.end(),j){case"_rels/.rels":_.globalRels=await this.parseRels(N);break;case"xl/workbook.xml":{const U=await this.parseWorkbook(N);_.sheets=U.sheets,_.definedNames=U.definedNames,_.views=U.views,_.properties=U.properties,_.calcProperties=U.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(N);break;case"xl/sharedStrings.xml":_.sharedStrings=new g,await _.sharedStrings.parseStream(N);break;case"xl/styles.xml":_.styles=new y,await _.styles.parseStream(N);break;case"docProps/app.xml":{const U=new C,G=await U.parseStream(N);_.company=G.company,_.manager=G.manager;break}case"docProps/core.xml":{const U=new p,G=await U.parseStream(N);Object.assign(_,G);break}default:{let U=j.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(U){await this._processWorksheetEntry(N,_,U[1],k,j);break}if(U=j.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),U){await this._processWorksheetRelsEntry(N,_,U[1]);break}if(U=j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),U){await this._processThemeEntry(N,_,U[1]);break}if(U=j.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),U){await this._processMediaEntry(N,_,U[1]);break}if(U=j.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),U){await this._processDrawingEntry(N,_,U[1]);break}if(U=j.match(/xl\/(comments\d+)[.]xml/),U){await this._processCommentEntry(N,_,U[1]);break}if(U=j.match(/xl\/tables\/(table\d+)[.]xml/),U){await this._processTableEntry(N,_,U[1]);break}if(U=j.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),U){await this._processDrawingRelsEntry(N,_,U[1]);break}if(U=j.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),U){await this._processVmlDrawingEntry(N,_,U[1]);break}}}}return this.reconcile(_,k),this.workbook.model=_,this.workbook}async addMedia(R,k){await Promise.all(k.media.map(async v=>{if(v.type==="image"){const _=`xl/media/${v.name}.${v.extension}`;if(v.filename){const w=await function(S,N){return new Promise((j,U)=>{u.readFile(S,N,(G,W)=>{G?U(G):j(W)})})}(v.filename);return R.append(w,{name:_})}if(v.buffer)return R.append(v.buffer,{name:_});if(v.base64){const w=v.base64,S=w.substring(w.indexOf(",")+1);return R.append(S,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(R,k){const v=new z,_=new m;k.worksheets.forEach(w=>{const{drawing:S}=w;if(S){v.prepare(S,{});let N=v.toXml(S);R.append(N,{name:`xl/drawings/${S.name}.xml`}),N=_.toXml(S.rels),R.append(N,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(R,k){const v=new O;k.worksheets.forEach(_=>{const{tables:w}=_;w.forEach(S=>{v.prepare(S,{});const N=v.toXml(S);R.append(N,{name:"xl/tables/"+S.target})})})}async addContentTypes(R,k){const v=new x().toXml(k);R.append(v,{name:"[Content_Types].xml"})}async addApp(R,k){const v=new C().toXml(k);R.append(v,{name:"docProps/app.xml"})}async addCore(R,k){const v=new p;R.append(v.toXml(k),{name:"docProps/core.xml"})}async addThemes(R,k){const v=k.themes||{theme1:q};Object.keys(v).forEach(_=>{const w=v[_],S=`xl/theme/${_}.xml`;R.append(w,{name:S})})}async addOfficeRels(R){const k=new m().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(k,{name:"_rels/.rels"})}async addWorkbookRels(R,k){let v=1;const _=[{Id:"rId"+v++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&_.push({Id:"rId"+v++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(S=>{S.rId="rId"+v++,_.push({Id:S.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const w=new m().toXml(_);R.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(R,k){k.sharedStrings&&k.sharedStrings.count&&R.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(R,k){const{xml:v}=k.styles;v&&R.append(v,{name:"xl/styles.xml"})}async addWorkbook(R,k){const v=new I;R.append(v.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(R,k){const v=new D,_=new m,w=new B,S=new V;k.worksheets.forEach(N=>{let j=new f;v.render(j,N),R.append(j.xml,{name:`xl/worksheets/sheet${N.id}.xml`}),N.rels&&N.rels.length&&(j=new f,_.render(j,N.rels),R.append(j.xml,{name:`xl/worksheets/_rels/sheet${N.id}.xml.rels`})),N.comments.length>0&&(j=new f,w.render(j,N),R.append(j.xml,{name:`xl/comments${N.id}.xml`}),j=new f,S.render(j,N),R.append(j.xml,{name:`xl/drawings/vmlDrawing${N.id}.vml`}))})}_finalize(R){return new Promise((k,v)=>{R.on("finish",()=>{k(this)}),R.on("error",v),R.finalize()})}prepareModel(R,k){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,R.useStyles=k.useStyles===void 0||k.useStyles,R.sharedStrings=new g,R.styles=R.useStyles?new y(!0):new y.Mock;const v=new I,_=new D;v.prepare(R);const w={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};w.drawings=R.drawings=[],w.commentRefs=R.commentRefs=[];let S=0;R.tables=[],R.worksheets.forEach(N=>{N.tables.forEach(j=>{S++,j.target=`table${S}.xml`,j.id=S,R.tables.push(j)}),_.prepare(N,w)})}async write(R,k){k=k||{};const{model:v}=this.workbook,_=new c.ZipWriter(k.zip);return _.pipe(R),this.prepareModel(v,k),await this.addContentTypes(_,v),await this.addOfficeRels(_,v),await this.addWorkbookRels(_,v),await this.addWorksheets(_,v),await this.addSharedStrings(_,v),await this.addDrawings(_,v),await this.addTables(_,v),await Promise.all([this.addThemes(_,v),this.addStyles(_,v)]),await this.addMedia(_,v),await Promise.all([this.addApp(_,v),this.addCore(_,v)]),await this.addWorkbook(_,v),this._finalize(_)}writeFile(R,k){const v=u.createWriteStream(R);return new Promise((_,w)=>{v.on("finish",()=>{_()}),v.on("error",S=>{w(S)}),this.write(v,k).then(()=>{v.end()}).catch(S=>{w(S)})})}async writeBuffer(R){const k=new h;return await this.write(k,R),k.read()}}H.RelType=e("./rel-type"),r.exports=H}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,r,l){r.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,r,l){(function(o){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvFormatterStream=void 0;const s=e("stream"),u=e("./formatter");class a extends s.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new u.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,h,d){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(b,y)=>b?(f=!0,d(b)):(y&&y.forEach(p=>{this.push(o.from(p,"utf8"))}),f=!0,d()))}catch(b){if(f)throw b;d(b)}}_flush(c){this.rowFormatter.finish((h,d)=>h?c(h):(d&&d.forEach(f=>{this.push(o.from(f,"utf8"))}),c()))}}l.CsvFormatterStream=a}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FormatterOptions=void 0,l.FormatterOptions=class{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,o||{}),(o==null?void 0:o.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(o==null?void 0:o.quote)===!0?this.quote='"':(o==null?void 0:o.quote)===!1&&(this.quote=""),typeof(o==null?void 0:o.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=o.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,r,l){var o=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=void 0;const s=o(e("lodash.isboolean")),u=o(e("lodash.isnil")),a=o(e("lodash.escaperegexp"));l.FieldFormatter=class{constructor(i){this._headers=null,this.formatterOptions=i,i.headers!==null&&(this.headers=i.headers),this.REPLACE_REGEXP=new RegExp(i.quote,"g");const c=`[${i.delimiter}${a.default(i.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(i){this._headers=i}shouldQuote(i,c){const h=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(h)?h:Array.isArray(h)?h[i]:this._headers!==null&&h[this._headers[i]]}format(i,c,h){const d=(""+(u.default(i)?"":i)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&d.indexOf(f.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,f.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,h)?this.quoteField(d):d}quoteField(i){const{quote:c}=this.formatterOptions;return`${c}${i}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,r,l){var o=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowFormatter=void 0;const s=o(e("lodash.isfunction")),u=o(e("lodash.isequal")),a=e("./FieldFormatter"),i=e("../types");class c{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new a.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return c.isRowHashArray(d)?d.map(f=>f[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return i.isSyncTransform(d)?(f,b)=>{let y=null;try{y=d(f)}catch(p){return b(p)}return b(null,y)}:(f,b)=>{d(f,b)}}set rowTransform(d){if(!s.default(d))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(d)}format(d,f){this.callTransformer(d,(b,y)=>{if(b)return f(b);if(!d)return f(null);const p=[];if(y){const{shouldFormatColumns:g,headers:m}=this.checkHeaders(y);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),g){const x=this.gatherColumns(y);p.push(this.formatColumns(x,!1))}}return f(null,p)})}finish(d){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),d(null,f)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=c.gatherHeaders(d);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!u.default(f,d),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?c.isRowHashArray(d)?this.headers.map((f,b)=>{const y=d[b];return y?y[1]:""}):c.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((f,b)=>d[b]):this.headers.map(f=>d[f])}callTransformer(d,f){return this._rowTransform?this._rowTransform(d,f):f(null,d)}formatColumns(d,f){const b=d.map((p,g)=>this.fieldFormatter.format(p,g,f)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,b].join(""):b}}l.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=l.RowFormatter=void 0;var o=e("./RowFormatter");Object.defineProperty(l,"RowFormatter",{enumerable:!0,get:function(){return o.RowFormatter}});var s=e("./FieldFormatter");Object.defineProperty(l,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,r,l){(function(o){(function(){var s=Object.create?function(g,m,x,C){C===void 0&&(C=x),Object.defineProperty(g,C,{enumerable:!0,get:function(){return m[x]}})}:function(g,m,x,C){C===void 0&&(C=x),g[C]=m[x]},u=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},a=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var x in g)x!=="default"&&Object.prototype.hasOwnProperty.call(g,x)&&s(m,g,x);return u(m,g),m},i=function(g,m){for(var x in g)x==="default"||Object.prototype.hasOwnProperty.call(m,x)||s(m,g,x)};Object.defineProperty(l,"__esModule",{value:!0}),l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=l.FormatterOptions=l.CsvFormatterStream=void 0;const c=e("util"),h=e("stream"),d=a(e("fs")),f=e("./FormatterOptions"),b=e("./CsvFormatterStream");i(e("./types"),l);var y=e("./CsvFormatterStream");Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),l.format=g=>new b.CsvFormatterStream(new f.FormatterOptions(g)),l.write=(g,m)=>{const x=l.format(m),C=c.promisify((I,D)=>{x.write(I,void 0,D)});return g.reduce((I,D)=>I.then(()=>C(D)),Promise.resolve()).then(()=>x.end()).catch(I=>{x.emit("error",I)}),x},l.writeToStream=(g,m,x)=>l.write(m,x).pipe(g),l.writeToBuffer=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],C=new h.Writable({write(I,D,z){x.push(I),z()}});return new Promise((I,D)=>{C.on("error",D).on("finish",()=>I(o.concat(x))),l.write(g,m).pipe(C)})},l.writeToString=(g,m)=>l.writeToBuffer(g,m).then(x=>x.toString()),l.writeToPath=(g,m,x)=>{const C=d.createWriteStream(g,{encoding:"utf8"});return l.write(m,x).pipe(C)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncTransform=void 0,l.isSyncTransform=o=>o.length===1},{}],153:[function(e,r,l){(function(o){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=void 0;const s=e("string_decoder"),u=e("stream"),a=e("./transforms"),i=e("./parser");class c extends u.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new i.Parser(d),this.headerTransformer=new a.HeaderTransformer(d),this.decoder=new s.StringDecoder(d.encoding),this.rowTransformerValidator=new a.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,b=new Array(f>1?f-1:0),y=1;y<f;y++)b[y-1]=arguments[y];return super.emit(d,...b)}_transform(d,f,b){if(this.hasHitRowLimit)return b();const y=c.wrapDoneCallback(b);try{const{lines:p}=this,g=p+this.decoder.write(d),m=this.parse(g,!0);return this.processRows(m,y)}catch(p){return y(p)}}_flush(d){const f=c.wrapDoneCallback(d);if(this.hasHitRowLimit)return f();try{const b=this.lines+this.decoder.end(),y=this.parse(b,!1);return this.processRows(y,f)}catch(b){return f(b)}}parse(d,f){if(!d)return[];const{line:b,rows:y}=this.parser.parse(d,f);return this.lines=b,y}processRows(d,f){const b=d.length,y=p=>{const g=C=>C?f(C):p%100!=0?y(p+1):void o(()=>y(p+1));if(this.checkAndEmitHeaders(),p>=b||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();const m=d[p];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(m,(C,I)=>{if(C)return this.rowCount-=1,g(C);if(!I)return g(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,g)}else this.emit("data-invalid",I.row,x,I.reason);return g()})};y(0)}transformRow(d,f){try{this.headerTransformer.transform(d,(b,y)=>b?f(b):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:d}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(b){f(b)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,f){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),f()}catch(b){f(b)}}static wrapDoneCallback(d){let f=!1;return function(b){if(b){if(f)throw b;return f=!0,void d(b)}for(var y=arguments.length,p=new Array(y>1?y-1:0),g=1;g<y;g++)p[g-1]=arguments[g];d(...p)}}}l.CsvParserStream=c}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,r,l){var o=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0}),l.ParserOptions=void 0;const s=o(e("lodash.escaperegexp")),u=o(e("lodash.isnil"));l.ParserOptions=class{constructor(a){var i;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,a||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(i=this.escape)!==null&&i!==void 0?i:this.quote,this.supportsComments=!u.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,r,l){var o=Object.create?function(y,p,g,m){m===void 0&&(m=g),Object.defineProperty(y,m,{enumerable:!0,get:function(){return p[g]}})}:function(y,p,g,m){m===void 0&&(m=g),y[m]=p[g]},s=Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p},u=function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&o(p,y,g);return s(p,y),p},a=function(y,p){for(var g in y)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||o(p,y,g)};Object.defineProperty(l,"__esModule",{value:!0}),l.parseString=l.parseFile=l.parseStream=l.parse=l.ParserOptions=l.CsvParserStream=void 0;const i=u(e("fs")),c=e("stream"),h=e("./ParserOptions"),d=e("./CsvParserStream");a(e("./types"),l);var f=e("./CsvParserStream");Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var b=e("./ParserOptions");Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return b.ParserOptions}}),l.parse=y=>new d.CsvParserStream(new h.ParserOptions(y)),l.parseStream=(y,p)=>y.pipe(new d.CsvParserStream(new h.ParserOptions(p))),l.parseFile=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.createReadStream(y).pipe(new d.CsvParserStream(new h.ParserOptions(p)))},l.parseString=(y,p)=>{const g=new c.Readable;return g.push(y),g.push(null),g.pipe(new d.CsvParserStream(new h.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=void 0;const o=e("./Scanner"),s=e("./RowParser"),u=e("./Token");class a{constructor(c){this.parserOptions=c,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,h){const d=new o.Scanner({line:a.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(c){const h=[];let d=!0;for(;d;)d=this.parseRow(c,h);return{line:c.line,rows:h}}parseWithComments(c){const{parserOptions:h}=this,d=[];for(let f=c.nextCharacterToken;f!==null;f=c.nextCharacterToken)if(u.Token.isTokenComment(f,h)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:d};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:d};c.truncateToCursor()}else if(!this.parseRow(c,d))break;return{line:c.line,rows:d}}parseRow(c,h){if(!c.nextNonSpaceToken)return!1;const d=this.rowParser.parse(c);return d!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(d)||h.push(d),!0)}}l.Parser=a},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.RowParser=void 0;const o=e("./column"),s=e("./Token");l.RowParser=class{constructor(u){this.parserOptions=u,this.columnParser=new o.ColumnParser(u)}static isEmptyRow(u){return u.join("").replace(/\s+/g,"")===""}parse(u){const{parserOptions:a}=this,{hasMoreData:i}=u,c=u,h=[];let d=this.getStartToken(c,h);for(;d;){if(s.Token.isTokenRowDelimiter(d))return c.advancePastToken(d),!c.hasMoreCharacters&&s.Token.isTokenCarriageReturn(d,a)&&i?null:(c.truncateToCursor(),h);if(!this.shouldSkipColumnParse(c,d,h)){const f=this.columnParser.parse(c);if(f===null)return null;h.push(f)}d=c.nextNonSpaceToken}return i?null:(c.truncateToCursor(),h)}getStartToken(u,a){const i=u.nextNonSpaceToken;return i!==null&&s.Token.isTokenDelimiter(i,this.parserOptions)?(a.push(""),u.nextNonSpaceToken):i}shouldSkipColumnParse(u,a,i){const{parserOptions:c}=this;if(s.Token.isTokenDelimiter(a,c)){u.advancePastToken(a);const h=u.nextCharacterToken;if(!u.hasMoreCharacters||h!==null&&s.Token.isTokenRowDelimiter(h)||h!==null&&s.Token.isTokenDelimiter(h,c))return i.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Scanner=void 0;const o=e("./Token"),s=/((?:\r\n)|\n|\r)/;l.Scanner=class{constructor(u){this.cursor=0,this.line=u.line,this.lineLength=this.line.length,this.parserOptions=u.parserOptions,this.hasMoreData=u.hasMoreData,this.cursor=u.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:u}=this,a=this.parserOptions.NEXT_TOKEN_REGEXP;if(u.search(a)===-1)return null;const i=a.exec(u);if(i==null)return null;const c=i[1],h=this.cursor+(i.index||0);return new o.Token({token:c,startCursor:h,endCursor:h+c.length-1})}get nextCharacterToken(){const{cursor:u,lineLength:a}=this;return a<=u?null:new o.Token({token:this.line[u],startCursor:u,endCursor:u})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const u=s.exec(this.lineFromCursor);return u?(this.cursor+=(u.index||0)+u[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(u){return this.cursor=u,this}advanceToToken(u){return this.cursor=u.startCursor,this}advancePastToken(u){return this.cursor=u.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Token=void 0,l.Token=class{constructor(o){this.token=o.token,this.startCursor=o.startCursor,this.endCursor=o.endCursor}static isTokenRowDelimiter(o){const s=o.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(o,s){return o.token===s.carriageReturn}static isTokenComment(o,s){return s.supportsComments&&!!o&&o.token===s.comment}static isTokenEscapeCharacter(o,s){return o.token===s.escapeChar}static isTokenQuote(o,s){return o.token===s.quote}static isTokenDelimiter(o,s){return o.token===s.delimiter}}},{}],160:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=void 0,l.ColumnFormatter=class{constructor(o){o.trim?this.format=s=>s.trim():o.ltrim?this.format=s=>s.trimLeft():o.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnParser=void 0;const o=e("./NonQuotedColumnParser"),s=e("./QuotedColumnParser"),u=e("../Token");l.ColumnParser=class{constructor(a){this.parserOptions=a,this.quotedColumnParser=new s.QuotedColumnParser(a),this.nonQuotedColumnParser=new o.NonQuotedColumnParser(a)}parse(a){const{nextNonSpaceToken:i}=a;return i!==null&&u.Token.isTokenQuote(i,this.parserOptions)?(a.advanceToToken(i),this.quotedColumnParser.parse(a)):this.nonQuotedColumnParser.parse(a)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.NonQuotedColumnParser=void 0;const o=e("./ColumnFormatter"),s=e("../Token");l.NonQuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new o.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const{parserOptions:a}=this,i=[];let c=u.nextCharacterToken;for(;c&&!s.Token.isTokenDelimiter(c,a)&&!s.Token.isTokenRowDelimiter(c);c=u.nextCharacterToken)i.push(c.token),u.advancePastToken(c);return this.columnFormatter.format(i.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=void 0;const o=e("./ColumnFormatter"),s=e("../Token");l.QuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new o.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const a=u.cursor,{foundClosingQuote:i,col:c}=this.gatherDataBetweenQuotes(u);if(!i){if(u.advanceTo(a),!u.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${u.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(u),c}gatherDataBetweenQuotes(u){const{parserOptions:a}=this;let i=!1,c=!1;const h=[];let d=u.nextCharacterToken;for(;!c&&d!==null;d=u.nextCharacterToken){const f=s.Token.isTokenQuote(d,a);if(!i&&f)i=!0;else if(i)if(s.Token.isTokenEscapeCharacter(d,a)){u.advancePastToken(d);const b=u.nextCharacterToken;b!==null&&(s.Token.isTokenQuote(b,a)||s.Token.isTokenEscapeCharacter(b,a))?(h.push(b.token),d=b):f?c=!0:h.push(d.token)}else f?c=!0:h.push(d.token);u.advancePastToken(d)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:c}}checkForMalformedColumn(u){const{parserOptions:a}=this,{nextNonSpaceToken:i}=u;if(i){const c=s.Token.isTokenDelimiter(i,a),h=s.Token.isTokenRowDelimiter(i);if(!c&&!h){const d=u.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${a.escapedDelimiter}' OR new line got: '${i.token}'. at '${d}`)}u.advanceToToken(i)}else u.hasMoreData||u.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=void 0;var o=e("./ColumnParser");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}});var s=e("./NonQuotedColumnParser");Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var u=e("./QuotedColumnParser");Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}});var a=e("./ColumnFormatter");Object.defineProperty(l,"ColumnFormatter",{enumerable:!0,get:function(){return a.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=l.Token=l.Scanner=l.RowParser=l.Parser=void 0;var o=e("./Parser");Object.defineProperty(l,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=e("./RowParser");Object.defineProperty(l,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var u=e("./Scanner");Object.defineProperty(l,"Scanner",{enumerable:!0,get:function(){return u.Scanner}});var a=e("./Token");Object.defineProperty(l,"Token",{enumerable:!0,get:function(){return a.Token}});var i=e("./column");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}}),Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}}),Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return i.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,r,l){var o=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=void 0;const s=o(e("lodash.isundefined")),u=o(e("lodash.isfunction")),a=o(e("lodash.uniq")),i=o(e("lodash.groupby"));l.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):u.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,h){return this.shouldMapRow(c)?h(null,this.processRow(c)):h(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&c.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return h.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const h={},{headers:d,headersLength:f}=this;for(let b=0;b<f;b+=1){const y=d[b];if(!s.default(y)){const p=c[b];s.default(p)?h[y]="":h[y]=p}}return h}setHeaders(c){var h;const d=c.filter(f=>!!f);if(a.default(d).length!==d.length){const f=i.default(d),b=Object.keys(f).filter(y=>f[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(b))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,r,l){var o=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowTransformerValidator=void 0;const s=o(e("lodash.isfunction")),u=e("../types");class a{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return u.isSyncTransform(c)?(h,d)=>{let f=null;try{f=c(h)}catch(b){return d(b)}return d(null,f)}:c}static createValidator(c){return u.isSyncValidate(c)?(h,d)=>{d(null,{row:h,isValid:c(h)})}:(h,d)=>{c(h,(f,b,y)=>f?d(f):d(null,b?{row:h,isValid:b,reason:y}:{row:h,isValid:!1,reason:y}))}}set rowTransform(c){if(!s.default(c))throw new TypeError("The transform should be a function");this._rowTransform=a.createTransform(c)}set rowValidator(c){if(!s.default(c))throw new TypeError("The validate should be a function");this._rowValidator=a.createValidator(c)}transformAndValidate(c,h){return this.callTransformer(c,(d,f)=>d?h(d):f?this.callValidator(f,(b,y)=>b?h(b):y&&!y.isValid?h(null,{row:f,isValid:!1,reason:y.reason}):h(null,{row:f,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(c,h){return this._rowTransform?this._rowTransform(c,h):h(null,c)}callValidator(c,h){return this._rowValidator?this._rowValidator(c,h):h(null,{row:c,isValid:!0})}}l.RowTransformerValidator=a},{"../types":169,"lodash.isfunction":446}],168:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=l.RowTransformerValidator=void 0;var o=e("./RowTransformerValidator");Object.defineProperty(l,"RowTransformerValidator",{enumerable:!0,get:function(){return o.RowTransformerValidator}});var s=e("./HeaderTransformer");Object.defineProperty(l,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncValidate=l.isSyncTransform=void 0,l.isSyncTransform=o=>o.length===1,l.isSyncValidate=o=>o.length===1},{}],170:[function(e,r,l){const o=l;o.bignum=e("bn.js"),o.define=e("./asn1/api").define,o.base=e("./asn1/base"),o.constants=e("./asn1/constants"),o.decoders=e("./asn1/decoders"),o.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,r,l){const o=e("./encoders"),s=e("./decoders"),u=e("inherits");function a(i,c){this.name=i,this.body=c,this.decoders={},this.encoders={}}l.define=function(i,c){return new a(i,c)},a.prototype._createNamed=function(i){const c=this.name;function h(d){this._initNamed(d,c)}return u(h,i),h.prototype._initNamed=function(d,f){i.call(this,d,f)},new h(this)},a.prototype._getDecoder=function(i){return i=i||"der",this.decoders.hasOwnProperty(i)||(this.decoders[i]=this._createNamed(s[i])),this.decoders[i]},a.prototype.decode=function(i,c,h){return this._getDecoder(c).decode(i,h)},a.prototype._getEncoder=function(i){return i=i||"der",this.encoders.hasOwnProperty(i)||(this.encoders[i]=this._createNamed(o[i])),this.encoders[i]},a.prototype.encode=function(i,c,h){return this._getEncoder(c).encode(i,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,r,l){const o=e("inherits"),s=e("../base/reporter").Reporter,u=e("safer-buffer").Buffer;function a(c,h){s.call(this,h),u.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function i(c,h){if(Array.isArray(c))this.length=0,this.value=c.map(function(d){return i.isEncoderBuffer(d)||(d=new i(d,h)),this.length+=d.length,d},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return h.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=u.byteLength(c);else{if(!u.isBuffer(c))return h.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}o(a,s),l.DecoderBuffer=a,a.isDecoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&u.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},a.prototype.restore=function(c){const h=new a(this.base);return h.offset=c.offset,h.length=this.offset,this.offset=c.offset,s.prototype.restore.call(this,c.reporter),h},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},a.prototype.skip=function(c,h){if(!(this.offset+c<=this.length))return this.error(h||"DecoderBuffer overrun");const d=new a(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+c,this.offset+=c,d},a.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},l.EncoderBuffer=i,i.isEncoderBuffer=function(c){return c instanceof i?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},i.prototype.join=function(c,h){return c||(c=u.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(c,h),h+=d.length}):(typeof this.value=="number"?c[h]=this.value:typeof this.value=="string"?c.write(this.value,h):u.isBuffer(this.value)&&this.value.copy(c,h),h+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,r,l){const o=l;o.Reporter=e("./reporter").Reporter,o.DecoderBuffer=e("./buffer").DecoderBuffer,o.EncoderBuffer=e("./buffer").EncoderBuffer,o.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,r,l){const o=e("../base/reporter").Reporter,s=e("../base/buffer").EncoderBuffer,u=e("../base/buffer").DecoderBuffer,a=e("minimalistic-assert"),i=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(i);function h(f,b,y){const p={};this._baseState=p,p.name=y,p.enc=f,p.parent=b||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}r.exports=h;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const f=this._baseState,b={};d.forEach(function(p){b[p]=f[p]});const y=new this.constructor(b.parent);return y._baseState=b,y},h.prototype._wrap=function(){const f=this._baseState;c.forEach(function(b){this[b]=function(){const y=new this.constructor(this);return f.children.push(y),y[b].apply(y,arguments)}},this)},h.prototype._init=function(f){const b=this._baseState;a(b.parent===null),f.call(this),b.children=b.children.filter(function(y){return y._baseState.parent===this},this),a.equal(b.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(f){const b=this._baseState,y=f.filter(function(p){return p instanceof this.constructor},this);f=f.filter(function(p){return!(p instanceof this.constructor)},this),y.length!==0&&(a(b.children===null),b.children=y,y.forEach(function(p){p._baseState.parent=this},this)),f.length!==0&&(a(b.args===null),b.args=f,b.reverseArgs=f.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const g={};return Object.keys(p).forEach(function(m){m==(0|m)&&(m|=0);const x=p[m];g[x]=m}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){h.prototype[f]=function(){const b=this._baseState;throw new Error(f+" not implemented for encoding: "+b.enc)}}),i.forEach(function(f){h.prototype[f]=function(){const b=this._baseState,y=Array.prototype.slice.call(arguments);return a(b.tag===null),b.tag=f,this._useArgs(y),this}}),h.prototype.use=function(f){a(f);const b=this._baseState;return a(b.use===null),b.use=f,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(f){const b=this._baseState;return a(b.default===null),b.default=f,b.optional=!0,this},h.prototype.explicit=function(f){const b=this._baseState;return a(b.explicit===null&&b.implicit===null),b.explicit=f,this},h.prototype.implicit=function(f){const b=this._baseState;return a(b.explicit===null&&b.implicit===null),b.implicit=f,this},h.prototype.obj=function(){const f=this._baseState,b=Array.prototype.slice.call(arguments);return f.obj=!0,b.length!==0&&this._useArgs(b),this},h.prototype.key=function(f){const b=this._baseState;return a(b.key===null),b.key=f,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(f){const b=this._baseState;return a(b.choice===null),b.choice=f,this._useArgs(Object.keys(f).map(function(y){return f[y]})),this},h.prototype.contains=function(f){const b=this._baseState;return a(b.use===null),b.contains=f,this},h.prototype._decode=function(f,b){const y=this._baseState;if(y.parent===null)return f.wrapResult(y.children[0]._decode(f,b));let p,g=y.default,m=!0,x=null;if(y.key!==null&&(x=f.enterKey(y.key)),y.optional){let C=null;if(y.explicit!==null?C=y.explicit:y.implicit!==null?C=y.implicit:y.tag!==null&&(C=y.tag),C!==null||y.any){if(m=this._peekTag(f,C,y.any),f.isError(m))return m}else{const I=f.save();try{y.choice===null?this._decodeGeneric(y.tag,f,b):this._decodeChoice(f,b),m=!0}catch{m=!1}f.restore(I)}}if(y.obj&&m&&(p=f.enterObject()),m){if(y.explicit!==null){const I=this._decodeTag(f,y.explicit);if(f.isError(I))return I;f=I}const C=f.offset;if(y.use===null&&y.choice===null){let I;y.any&&(I=f.save());const D=this._decodeTag(f,y.implicit!==null?y.implicit:y.tag,y.any);if(f.isError(D))return D;y.any?g=f.raw(I):f=D}if(b&&b.track&&y.tag!==null&&b.track(f.path(),C,f.length,"tagged"),b&&b.track&&y.tag!==null&&b.track(f.path(),f.offset,f.length,"content"),y.any||(g=y.choice===null?this._decodeGeneric(y.tag,f,b):this._decodeChoice(f,b)),f.isError(g))return g;if(y.any||y.choice!==null||y.children===null||y.children.forEach(function(I){I._decode(f,b)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const I=new u(g);g=this._getUse(y.contains,f._reporterState.obj)._decode(I,b)}}return y.obj&&m&&(g=f.leaveObject(p)),y.key===null||g===null&&m!==!0?x!==null&&f.exitKey(x):f.leaveKey(x,y.key,g),g},h.prototype._decodeGeneric=function(f,b,y){const p=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(b,f,p.args[0],y):/str$/.test(f)?this._decodeStr(b,f,y):f==="objid"&&p.args?this._decodeObjid(b,p.args[0],p.args[1],y):f==="objid"?this._decodeObjid(b,null,null,y):f==="gentime"||f==="utctime"?this._decodeTime(b,f,y):f==="null_"?this._decodeNull(b,y):f==="bool"?this._decodeBool(b,y):f==="objDesc"?this._decodeStr(b,f,y):f==="int"||f==="enum"?this._decodeInt(b,p.args&&p.args[0],y):p.use!==null?this._getUse(p.use,b._reporterState.obj)._decode(b,y):b.error("unknown tag: "+f)},h.prototype._getUse=function(f,b){const y=this._baseState;return y.useDecoder=this._use(f,b),a(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},h.prototype._decodeChoice=function(f,b){const y=this._baseState;let p=null,g=!1;return Object.keys(y.choice).some(function(m){const x=f.save(),C=y.choice[m];try{const I=C._decode(f,b);if(f.isError(I))return!1;p={type:m,value:I},g=!0}catch{return f.restore(x),!1}return!0},this),g?p:f.error("Choice not matched")},h.prototype._createEncoderBuffer=function(f){return new s(f,this.reporter)},h.prototype._encode=function(f,b,y){const p=this._baseState;if(p.default!==null&&p.default===f)return;const g=this._encodeValue(f,b,y);return g===void 0||this._skipDefault(g,b,y)?void 0:g},h.prototype._encodeValue=function(f,b,y){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(f,b||new o);let g=null;if(this.reporter=b,p.optional&&f===void 0){if(p.default===null)return;f=p.default}let m=null,x=!1;if(p.any)g=this._createEncoderBuffer(f);else if(p.choice)g=this._encodeChoice(f,b);else if(p.contains)m=this._getUse(p.contains,y)._encode(f,b),x=!0;else if(p.children)m=p.children.map(function(C){if(C._baseState.tag==="null_")return C._encode(null,b,f);if(C._baseState.key===null)return b.error("Child should have a key");const I=b.enterKey(C._baseState.key);if(typeof f!="object")return b.error("Child expected, but input is not object");const D=C._encode(f[C._baseState.key],b,f);return b.leaveKey(I),D},this).filter(function(C){return C}),m=this._createEncoderBuffer(m);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return b.error("Too many args for : "+p.tag);if(!Array.isArray(f))return b.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,m=this._createEncoderBuffer(f.map(function(I){const D=this._baseState;return this._getUse(D.args[0],f)._encode(I,b)},C))}else p.use!==null?g=this._getUse(p.use,y)._encode(f,b):(m=this._encodePrimitive(p.tag,f),x=!0);if(!p.any&&p.choice===null){const C=p.implicit!==null?p.implicit:p.tag,I=p.implicit===null?"universal":"context";C===null?p.use===null&&b.error("Tag could be omitted only for .use()"):p.use===null&&(g=this._encodeComposite(C,x,I,m))}return p.explicit!==null&&(g=this._encodeComposite(p.explicit,!1,"context",g)),g},h.prototype._encodeChoice=function(f,b){const y=this._baseState,p=y.choice[f.type];return p||a(!1,f.type+" not found in "+JSON.stringify(Object.keys(y.choice))),p._encode(f.value,b)},h.prototype._encodePrimitive=function(f,b){const y=this._baseState;if(/str$/.test(f))return this._encodeStr(b,f);if(f==="objid"&&y.args)return this._encodeObjid(b,y.reverseArgs[0],y.args[1]);if(f==="objid")return this._encodeObjid(b,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(b,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(b,y.args&&y.reverseArgs[0]);if(f==="bool")return this._encodeBool(b);if(f==="objDesc")return this._encodeStr(b,f);throw new Error("Unsupported tag: "+f)},h.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},h.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,r,l){const o=e("inherits");function s(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}function u(a,i){this.path=a,this.rethrow(i)}l.Reporter=s,s.prototype.isError=function(a){return a instanceof u},s.prototype.save=function(){const a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},s.prototype.restore=function(a){const i=this._reporterState;i.obj=a.obj,i.path=i.path.slice(0,a.pathLen)},s.prototype.enterKey=function(a){return this._reporterState.path.push(a)},s.prototype.exitKey=function(a){const i=this._reporterState;i.path=i.path.slice(0,a-1)},s.prototype.leaveKey=function(a,i,c){const h=this._reporterState;this.exitKey(a),h.obj!==null&&(h.obj[i]=c)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const a=this._reporterState,i=a.obj;return a.obj={},i},s.prototype.leaveObject=function(a){const i=this._reporterState,c=i.obj;return i.obj=a,c},s.prototype.error=function(a){let i;const c=this._reporterState,h=a instanceof u;if(i=h?a:new u(c.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),a.message||a,a.stack),!c.options.partial)throw i;return h||c.errors.push(i),i},s.prototype.wrapResult=function(a){const i=this._reporterState;return i.options.partial?{result:this.isError(a)?null:a,errors:i.errors}:a},o(u,Error),u.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this}},{inherits:440}],176:[function(e,r,l){function o(s){const u={};return Object.keys(s).forEach(function(a){(0|a)==a&&(a|=0);const i=s[a];u[i]=a}),u}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=o(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=o(l.tag)},{}],177:[function(e,r,l){const o=l;o._reverse=function(s){const u={};return Object.keys(s).forEach(function(a){(0|a)==a&&(a|=0);const i=s[a];u[i]=a}),u},o.der=e("./der")},{"./der":176}],178:[function(e,r,l){const o=e("inherits"),s=e("bn.js"),u=e("../base/buffer").DecoderBuffer,a=e("../base/node"),i=e("../constants/der");function c(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new h,this.tree._init(b.body)}function h(b){a.call(this,"der",b)}function d(b,y){let p=b.readUInt8(y);if(b.isError(p))return p;const g=i.tagClass[p>>6],m=(32&p)==0;if((31&p)==31){let x=p;for(p=0;(128&x)==128;){if(x=b.readUInt8(y),b.isError(x))return x;p<<=7,p|=127&x}}else p&=31;return{cls:g,primitive:m,tag:p,tagStr:i.tag[p]}}function f(b,y,p){let g=b.readUInt8(p);if(b.isError(g))return g;if(!y&&g===128)return null;if(!(128&g))return g;const m=127&g;if(m>4)return b.error("length octect is too long");g=0;for(let x=0;x<m;x++){g<<=8;const C=b.readUInt8(p);if(b.isError(C))return C;g|=C}return g}r.exports=c,c.prototype.decode=function(b,y){return u.isDecoderBuffer(b)||(b=new u(b,y)),this.tree._decode(b,y)},o(h,a),h.prototype._peekTag=function(b,y,p){if(b.isEmpty())return!1;const g=b.save(),m=d(b,'Failed to peek tag: "'+y+'"');return b.isError(m)?m:(b.restore(g),m.tag===y||m.tagStr===y||m.tagStr+"of"===y||p)},h.prototype._decodeTag=function(b,y,p){const g=d(b,'Failed to decode tag of "'+y+'"');if(b.isError(g))return g;let m=f(b,g.primitive,'Failed to get length of "'+y+'"');if(b.isError(m))return m;if(!p&&g.tag!==y&&g.tagStr!==y&&g.tagStr+"of"!==y)return b.error('Failed to match tag: "'+y+'"');if(g.primitive||m!==null)return b.skip(m,'Failed to match body of: "'+y+'"');const x=b.save(),C=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(C)?C:(m=b.offset-x.offset,b.restore(x),b.skip(m,'Failed to match body of: "'+y+'"'))},h.prototype._skipUntilEnd=function(b,y){for(;;){const p=d(b,y);if(b.isError(p))return p;const g=f(b,p.primitive,y);if(b.isError(g))return g;let m;if(m=p.primitive||g!==null?b.skip(g):this._skipUntilEnd(b,y),b.isError(m))return m;if(p.tagStr==="end")break}},h.prototype._decodeList=function(b,y,p,g){const m=[];for(;!b.isEmpty();){const x=this._peekTag(b,"end");if(b.isError(x))return x;const C=p.decode(b,"der",g);if(b.isError(C)&&x)break;m.push(C)}return m},h.prototype._decodeStr=function(b,y){if(y==="bitstr"){const p=b.readUInt8();return b.isError(p)?p:{unused:p,data:b.raw()}}if(y==="bmpstr"){const p=b.raw();if(p.length%2==1)return b.error("Decoding of string type: bmpstr length mismatch");let g="";for(let m=0;m<p.length/2;m++)g+=String.fromCharCode(p.readUInt16BE(2*m));return g}if(y==="numstr"){const p=b.raw().toString("ascii");return this._isNumstr(p)?p:b.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return b.raw();if(y==="printstr"){const p=b.raw().toString("ascii");return this._isPrintstr(p)?p:b.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?b.raw().toString():b.error("Decoding of string type: "+y+" unsupported")},h.prototype._decodeObjid=function(b,y,p){let g;const m=[];let x=0,C=0;for(;!b.isEmpty();)C=b.readUInt8(),x<<=7,x|=127&C,!(128&C)&&(m.push(x),x=0);128&C&&m.push(x);const I=m[0]/40|0,D=m[0]%40;if(g=p?m:[I,D].concat(m.slice(1)),y){let z=y[g.join(" ")];z===void 0&&(z=y[g.join(".")]),z!==void 0&&(g=z)}return g},h.prototype._decodeTime=function(b,y){const p=b.raw().toString();let g,m,x,C,I,D;if(y==="gentime")g=0|p.slice(0,4),m=0|p.slice(4,6),x=0|p.slice(6,8),C=0|p.slice(8,10),I=0|p.slice(10,12),D=0|p.slice(12,14);else{if(y!=="utctime")return b.error("Decoding "+y+" time is not supported yet");g=0|p.slice(0,2),m=0|p.slice(2,4),x=0|p.slice(4,6),C=0|p.slice(6,8),I=0|p.slice(8,10),D=0|p.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,m-1,x,C,I,D,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(b){const y=b.readUInt8();return b.isError(y)?y:y!==0},h.prototype._decodeInt=function(b,y){const p=b.raw();let g=new s(p);return y&&(g=y[g.toString(10)]||g),g},h.prototype._use=function(b,y){return typeof b=="function"&&(b=b(y)),b._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,r,l){const o=l;o.der=e("./der"),o.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,r,l){const o=e("inherits"),s=e("safer-buffer").Buffer,u=e("./der");function a(i){u.call(this,i),this.enc="pem"}o(a,u),r.exports=a,a.prototype.decode=function(i,c){const h=i.toString().split(/[\r\n]+/g),d=c.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let b=-1,y=-1;for(let m=0;m<h.length;m++){const x=h[m].match(f);if(x!==null&&x[2]===d){if(b!==-1){if(x[1]!=="END")break;y=m;break}if(x[1]!=="BEGIN")break;b=m}}if(b===-1||y===-1)throw new Error("PEM section not found for: "+d);const p=h.slice(b+1,y).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const g=s.from(p,"base64");return u.prototype.decode.call(this,g,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,r,l){const o=e("inherits"),s=e("safer-buffer").Buffer,u=e("../base/node"),a=e("../constants/der");function i(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new c,this.tree._init(d.body)}function c(d){u.call(this,"der",d)}function h(d){return d<10?"0"+d:d}r.exports=i,i.prototype.encode=function(d,f){return this.tree._encode(d,f).join()},o(c,u),c.prototype._encodeComposite=function(d,f,b,y){const p=function(x,C,I,D){let z;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),a.tagByName.hasOwnProperty(x))z=a.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return D.error("Unknown tag: "+x);z=x}return z>=31?D.error("Multi-octet tag encoding unsupported"):(C||(z|=32),z|=a.tagClassByName[I||"universal"]<<6,z)}(d,f,b,this.reporter);if(y.length<128){const x=s.alloc(2);return x[0]=p,x[1]=y.length,this._createEncoderBuffer([x,y])}let g=1;for(let x=y.length;x>=256;x>>=8)g++;const m=s.alloc(2+g);m[0]=p,m[1]=128|g;for(let x=1+g,C=y.length;C>0;x--,C>>=8)m[x]=255&C;return this._createEncoderBuffer([m,y])},c.prototype._encodeStr=function(d,f){if(f==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(f==="bmpstr"){const b=s.alloc(2*d.length);for(let y=0;y<d.length;y++)b.writeUInt16BE(d.charCodeAt(y),2*y);return this._createEncoderBuffer(b)}return f==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+f+" unsupported")},c.prototype._encodeObjid=function(d,f,b){if(typeof d=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=f[d].split(/[\s.]+/g);for(let m=0;m<d.length;m++)d[m]|=0}else if(Array.isArray(d)){d=d.slice();for(let m=0;m<d.length;m++)d[m]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!b){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let y=0;for(let m=0;m<d.length;m++){let x=d[m];for(y++;x>=128;x>>=7)y++}const p=s.alloc(y);let g=p.length-1;for(let m=d.length-1;m>=0;m--){let x=d[m];for(p[g--]=127&x;(x>>=7)>0;)p[g--]=128|127&x}return this._createEncoderBuffer(p)},c.prototype._encodeTime=function(d,f){let b;const y=new Date(d);return f==="gentime"?b=[h(y.getUTCFullYear()),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):f==="utctime"?b=[h(y.getUTCFullYear()%100),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(b,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(d,f){if(typeof d=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=f[d]}if(typeof d!="number"&&!s.isBuffer(d)){const p=d.toArray();!d.sign&&128&p[0]&&p.unshift(0),d=s.from(p)}if(s.isBuffer(d)){let p=d.length;d.length===0&&p++;const g=s.alloc(p);return d.copy(g),d.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let b=1;for(let p=d;p>=256;p>>=8)b++;const y=new Array(b);for(let p=y.length-1;p>=0;p--)y[p]=255&d,d>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(s.from(y))},c.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},c.prototype._use=function(d,f){return typeof d=="function"&&(d=d(f)),d._getEncoder("der").tree},c.prototype._skipDefault=function(d,f,b){const y=this._baseState;let p;if(y.default===null)return!1;const g=d.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,f,b).join()),g.length!==y.defaultBuffer.length)return!1;for(p=0;p<g.length;p++)if(g[p]!==y.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,r,l){const o=l;o.der=e("./der"),o.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,r,l){const o=e("inherits"),s=e("./der");function u(a){s.call(this,a),this.enc="pem"}o(u,s),r.exports=u,u.prototype.encode=function(a,i){const c=s.prototype.encode.call(this,a).toString("base64"),h=["-----BEGIN "+i.label+"-----"];for(let d=0;d<c.length;d+=64)h.push(c.slice(d,d+64));return h.push("-----END "+i.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,r,l){(function(o,s){function u(E,R){if(!E)throw new Error(R||"Assertion failed")}function a(E,R){E.super_=R;var k=function(){};k.prototype=R.prototype,E.prototype=new k,E.prototype.constructor=E}function i(E,R,k){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(R!=="le"&&R!=="be"||(k=R,R=10),this._init(E||0,R||10,k||"be"))}var c;typeof o=="object"?o.exports=i:(void 0).BN=i,i.BN=i,i.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function h(E,R){var k=E.charCodeAt(R);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function d(E,R,k){var v=h(E,k);return k-1>=R&&(v|=h(E,k-1)<<4),v}function f(E,R,k,v){for(var _=0,w=Math.min(E.length,k),S=R;S<w;S++){var N=E.charCodeAt(S)-48;_*=v,_+=N>=49?N-49+10:N>=17?N-17+10:N}return _}i.isBN=function(E){return E instanceof i||E!==null&&typeof E=="object"&&E.constructor.wordSize===i.wordSize&&Array.isArray(E.words)},i.max=function(E,R){return E.cmp(R)>0?E:R},i.min=function(E,R){return E.cmp(R)<0?E:R},i.prototype._init=function(E,R,k){if(typeof E=="number")return this._initNumber(E,R,k);if(typeof E=="object")return this._initArray(E,R,k);R==="hex"&&(R=16),u(R===(0|R)&&R>=2&&R<=36);var v=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<E.length&&(R===16?this._parseHex(E,v,k):(this._parseBase(E,R,v),k==="le"&&this._initArray(this.toArray(),R,k)))},i.prototype._initNumber=function(E,R,k){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(u(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),R,k)},i.prototype._initArray=function(E,R,k){if(u(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,w,S=0;if(k==="be")for(v=E.length-1,_=0;v>=0;v-=3)w=E[v]|E[v-1]<<8|E[v-2]<<16,this.words[_]|=w<<S&67108863,this.words[_+1]=w>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);else if(k==="le")for(v=0,_=0;v<E.length;v+=3)w=E[v]|E[v+1]<<8|E[v+2]<<16,this.words[_]|=w<<S&67108863,this.words[_+1]=w>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);return this.strip()},i.prototype._parseHex=function(E,R,k){this.length=Math.ceil((E.length-R)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,w=0,S=0;if(k==="be")for(v=E.length-1;v>=R;v-=2)_=d(E,R,v)<<w,this.words[S]|=67108863&_,w>=18?(w-=18,S+=1,this.words[S]|=_>>>26):w+=8;else for(v=(E.length-R)%2==0?R+1:R;v<E.length;v+=2)_=d(E,R,v)<<w,this.words[S]|=67108863&_,w>=18?(w-=18,S+=1,this.words[S]|=_>>>26):w+=8;this.strip()},i.prototype._parseBase=function(E,R,k){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=R)v++;v--,_=_/R|0;for(var w=E.length-k,S=w%v,N=Math.min(w,w-S)+k,j=0,U=k;U<N;U+=v)j=f(E,U,U+v,R),this.imuln(_),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(S!==0){var G=1;for(j=f(E,U,E.length,R),U=0;U<S;U++)G*=R;this.imuln(G),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},i.prototype.copy=function(E){E.words=new Array(this.length);for(var R=0;R<this.length;R++)E.words[R]=this.words[R];E.length=this.length,E.negative=this.negative,E.red=this.red},i.prototype.clone=function(){var E=new i(null);return this.copy(E),E},i.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(E,R,k){k.negative=R.negative^E.negative;var v=E.length+R.length|0;k.length=v,v=v-1|0;var _=0|E.words[0],w=0|R.words[0],S=_*w,N=67108863&S,j=S/67108864|0;k.words[0]=N;for(var U=1;U<v;U++){for(var G=j>>>26,W=67108863&j,J=Math.min(U,R.length-1),F=Math.max(0,U-E.length+1);F<=J;F++){var K=U-F|0;G+=(S=(_=0|E.words[K])*(w=0|R.words[F])+W)/67108864|0,W=67108863&S}k.words[U]=0|W,j=0|G}return j!==0?k.words[U]=0|j:k.length--,k.strip()}i.prototype.toString=function(E,R){var k;if(R=0|R||1,(E=E||10)===16||E==="hex"){k="";for(var v=0,_=0,w=0;w<this.length;w++){var S=this.words[w],N=(16777215&(S<<v|_)).toString(16);k=(_=S>>>24-v&16777215)!==0||w!==this.length-1?b[6-N.length]+N+k:N+k,(v+=2)>=26&&(v-=26,w--)}for(_!==0&&(k=_.toString(16)+k);k.length%R!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(E===(0|E)&&E>=2&&E<=36){var j=y[E],U=p[E];k="";var G=this.clone();for(G.negative=0;!G.isZero();){var W=G.modn(U).toString(E);k=(G=G.idivn(U)).isZero()?W+k:b[j-W.length]+W+k}for(this.isZero()&&(k="0"+k);k.length%R!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}u(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(E,R){return u(c!==void 0),this.toArrayLike(c,E,R)},i.prototype.toArray=function(E,R){return this.toArrayLike(Array,E,R)},i.prototype.toArrayLike=function(E,R,k){var v=this.byteLength(),_=k||Math.max(1,v);u(v<=_,"byte array longer than desired length"),u(_>0,"Requested array length <= 0"),this.strip();var w,S,N=R==="le",j=new E(_),U=this.clone();if(N){for(S=0;!U.isZero();S++)w=U.andln(255),U.iushrn(8),j[S]=w;for(;S<_;S++)j[S]=0}else{for(S=0;S<_-v;S++)j[S]=0;for(S=0;!U.isZero();S++)w=U.andln(255),U.iushrn(8),j[_-S-1]=w}return j},Math.clz32?i.prototype._countBits=function(E){return 32-Math.clz32(E)}:i.prototype._countBits=function(E){var R=E,k=0;return R>=4096&&(k+=13,R>>>=13),R>=64&&(k+=7,R>>>=7),R>=8&&(k+=4,R>>>=4),R>=2&&(k+=2,R>>>=2),k+R},i.prototype._zeroBits=function(E){if(E===0)return 26;var R=E,k=0;return!(8191&R)&&(k+=13,R>>>=13),!(127&R)&&(k+=7,R>>>=7),!(15&R)&&(k+=4,R>>>=4),!(3&R)&&(k+=2,R>>>=2),!(1&R)&&k++,k},i.prototype.bitLength=function(){var E=this.words[this.length-1],R=this._countBits(E);return 26*(this.length-1)+R},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,R=0;R<this.length;R++){var k=this._zeroBits(this.words[R]);if(E+=k,k!==26)break}return E},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},i.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var R=0;R<E.length;R++)this.words[R]=this.words[R]|E.words[R];return this.strip()},i.prototype.ior=function(E){return u((this.negative|E.negative)==0),this.iuor(E)},i.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},i.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},i.prototype.iuand=function(E){var R;R=this.length>E.length?E:this;for(var k=0;k<R.length;k++)this.words[k]=this.words[k]&E.words[k];return this.length=R.length,this.strip()},i.prototype.iand=function(E){return u((this.negative|E.negative)==0),this.iuand(E)},i.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},i.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},i.prototype.iuxor=function(E){var R,k;this.length>E.length?(R=this,k=E):(R=E,k=this);for(var v=0;v<k.length;v++)this.words[v]=R.words[v]^k.words[v];if(this!==R)for(;v<R.length;v++)this.words[v]=R.words[v];return this.length=R.length,this.strip()},i.prototype.ixor=function(E){return u((this.negative|E.negative)==0),this.iuxor(E)},i.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},i.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},i.prototype.inotn=function(E){u(typeof E=="number"&&E>=0);var R=0|Math.ceil(E/26),k=E%26;this._expand(R),k>0&&R--;for(var v=0;v<R;v++)this.words[v]=67108863&~this.words[v];return k>0&&(this.words[v]=~this.words[v]&67108863>>26-k),this.strip()},i.prototype.notn=function(E){return this.clone().inotn(E)},i.prototype.setn=function(E,R){u(typeof E=="number"&&E>=0);var k=E/26|0,v=E%26;return this._expand(k+1),this.words[k]=R?this.words[k]|1<<v:this.words[k]&~(1<<v),this.strip()},i.prototype.iadd=function(E){var R,k,v;if(this.negative!==0&&E.negative===0)return this.negative=0,R=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,R=this.isub(E),E.negative=1,R._normSign();this.length>E.length?(k=this,v=E):(k=E,v=this);for(var _=0,w=0;w<v.length;w++)R=(0|k.words[w])+(0|v.words[w])+_,this.words[w]=67108863&R,_=R>>>26;for(;_!==0&&w<k.length;w++)R=(0|k.words[w])+_,this.words[w]=67108863&R,_=R>>>26;if(this.length=k.length,_!==0)this.words[this.length]=_,this.length++;else if(k!==this)for(;w<k.length;w++)this.words[w]=k.words[w];return this},i.prototype.add=function(E){var R;return E.negative!==0&&this.negative===0?(E.negative=0,R=this.sub(E),E.negative^=1,R):E.negative===0&&this.negative!==0?(this.negative=0,R=E.sub(this),this.negative=1,R):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},i.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var R=this.iadd(E);return E.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var k,v,_=this.cmp(E);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(k=this,v=E):(k=E,v=this);for(var w=0,S=0;S<v.length;S++)w=(R=(0|k.words[S])-(0|v.words[S])+w)>>26,this.words[S]=67108863&R;for(;w!==0&&S<k.length;S++)w=(R=(0|k.words[S])+w)>>26,this.words[S]=67108863&R;if(w===0&&S<k.length&&k!==this)for(;S<k.length;S++)this.words[S]=k.words[S];return this.length=Math.max(this.length,S),k!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(E){return this.clone().isub(E)};var m=function(E,R,k){var v,_,w,S=E.words,N=R.words,j=k.words,U=0,G=0|S[0],W=8191&G,J=G>>>13,F=0|S[1],K=8191&F,L=F>>>13,P=0|S[2],$=8191&P,Y=P>>>13,Q=0|S[3],X=8191&Q,ee=Q>>>13,ie=0|S[4],oe=8191&ie,Z=ie>>>13,re=0|S[5],ne=8191&re,ue=re>>>13,le=0|S[6],de=8191&le,he=le>>>13,pe=0|S[7],ye=8191&pe,Ee=pe>>>13,Te=0|S[8],Se=8191&Te,Fe=Te>>>13,Le=0|S[9],Oe=8191&Le,Ue=Le>>>13,Ae=0|N[0],xe=8191&Ae,Ie=Ae>>>13,je=0|N[1],Re=8191&je,st=je>>>13,gt=0|N[2],ze=8191&gt,dt=gt>>>13,nt=0|N[3],Je=8191&nt,St=nt>>>13,ft=0|N[4],qe=8191&ft,lt=ft>>>13,xt=0|N[5],Ge=8191&xt,pt=xt>>>13,wt=0|N[6],Ze=8191&wt,se=wt>>>13,ce=0|N[7],me=8191&ce,ke=ce>>>13,Ve=0|N[8],Ce=8191&Ve,We=Ve>>>13,He=0|N[9],Be=8191&He,Xe=He>>>13;k.negative=E.negative^R.negative,k.length=19;var Ke=(U+(v=Math.imul(W,xe))|0)+((8191&(_=(_=Math.imul(W,Ie))+Math.imul(J,xe)|0))<<13)|0;U=((w=Math.imul(J,Ie))+(_>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,v=Math.imul(K,xe),_=(_=Math.imul(K,Ie))+Math.imul(L,xe)|0,w=Math.imul(L,Ie);var tt=(U+(v=v+Math.imul(W,Re)|0)|0)+((8191&(_=(_=_+Math.imul(W,st)|0)+Math.imul(J,Re)|0))<<13)|0;U=((w=w+Math.imul(J,st)|0)+(_>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul($,xe),_=(_=Math.imul($,Ie))+Math.imul(Y,xe)|0,w=Math.imul(Y,Ie),v=v+Math.imul(K,Re)|0,_=(_=_+Math.imul(K,st)|0)+Math.imul(L,Re)|0,w=w+Math.imul(L,st)|0;var Ot=(U+(v=v+Math.imul(W,ze)|0)|0)+((8191&(_=(_=_+Math.imul(W,dt)|0)+Math.imul(J,ze)|0))<<13)|0;U=((w=w+Math.imul(J,dt)|0)+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,v=Math.imul(X,xe),_=(_=Math.imul(X,Ie))+Math.imul(ee,xe)|0,w=Math.imul(ee,Ie),v=v+Math.imul($,Re)|0,_=(_=_+Math.imul($,st)|0)+Math.imul(Y,Re)|0,w=w+Math.imul(Y,st)|0,v=v+Math.imul(K,ze)|0,_=(_=_+Math.imul(K,dt)|0)+Math.imul(L,ze)|0,w=w+Math.imul(L,dt)|0;var kt=(U+(v=v+Math.imul(W,Je)|0)|0)+((8191&(_=(_=_+Math.imul(W,St)|0)+Math.imul(J,Je)|0))<<13)|0;U=((w=w+Math.imul(J,St)|0)+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,v=Math.imul(oe,xe),_=(_=Math.imul(oe,Ie))+Math.imul(Z,xe)|0,w=Math.imul(Z,Ie),v=v+Math.imul(X,Re)|0,_=(_=_+Math.imul(X,st)|0)+Math.imul(ee,Re)|0,w=w+Math.imul(ee,st)|0,v=v+Math.imul($,ze)|0,_=(_=_+Math.imul($,dt)|0)+Math.imul(Y,ze)|0,w=w+Math.imul(Y,dt)|0,v=v+Math.imul(K,Je)|0,_=(_=_+Math.imul(K,St)|0)+Math.imul(L,Je)|0,w=w+Math.imul(L,St)|0;var Ht=(U+(v=v+Math.imul(W,qe)|0)|0)+((8191&(_=(_=_+Math.imul(W,lt)|0)+Math.imul(J,qe)|0))<<13)|0;U=((w=w+Math.imul(J,lt)|0)+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,v=Math.imul(ne,xe),_=(_=Math.imul(ne,Ie))+Math.imul(ue,xe)|0,w=Math.imul(ue,Ie),v=v+Math.imul(oe,Re)|0,_=(_=_+Math.imul(oe,st)|0)+Math.imul(Z,Re)|0,w=w+Math.imul(Z,st)|0,v=v+Math.imul(X,ze)|0,_=(_=_+Math.imul(X,dt)|0)+Math.imul(ee,ze)|0,w=w+Math.imul(ee,dt)|0,v=v+Math.imul($,Je)|0,_=(_=_+Math.imul($,St)|0)+Math.imul(Y,Je)|0,w=w+Math.imul(Y,St)|0,v=v+Math.imul(K,qe)|0,_=(_=_+Math.imul(K,lt)|0)+Math.imul(L,qe)|0,w=w+Math.imul(L,lt)|0;var $t=(U+(v=v+Math.imul(W,Ge)|0)|0)+((8191&(_=(_=_+Math.imul(W,pt)|0)+Math.imul(J,Ge)|0))<<13)|0;U=((w=w+Math.imul(J,pt)|0)+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,v=Math.imul(de,xe),_=(_=Math.imul(de,Ie))+Math.imul(he,xe)|0,w=Math.imul(he,Ie),v=v+Math.imul(ne,Re)|0,_=(_=_+Math.imul(ne,st)|0)+Math.imul(ue,Re)|0,w=w+Math.imul(ue,st)|0,v=v+Math.imul(oe,ze)|0,_=(_=_+Math.imul(oe,dt)|0)+Math.imul(Z,ze)|0,w=w+Math.imul(Z,dt)|0,v=v+Math.imul(X,Je)|0,_=(_=_+Math.imul(X,St)|0)+Math.imul(ee,Je)|0,w=w+Math.imul(ee,St)|0,v=v+Math.imul($,qe)|0,_=(_=_+Math.imul($,lt)|0)+Math.imul(Y,qe)|0,w=w+Math.imul(Y,lt)|0,v=v+Math.imul(K,Ge)|0,_=(_=_+Math.imul(K,pt)|0)+Math.imul(L,Ge)|0,w=w+Math.imul(L,pt)|0;var cn=(U+(v=v+Math.imul(W,Ze)|0)|0)+((8191&(_=(_=_+Math.imul(W,se)|0)+Math.imul(J,Ze)|0))<<13)|0;U=((w=w+Math.imul(J,se)|0)+(_>>>13)|0)+(cn>>>26)|0,cn&=67108863,v=Math.imul(ye,xe),_=(_=Math.imul(ye,Ie))+Math.imul(Ee,xe)|0,w=Math.imul(Ee,Ie),v=v+Math.imul(de,Re)|0,_=(_=_+Math.imul(de,st)|0)+Math.imul(he,Re)|0,w=w+Math.imul(he,st)|0,v=v+Math.imul(ne,ze)|0,_=(_=_+Math.imul(ne,dt)|0)+Math.imul(ue,ze)|0,w=w+Math.imul(ue,dt)|0,v=v+Math.imul(oe,Je)|0,_=(_=_+Math.imul(oe,St)|0)+Math.imul(Z,Je)|0,w=w+Math.imul(Z,St)|0,v=v+Math.imul(X,qe)|0,_=(_=_+Math.imul(X,lt)|0)+Math.imul(ee,qe)|0,w=w+Math.imul(ee,lt)|0,v=v+Math.imul($,Ge)|0,_=(_=_+Math.imul($,pt)|0)+Math.imul(Y,Ge)|0,w=w+Math.imul(Y,pt)|0,v=v+Math.imul(K,Ze)|0,_=(_=_+Math.imul(K,se)|0)+Math.imul(L,Ze)|0,w=w+Math.imul(L,se)|0;var te=(U+(v=v+Math.imul(W,me)|0)|0)+((8191&(_=(_=_+Math.imul(W,ke)|0)+Math.imul(J,me)|0))<<13)|0;U=((w=w+Math.imul(J,ke)|0)+(_>>>13)|0)+(te>>>26)|0,te&=67108863,v=Math.imul(Se,xe),_=(_=Math.imul(Se,Ie))+Math.imul(Fe,xe)|0,w=Math.imul(Fe,Ie),v=v+Math.imul(ye,Re)|0,_=(_=_+Math.imul(ye,st)|0)+Math.imul(Ee,Re)|0,w=w+Math.imul(Ee,st)|0,v=v+Math.imul(de,ze)|0,_=(_=_+Math.imul(de,dt)|0)+Math.imul(he,ze)|0,w=w+Math.imul(he,dt)|0,v=v+Math.imul(ne,Je)|0,_=(_=_+Math.imul(ne,St)|0)+Math.imul(ue,Je)|0,w=w+Math.imul(ue,St)|0,v=v+Math.imul(oe,qe)|0,_=(_=_+Math.imul(oe,lt)|0)+Math.imul(Z,qe)|0,w=w+Math.imul(Z,lt)|0,v=v+Math.imul(X,Ge)|0,_=(_=_+Math.imul(X,pt)|0)+Math.imul(ee,Ge)|0,w=w+Math.imul(ee,pt)|0,v=v+Math.imul($,Ze)|0,_=(_=_+Math.imul($,se)|0)+Math.imul(Y,Ze)|0,w=w+Math.imul(Y,se)|0,v=v+Math.imul(K,me)|0,_=(_=_+Math.imul(K,ke)|0)+Math.imul(L,me)|0,w=w+Math.imul(L,ke)|0;var fe=(U+(v=v+Math.imul(W,Ce)|0)|0)+((8191&(_=(_=_+Math.imul(W,We)|0)+Math.imul(J,Ce)|0))<<13)|0;U=((w=w+Math.imul(J,We)|0)+(_>>>13)|0)+(fe>>>26)|0,fe&=67108863,v=Math.imul(Oe,xe),_=(_=Math.imul(Oe,Ie))+Math.imul(Ue,xe)|0,w=Math.imul(Ue,Ie),v=v+Math.imul(Se,Re)|0,_=(_=_+Math.imul(Se,st)|0)+Math.imul(Fe,Re)|0,w=w+Math.imul(Fe,st)|0,v=v+Math.imul(ye,ze)|0,_=(_=_+Math.imul(ye,dt)|0)+Math.imul(Ee,ze)|0,w=w+Math.imul(Ee,dt)|0,v=v+Math.imul(de,Je)|0,_=(_=_+Math.imul(de,St)|0)+Math.imul(he,Je)|0,w=w+Math.imul(he,St)|0,v=v+Math.imul(ne,qe)|0,_=(_=_+Math.imul(ne,lt)|0)+Math.imul(ue,qe)|0,w=w+Math.imul(ue,lt)|0,v=v+Math.imul(oe,Ge)|0,_=(_=_+Math.imul(oe,pt)|0)+Math.imul(Z,Ge)|0,w=w+Math.imul(Z,pt)|0,v=v+Math.imul(X,Ze)|0,_=(_=_+Math.imul(X,se)|0)+Math.imul(ee,Ze)|0,w=w+Math.imul(ee,se)|0,v=v+Math.imul($,me)|0,_=(_=_+Math.imul($,ke)|0)+Math.imul(Y,me)|0,w=w+Math.imul(Y,ke)|0,v=v+Math.imul(K,Ce)|0,_=(_=_+Math.imul(K,We)|0)+Math.imul(L,Ce)|0,w=w+Math.imul(L,We)|0;var ge=(U+(v=v+Math.imul(W,Be)|0)|0)+((8191&(_=(_=_+Math.imul(W,Xe)|0)+Math.imul(J,Be)|0))<<13)|0;U=((w=w+Math.imul(J,Xe)|0)+(_>>>13)|0)+(ge>>>26)|0,ge&=67108863,v=Math.imul(Oe,Re),_=(_=Math.imul(Oe,st))+Math.imul(Ue,Re)|0,w=Math.imul(Ue,st),v=v+Math.imul(Se,ze)|0,_=(_=_+Math.imul(Se,dt)|0)+Math.imul(Fe,ze)|0,w=w+Math.imul(Fe,dt)|0,v=v+Math.imul(ye,Je)|0,_=(_=_+Math.imul(ye,St)|0)+Math.imul(Ee,Je)|0,w=w+Math.imul(Ee,St)|0,v=v+Math.imul(de,qe)|0,_=(_=_+Math.imul(de,lt)|0)+Math.imul(he,qe)|0,w=w+Math.imul(he,lt)|0,v=v+Math.imul(ne,Ge)|0,_=(_=_+Math.imul(ne,pt)|0)+Math.imul(ue,Ge)|0,w=w+Math.imul(ue,pt)|0,v=v+Math.imul(oe,Ze)|0,_=(_=_+Math.imul(oe,se)|0)+Math.imul(Z,Ze)|0,w=w+Math.imul(Z,se)|0,v=v+Math.imul(X,me)|0,_=(_=_+Math.imul(X,ke)|0)+Math.imul(ee,me)|0,w=w+Math.imul(ee,ke)|0,v=v+Math.imul($,Ce)|0,_=(_=_+Math.imul($,We)|0)+Math.imul(Y,Ce)|0,w=w+Math.imul(Y,We)|0;var be=(U+(v=v+Math.imul(K,Be)|0)|0)+((8191&(_=(_=_+Math.imul(K,Xe)|0)+Math.imul(L,Be)|0))<<13)|0;U=((w=w+Math.imul(L,Xe)|0)+(_>>>13)|0)+(be>>>26)|0,be&=67108863,v=Math.imul(Oe,ze),_=(_=Math.imul(Oe,dt))+Math.imul(Ue,ze)|0,w=Math.imul(Ue,dt),v=v+Math.imul(Se,Je)|0,_=(_=_+Math.imul(Se,St)|0)+Math.imul(Fe,Je)|0,w=w+Math.imul(Fe,St)|0,v=v+Math.imul(ye,qe)|0,_=(_=_+Math.imul(ye,lt)|0)+Math.imul(Ee,qe)|0,w=w+Math.imul(Ee,lt)|0,v=v+Math.imul(de,Ge)|0,_=(_=_+Math.imul(de,pt)|0)+Math.imul(he,Ge)|0,w=w+Math.imul(he,pt)|0,v=v+Math.imul(ne,Ze)|0,_=(_=_+Math.imul(ne,se)|0)+Math.imul(ue,Ze)|0,w=w+Math.imul(ue,se)|0,v=v+Math.imul(oe,me)|0,_=(_=_+Math.imul(oe,ke)|0)+Math.imul(Z,me)|0,w=w+Math.imul(Z,ke)|0,v=v+Math.imul(X,Ce)|0,_=(_=_+Math.imul(X,We)|0)+Math.imul(ee,Ce)|0,w=w+Math.imul(ee,We)|0;var De=(U+(v=v+Math.imul($,Be)|0)|0)+((8191&(_=(_=_+Math.imul($,Xe)|0)+Math.imul(Y,Be)|0))<<13)|0;U=((w=w+Math.imul(Y,Xe)|0)+(_>>>13)|0)+(De>>>26)|0,De&=67108863,v=Math.imul(Oe,Je),_=(_=Math.imul(Oe,St))+Math.imul(Ue,Je)|0,w=Math.imul(Ue,St),v=v+Math.imul(Se,qe)|0,_=(_=_+Math.imul(Se,lt)|0)+Math.imul(Fe,qe)|0,w=w+Math.imul(Fe,lt)|0,v=v+Math.imul(ye,Ge)|0,_=(_=_+Math.imul(ye,pt)|0)+Math.imul(Ee,Ge)|0,w=w+Math.imul(Ee,pt)|0,v=v+Math.imul(de,Ze)|0,_=(_=_+Math.imul(de,se)|0)+Math.imul(he,Ze)|0,w=w+Math.imul(he,se)|0,v=v+Math.imul(ne,me)|0,_=(_=_+Math.imul(ne,ke)|0)+Math.imul(ue,me)|0,w=w+Math.imul(ue,ke)|0,v=v+Math.imul(oe,Ce)|0,_=(_=_+Math.imul(oe,We)|0)+Math.imul(Z,Ce)|0,w=w+Math.imul(Z,We)|0;var we=(U+(v=v+Math.imul(X,Be)|0)|0)+((8191&(_=(_=_+Math.imul(X,Xe)|0)+Math.imul(ee,Be)|0))<<13)|0;U=((w=w+Math.imul(ee,Xe)|0)+(_>>>13)|0)+(we>>>26)|0,we&=67108863,v=Math.imul(Oe,qe),_=(_=Math.imul(Oe,lt))+Math.imul(Ue,qe)|0,w=Math.imul(Ue,lt),v=v+Math.imul(Se,Ge)|0,_=(_=_+Math.imul(Se,pt)|0)+Math.imul(Fe,Ge)|0,w=w+Math.imul(Fe,pt)|0,v=v+Math.imul(ye,Ze)|0,_=(_=_+Math.imul(ye,se)|0)+Math.imul(Ee,Ze)|0,w=w+Math.imul(Ee,se)|0,v=v+Math.imul(de,me)|0,_=(_=_+Math.imul(de,ke)|0)+Math.imul(he,me)|0,w=w+Math.imul(he,ke)|0,v=v+Math.imul(ne,Ce)|0,_=(_=_+Math.imul(ne,We)|0)+Math.imul(ue,Ce)|0,w=w+Math.imul(ue,We)|0;var _e=(U+(v=v+Math.imul(oe,Be)|0)|0)+((8191&(_=(_=_+Math.imul(oe,Xe)|0)+Math.imul(Z,Be)|0))<<13)|0;U=((w=w+Math.imul(Z,Xe)|0)+(_>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(Oe,Ge),_=(_=Math.imul(Oe,pt))+Math.imul(Ue,Ge)|0,w=Math.imul(Ue,pt),v=v+Math.imul(Se,Ze)|0,_=(_=_+Math.imul(Se,se)|0)+Math.imul(Fe,Ze)|0,w=w+Math.imul(Fe,se)|0,v=v+Math.imul(ye,me)|0,_=(_=_+Math.imul(ye,ke)|0)+Math.imul(Ee,me)|0,w=w+Math.imul(Ee,ke)|0,v=v+Math.imul(de,Ce)|0,_=(_=_+Math.imul(de,We)|0)+Math.imul(he,Ce)|0,w=w+Math.imul(he,We)|0;var rt=(U+(v=v+Math.imul(ne,Be)|0)|0)+((8191&(_=(_=_+Math.imul(ne,Xe)|0)+Math.imul(ue,Be)|0))<<13)|0;U=((w=w+Math.imul(ue,Xe)|0)+(_>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(Oe,Ze),_=(_=Math.imul(Oe,se))+Math.imul(Ue,Ze)|0,w=Math.imul(Ue,se),v=v+Math.imul(Se,me)|0,_=(_=_+Math.imul(Se,ke)|0)+Math.imul(Fe,me)|0,w=w+Math.imul(Fe,ke)|0,v=v+Math.imul(ye,Ce)|0,_=(_=_+Math.imul(ye,We)|0)+Math.imul(Ee,Ce)|0,w=w+Math.imul(Ee,We)|0;var et=(U+(v=v+Math.imul(de,Be)|0)|0)+((8191&(_=(_=_+Math.imul(de,Xe)|0)+Math.imul(he,Be)|0))<<13)|0;U=((w=w+Math.imul(he,Xe)|0)+(_>>>13)|0)+(et>>>26)|0,et&=67108863,v=Math.imul(Oe,me),_=(_=Math.imul(Oe,ke))+Math.imul(Ue,me)|0,w=Math.imul(Ue,ke),v=v+Math.imul(Se,Ce)|0,_=(_=_+Math.imul(Se,We)|0)+Math.imul(Fe,Ce)|0,w=w+Math.imul(Fe,We)|0;var Qe=(U+(v=v+Math.imul(ye,Be)|0)|0)+((8191&(_=(_=_+Math.imul(ye,Xe)|0)+Math.imul(Ee,Be)|0))<<13)|0;U=((w=w+Math.imul(Ee,Xe)|0)+(_>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(Oe,Ce),_=(_=Math.imul(Oe,We))+Math.imul(Ue,Ce)|0,w=Math.imul(Ue,We);var $e=(U+(v=v+Math.imul(Se,Be)|0)|0)+((8191&(_=(_=_+Math.imul(Se,Xe)|0)+Math.imul(Fe,Be)|0))<<13)|0;U=((w=w+Math.imul(Fe,Xe)|0)+(_>>>13)|0)+($e>>>26)|0,$e&=67108863;var yt=(U+(v=Math.imul(Oe,Be))|0)+((8191&(_=(_=Math.imul(Oe,Xe))+Math.imul(Ue,Be)|0))<<13)|0;return U=((w=Math.imul(Ue,Xe))+(_>>>13)|0)+(yt>>>26)|0,yt&=67108863,j[0]=Ke,j[1]=tt,j[2]=Ot,j[3]=kt,j[4]=Ht,j[5]=$t,j[6]=cn,j[7]=te,j[8]=fe,j[9]=ge,j[10]=be,j[11]=De,j[12]=we,j[13]=_e,j[14]=rt,j[15]=et,j[16]=Qe,j[17]=$e,j[18]=yt,U!==0&&(j[19]=U,k.length++),k};function x(E,R,k){return new C().mulp(E,R,k)}function C(E,R){this.x=E,this.y=R}Math.imul||(m=g),i.prototype.mulTo=function(E,R){var k=this.length+E.length;return this.length===10&&E.length===10?m(this,E,R):k<63?g(this,E,R):k<1024?function(v,_,w){w.negative=_.negative^v.negative,w.length=v.length+_.length;for(var S=0,N=0,j=0;j<w.length-1;j++){var U=N;N=0;for(var G=67108863&S,W=Math.min(j,_.length-1),J=Math.max(0,j-v.length+1);J<=W;J++){var F=j-J,K=(0|v.words[F])*(0|_.words[J]),L=67108863&K;G=67108863&(L=L+G|0),N+=(U=(U=U+(K/67108864|0)|0)+(L>>>26)|0)>>>26,U&=67108863}w.words[j]=G,S=U,U=N}return S!==0?w.words[j]=S:w.length--,w.strip()}(this,E,R):x(this,E,R)},C.prototype.makeRBT=function(E){for(var R=new Array(E),k=i.prototype._countBits(E)-1,v=0;v<E;v++)R[v]=this.revBin(v,k,E);return R},C.prototype.revBin=function(E,R,k){if(E===0||E===k-1)return E;for(var v=0,_=0;_<R;_++)v|=(1&E)<<R-_-1,E>>=1;return v},C.prototype.permute=function(E,R,k,v,_,w){for(var S=0;S<w;S++)v[S]=R[E[S]],_[S]=k[E[S]]},C.prototype.transform=function(E,R,k,v,_,w){this.permute(w,E,R,k,v,_);for(var S=1;S<_;S<<=1)for(var N=S<<1,j=Math.cos(2*Math.PI/N),U=Math.sin(2*Math.PI/N),G=0;G<_;G+=N)for(var W=j,J=U,F=0;F<S;F++){var K=k[G+F],L=v[G+F],P=k[G+F+S],$=v[G+F+S],Y=W*P-J*$;$=W*$+J*P,P=Y,k[G+F]=K+P,v[G+F]=L+$,k[G+F+S]=K-P,v[G+F+S]=L-$,F!==N&&(Y=j*W-U*J,J=j*J+U*W,W=Y)}},C.prototype.guessLen13b=function(E,R){var k=1|Math.max(R,E),v=1&k,_=0;for(k=k/2|0;k;k>>>=1)_++;return 1<<_+1+v},C.prototype.conjugate=function(E,R,k){if(!(k<=1))for(var v=0;v<k/2;v++){var _=E[v];E[v]=E[k-v-1],E[k-v-1]=_,_=R[v],R[v]=-R[k-v-1],R[k-v-1]=-_}},C.prototype.normalize13b=function(E,R){for(var k=0,v=0;v<R/2;v++){var _=8192*Math.round(E[2*v+1]/R)+Math.round(E[2*v]/R)+k;E[v]=67108863&_,k=_<67108864?0:_/67108864|0}return E},C.prototype.convert13b=function(E,R,k,v){for(var _=0,w=0;w<R;w++)_+=0|E[w],k[2*w]=8191&_,_>>>=13,k[2*w+1]=8191&_,_>>>=13;for(w=2*R;w<v;++w)k[w]=0;u(_===0),u((-8192&_)==0)},C.prototype.stub=function(E){for(var R=new Array(E),k=0;k<E;k++)R[k]=0;return R},C.prototype.mulp=function(E,R,k){var v=2*this.guessLen13b(E.length,R.length),_=this.makeRBT(v),w=this.stub(v),S=new Array(v),N=new Array(v),j=new Array(v),U=new Array(v),G=new Array(v),W=new Array(v),J=k.words;J.length=v,this.convert13b(E.words,E.length,S,v),this.convert13b(R.words,R.length,U,v),this.transform(S,w,N,j,v,_),this.transform(U,w,G,W,v,_);for(var F=0;F<v;F++){var K=N[F]*G[F]-j[F]*W[F];j[F]=N[F]*W[F]+j[F]*G[F],N[F]=K}return this.conjugate(N,j,v),this.transform(N,j,J,w,v,_),this.conjugate(J,w,v),this.normalize13b(J,v),k.negative=E.negative^R.negative,k.length=E.length+R.length,k.strip()},i.prototype.mul=function(E){var R=new i(null);return R.words=new Array(this.length+E.length),this.mulTo(E,R)},i.prototype.mulf=function(E){var R=new i(null);return R.words=new Array(this.length+E.length),x(this,E,R)},i.prototype.imul=function(E){return this.clone().mulTo(E,this)},i.prototype.imuln=function(E){u(typeof E=="number"),u(E<67108864);for(var R=0,k=0;k<this.length;k++){var v=(0|this.words[k])*E,_=(67108863&v)+(67108863&R);R>>=26,R+=v/67108864|0,R+=_>>>26,this.words[k]=67108863&_}return R!==0&&(this.words[k]=R,this.length++),this},i.prototype.muln=function(E){return this.clone().imuln(E)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(E){var R=function(w){for(var S=new Array(w.bitLength()),N=0;N<S.length;N++){var j=N/26|0,U=N%26;S[N]=(w.words[j]&1<<U)>>>U}return S}(E);if(R.length===0)return new i(1);for(var k=this,v=0;v<R.length&&R[v]===0;v++,k=k.sqr());if(++v<R.length)for(var _=k.sqr();v<R.length;v++,_=_.sqr())R[v]!==0&&(k=k.mul(_));return k},i.prototype.iushln=function(E){u(typeof E=="number"&&E>=0);var R,k=E%26,v=(E-k)/26,_=67108863>>>26-k<<26-k;if(k!==0){var w=0;for(R=0;R<this.length;R++){var S=this.words[R]&_,N=(0|this.words[R])-S<<k;this.words[R]=N|w,w=S>>>26-k}w&&(this.words[R]=w,this.length++)}if(v!==0){for(R=this.length-1;R>=0;R--)this.words[R+v]=this.words[R];for(R=0;R<v;R++)this.words[R]=0;this.length+=v}return this.strip()},i.prototype.ishln=function(E){return u(this.negative===0),this.iushln(E)},i.prototype.iushrn=function(E,R,k){var v;u(typeof E=="number"&&E>=0),v=R?(R-R%26)/26:0;var _=E%26,w=Math.min((E-_)/26,this.length),S=67108863^67108863>>>_<<_,N=k;if(v-=w,v=Math.max(0,v),N){for(var j=0;j<w;j++)N.words[j]=this.words[j];N.length=w}if(w!==0)if(this.length>w)for(this.length-=w,j=0;j<this.length;j++)this.words[j]=this.words[j+w];else this.words[0]=0,this.length=1;var U=0;for(j=this.length-1;j>=0&&(U!==0||j>=v);j--){var G=0|this.words[j];this.words[j]=U<<26-_|G>>>_,U=G&S}return N&&U!==0&&(N.words[N.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(E,R,k){return u(this.negative===0),this.iushrn(E,R,k)},i.prototype.shln=function(E){return this.clone().ishln(E)},i.prototype.ushln=function(E){return this.clone().iushln(E)},i.prototype.shrn=function(E){return this.clone().ishrn(E)},i.prototype.ushrn=function(E){return this.clone().iushrn(E)},i.prototype.testn=function(E){u(typeof E=="number"&&E>=0);var R=E%26,k=(E-R)/26,v=1<<R;return!(this.length<=k)&&!!(this.words[k]&v)},i.prototype.imaskn=function(E){u(typeof E=="number"&&E>=0);var R=E%26,k=(E-R)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(R!==0&&k++,this.length=Math.min(k,this.length),R!==0){var v=67108863^67108863>>>R<<R;this.words[this.length-1]&=v}return this.strip()},i.prototype.maskn=function(E){return this.clone().imaskn(E)},i.prototype.iaddn=function(E){return u(typeof E=="number"),u(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},i.prototype._iaddn=function(E){this.words[0]+=E;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},i.prototype.isubn=function(E){if(u(typeof E=="number"),u(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},i.prototype.addn=function(E){return this.clone().iaddn(E)},i.prototype.subn=function(E){return this.clone().isubn(E)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(E,R,k){var v,_,w=E.length+k;this._expand(w);var S=0;for(v=0;v<E.length;v++){_=(0|this.words[v+k])+S;var N=(0|E.words[v])*R;S=((_-=67108863&N)>>26)-(N/67108864|0),this.words[v+k]=67108863&_}for(;v<this.length-k;v++)S=(_=(0|this.words[v+k])+S)>>26,this.words[v+k]=67108863&_;if(S===0)return this.strip();for(u(S===-1),S=0,v=0;v<this.length;v++)S=(_=-(0|this.words[v])+S)>>26,this.words[v]=67108863&_;return this.negative=1,this.strip()},i.prototype._wordDiv=function(E,R){var k=(this.length,E.length),v=this.clone(),_=E,w=0|_.words[_.length-1];(k=26-this._countBits(w))!==0&&(_=_.ushln(k),v.iushln(k),w=0|_.words[_.length-1]);var S,N=v.length-_.length;if(R!=="mod"){(S=new i(null)).length=N+1,S.words=new Array(S.length);for(var j=0;j<S.length;j++)S.words[j]=0}var U=v.clone()._ishlnsubmul(_,1,N);U.negative===0&&(v=U,S&&(S.words[N]=1));for(var G=N-1;G>=0;G--){var W=67108864*(0|v.words[_.length+G])+(0|v.words[_.length+G-1]);for(W=Math.min(W/w|0,67108863),v._ishlnsubmul(_,W,G);v.negative!==0;)W--,v.negative=0,v._ishlnsubmul(_,1,G),v.isZero()||(v.negative^=1);S&&(S.words[G]=W)}return S&&S.strip(),v.strip(),R!=="div"&&k!==0&&v.iushrn(k),{div:S||null,mod:v}},i.prototype.divmod=function(E,R,k){return u(!E.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:this.negative!==0&&E.negative===0?(w=this.neg().divmod(E,R),R!=="mod"&&(v=w.div.neg()),R!=="div"&&(_=w.mod.neg(),k&&_.negative!==0&&_.iadd(E)),{div:v,mod:_}):this.negative===0&&E.negative!==0?(w=this.divmod(E.neg(),R),R!=="mod"&&(v=w.div.neg()),{div:v,mod:w.mod}):this.negative&E.negative?(w=this.neg().divmod(E.neg(),R),R!=="div"&&(_=w.mod.neg(),k&&_.negative!==0&&_.isub(E)),{div:w.div,mod:_}):E.length>this.length||this.cmp(E)<0?{div:new i(0),mod:this}:E.length===1?R==="div"?{div:this.divn(E.words[0]),mod:null}:R==="mod"?{div:null,mod:new i(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new i(this.modn(E.words[0]))}:this._wordDiv(E,R);var v,_,w},i.prototype.div=function(E){return this.divmod(E,"div",!1).div},i.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},i.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},i.prototype.divRound=function(E){var R=this.divmod(E);if(R.mod.isZero())return R.div;var k=R.div.negative!==0?R.mod.isub(E):R.mod,v=E.ushrn(1),_=E.andln(1),w=k.cmp(v);return w<0||_===1&&w===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},i.prototype.modn=function(E){u(E<=67108863);for(var R=(1<<26)%E,k=0,v=this.length-1;v>=0;v--)k=(R*k+(0|this.words[v]))%E;return k},i.prototype.idivn=function(E){u(E<=67108863);for(var R=0,k=this.length-1;k>=0;k--){var v=(0|this.words[k])+67108864*R;this.words[k]=v/E|0,R=v%E}return this.strip()},i.prototype.divn=function(E){return this.clone().idivn(E)},i.prototype.egcd=function(E){u(E.negative===0),u(!E.isZero());var R=this,k=E.clone();R=R.negative!==0?R.umod(E):R.clone();for(var v=new i(1),_=new i(0),w=new i(0),S=new i(1),N=0;R.isEven()&&k.isEven();)R.iushrn(1),k.iushrn(1),++N;for(var j=k.clone(),U=R.clone();!R.isZero();){for(var G=0,W=1;!(R.words[0]&W)&&G<26;++G,W<<=1);if(G>0)for(R.iushrn(G);G-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(j),_.isub(U)),v.iushrn(1),_.iushrn(1);for(var J=0,F=1;!(k.words[0]&F)&&J<26;++J,F<<=1);if(J>0)for(k.iushrn(J);J-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(j),S.isub(U)),w.iushrn(1),S.iushrn(1);R.cmp(k)>=0?(R.isub(k),v.isub(w),_.isub(S)):(k.isub(R),w.isub(v),S.isub(_))}return{a:w,b:S,gcd:k.iushln(N)}},i.prototype._invmp=function(E){u(E.negative===0),u(!E.isZero());var R=this,k=E.clone();R=R.negative!==0?R.umod(E):R.clone();for(var v,_=new i(1),w=new i(0),S=k.clone();R.cmpn(1)>0&&k.cmpn(1)>0;){for(var N=0,j=1;!(R.words[0]&j)&&N<26;++N,j<<=1);if(N>0)for(R.iushrn(N);N-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var U=0,G=1;!(k.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(k.iushrn(U);U-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);R.cmp(k)>=0?(R.isub(k),_.isub(w)):(k.isub(R),w.isub(_))}return(v=R.cmpn(1)===0?_:w).cmpn(0)<0&&v.iadd(E),v},i.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var R=this.clone(),k=E.clone();R.negative=0,k.negative=0;for(var v=0;R.isEven()&&k.isEven();v++)R.iushrn(1),k.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;k.isEven();)k.iushrn(1);var _=R.cmp(k);if(_<0){var w=R;R=k,k=w}else if(_===0||k.cmpn(1)===0)break;R.isub(k)}return k.iushln(v)},i.prototype.invm=function(E){return this.egcd(E).a.umod(E)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(E){return this.words[0]&E},i.prototype.bincn=function(E){u(typeof E=="number");var R=E%26,k=(E-R)/26,v=1<<R;if(this.length<=k)return this._expand(k+1),this.words[k]|=v,this;for(var _=v,w=k;_!==0&&w<this.length;w++){var S=0|this.words[w];_=(S+=_)>>>26,S&=67108863,this.words[w]=S}return _!==0&&(this.words[w]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(E){var R,k=E<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)R=1;else{k&&(E=-E),u(E<=67108863,"Number is too big");var v=0|this.words[0];R=v===E?0:v<E?-1:1}return this.negative!==0?0|-R:R},i.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var R=this.ucmp(E);return this.negative!==0?0|-R:R},i.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var R=0,k=this.length-1;k>=0;k--){var v=0|this.words[k],_=0|E.words[k];if(v!==_){v<_?R=-1:v>_&&(R=1);break}}return R},i.prototype.gtn=function(E){return this.cmpn(E)===1},i.prototype.gt=function(E){return this.cmp(E)===1},i.prototype.gten=function(E){return this.cmpn(E)>=0},i.prototype.gte=function(E){return this.cmp(E)>=0},i.prototype.ltn=function(E){return this.cmpn(E)===-1},i.prototype.lt=function(E){return this.cmp(E)===-1},i.prototype.lten=function(E){return this.cmpn(E)<=0},i.prototype.lte=function(E){return this.cmp(E)<=0},i.prototype.eqn=function(E){return this.cmpn(E)===0},i.prototype.eq=function(E){return this.cmp(E)===0},i.red=function(E){return new q(E)},i.prototype.toRed=function(E){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},i.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(E){return this.red=E,this},i.prototype.forceRed=function(E){return u(!this.red,"Already a number in reduction context"),this._forceRed(E)},i.prototype.redAdd=function(E){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},i.prototype.redIAdd=function(E){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},i.prototype.redSub=function(E){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},i.prototype.redISub=function(E){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},i.prototype.redShl=function(E){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},i.prototype.redMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},i.prototype.redIMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},i.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(E){return u(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var I={k256:null,p224:null,p192:null,p25519:null};function D(E,R){this.name=E,this.p=new i(R,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function B(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function q(E){if(typeof E=="string"){var R=i._prime(E);this.m=R.p,this.prime=R}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function H(E){q.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var E=new i(null);return E.words=new Array(Math.ceil(this.n/13)),E},D.prototype.ireduce=function(E){var R,k=E;do this.split(k,this.tmp),R=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(R>this.n);var v=R<this.n?-1:k.ucmp(this.p);return v===0?(k.words[0]=0,k.length=1):v>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},D.prototype.split=function(E,R){E.iushrn(this.n,0,R)},D.prototype.imulK=function(E){return E.imul(this.k)},a(z,D),z.prototype.split=function(E,R){for(var k=Math.min(E.length,9),v=0;v<k;v++)R.words[v]=E.words[v];if(R.length=k,E.length<=9)return E.words[0]=0,void(E.length=1);var _=E.words[9];for(R.words[R.length++]=4194303&_,v=10;v<E.length;v++){var w=0|E.words[v];E.words[v-10]=(4194303&w)<<4|_>>>22,_=w}_>>>=22,E.words[v-10]=_,_===0&&E.length>10?E.length-=10:E.length-=9},z.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var R=0,k=0;k<E.length;k++){var v=0|E.words[k];R+=977*v,E.words[k]=67108863&R,R=64*v+(R/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},a(O,D),a(B,D),a(V,D),V.prototype.imulK=function(E){for(var R=0,k=0;k<E.length;k++){var v=19*(0|E.words[k])+R,_=67108863&v;v>>>=26,E.words[k]=_,R=v}return R!==0&&(E.words[E.length++]=R),E},i._prime=function(E){if(I[E])return I[E];var R;if(E==="k256")R=new z;else if(E==="p224")R=new O;else if(E==="p192")R=new B;else{if(E!=="p25519")throw new Error("Unknown prime "+E);R=new V}return I[E]=R,R},q.prototype._verify1=function(E){u(E.negative===0,"red works only with positives"),u(E.red,"red works only with red numbers")},q.prototype._verify2=function(E,R){u((E.negative|R.negative)==0,"red works only with positives"),u(E.red&&E.red===R.red,"red works only with red numbers")},q.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},q.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},q.prototype.add=function(E,R){this._verify2(E,R);var k=E.add(R);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},q.prototype.iadd=function(E,R){this._verify2(E,R);var k=E.iadd(R);return k.cmp(this.m)>=0&&k.isub(this.m),k},q.prototype.sub=function(E,R){this._verify2(E,R);var k=E.sub(R);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},q.prototype.isub=function(E,R){this._verify2(E,R);var k=E.isub(R);return k.cmpn(0)<0&&k.iadd(this.m),k},q.prototype.shl=function(E,R){return this._verify1(E),this.imod(E.ushln(R))},q.prototype.imul=function(E,R){return this._verify2(E,R),this.imod(E.imul(R))},q.prototype.mul=function(E,R){return this._verify2(E,R),this.imod(E.mul(R))},q.prototype.isqr=function(E){return this.imul(E,E.clone())},q.prototype.sqr=function(E){return this.mul(E,E)},q.prototype.sqrt=function(E){if(E.isZero())return E.clone();var R=this.m.andln(3);if(u(R%2==1),R===3){var k=this.m.add(new i(1)).iushrn(2);return this.pow(E,k)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);u(!v.isZero());var w=new i(1).toRed(this),S=w.redNeg(),N=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new i(2*j*j).toRed(this);this.pow(j,N).cmp(S)!==0;)j.redIAdd(S);for(var U=this.pow(j,v),G=this.pow(E,v.addn(1).iushrn(1)),W=this.pow(E,v),J=_;W.cmp(w)!==0;){for(var F=W,K=0;F.cmp(w)!==0;K++)F=F.redSqr();u(K<J);var L=this.pow(U,new i(1).iushln(J-K-1));G=G.redMul(L),U=L.redSqr(),W=W.redMul(U),J=K}return G},q.prototype.invm=function(E){var R=E._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},q.prototype.pow=function(E,R){if(R.isZero())return new i(1).toRed(this);if(R.cmpn(1)===0)return E.clone();var k=new Array(16);k[0]=new i(1).toRed(this),k[1]=E;for(var v=2;v<k.length;v++)k[v]=this.mul(k[v-1],E);var _=k[0],w=0,S=0,N=R.bitLength()%26;for(N===0&&(N=26),v=R.length-1;v>=0;v--){for(var j=R.words[v],U=N-1;U>=0;U--){var G=j>>U&1;_!==k[0]&&(_=this.sqr(_)),G!==0||w!==0?(w<<=1,w|=G,(++S===4||v===0&&U===0)&&(_=this.mul(_,k[w]),S=0,w=0)):S=0}N=26}return _},q.prototype.convertTo=function(E){var R=E.umod(this.m);return R===E?R.clone():R},q.prototype.convertFrom=function(E){var R=E.clone();return R.red=null,R},i.mont=function(E){return new H(E)},a(H,q),H.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},H.prototype.convertFrom=function(E){var R=this.imod(E.mul(this.rinv));return R.red=null,R},H.prototype.imul=function(E,R){if(E.isZero()||R.isZero())return E.words[0]=0,E.length=1,E;var k=E.imul(R),v=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=k.isub(v).iushrn(this.shift),w=_;return _.cmp(this.m)>=0?w=_.isub(this.m):_.cmpn(0)<0&&(w=_.iadd(this.m)),w._forceRed(this)},H.prototype.mul=function(E,R){if(E.isZero()||R.isZero())return new i(0)._forceRed(this);var k=E.mul(R),v=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=k.isub(v).iushrn(this.shift),w=_;return _.cmp(this.m)>=0?w=_.isub(this.m):_.cmpn(0)<0&&(w=_.iadd(this.m)),w._forceRed(this)},H.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],185:[function(e,r,l){l.byteLength=function(f){var b=h(f),y=b[0],p=b[1];return 3*(y+p)/4-p},l.toByteArray=function(f){var b,y,p=h(f),g=p[0],m=p[1],x=new u(function(D,z,O){return 3*(z+O)/4-O}(0,g,m)),C=0,I=m>0?g-4:g;for(y=0;y<I;y+=4)b=s[f.charCodeAt(y)]<<18|s[f.charCodeAt(y+1)]<<12|s[f.charCodeAt(y+2)]<<6|s[f.charCodeAt(y+3)],x[C++]=b>>16&255,x[C++]=b>>8&255,x[C++]=255&b;return m===2&&(b=s[f.charCodeAt(y)]<<2|s[f.charCodeAt(y+1)]>>4,x[C++]=255&b),m===1&&(b=s[f.charCodeAt(y)]<<10|s[f.charCodeAt(y+1)]<<4|s[f.charCodeAt(y+2)]>>2,x[C++]=b>>8&255,x[C++]=255&b),x},l.fromByteArray=function(f){for(var b,y=f.length,p=y%3,g=[],m=0,x=y-p;m<x;m+=16383)g.push(d(f,m,m+16383>x?x:m+16383));return p===1?(b=f[y-1],g.push(o[b>>2]+o[b<<4&63]+"==")):p===2&&(b=(f[y-2]<<8)+f[y-1],g.push(o[b>>10]+o[b>>4&63]+o[b<<2&63]+"=")),g.join("")};for(var o=[],s=[],u=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,c=a.length;i<c;++i)o[i]=a[i],s[a.charCodeAt(i)]=i;function h(f){var b=f.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");return y===-1&&(y=b),[y,y===b?0:4-y%4]}function d(f,b,y){for(var p,g,m=[],x=b;x<y;x+=3)p=(f[x]<<16&16711680)+(f[x+1]<<8&65280)+(255&f[x+2]),m.push(o[(g=p)>>18&63]+o[g>>12&63]+o[g>>6&63]+o[63&g]);return m.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],186:[function(e,r,l){(function(o,s){function u(k,v){if(!k)throw new Error(v||"Assertion failed")}function a(k,v){k.super_=v;var _=function(){};_.prototype=v.prototype,k.prototype=new _,k.prototype.constructor=k}function i(k,v,_){if(i.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(v!=="le"&&v!=="be"||(_=v,v=10),this._init(k||0,v||10,_||"be"))}var c;typeof o=="object"?o.exports=i:(void 0).BN=i,i.BN=i,i.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function h(k,v){var _=k.charCodeAt(v);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void u(!1,"Invalid character in "+k)}function d(k,v,_){var w=h(k,_);return _-1>=v&&(w|=h(k,_-1)<<4),w}function f(k,v,_,w){for(var S=0,N=0,j=Math.min(k.length,_),U=v;U<j;U++){var G=k.charCodeAt(U)-48;S*=w,N=G>=49?G-49+10:G>=17?G-17+10:G,u(G>=0&&N<w,"Invalid character"),S+=N}return S}function b(k,v){k.words=v.words,k.length=v.length,k.negative=v.negative,k.red=v.red}if(i.isBN=function(k){return k instanceof i||k!==null&&typeof k=="object"&&k.constructor.wordSize===i.wordSize&&Array.isArray(k.words)},i.max=function(k,v){return k.cmp(v)>0?k:v},i.min=function(k,v){return k.cmp(v)<0?k:v},i.prototype._init=function(k,v,_){if(typeof k=="number")return this._initNumber(k,v,_);if(typeof k=="object")return this._initArray(k,v,_);v==="hex"&&(v=16),u(v===(0|v)&&v>=2&&v<=36);var w=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<k.length&&(v===16?this._parseHex(k,w,_):(this._parseBase(k,v,w),_==="le"&&this._initArray(this.toArray(),v,_)))},i.prototype._initNumber=function(k,v,_){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(u(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),v,_)},i.prototype._initArray=function(k,v,_){if(u(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,N,j=0;if(_==="be")for(w=k.length-1,S=0;w>=0;w-=3)N=k[w]|k[w-1]<<8|k[w-2]<<16,this.words[S]|=N<<j&67108863,this.words[S+1]=N>>>26-j&67108863,(j+=24)>=26&&(j-=26,S++);else if(_==="le")for(w=0,S=0;w<k.length;w+=3)N=k[w]|k[w+1]<<8|k[w+2]<<16,this.words[S]|=N<<j&67108863,this.words[S+1]=N>>>26-j&67108863,(j+=24)>=26&&(j-=26,S++);return this._strip()},i.prototype._parseHex=function(k,v,_){this.length=Math.ceil((k.length-v)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,N=0,j=0;if(_==="be")for(w=k.length-1;w>=v;w-=2)S=d(k,v,w)<<N,this.words[j]|=67108863&S,N>=18?(N-=18,j+=1,this.words[j]|=S>>>26):N+=8;else for(w=(k.length-v)%2==0?v+1:v;w<k.length;w+=2)S=d(k,v,w)<<N,this.words[j]|=67108863&S,N>=18?(N-=18,j+=1,this.words[j]|=S>>>26):N+=8;this._strip()},i.prototype._parseBase=function(k,v,_){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=v)w++;w--,S=S/v|0;for(var N=k.length-_,j=N%w,U=Math.min(N,N-j)+_,G=0,W=_;W<U;W+=w)G=f(k,W,W+w,v),this.imuln(S),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(j!==0){var J=1;for(G=f(k,W,k.length,v),W=0;W<j;W++)J*=v;this.imuln(J),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},i.prototype.copy=function(k){k.words=new Array(this.length);for(var v=0;v<this.length;v++)k.words[v]=this.words[v];k.length=this.length,k.negative=this.negative,k.red=this.red},i.prototype._move=function(k){b(k,this)},i.prototype.clone=function(){var k=new i(null);return this.copy(k),k},i.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(k,v){var _;if(v=0|v||1,(k=k||10)===16||k==="hex"){_="";for(var w=0,S=0,N=0;N<this.length;N++){var j=this.words[N],U=(16777215&(j<<w|S)).toString(16);S=j>>>24-w&16777215,(w+=2)>=26&&(w-=26,N--),_=S!==0||N!==this.length-1?p[6-U.length]+U+_:U+_}for(S!==0&&(_=S.toString(16)+_);_.length%v!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(k===(0|k)&&k>=2&&k<=36){var G=g[k],W=m[k];_="";var J=this.clone();for(J.negative=0;!J.isZero();){var F=J.modrn(W).toString(k);_=(J=J.idivn(W)).isZero()?F+_:p[G-F.length]+F+_}for(this.isZero()&&(_="0"+_);_.length%v!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}u(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(k,v){return this.toArrayLike(c,k,v)}),i.prototype.toArray=function(k,v){return this.toArrayLike(Array,k,v)};function x(k,v,_){_.negative=v.negative^k.negative;var w=k.length+v.length|0;_.length=w,w=w-1|0;var S=0|k.words[0],N=0|v.words[0],j=S*N,U=67108863&j,G=j/67108864|0;_.words[0]=U;for(var W=1;W<w;W++){for(var J=G>>>26,F=67108863&G,K=Math.min(W,v.length-1),L=Math.max(0,W-k.length+1);L<=K;L++){var P=W-L|0;J+=(j=(S=0|k.words[P])*(N=0|v.words[L])+F)/67108864|0,F=67108863&j}_.words[W]=0|F,G=0|J}return G!==0?_.words[W]=0|G:_.length--,_._strip()}i.prototype.toArrayLike=function(k,v,_){this._strip();var w=this.byteLength(),S=_||Math.max(1,w);u(w<=S,"byte array longer than desired length"),u(S>0,"Requested array length <= 0");var N=function(j,U){return j.allocUnsafe?j.allocUnsafe(U):new j(U)}(k,S);return this["_toArrayLike"+(v==="le"?"LE":"BE")](N,w),N},i.prototype._toArrayLikeLE=function(k,v){for(var _=0,w=0,S=0,N=0;S<this.length;S++){var j=this.words[S]<<N|w;k[_++]=255&j,_<k.length&&(k[_++]=j>>8&255),_<k.length&&(k[_++]=j>>16&255),N===6?(_<k.length&&(k[_++]=j>>24&255),w=0,N=0):(w=j>>>24,N+=2)}if(_<k.length)for(k[_++]=w;_<k.length;)k[_++]=0},i.prototype._toArrayLikeBE=function(k,v){for(var _=k.length-1,w=0,S=0,N=0;S<this.length;S++){var j=this.words[S]<<N|w;k[_--]=255&j,_>=0&&(k[_--]=j>>8&255),_>=0&&(k[_--]=j>>16&255),N===6?(_>=0&&(k[_--]=j>>24&255),w=0,N=0):(w=j>>>24,N+=2)}if(_>=0)for(k[_--]=w;_>=0;)k[_--]=0},Math.clz32?i.prototype._countBits=function(k){return 32-Math.clz32(k)}:i.prototype._countBits=function(k){var v=k,_=0;return v>=4096&&(_+=13,v>>>=13),v>=64&&(_+=7,v>>>=7),v>=8&&(_+=4,v>>>=4),v>=2&&(_+=2,v>>>=2),_+v},i.prototype._zeroBits=function(k){if(k===0)return 26;var v=k,_=0;return!(8191&v)&&(_+=13,v>>>=13),!(127&v)&&(_+=7,v>>>=7),!(15&v)&&(_+=4,v>>>=4),!(3&v)&&(_+=2,v>>>=2),!(1&v)&&_++,_},i.prototype.bitLength=function(){var k=this.words[this.length-1],v=this._countBits(k);return 26*(this.length-1)+v},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,v=0;v<this.length;v++){var _=this._zeroBits(this.words[v]);if(k+=_,_!==26)break}return k},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},i.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var v=0;v<k.length;v++)this.words[v]=this.words[v]|k.words[v];return this._strip()},i.prototype.ior=function(k){return u((this.negative|k.negative)==0),this.iuor(k)},i.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},i.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},i.prototype.iuand=function(k){var v;v=this.length>k.length?k:this;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]&k.words[_];return this.length=v.length,this._strip()},i.prototype.iand=function(k){return u((this.negative|k.negative)==0),this.iuand(k)},i.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},i.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},i.prototype.iuxor=function(k){var v,_;this.length>k.length?(v=this,_=k):(v=k,_=this);for(var w=0;w<_.length;w++)this.words[w]=v.words[w]^_.words[w];if(this!==v)for(;w<v.length;w++)this.words[w]=v.words[w];return this.length=v.length,this._strip()},i.prototype.ixor=function(k){return u((this.negative|k.negative)==0),this.iuxor(k)},i.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},i.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},i.prototype.inotn=function(k){u(typeof k=="number"&&k>=0);var v=0|Math.ceil(k/26),_=k%26;this._expand(v),_>0&&v--;for(var w=0;w<v;w++)this.words[w]=67108863&~this.words[w];return _>0&&(this.words[w]=~this.words[w]&67108863>>26-_),this._strip()},i.prototype.notn=function(k){return this.clone().inotn(k)},i.prototype.setn=function(k,v){u(typeof k=="number"&&k>=0);var _=k/26|0,w=k%26;return this._expand(_+1),this.words[_]=v?this.words[_]|1<<w:this.words[_]&~(1<<w),this._strip()},i.prototype.iadd=function(k){var v,_,w;if(this.negative!==0&&k.negative===0)return this.negative=0,v=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,v=this.isub(k),k.negative=1,v._normSign();this.length>k.length?(_=this,w=k):(_=k,w=this);for(var S=0,N=0;N<w.length;N++)v=(0|_.words[N])+(0|w.words[N])+S,this.words[N]=67108863&v,S=v>>>26;for(;S!==0&&N<_.length;N++)v=(0|_.words[N])+S,this.words[N]=67108863&v,S=v>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;N<_.length;N++)this.words[N]=_.words[N];return this},i.prototype.add=function(k){var v;return k.negative!==0&&this.negative===0?(k.negative=0,v=this.sub(k),k.negative^=1,v):k.negative===0&&this.negative!==0?(this.negative=0,v=k.sub(this),this.negative=1,v):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},i.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var v=this.iadd(k);return k.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var _,w,S=this.cmp(k);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(_=this,w=k):(_=k,w=this);for(var N=0,j=0;j<w.length;j++)N=(v=(0|_.words[j])-(0|w.words[j])+N)>>26,this.words[j]=67108863&v;for(;N!==0&&j<_.length;j++)N=(v=(0|_.words[j])+N)>>26,this.words[j]=67108863&v;if(N===0&&j<_.length&&_!==this)for(;j<_.length;j++)this.words[j]=_.words[j];return this.length=Math.max(this.length,j),_!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(k){return this.clone().isub(k)};var C=function(k,v,_){var w,S,N,j=k.words,U=v.words,G=_.words,W=0,J=0|j[0],F=8191&J,K=J>>>13,L=0|j[1],P=8191&L,$=L>>>13,Y=0|j[2],Q=8191&Y,X=Y>>>13,ee=0|j[3],ie=8191&ee,oe=ee>>>13,Z=0|j[4],re=8191&Z,ne=Z>>>13,ue=0|j[5],le=8191&ue,de=ue>>>13,he=0|j[6],pe=8191&he,ye=he>>>13,Ee=0|j[7],Te=8191&Ee,Se=Ee>>>13,Fe=0|j[8],Le=8191&Fe,Oe=Fe>>>13,Ue=0|j[9],Ae=8191&Ue,xe=Ue>>>13,Ie=0|U[0],je=8191&Ie,Re=Ie>>>13,st=0|U[1],gt=8191&st,ze=st>>>13,dt=0|U[2],nt=8191&dt,Je=dt>>>13,St=0|U[3],ft=8191&St,qe=St>>>13,lt=0|U[4],xt=8191&lt,Ge=lt>>>13,pt=0|U[5],wt=8191&pt,Ze=pt>>>13,se=0|U[6],ce=8191&se,me=se>>>13,ke=0|U[7],Ve=8191&ke,Ce=ke>>>13,We=0|U[8],He=8191&We,Be=We>>>13,Xe=0|U[9],Ke=8191&Xe,tt=Xe>>>13;_.negative=k.negative^v.negative,_.length=19;var Ot=(W+(w=Math.imul(F,je))|0)+((8191&(S=(S=Math.imul(F,Re))+Math.imul(K,je)|0))<<13)|0;W=((N=Math.imul(K,Re))+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,w=Math.imul(P,je),S=(S=Math.imul(P,Re))+Math.imul($,je)|0,N=Math.imul($,Re);var kt=(W+(w=w+Math.imul(F,gt)|0)|0)+((8191&(S=(S=S+Math.imul(F,ze)|0)+Math.imul(K,gt)|0))<<13)|0;W=((N=N+Math.imul(K,ze)|0)+(S>>>13)|0)+(kt>>>26)|0,kt&=67108863,w=Math.imul(Q,je),S=(S=Math.imul(Q,Re))+Math.imul(X,je)|0,N=Math.imul(X,Re),w=w+Math.imul(P,gt)|0,S=(S=S+Math.imul(P,ze)|0)+Math.imul($,gt)|0,N=N+Math.imul($,ze)|0;var Ht=(W+(w=w+Math.imul(F,nt)|0)|0)+((8191&(S=(S=S+Math.imul(F,Je)|0)+Math.imul(K,nt)|0))<<13)|0;W=((N=N+Math.imul(K,Je)|0)+(S>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,w=Math.imul(ie,je),S=(S=Math.imul(ie,Re))+Math.imul(oe,je)|0,N=Math.imul(oe,Re),w=w+Math.imul(Q,gt)|0,S=(S=S+Math.imul(Q,ze)|0)+Math.imul(X,gt)|0,N=N+Math.imul(X,ze)|0,w=w+Math.imul(P,nt)|0,S=(S=S+Math.imul(P,Je)|0)+Math.imul($,nt)|0,N=N+Math.imul($,Je)|0;var $t=(W+(w=w+Math.imul(F,ft)|0)|0)+((8191&(S=(S=S+Math.imul(F,qe)|0)+Math.imul(K,ft)|0))<<13)|0;W=((N=N+Math.imul(K,qe)|0)+(S>>>13)|0)+($t>>>26)|0,$t&=67108863,w=Math.imul(re,je),S=(S=Math.imul(re,Re))+Math.imul(ne,je)|0,N=Math.imul(ne,Re),w=w+Math.imul(ie,gt)|0,S=(S=S+Math.imul(ie,ze)|0)+Math.imul(oe,gt)|0,N=N+Math.imul(oe,ze)|0,w=w+Math.imul(Q,nt)|0,S=(S=S+Math.imul(Q,Je)|0)+Math.imul(X,nt)|0,N=N+Math.imul(X,Je)|0,w=w+Math.imul(P,ft)|0,S=(S=S+Math.imul(P,qe)|0)+Math.imul($,ft)|0,N=N+Math.imul($,qe)|0;var cn=(W+(w=w+Math.imul(F,xt)|0)|0)+((8191&(S=(S=S+Math.imul(F,Ge)|0)+Math.imul(K,xt)|0))<<13)|0;W=((N=N+Math.imul(K,Ge)|0)+(S>>>13)|0)+(cn>>>26)|0,cn&=67108863,w=Math.imul(le,je),S=(S=Math.imul(le,Re))+Math.imul(de,je)|0,N=Math.imul(de,Re),w=w+Math.imul(re,gt)|0,S=(S=S+Math.imul(re,ze)|0)+Math.imul(ne,gt)|0,N=N+Math.imul(ne,ze)|0,w=w+Math.imul(ie,nt)|0,S=(S=S+Math.imul(ie,Je)|0)+Math.imul(oe,nt)|0,N=N+Math.imul(oe,Je)|0,w=w+Math.imul(Q,ft)|0,S=(S=S+Math.imul(Q,qe)|0)+Math.imul(X,ft)|0,N=N+Math.imul(X,qe)|0,w=w+Math.imul(P,xt)|0,S=(S=S+Math.imul(P,Ge)|0)+Math.imul($,xt)|0,N=N+Math.imul($,Ge)|0;var te=(W+(w=w+Math.imul(F,wt)|0)|0)+((8191&(S=(S=S+Math.imul(F,Ze)|0)+Math.imul(K,wt)|0))<<13)|0;W=((N=N+Math.imul(K,Ze)|0)+(S>>>13)|0)+(te>>>26)|0,te&=67108863,w=Math.imul(pe,je),S=(S=Math.imul(pe,Re))+Math.imul(ye,je)|0,N=Math.imul(ye,Re),w=w+Math.imul(le,gt)|0,S=(S=S+Math.imul(le,ze)|0)+Math.imul(de,gt)|0,N=N+Math.imul(de,ze)|0,w=w+Math.imul(re,nt)|0,S=(S=S+Math.imul(re,Je)|0)+Math.imul(ne,nt)|0,N=N+Math.imul(ne,Je)|0,w=w+Math.imul(ie,ft)|0,S=(S=S+Math.imul(ie,qe)|0)+Math.imul(oe,ft)|0,N=N+Math.imul(oe,qe)|0,w=w+Math.imul(Q,xt)|0,S=(S=S+Math.imul(Q,Ge)|0)+Math.imul(X,xt)|0,N=N+Math.imul(X,Ge)|0,w=w+Math.imul(P,wt)|0,S=(S=S+Math.imul(P,Ze)|0)+Math.imul($,wt)|0,N=N+Math.imul($,Ze)|0;var fe=(W+(w=w+Math.imul(F,ce)|0)|0)+((8191&(S=(S=S+Math.imul(F,me)|0)+Math.imul(K,ce)|0))<<13)|0;W=((N=N+Math.imul(K,me)|0)+(S>>>13)|0)+(fe>>>26)|0,fe&=67108863,w=Math.imul(Te,je),S=(S=Math.imul(Te,Re))+Math.imul(Se,je)|0,N=Math.imul(Se,Re),w=w+Math.imul(pe,gt)|0,S=(S=S+Math.imul(pe,ze)|0)+Math.imul(ye,gt)|0,N=N+Math.imul(ye,ze)|0,w=w+Math.imul(le,nt)|0,S=(S=S+Math.imul(le,Je)|0)+Math.imul(de,nt)|0,N=N+Math.imul(de,Je)|0,w=w+Math.imul(re,ft)|0,S=(S=S+Math.imul(re,qe)|0)+Math.imul(ne,ft)|0,N=N+Math.imul(ne,qe)|0,w=w+Math.imul(ie,xt)|0,S=(S=S+Math.imul(ie,Ge)|0)+Math.imul(oe,xt)|0,N=N+Math.imul(oe,Ge)|0,w=w+Math.imul(Q,wt)|0,S=(S=S+Math.imul(Q,Ze)|0)+Math.imul(X,wt)|0,N=N+Math.imul(X,Ze)|0,w=w+Math.imul(P,ce)|0,S=(S=S+Math.imul(P,me)|0)+Math.imul($,ce)|0,N=N+Math.imul($,me)|0;var ge=(W+(w=w+Math.imul(F,Ve)|0)|0)+((8191&(S=(S=S+Math.imul(F,Ce)|0)+Math.imul(K,Ve)|0))<<13)|0;W=((N=N+Math.imul(K,Ce)|0)+(S>>>13)|0)+(ge>>>26)|0,ge&=67108863,w=Math.imul(Le,je),S=(S=Math.imul(Le,Re))+Math.imul(Oe,je)|0,N=Math.imul(Oe,Re),w=w+Math.imul(Te,gt)|0,S=(S=S+Math.imul(Te,ze)|0)+Math.imul(Se,gt)|0,N=N+Math.imul(Se,ze)|0,w=w+Math.imul(pe,nt)|0,S=(S=S+Math.imul(pe,Je)|0)+Math.imul(ye,nt)|0,N=N+Math.imul(ye,Je)|0,w=w+Math.imul(le,ft)|0,S=(S=S+Math.imul(le,qe)|0)+Math.imul(de,ft)|0,N=N+Math.imul(de,qe)|0,w=w+Math.imul(re,xt)|0,S=(S=S+Math.imul(re,Ge)|0)+Math.imul(ne,xt)|0,N=N+Math.imul(ne,Ge)|0,w=w+Math.imul(ie,wt)|0,S=(S=S+Math.imul(ie,Ze)|0)+Math.imul(oe,wt)|0,N=N+Math.imul(oe,Ze)|0,w=w+Math.imul(Q,ce)|0,S=(S=S+Math.imul(Q,me)|0)+Math.imul(X,ce)|0,N=N+Math.imul(X,me)|0,w=w+Math.imul(P,Ve)|0,S=(S=S+Math.imul(P,Ce)|0)+Math.imul($,Ve)|0,N=N+Math.imul($,Ce)|0;var be=(W+(w=w+Math.imul(F,He)|0)|0)+((8191&(S=(S=S+Math.imul(F,Be)|0)+Math.imul(K,He)|0))<<13)|0;W=((N=N+Math.imul(K,Be)|0)+(S>>>13)|0)+(be>>>26)|0,be&=67108863,w=Math.imul(Ae,je),S=(S=Math.imul(Ae,Re))+Math.imul(xe,je)|0,N=Math.imul(xe,Re),w=w+Math.imul(Le,gt)|0,S=(S=S+Math.imul(Le,ze)|0)+Math.imul(Oe,gt)|0,N=N+Math.imul(Oe,ze)|0,w=w+Math.imul(Te,nt)|0,S=(S=S+Math.imul(Te,Je)|0)+Math.imul(Se,nt)|0,N=N+Math.imul(Se,Je)|0,w=w+Math.imul(pe,ft)|0,S=(S=S+Math.imul(pe,qe)|0)+Math.imul(ye,ft)|0,N=N+Math.imul(ye,qe)|0,w=w+Math.imul(le,xt)|0,S=(S=S+Math.imul(le,Ge)|0)+Math.imul(de,xt)|0,N=N+Math.imul(de,Ge)|0,w=w+Math.imul(re,wt)|0,S=(S=S+Math.imul(re,Ze)|0)+Math.imul(ne,wt)|0,N=N+Math.imul(ne,Ze)|0,w=w+Math.imul(ie,ce)|0,S=(S=S+Math.imul(ie,me)|0)+Math.imul(oe,ce)|0,N=N+Math.imul(oe,me)|0,w=w+Math.imul(Q,Ve)|0,S=(S=S+Math.imul(Q,Ce)|0)+Math.imul(X,Ve)|0,N=N+Math.imul(X,Ce)|0,w=w+Math.imul(P,He)|0,S=(S=S+Math.imul(P,Be)|0)+Math.imul($,He)|0,N=N+Math.imul($,Be)|0;var De=(W+(w=w+Math.imul(F,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(F,tt)|0)+Math.imul(K,Ke)|0))<<13)|0;W=((N=N+Math.imul(K,tt)|0)+(S>>>13)|0)+(De>>>26)|0,De&=67108863,w=Math.imul(Ae,gt),S=(S=Math.imul(Ae,ze))+Math.imul(xe,gt)|0,N=Math.imul(xe,ze),w=w+Math.imul(Le,nt)|0,S=(S=S+Math.imul(Le,Je)|0)+Math.imul(Oe,nt)|0,N=N+Math.imul(Oe,Je)|0,w=w+Math.imul(Te,ft)|0,S=(S=S+Math.imul(Te,qe)|0)+Math.imul(Se,ft)|0,N=N+Math.imul(Se,qe)|0,w=w+Math.imul(pe,xt)|0,S=(S=S+Math.imul(pe,Ge)|0)+Math.imul(ye,xt)|0,N=N+Math.imul(ye,Ge)|0,w=w+Math.imul(le,wt)|0,S=(S=S+Math.imul(le,Ze)|0)+Math.imul(de,wt)|0,N=N+Math.imul(de,Ze)|0,w=w+Math.imul(re,ce)|0,S=(S=S+Math.imul(re,me)|0)+Math.imul(ne,ce)|0,N=N+Math.imul(ne,me)|0,w=w+Math.imul(ie,Ve)|0,S=(S=S+Math.imul(ie,Ce)|0)+Math.imul(oe,Ve)|0,N=N+Math.imul(oe,Ce)|0,w=w+Math.imul(Q,He)|0,S=(S=S+Math.imul(Q,Be)|0)+Math.imul(X,He)|0,N=N+Math.imul(X,Be)|0;var we=(W+(w=w+Math.imul(P,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(P,tt)|0)+Math.imul($,Ke)|0))<<13)|0;W=((N=N+Math.imul($,tt)|0)+(S>>>13)|0)+(we>>>26)|0,we&=67108863,w=Math.imul(Ae,nt),S=(S=Math.imul(Ae,Je))+Math.imul(xe,nt)|0,N=Math.imul(xe,Je),w=w+Math.imul(Le,ft)|0,S=(S=S+Math.imul(Le,qe)|0)+Math.imul(Oe,ft)|0,N=N+Math.imul(Oe,qe)|0,w=w+Math.imul(Te,xt)|0,S=(S=S+Math.imul(Te,Ge)|0)+Math.imul(Se,xt)|0,N=N+Math.imul(Se,Ge)|0,w=w+Math.imul(pe,wt)|0,S=(S=S+Math.imul(pe,Ze)|0)+Math.imul(ye,wt)|0,N=N+Math.imul(ye,Ze)|0,w=w+Math.imul(le,ce)|0,S=(S=S+Math.imul(le,me)|0)+Math.imul(de,ce)|0,N=N+Math.imul(de,me)|0,w=w+Math.imul(re,Ve)|0,S=(S=S+Math.imul(re,Ce)|0)+Math.imul(ne,Ve)|0,N=N+Math.imul(ne,Ce)|0,w=w+Math.imul(ie,He)|0,S=(S=S+Math.imul(ie,Be)|0)+Math.imul(oe,He)|0,N=N+Math.imul(oe,Be)|0;var _e=(W+(w=w+Math.imul(Q,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(Q,tt)|0)+Math.imul(X,Ke)|0))<<13)|0;W=((N=N+Math.imul(X,tt)|0)+(S>>>13)|0)+(_e>>>26)|0,_e&=67108863,w=Math.imul(Ae,ft),S=(S=Math.imul(Ae,qe))+Math.imul(xe,ft)|0,N=Math.imul(xe,qe),w=w+Math.imul(Le,xt)|0,S=(S=S+Math.imul(Le,Ge)|0)+Math.imul(Oe,xt)|0,N=N+Math.imul(Oe,Ge)|0,w=w+Math.imul(Te,wt)|0,S=(S=S+Math.imul(Te,Ze)|0)+Math.imul(Se,wt)|0,N=N+Math.imul(Se,Ze)|0,w=w+Math.imul(pe,ce)|0,S=(S=S+Math.imul(pe,me)|0)+Math.imul(ye,ce)|0,N=N+Math.imul(ye,me)|0,w=w+Math.imul(le,Ve)|0,S=(S=S+Math.imul(le,Ce)|0)+Math.imul(de,Ve)|0,N=N+Math.imul(de,Ce)|0,w=w+Math.imul(re,He)|0,S=(S=S+Math.imul(re,Be)|0)+Math.imul(ne,He)|0,N=N+Math.imul(ne,Be)|0;var rt=(W+(w=w+Math.imul(ie,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(ie,tt)|0)+Math.imul(oe,Ke)|0))<<13)|0;W=((N=N+Math.imul(oe,tt)|0)+(S>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(Ae,xt),S=(S=Math.imul(Ae,Ge))+Math.imul(xe,xt)|0,N=Math.imul(xe,Ge),w=w+Math.imul(Le,wt)|0,S=(S=S+Math.imul(Le,Ze)|0)+Math.imul(Oe,wt)|0,N=N+Math.imul(Oe,Ze)|0,w=w+Math.imul(Te,ce)|0,S=(S=S+Math.imul(Te,me)|0)+Math.imul(Se,ce)|0,N=N+Math.imul(Se,me)|0,w=w+Math.imul(pe,Ve)|0,S=(S=S+Math.imul(pe,Ce)|0)+Math.imul(ye,Ve)|0,N=N+Math.imul(ye,Ce)|0,w=w+Math.imul(le,He)|0,S=(S=S+Math.imul(le,Be)|0)+Math.imul(de,He)|0,N=N+Math.imul(de,Be)|0;var et=(W+(w=w+Math.imul(re,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(re,tt)|0)+Math.imul(ne,Ke)|0))<<13)|0;W=((N=N+Math.imul(ne,tt)|0)+(S>>>13)|0)+(et>>>26)|0,et&=67108863,w=Math.imul(Ae,wt),S=(S=Math.imul(Ae,Ze))+Math.imul(xe,wt)|0,N=Math.imul(xe,Ze),w=w+Math.imul(Le,ce)|0,S=(S=S+Math.imul(Le,me)|0)+Math.imul(Oe,ce)|0,N=N+Math.imul(Oe,me)|0,w=w+Math.imul(Te,Ve)|0,S=(S=S+Math.imul(Te,Ce)|0)+Math.imul(Se,Ve)|0,N=N+Math.imul(Se,Ce)|0,w=w+Math.imul(pe,He)|0,S=(S=S+Math.imul(pe,Be)|0)+Math.imul(ye,He)|0,N=N+Math.imul(ye,Be)|0;var Qe=(W+(w=w+Math.imul(le,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(le,tt)|0)+Math.imul(de,Ke)|0))<<13)|0;W=((N=N+Math.imul(de,tt)|0)+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,w=Math.imul(Ae,ce),S=(S=Math.imul(Ae,me))+Math.imul(xe,ce)|0,N=Math.imul(xe,me),w=w+Math.imul(Le,Ve)|0,S=(S=S+Math.imul(Le,Ce)|0)+Math.imul(Oe,Ve)|0,N=N+Math.imul(Oe,Ce)|0,w=w+Math.imul(Te,He)|0,S=(S=S+Math.imul(Te,Be)|0)+Math.imul(Se,He)|0,N=N+Math.imul(Se,Be)|0;var $e=(W+(w=w+Math.imul(pe,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(pe,tt)|0)+Math.imul(ye,Ke)|0))<<13)|0;W=((N=N+Math.imul(ye,tt)|0)+(S>>>13)|0)+($e>>>26)|0,$e&=67108863,w=Math.imul(Ae,Ve),S=(S=Math.imul(Ae,Ce))+Math.imul(xe,Ve)|0,N=Math.imul(xe,Ce),w=w+Math.imul(Le,He)|0,S=(S=S+Math.imul(Le,Be)|0)+Math.imul(Oe,He)|0,N=N+Math.imul(Oe,Be)|0;var yt=(W+(w=w+Math.imul(Te,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(Te,tt)|0)+Math.imul(Se,Ke)|0))<<13)|0;W=((N=N+Math.imul(Se,tt)|0)+(S>>>13)|0)+(yt>>>26)|0,yt&=67108863,w=Math.imul(Ae,He),S=(S=Math.imul(Ae,Be))+Math.imul(xe,He)|0,N=Math.imul(xe,Be);var Tt=(W+(w=w+Math.imul(Le,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(Le,tt)|0)+Math.imul(Oe,Ke)|0))<<13)|0;W=((N=N+Math.imul(Oe,tt)|0)+(S>>>13)|0)+(Tt>>>26)|0,Tt&=67108863;var ut=(W+(w=Math.imul(Ae,Ke))|0)+((8191&(S=(S=Math.imul(Ae,tt))+Math.imul(xe,Ke)|0))<<13)|0;return W=((N=Math.imul(xe,tt))+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,G[0]=Ot,G[1]=kt,G[2]=Ht,G[3]=$t,G[4]=cn,G[5]=te,G[6]=fe,G[7]=ge,G[8]=be,G[9]=De,G[10]=we,G[11]=_e,G[12]=rt,G[13]=et,G[14]=Qe,G[15]=$e,G[16]=yt,G[17]=Tt,G[18]=ut,W!==0&&(G[19]=W,_.length++),_};function I(k,v,_){_.negative=v.negative^k.negative,_.length=k.length+v.length;for(var w=0,S=0,N=0;N<_.length-1;N++){var j=S;S=0;for(var U=67108863&w,G=Math.min(N,v.length-1),W=Math.max(0,N-k.length+1);W<=G;W++){var J=N-W,F=(0|k.words[J])*(0|v.words[W]),K=67108863&F;U=67108863&(K=K+U|0),S+=(j=(j=j+(F/67108864|0)|0)+(K>>>26)|0)>>>26,j&=67108863}_.words[N]=U,w=j,j=S}return w!==0?_.words[N]=w:_.length--,_._strip()}function D(k,v,_){return I(k,v,_)}Math.imul||(C=x),i.prototype.mulTo=function(k,v){var _=this.length+k.length;return this.length===10&&k.length===10?C(this,k,v):_<63?x(this,k,v):_<1024?I(this,k,v):D(this,k,v)},i.prototype.mul=function(k){var v=new i(null);return v.words=new Array(this.length+k.length),this.mulTo(k,v)},i.prototype.mulf=function(k){var v=new i(null);return v.words=new Array(this.length+k.length),D(this,k,v)},i.prototype.imul=function(k){return this.clone().mulTo(k,this)},i.prototype.imuln=function(k){var v=k<0;v&&(k=-k),u(typeof k=="number"),u(k<67108864);for(var _=0,w=0;w<this.length;w++){var S=(0|this.words[w])*k,N=(67108863&S)+(67108863&_);_>>=26,_+=S/67108864|0,_+=N>>>26,this.words[w]=67108863&N}return _!==0&&(this.words[w]=_,this.length++),v?this.ineg():this},i.prototype.muln=function(k){return this.clone().imuln(k)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(k){var v=function(N){for(var j=new Array(N.bitLength()),U=0;U<j.length;U++){var G=U/26|0,W=U%26;j[U]=N.words[G]>>>W&1}return j}(k);if(v.length===0)return new i(1);for(var _=this,w=0;w<v.length&&v[w]===0;w++,_=_.sqr());if(++w<v.length)for(var S=_.sqr();w<v.length;w++,S=S.sqr())v[w]!==0&&(_=_.mul(S));return _},i.prototype.iushln=function(k){u(typeof k=="number"&&k>=0);var v,_=k%26,w=(k-_)/26,S=67108863>>>26-_<<26-_;if(_!==0){var N=0;for(v=0;v<this.length;v++){var j=this.words[v]&S,U=(0|this.words[v])-j<<_;this.words[v]=U|N,N=j>>>26-_}N&&(this.words[v]=N,this.length++)}if(w!==0){for(v=this.length-1;v>=0;v--)this.words[v+w]=this.words[v];for(v=0;v<w;v++)this.words[v]=0;this.length+=w}return this._strip()},i.prototype.ishln=function(k){return u(this.negative===0),this.iushln(k)},i.prototype.iushrn=function(k,v,_){var w;u(typeof k=="number"&&k>=0),w=v?(v-v%26)/26:0;var S=k%26,N=Math.min((k-S)/26,this.length),j=67108863^67108863>>>S<<S,U=_;if(w-=N,w=Math.max(0,w),U){for(var G=0;G<N;G++)U.words[G]=this.words[G];U.length=N}if(N!==0)if(this.length>N)for(this.length-=N,G=0;G<this.length;G++)this.words[G]=this.words[G+N];else this.words[0]=0,this.length=1;var W=0;for(G=this.length-1;G>=0&&(W!==0||G>=w);G--){var J=0|this.words[G];this.words[G]=W<<26-S|J>>>S,W=J&j}return U&&W!==0&&(U.words[U.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(k,v,_){return u(this.negative===0),this.iushrn(k,v,_)},i.prototype.shln=function(k){return this.clone().ishln(k)},i.prototype.ushln=function(k){return this.clone().iushln(k)},i.prototype.shrn=function(k){return this.clone().ishrn(k)},i.prototype.ushrn=function(k){return this.clone().iushrn(k)},i.prototype.testn=function(k){u(typeof k=="number"&&k>=0);var v=k%26,_=(k-v)/26,w=1<<v;return!(this.length<=_)&&!!(this.words[_]&w)},i.prototype.imaskn=function(k){u(typeof k=="number"&&k>=0);var v=k%26,_=(k-v)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(v!==0&&_++,this.length=Math.min(_,this.length),v!==0){var w=67108863^67108863>>>v<<v;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(k){return this.clone().imaskn(k)},i.prototype.iaddn=function(k){return u(typeof k=="number"),u(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},i.prototype._iaddn=function(k){this.words[0]+=k;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(k){if(u(typeof k=="number"),u(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},i.prototype.addn=function(k){return this.clone().iaddn(k)},i.prototype.subn=function(k){return this.clone().isubn(k)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(k,v,_){var w,S,N=k.length+_;this._expand(N);var j=0;for(w=0;w<k.length;w++){S=(0|this.words[w+_])+j;var U=(0|k.words[w])*v;j=((S-=67108863&U)>>26)-(U/67108864|0),this.words[w+_]=67108863&S}for(;w<this.length-_;w++)j=(S=(0|this.words[w+_])+j)>>26,this.words[w+_]=67108863&S;if(j===0)return this._strip();for(u(j===-1),j=0,w=0;w<this.length;w++)j=(S=-(0|this.words[w])+j)>>26,this.words[w]=67108863&S;return this.negative=1,this._strip()},i.prototype._wordDiv=function(k,v){var _=(this.length,k.length),w=this.clone(),S=k,N=0|S.words[S.length-1];(_=26-this._countBits(N))!==0&&(S=S.ushln(_),w.iushln(_),N=0|S.words[S.length-1]);var j,U=w.length-S.length;if(v!=="mod"){(j=new i(null)).length=U+1,j.words=new Array(j.length);for(var G=0;G<j.length;G++)j.words[G]=0}var W=w.clone()._ishlnsubmul(S,1,U);W.negative===0&&(w=W,j&&(j.words[U]=1));for(var J=U-1;J>=0;J--){var F=67108864*(0|w.words[S.length+J])+(0|w.words[S.length+J-1]);for(F=Math.min(F/N|0,67108863),w._ishlnsubmul(S,F,J);w.negative!==0;)F--,w.negative=0,w._ishlnsubmul(S,1,J),w.isZero()||(w.negative^=1);j&&(j.words[J]=F)}return j&&j._strip(),w._strip(),v!=="div"&&_!==0&&w.iushrn(_),{div:j||null,mod:w}},i.prototype.divmod=function(k,v,_){return u(!k.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:this.negative!==0&&k.negative===0?(N=this.neg().divmod(k,v),v!=="mod"&&(w=N.div.neg()),v!=="div"&&(S=N.mod.neg(),_&&S.negative!==0&&S.iadd(k)),{div:w,mod:S}):this.negative===0&&k.negative!==0?(N=this.divmod(k.neg(),v),v!=="mod"&&(w=N.div.neg()),{div:w,mod:N.mod}):this.negative&k.negative?(N=this.neg().divmod(k.neg(),v),v!=="div"&&(S=N.mod.neg(),_&&S.negative!==0&&S.isub(k)),{div:N.div,mod:S}):k.length>this.length||this.cmp(k)<0?{div:new i(0),mod:this}:k.length===1?v==="div"?{div:this.divn(k.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new i(this.modrn(k.words[0]))}:this._wordDiv(k,v);var w,S,N},i.prototype.div=function(k){return this.divmod(k,"div",!1).div},i.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},i.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},i.prototype.divRound=function(k){var v=this.divmod(k);if(v.mod.isZero())return v.div;var _=v.div.negative!==0?v.mod.isub(k):v.mod,w=k.ushrn(1),S=k.andln(1),N=_.cmp(w);return N<0||S===1&&N===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modrn=function(k){var v=k<0;v&&(k=-k),u(k<=67108863);for(var _=(1<<26)%k,w=0,S=this.length-1;S>=0;S--)w=(_*w+(0|this.words[S]))%k;return v?-w:w},i.prototype.modn=function(k){return this.modrn(k)},i.prototype.idivn=function(k){var v=k<0;v&&(k=-k),u(k<=67108863);for(var _=0,w=this.length-1;w>=0;w--){var S=(0|this.words[w])+67108864*_;this.words[w]=S/k|0,_=S%k}return this._strip(),v?this.ineg():this},i.prototype.divn=function(k){return this.clone().idivn(k)},i.prototype.egcd=function(k){u(k.negative===0),u(!k.isZero());var v=this,_=k.clone();v=v.negative!==0?v.umod(k):v.clone();for(var w=new i(1),S=new i(0),N=new i(0),j=new i(1),U=0;v.isEven()&&_.isEven();)v.iushrn(1),_.iushrn(1),++U;for(var G=_.clone(),W=v.clone();!v.isZero();){for(var J=0,F=1;!(v.words[0]&F)&&J<26;++J,F<<=1);if(J>0)for(v.iushrn(J);J-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(G),S.isub(W)),w.iushrn(1),S.iushrn(1);for(var K=0,L=1;!(_.words[0]&L)&&K<26;++K,L<<=1);if(K>0)for(_.iushrn(K);K-- >0;)(N.isOdd()||j.isOdd())&&(N.iadd(G),j.isub(W)),N.iushrn(1),j.iushrn(1);v.cmp(_)>=0?(v.isub(_),w.isub(N),S.isub(j)):(_.isub(v),N.isub(w),j.isub(S))}return{a:N,b:j,gcd:_.iushln(U)}},i.prototype._invmp=function(k){u(k.negative===0),u(!k.isZero());var v=this,_=k.clone();v=v.negative!==0?v.umod(k):v.clone();for(var w,S=new i(1),N=new i(0),j=_.clone();v.cmpn(1)>0&&_.cmpn(1)>0;){for(var U=0,G=1;!(v.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(v.iushrn(U);U-- >0;)S.isOdd()&&S.iadd(j),S.iushrn(1);for(var W=0,J=1;!(_.words[0]&J)&&W<26;++W,J<<=1);if(W>0)for(_.iushrn(W);W-- >0;)N.isOdd()&&N.iadd(j),N.iushrn(1);v.cmp(_)>=0?(v.isub(_),S.isub(N)):(_.isub(v),N.isub(S))}return(w=v.cmpn(1)===0?S:N).cmpn(0)<0&&w.iadd(k),w},i.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var v=this.clone(),_=k.clone();v.negative=0,_.negative=0;for(var w=0;v.isEven()&&_.isEven();w++)v.iushrn(1),_.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=v.cmp(_);if(S<0){var N=v;v=_,_=N}else if(S===0||_.cmpn(1)===0)break;v.isub(_)}return _.iushln(w)},i.prototype.invm=function(k){return this.egcd(k).a.umod(k)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(k){return this.words[0]&k},i.prototype.bincn=function(k){u(typeof k=="number");var v=k%26,_=(k-v)/26,w=1<<v;if(this.length<=_)return this._expand(_+1),this.words[_]|=w,this;for(var S=w,N=_;S!==0&&N<this.length;N++){var j=0|this.words[N];S=(j+=S)>>>26,j&=67108863,this.words[N]=j}return S!==0&&(this.words[N]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(k){var v,_=k<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)v=1;else{_&&(k=-k),u(k<=67108863,"Number is too big");var w=0|this.words[0];v=w===k?0:w<k?-1:1}return this.negative!==0?0|-v:v},i.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var v=this.ucmp(k);return this.negative!==0?0|-v:v},i.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var v=0,_=this.length-1;_>=0;_--){var w=0|this.words[_],S=0|k.words[_];if(w!==S){w<S?v=-1:w>S&&(v=1);break}}return v},i.prototype.gtn=function(k){return this.cmpn(k)===1},i.prototype.gt=function(k){return this.cmp(k)===1},i.prototype.gten=function(k){return this.cmpn(k)>=0},i.prototype.gte=function(k){return this.cmp(k)>=0},i.prototype.ltn=function(k){return this.cmpn(k)===-1},i.prototype.lt=function(k){return this.cmp(k)===-1},i.prototype.lten=function(k){return this.cmpn(k)<=0},i.prototype.lte=function(k){return this.cmp(k)<=0},i.prototype.eqn=function(k){return this.cmpn(k)===0},i.prototype.eq=function(k){return this.cmp(k)===0},i.red=function(k){return new E(k)},i.prototype.toRed=function(k){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},i.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(k){return this.red=k,this},i.prototype.forceRed=function(k){return u(!this.red,"Already a number in reduction context"),this._forceRed(k)},i.prototype.redAdd=function(k){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},i.prototype.redIAdd=function(k){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},i.prototype.redSub=function(k){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},i.prototype.redISub=function(k){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},i.prototype.redShl=function(k){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},i.prototype.redMul=function(k){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},i.prototype.redIMul=function(k){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},i.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(k){return u(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var z={k256:null,p224:null,p192:null,p25519:null};function O(k,v){this.name=k,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function q(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(k){if(typeof k=="string"){var v=i._prime(k);this.m=v.p,this.prime=v}else u(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function R(k){E.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var k=new i(null);return k.words=new Array(Math.ceil(this.n/13)),k},O.prototype.ireduce=function(k){var v,_=k;do this.split(_,this.tmp),v=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(v>this.n);var w=v<this.n?-1:_.ucmp(this.p);return w===0?(_.words[0]=0,_.length=1):w>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},O.prototype.split=function(k,v){k.iushrn(this.n,0,v)},O.prototype.imulK=function(k){return k.imul(this.k)},a(B,O),B.prototype.split=function(k,v){for(var _=Math.min(k.length,9),w=0;w<_;w++)v.words[w]=k.words[w];if(v.length=_,k.length<=9)return k.words[0]=0,void(k.length=1);var S=k.words[9];for(v.words[v.length++]=4194303&S,w=10;w<k.length;w++){var N=0|k.words[w];k.words[w-10]=(4194303&N)<<4|S>>>22,S=N}S>>>=22,k.words[w-10]=S,S===0&&k.length>10?k.length-=10:k.length-=9},B.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var v=0,_=0;_<k.length;_++){var w=0|k.words[_];v+=977*w,k.words[_]=67108863&v,v=64*w+(v/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},a(V,O),a(q,O),a(H,O),H.prototype.imulK=function(k){for(var v=0,_=0;_<k.length;_++){var w=19*(0|k.words[_])+v,S=67108863&w;w>>>=26,k.words[_]=S,v=w}return v!==0&&(k.words[k.length++]=v),k},i._prime=function(k){if(z[k])return z[k];var v;if(k==="k256")v=new B;else if(k==="p224")v=new V;else if(k==="p192")v=new q;else{if(k!=="p25519")throw new Error("Unknown prime "+k);v=new H}return z[k]=v,v},E.prototype._verify1=function(k){u(k.negative===0,"red works only with positives"),u(k.red,"red works only with red numbers")},E.prototype._verify2=function(k,v){u((k.negative|v.negative)==0,"red works only with positives"),u(k.red&&k.red===v.red,"red works only with red numbers")},E.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(b(k,k.umod(this.m)._forceRed(this)),k)},E.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},E.prototype.add=function(k,v){this._verify2(k,v);var _=k.add(v);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},E.prototype.iadd=function(k,v){this._verify2(k,v);var _=k.iadd(v);return _.cmp(this.m)>=0&&_.isub(this.m),_},E.prototype.sub=function(k,v){this._verify2(k,v);var _=k.sub(v);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},E.prototype.isub=function(k,v){this._verify2(k,v);var _=k.isub(v);return _.cmpn(0)<0&&_.iadd(this.m),_},E.prototype.shl=function(k,v){return this._verify1(k),this.imod(k.ushln(v))},E.prototype.imul=function(k,v){return this._verify2(k,v),this.imod(k.imul(v))},E.prototype.mul=function(k,v){return this._verify2(k,v),this.imod(k.mul(v))},E.prototype.isqr=function(k){return this.imul(k,k.clone())},E.prototype.sqr=function(k){return this.mul(k,k)},E.prototype.sqrt=function(k){if(k.isZero())return k.clone();var v=this.m.andln(3);if(u(v%2==1),v===3){var _=this.m.add(new i(1)).iushrn(2);return this.pow(k,_)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);u(!w.isZero());var N=new i(1).toRed(this),j=N.redNeg(),U=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new i(2*G*G).toRed(this);this.pow(G,U).cmp(j)!==0;)G.redIAdd(j);for(var W=this.pow(G,w),J=this.pow(k,w.addn(1).iushrn(1)),F=this.pow(k,w),K=S;F.cmp(N)!==0;){for(var L=F,P=0;L.cmp(N)!==0;P++)L=L.redSqr();u(P<K);var $=this.pow(W,new i(1).iushln(K-P-1));J=J.redMul($),W=$.redSqr(),F=F.redMul(W),K=P}return J},E.prototype.invm=function(k){var v=k._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},E.prototype.pow=function(k,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return k.clone();var _=new Array(16);_[0]=new i(1).toRed(this),_[1]=k;for(var w=2;w<_.length;w++)_[w]=this.mul(_[w-1],k);var S=_[0],N=0,j=0,U=v.bitLength()%26;for(U===0&&(U=26),w=v.length-1;w>=0;w--){for(var G=v.words[w],W=U-1;W>=0;W--){var J=G>>W&1;S!==_[0]&&(S=this.sqr(S)),J!==0||N!==0?(N<<=1,N|=J,(++j===4||w===0&&W===0)&&(S=this.mul(S,_[N]),j=0,N=0)):j=0}U=26}return S},E.prototype.convertTo=function(k){var v=k.umod(this.m);return v===k?v.clone():v},E.prototype.convertFrom=function(k){var v=k.clone();return v.red=null,v},i.mont=function(k){return new R(k)},a(R,E),R.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},R.prototype.convertFrom=function(k){var v=this.imod(k.mul(this.rinv));return v.red=null,v},R.prototype.imul=function(k,v){if(k.isZero()||v.isZero())return k.words[0]=0,k.length=1,k;var _=k.imul(v),w=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(w).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},R.prototype.mul=function(k,v){if(k.isZero()||v.isZero())return new i(0)._forceRed(this);var _=k.mul(v),w=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(w).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},R.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],187:[function(e,r,l){var o;function s(a){this.rand=a}if(r.exports=function(a){return o||(o=new s(null)),o.generate(a)},r.exports.Rand=s,s.prototype.generate=function(a){return this._rand(a)},s.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var i=new Uint8Array(a),c=0;c<i.length;c++)i[c]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(a){var i=new Uint8Array(a);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(a){var i=new Uint8Array(a);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var u=e("crypto");if(typeof u.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(a){return u.randomBytes(a)}}catch{}},{crypto:188}],188:[function(e,r,l){},{}],189:[function(e,r,l){var o=e("safe-buffer").Buffer;function s(d){o.isBuffer(d)||(d=o.from(d));for(var f=d.length/4|0,b=new Array(f),y=0;y<f;y++)b[y]=d.readUInt32BE(4*y);return b}function u(d){for(;0<d.length;d++)d[0]=0}function a(d,f,b,y,p){for(var g,m,x,C,I=b[0],D=b[1],z=b[2],O=b[3],B=d[0]^f[0],V=d[1]^f[1],q=d[2]^f[2],H=d[3]^f[3],E=4,R=1;R<p;R++)g=I[B>>>24]^D[V>>>16&255]^z[q>>>8&255]^O[255&H]^f[E++],m=I[V>>>24]^D[q>>>16&255]^z[H>>>8&255]^O[255&B]^f[E++],x=I[q>>>24]^D[H>>>16&255]^z[B>>>8&255]^O[255&V]^f[E++],C=I[H>>>24]^D[B>>>16&255]^z[V>>>8&255]^O[255&q]^f[E++],B=g,V=m,q=x,H=C;return g=(y[B>>>24]<<24|y[V>>>16&255]<<16|y[q>>>8&255]<<8|y[255&H])^f[E++],m=(y[V>>>24]<<24|y[q>>>16&255]<<16|y[H>>>8&255]<<8|y[255&B])^f[E++],x=(y[q>>>24]<<24|y[H>>>16&255]<<16|y[B>>>8&255]<<8|y[255&V])^f[E++],C=(y[H>>>24]<<24|y[B>>>16&255]<<16|y[V>>>8&255]<<8|y[255&q])^f[E++],[g>>>=0,m>>>=0,x>>>=0,C>>>=0]}var i=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var d=new Array(256),f=0;f<256;f++)d[f]=f<128?f<<1:f<<1^283;for(var b=[],y=[],p=[[],[],[],[]],g=[[],[],[],[]],m=0,x=0,C=0;C<256;++C){var I=x^x<<1^x<<2^x<<3^x<<4;I=I>>>8^255&I^99,b[m]=I,y[I]=m;var D=d[m],z=d[D],O=d[z],B=257*d[I]^16843008*I;p[0][m]=B<<24|B>>>8,p[1][m]=B<<16|B>>>16,p[2][m]=B<<8|B>>>24,p[3][m]=B,B=16843009*O^65537*z^257*D^16843008*m,g[0][I]=B<<24|B>>>8,g[1][I]=B<<16|B>>>16,g[2][I]=B<<8|B>>>24,g[3][I]=B,m===0?m=x=1:(m=D^d[d[d[O^D]]],x^=d[d[x]])}return{SBOX:b,INV_SBOX:y,SUB_MIX:p,INV_SUB_MIX:g}}();function h(d){this._key=s(d),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var d=this._key,f=d.length,b=f+6,y=4*(b+1),p=[],g=0;g<f;g++)p[g]=d[g];for(g=f;g<y;g++){var m=p[g-1];g%f==0?(m=m<<8|m>>>24,m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m],m^=i[g/f|0]<<24):f>6&&g%f==4&&(m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m]),p[g]=p[g-f]^m}for(var x=[],C=0;C<y;C++){var I=y-C,D=p[I-(C%4?0:4)];x[C]=C<4||I<=4?D:c.INV_SUB_MIX[0][c.SBOX[D>>>24]]^c.INV_SUB_MIX[1][c.SBOX[D>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[D>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&D]]}this._nRounds=b,this._keySchedule=p,this._invKeySchedule=x},h.prototype.encryptBlockRaw=function(d){return a(d=s(d),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},h.prototype.encryptBlock=function(d){var f=this.encryptBlockRaw(d),b=o.allocUnsafe(16);return b.writeUInt32BE(f[0],0),b.writeUInt32BE(f[1],4),b.writeUInt32BE(f[2],8),b.writeUInt32BE(f[3],12),b},h.prototype.decryptBlock=function(d){var f=(d=s(d))[1];d[1]=d[3],d[3]=f;var b=a(d,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),y=o.allocUnsafe(16);return y.writeUInt32BE(b[0],0),y.writeUInt32BE(b[3],4),y.writeUInt32BE(b[2],8),y.writeUInt32BE(b[1],12),y},h.prototype.scrub=function(){u(this._keySchedule),u(this._invKeySchedule),u(this._key)},r.exports.AES=h},{"safe-buffer":494}],190:[function(e,r,l){var o=e("./aes"),s=e("safe-buffer").Buffer,u=e("cipher-base"),a=e("inherits"),i=e("./ghash"),c=e("buffer-xor"),h=e("./incr32");function d(f,b,y,p){u.call(this);var g=s.alloc(4,0);this._cipher=new o.AES(b);var m=this._cipher.encryptBlock(g);this._ghash=new i(m),y=function(x,C,I){if(C.length===12)return x._finID=s.concat([C,s.from([0,0,0,1])]),s.concat([C,s.from([0,0,0,2])]);var D=new i(I),z=C.length,O=z%16;D.update(C),O&&(O=16-O,D.update(s.alloc(O,0))),D.update(s.alloc(8,0));var B=8*z,V=s.alloc(8);V.writeUIntBE(B,0,8),D.update(V),x._finID=D.state;var q=s.from(x._finID);return h(q),q}(this,y,m),this._prev=s.from(y),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}a(d,u),d.prototype._update=function(f){if(!this._called&&this._alen){var b=16-this._alen%16;b<16&&(b=s.alloc(b,0),this._ghash.update(b))}this._called=!0;var y=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(y),this._len+=f.length,y},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(b,y){var p=0;b.length!==y.length&&p++;for(var g=Math.min(b.length,y.length),m=0;m<g;++m)p+=b[m]^y[m];return p}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},d.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},r.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,r,l){var o=e("./encrypter"),s=e("./decrypter"),u=e("./modes/list.json");l.createCipher=l.Cipher=o.createCipher,l.createCipheriv=l.Cipheriv=o.createCipheriv,l.createDecipher=l.Decipher=s.createDecipher,l.createDecipheriv=l.Decipheriv=s.createDecipheriv,l.listCiphers=l.getCiphers=function(){return Object.keys(u)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,r,l){var o=e("./authCipher"),s=e("safe-buffer").Buffer,u=e("./modes"),a=e("./streamCipher"),i=e("cipher-base"),c=e("./aes"),h=e("evp_bytestokey");function d(y,p,g){i.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(p),this._prev=s.from(g),this._mode=y,this._autopadding=!0}function f(){this.cache=s.allocUnsafe(0)}function b(y,p,g){var m=u[y.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=s.from(g)),m.mode!=="GCM"&&g.length!==m.iv)throw new TypeError("invalid iv length "+g.length);if(typeof p=="string"&&(p=s.from(p)),p.length!==m.key/8)throw new TypeError("invalid key length "+p.length);return m.type==="stream"?new a(m.module,p,g,!0):m.type==="auth"?new o(m.module,p,g,!0):new d(m.module,p,g)}e("inherits")(d,i),d.prototype._update=function(y){var p,g;this._cache.add(y);for(var m=[];p=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,p),m.push(g);return s.concat(m)},d.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return function(p){var g=p[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var m=-1;++m<g;)if(p[m+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return p.slice(0,16-g)}(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},f.prototype.add=function(y){this.cache=s.concat([this.cache,y])},f.prototype.get=function(y){var p;if(y){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},l.createDecipher=function(y,p){var g=u[y.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var m=h(p,!1,g.key,g.iv);return b(y,m.key,m.iv)},l.createDecipheriv=b},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,r,l){var o=e("./modes"),s=e("./authCipher"),u=e("safe-buffer").Buffer,a=e("./streamCipher"),i=e("cipher-base"),c=e("./aes"),h=e("evp_bytestokey");function d(p,g,m){i.call(this),this._cache=new b,this._cipher=new c.AES(g),this._prev=u.from(m),this._mode=p,this._autopadding=!0}e("inherits")(d,i),d.prototype._update=function(p){var g,m;this._cache.add(p);for(var x=[];g=this._cache.get();)m=this._mode.encrypt(this,g),x.push(m);return u.concat(x)};var f=u.alloc(16,16);function b(){this.cache=u.allocUnsafe(0)}function y(p,g,m){var x=o[p.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=u.from(g)),g.length!==x.key/8)throw new TypeError("invalid key length "+g.length);if(typeof m=="string"&&(m=u.from(m)),x.mode!=="GCM"&&m.length!==x.iv)throw new TypeError("invalid iv length "+m.length);return x.type==="stream"?new a(x.module,g,m):x.type==="auth"?new s(x.module,g,m):new d(x.module,g,m)}d.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},b.prototype.add=function(p){this.cache=u.concat([this.cache,p])},b.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},b.prototype.flush=function(){for(var p=16-this.cache.length,g=u.allocUnsafe(p),m=-1;++m<p;)g.writeUInt8(p,m);return u.concat([this.cache,g])},l.createCipheriv=y,l.createCipher=function(p,g){var m=o[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var x=h(g,!1,m.key,m.iv);return y(p,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,r,l){var o=e("safe-buffer").Buffer,s=o.alloc(16,0);function u(i){var c=o.allocUnsafe(16);return c.writeUInt32BE(i[0]>>>0,0),c.writeUInt32BE(i[1]>>>0,4),c.writeUInt32BE(i[2]>>>0,8),c.writeUInt32BE(i[3]>>>0,12),c}function a(i){this.h=i,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}a.prototype.ghash=function(i){for(var c=-1;++c<i.length;)this.state[c]^=i[c];this._multiply()},a.prototype._multiply=function(){for(var i,c,h,d=[(i=this.h).readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)],f=[0,0,0,0],b=-1;++b<128;){for(this.state[~~(b/8)]&1<<7-b%8&&(f[0]^=d[0],f[1]^=d[1],f[2]^=d[2],f[3]^=d[3]),h=(1&d[3])!=0,c=3;c>0;c--)d[c]=d[c]>>>1|(1&d[c-1])<<31;d[0]=d[0]>>>1,h&&(d[0]=d[0]^225<<24)}this.state=u(f)},a.prototype.update=function(i){var c;for(this.cache=o.concat([this.cache,i]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},a.prototype.final=function(i,c){return this.cache.length&&this.ghash(o.concat([this.cache,s],16)),this.ghash(u([0,i,0,c])),this.state},r.exports=a},{"safe-buffer":494}],195:[function(e,r,l){r.exports=function(o){for(var s,u=o.length;u--;){if((s=o.readUInt8(u))!==255){s++,o.writeUInt8(s,u);break}o.writeUInt8(0,u)}}},{}],196:[function(e,r,l){var o=e("buffer-xor");l.encrypt=function(s,u){var a=o(u,s._prev);return s._prev=s._cipher.encryptBlock(a),s._prev},l.decrypt=function(s,u){var a=s._prev;s._prev=u;var i=s._cipher.decryptBlock(u);return o(i,a)}},{"buffer-xor":219}],197:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("buffer-xor");function u(a,i,c){var h=i.length,d=s(i,a._cache);return a._cache=a._cache.slice(h),a._prev=o.concat([a._prev,c?i:d]),d}l.encrypt=function(a,i,c){for(var h,d=o.allocUnsafe(0);i.length;){if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=o.allocUnsafe(0)),!(a._cache.length<=i.length)){d=o.concat([d,u(a,i,c)]);break}h=a._cache.length,d=o.concat([d,u(a,i.slice(0,h),c)]),i=i.slice(h)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,r,l){var o=e("safe-buffer").Buffer;function s(a,i,c){for(var h,d,f=-1,b=0;++f<8;)h=i&1<<7-f?128:0,b+=(128&(d=a._cipher.encryptBlock(a._prev)[0]^h))>>f%8,a._prev=u(a._prev,c?h:d);return b}function u(a,i){var c=a.length,h=-1,d=o.allocUnsafe(a.length);for(a=o.concat([a,o.from([i])]);++h<c;)d[h]=a[h]<<1|a[h+1]>>7;return d}l.encrypt=function(a,i,c){for(var h=i.length,d=o.allocUnsafe(h),f=-1;++f<h;)d[f]=s(a,i[f],c);return d}},{"safe-buffer":494}],199:[function(e,r,l){var o=e("safe-buffer").Buffer;function s(u,a,i){var c=u._cipher.encryptBlock(u._prev)[0]^a;return u._prev=o.concat([u._prev.slice(1),o.from([i?a:c])]),c}l.encrypt=function(u,a,i){for(var c=a.length,h=o.allocUnsafe(c),d=-1;++d<c;)h[d]=s(u,a[d],i);return h}},{"safe-buffer":494}],200:[function(e,r,l){var o=e("buffer-xor"),s=e("safe-buffer").Buffer,u=e("../incr32");function a(i){var c=i._cipher.encryptBlockRaw(i._prev);return u(i._prev),c}l.encrypt=function(i,c){var h=Math.ceil(c.length/16),d=i._cache.length;i._cache=s.concat([i._cache,s.allocUnsafe(16*h)]);for(var f=0;f<h;f++){var b=a(i),y=d+16*f;i._cache.writeUInt32BE(b[0],y+0),i._cache.writeUInt32BE(b[1],y+4),i._cache.writeUInt32BE(b[2],y+8),i._cache.writeUInt32BE(b[3],y+12)}var p=i._cache.slice(0,c.length);return i._cache=i._cache.slice(c.length),o(c,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,r,l){l.encrypt=function(o,s){return o._cipher.encryptBlock(s)},l.decrypt=function(o,s){return o._cipher.decryptBlock(s)}},{}],202:[function(e,r,l){var o={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},s=e("./list.json");for(var u in s)s[u].module=o[s[u].mode];r.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,r,l){r.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,r,l){(function(o){(function(){var s=e("buffer-xor");function u(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}l.encrypt=function(a,i){for(;a._cache.length<i.length;)a._cache=o.concat([a._cache,u(a)]);var c=a._cache.slice(0,i.length);return a._cache=a._cache.slice(i.length),s(i,c)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,r,l){var o=e("./aes"),s=e("safe-buffer").Buffer,u=e("cipher-base");function a(i,c,h,d){u.call(this),this._cipher=new o.AES(c),this._prev=s.from(h),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=d,this._mode=i}e("inherits")(a,u),a.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},r.exports=a},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,r,l){var o=e("browserify-des"),s=e("browserify-aes/browser"),u=e("browserify-aes/modes"),a=e("browserify-des/modes"),i=e("evp_bytestokey");function c(d,f,b){if(d=d.toLowerCase(),u[d])return s.createCipheriv(d,f,b);if(a[d])return new o({key:f,iv:b,mode:d});throw new TypeError("invalid suite type")}function h(d,f,b){if(d=d.toLowerCase(),u[d])return s.createDecipheriv(d,f,b);if(a[d])return new o({key:f,iv:b,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}l.createCipher=l.Cipher=function(d,f){var b,y;if(d=d.toLowerCase(),u[d])b=u[d].key,y=u[d].iv;else{if(!a[d])throw new TypeError("invalid suite type");b=8*a[d].key,y=a[d].iv}var p=i(f,!1,b,y);return c(d,p.key,p.iv)},l.createCipheriv=l.Cipheriv=c,l.createDecipher=l.Decipher=function(d,f){var b,y;if(d=d.toLowerCase(),u[d])b=u[d].key,y=u[d].iv;else{if(!a[d])throw new TypeError("invalid suite type");b=8*a[d].key,y=a[d].iv}var p=i(f,!1,b,y);return h(d,p.key,p.iv)},l.createDecipheriv=l.Decipheriv=h,l.listCiphers=l.getCiphers=function(){return Object.keys(a).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,r,l){var o=e("cipher-base"),s=e("des.js"),u=e("inherits"),a=e("safe-buffer").Buffer,i={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function c(h){o.call(this);var d,f=h.mode.toLowerCase(),b=i[f];d=h.decrypt?"decrypt":"encrypt";var y=h.key;a.isBuffer(y)||(y=a.from(y)),f!=="des-ede"&&f!=="des-ede-cbc"||(y=a.concat([y,y.slice(0,8)]));var p=h.iv;a.isBuffer(p)||(p=a.from(p)),this._des=b.create({key:y,iv:p,type:d})}i.des=i["des-cbc"],i.des3=i["des-ede3-cbc"],r.exports=c,u(c,o),c.prototype._update=function(h){return a.from(this._des.update(h))},c.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,r,l){l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}},{}],209:[function(e,r,l){(function(o){(function(){var s=e("bn.js"),u=e("randombytes");function a(c){var h,d=c.modulus.byteLength();do h=new s(u(d));while(h.cmp(c.modulus)>=0||!h.umod(c.prime1)||!h.umod(c.prime2));return h}function i(c,h){var d=function(z){var O=a(z);return{blinder:O.toRed(s.mont(z.modulus)).redPow(new s(z.publicExponent)).fromRed(),unblinder:O.invm(z.modulus)}}(h),f=h.modulus.byteLength(),b=new s(c).mul(d.blinder).umod(h.modulus),y=b.toRed(s.mont(h.prime1)),p=b.toRed(s.mont(h.prime2)),g=h.coefficient,m=h.prime1,x=h.prime2,C=y.redPow(h.exponent1).fromRed(),I=p.redPow(h.exponent2).fromRed(),D=C.isub(I).imul(g).umod(m).imul(x);return I.iadd(D).imul(d.unblinder).umod(h.modulus).toArrayLike(o,"be",f)}i.getr=a,r.exports=i}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,r,l){r.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,r,l){r.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,r,l){r.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("create-hash"),u=e("readable-stream"),a=e("inherits"),i=e("./sign"),c=e("./verify"),h=e("./algorithms.json");function d(p){u.Writable.call(this);var g=h[p];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=s(g.hash),this._tag=g.id,this._signType=g.sign}function f(p){u.Writable.call(this);var g=h[p];if(!g)throw new Error("Unknown message digest");this._hash=s(g.hash),this._tag=g.id,this._signType=g.sign}function b(p){return new d(p)}function y(p){return new f(p)}Object.keys(h).forEach(function(p){h[p].id=o.from(h[p].id,"hex"),h[p.toLowerCase()]=h[p]}),a(d,u.Writable),d.prototype._write=function(p,g,m){this._hash.update(p),m()},d.prototype.update=function(p,g){return typeof p=="string"&&(p=o.from(p,g)),this._hash.update(p),this},d.prototype.sign=function(p,g){this.end();var m=this._hash.digest(),x=i(m,p,this._hashType,this._signType,this._tag);return g?x.toString(g):x},a(f,u.Writable),f.prototype._write=function(p,g,m){this._hash.update(p),m()},f.prototype.update=function(p,g){return typeof p=="string"&&(p=o.from(p,g)),this._hash.update(p),this},f.prototype.verify=function(p,g,m){typeof g=="string"&&(g=o.from(g,m)),this.end();var x=this._hash.digest();return c(g,x,p,this._signType,this._tag)},r.exports={Sign:b,Verify:y,createSign:b,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("create-hmac"),u=e("browserify-rsa"),a=e("elliptic").ec,i=e("bn.js"),c=e("parse-asn1"),h=e("./curves.json");function d(p,g,m,x){if((p=o.from(p.toArray())).length<g.byteLength()){var C=o.alloc(g.byteLength()-p.length);p=o.concat([C,p])}var I=m.length,D=function(B,V){B=(B=f(B,V)).mod(V);var q=o.from(B.toArray());if(q.length<V.byteLength()){var H=o.alloc(V.byteLength()-q.length);q=o.concat([H,q])}return q}(m,g),z=o.alloc(I);z.fill(1);var O=o.alloc(I);return O=s(x,O).update(z).update(o.from([0])).update(p).update(D).digest(),z=s(x,O).update(z).digest(),{k:O=s(x,O).update(z).update(o.from([1])).update(p).update(D).digest(),v:z=s(x,O).update(z).digest()}}function f(p,g){var m=new i(p),x=(p.length<<3)-g.bitLength();return x>0&&m.ishrn(x),m}function b(p,g,m){var x,C;do{for(x=o.alloc(0);8*x.length<p.bitLength();)g.v=s(m,g.k).update(g.v).digest(),x=o.concat([x,g.v]);C=f(x,p),g.k=s(m,g.k).update(g.v).update(o.from([0])).digest(),g.v=s(m,g.k).update(g.v).digest()}while(C.cmp(p)!==-1);return C}function y(p,g,m,x){return p.toRed(i.mont(m)).redPow(g).fromRed().mod(x)}r.exports=function(p,g,m,x,C){var I=c(g);if(I.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return function(B,V){var q=h[V.curve.join(".")];if(!q)throw new Error("unknown curve "+V.curve.join("."));var H=new a(q).keyFromPrivate(V.privateKey).sign(B);return o.from(H.toDER())}(p,I)}if(I.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return function(B,V,q){for(var H,E=V.params.priv_key,R=V.params.p,k=V.params.q,v=V.params.g,_=new i(0),w=f(B,k).mod(k),S=!1,N=d(E,k,B,q);S===!1;)H=b(k,N,q),_=y(v,H,R,k),(S=H.invm(k).imul(w.add(E.mul(_))).mod(k)).cmpn(0)===0&&(S=!1,_=new i(0));return function(j,U){j=j.toArray(),U=U.toArray(),128&j[0]&&(j=[0].concat(j)),128&U[0]&&(U=[0].concat(U));var G=[48,j.length+U.length+4,2,j.length];return G=G.concat(j,[2,U.length],U),o.from(G)}(_,S)}(p,I,m)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");p=o.concat([C,p]);for(var D=I.modulus.byteLength(),z=[0,1];p.length+z.length+1<D;)z.push(255);z.push(0);for(var O=-1;++O<p.length;)z.push(p[O]);return u(z,I)},r.exports.getKey=d,r.exports.makeKey=b},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("bn.js"),u=e("elliptic").ec,a=e("parse-asn1"),i=e("./curves.json");function c(h,d){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(d)>=d)throw new Error("invalid sig")}r.exports=function(h,d,f,b,y){var p=a(f);if(p.type==="ec"){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");return function(z,O,B){var V=i[B.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+B.data.algorithm.curve.join("."));var q=new u(V),H=B.data.subjectPrivateKey.data;return q.verify(O,z,H)}(h,d,p)}if(p.type==="dsa"){if(b!=="dsa")throw new Error("wrong public key type");return function(z,O,B){var V=B.data.p,q=B.data.q,H=B.data.g,E=B.data.pub_key,R=a.signature.decode(z,"der"),k=R.s,v=R.r;c(k,q),c(v,q);var _=s.mont(V),w=k.invm(q);return H.toRed(_).redPow(new s(O).mul(w).mod(q)).fromRed().mul(E.toRed(_).redPow(v.mul(w).mod(q)).fromRed()).mod(V).mod(q).cmp(v)===0}(h,d,p)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");d=o.concat([y,d]);for(var g=p.modulus.byteLength(),m=[1],x=0;d.length+m.length+2<g;)m.push(255),x++;m.push(0);for(var C=-1;++C<d.length;)m.push(d[C]);m=o.from(m);var I=s.mont(p.modulus);h=(h=new s(h).toRed(I)).redPow(new s(p.publicExponent)),h=o.from(h.fromRed().toArray());var D=x<8?1:0;for(g=Math.min(h.length,m.length),h.length!==m.length&&(D=1),C=-1;++C<g;)D|=h[C]^m[C];return D===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,r,l){},{}],217:[function(e,r,l){var o=e("buffer"),s=o.Buffer;function u(i,c){for(var h in i)c[h]=i[h]}function a(i,c,h){return s(i,c,h)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=o:(u(o,l),l.Buffer=a),u(s,a),a.from=function(i,c,h){if(typeof i=="number")throw new TypeError("Argument must not be a number");return s(i,c,h)},a.alloc=function(i,c,h){if(typeof i!="number")throw new TypeError("Argument must be a number");var d=s(i);return c!==void 0?typeof h=="string"?d.fill(c,h):d.fill(c):d.fill(0),d},a.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return s(i)},a.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(i)}},{buffer:220}],218:[function(e,r,l){var o=e("safe-buffer").Buffer,s=o.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(p){var g;switch(this.encoding=function(m){var x=function(C){if(!C)return"utf8";for(var I;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(I)return;C=(""+C).toLowerCase(),I=!0}}(m);if(typeof x!="string"&&(o.isEncoding===s||!s(m)))throw new Error("Unknown encoding: "+m);return x||m}(p),this.encoding){case"utf16le":this.text=c,this.end=h,g=4;break;case"utf8":this.fillLast=i,g=4;break;case"base64":this.text=d,this.end=f,g=3;break;default:return this.write=b,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(g)}function a(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function i(p){var g=this.lastTotal-this.lastNeed,m=function(x,C,I){if((192&C[0])!=128)return x.lastNeed=0,"";if(x.lastNeed>1&&C.length>1){if((192&C[1])!=128)return x.lastNeed=1,"";if(x.lastNeed>2&&C.length>2&&(192&C[2])!=128)return x.lastNeed=2,""}}(this,p);return m!==void 0?m:this.lastNeed<=p.length?(p.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,g,0,p.length),void(this.lastNeed-=p.length))}function c(p,g){if((p.length-g)%2==0){var m=p.toString("utf16le",g);if(m){var x=m.charCodeAt(m.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",g,p.length-1)}function h(p){var g=p&&p.length?this.write(p):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,m)}return g}function d(p,g){var m=(p.length-g)%3;return m===0?p.toString("base64",g):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",g,p.length-m))}function f(p){var g=p&&p.length?this.write(p):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function b(p){return p.toString(this.encoding)}function y(p){return p&&p.length?this.write(p):""}l.StringDecoder=u,u.prototype.write=function(p){if(p.length===0)return"";var g,m;if(this.lastNeed){if((g=this.fillLast(p))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<p.length?g?g+this.text(p,m):this.text(p,m):g||""},u.prototype.end=function(p){var g=p&&p.length?this.write(p):"";return this.lastNeed?g+"":g},u.prototype.text=function(p,g){var m=function(C,I,D){var z=I.length-1;if(z<D)return 0;var O=a(I[z]);return O>=0?(O>0&&(C.lastNeed=O-1),O):--z<D||O===-2?0:(O=a(I[z]))>=0?(O>0&&(C.lastNeed=O-2),O):--z<D||O===-2?0:(O=a(I[z]))>=0?(O>0&&(O===2?O=0:C.lastNeed=O-3),O):0}(this,p,g);if(!this.lastNeed)return p.toString("utf8",g);this.lastTotal=m;var x=p.length-(m-this.lastNeed);return p.copy(this.lastChar,0,x),p.toString("utf8",g,x)},u.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,r,l){(function(o){(function(){r.exports=function(s,u){for(var a=Math.min(s.length,u.length),i=new o(a),c=0;c<a;++c)i[c]=s[c]^u[c];return i}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,r,l){(function(o){(function(){var s=e("base64-js"),u=e("ieee754");l.Buffer=i,l.SlowBuffer=function(L){return+L!=L&&(L=0),i.alloc(+L)},l.INSPECT_MAX_BYTES=50;function a(L){if(L>2147483647)throw new RangeError('The value "'+L+'" is invalid for option "size"');var P=new Uint8Array(L);return P.__proto__=i.prototype,P}function i(L,P,$){if(typeof L=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(L)}return c(L,P,$)}function c(L,P,$){if(typeof L=="string")return function(X,ee){if(typeof ee=="string"&&ee!==""||(ee="utf8"),!i.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);var ie=0|y(X,ee),oe=a(ie),Z=oe.write(X,ee);return Z!==ie&&(oe=oe.slice(0,Z)),oe}(L,P);if(ArrayBuffer.isView(L))return f(L);if(L==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(F(L,ArrayBuffer)||L&&F(L.buffer,ArrayBuffer))return function(X,ee,ie){if(ee<0||X.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<ee+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=ee===void 0&&ie===void 0?new Uint8Array(X):ie===void 0?new Uint8Array(X,ee):new Uint8Array(X,ee,ie),oe.__proto__=i.prototype,oe}(L,P,$);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=L.valueOf&&L.valueOf();if(Y!=null&&Y!==L)return i.from(Y,P,$);var Q=function(X){if(i.isBuffer(X)){var ee=0|b(X.length),ie=a(ee);return ie.length===0||X.copy(ie,0,0,ee),ie}if(X.length!==void 0)return typeof X.length!="number"||K(X.length)?a(0):f(X);if(X.type==="Buffer"&&Array.isArray(X.data))return f(X.data)}(L);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return i.from(L[Symbol.toPrimitive]("string"),P,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}function h(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function d(L){return h(L),a(L<0?0:0|b(L))}function f(L){for(var P=L.length<0?0:0|b(L.length),$=a(P),Y=0;Y<P;Y+=1)$[Y]=255&L[Y];return $}function b(L){if(L>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|L}function y(L,P){if(i.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||F(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);var $=L.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&$===0)return 0;for(var Q=!1;;)switch(P){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return G(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return W(L).length;default:if(Q)return Y?-1:G(L).length;P=(""+P).toLowerCase(),Q=!0}}function p(L,P,$){var Y=!1;if((P===void 0||P<0)&&(P=0),P>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(P>>>=0))return"";for(L||(L="utf8");;)switch(L){case"hex":return R(this,P,$);case"utf8":case"utf-8":return q(this,P,$);case"ascii":return H(this,P,$);case"latin1":case"binary":return E(this,P,$);case"base64":return V(this,P,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,P,$);default:if(Y)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),Y=!0}}function g(L,P,$){var Y=L[P];L[P]=L[$],L[$]=Y}function m(L,P,$,Y,Q){if(L.length===0)return-1;if(typeof $=="string"?(Y=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),K($=+$)&&($=Q?0:L.length-1),$<0&&($=L.length+$),$>=L.length){if(Q)return-1;$=L.length-1}else if($<0){if(!Q)return-1;$=0}if(typeof P=="string"&&(P=i.from(P,Y)),i.isBuffer(P))return P.length===0?-1:x(L,P,$,Y,Q);if(typeof P=="number")return P&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(L,P,$):Uint8Array.prototype.lastIndexOf.call(L,P,$):x(L,[P],$,Y,Q);throw new TypeError("val must be string, number or Buffer")}function x(L,P,$,Y,Q){var X,ee=1,ie=L.length,oe=P.length;if(Y!==void 0&&((Y=String(Y).toLowerCase())==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(L.length<2||P.length<2)return-1;ee=2,ie/=2,oe/=2,$/=2}function Z(le,de){return ee===1?le[de]:le.readUInt16BE(de*ee)}if(Q){var re=-1;for(X=$;X<ie;X++)if(Z(L,X)===Z(P,re===-1?0:X-re)){if(re===-1&&(re=X),X-re+1===oe)return re*ee}else re!==-1&&(X-=X-re),re=-1}else for($+oe>ie&&($=ie-oe),X=$;X>=0;X--){for(var ne=!0,ue=0;ue<oe;ue++)if(Z(L,X+ue)!==Z(P,ue)){ne=!1;break}if(ne)return X}return-1}function C(L,P,$,Y){$=Number($)||0;var Q=L.length-$;Y?(Y=Number(Y))>Q&&(Y=Q):Y=Q;var X=P.length;Y>X/2&&(Y=X/2);for(var ee=0;ee<Y;++ee){var ie=parseInt(P.substr(2*ee,2),16);if(K(ie))return ee;L[$+ee]=ie}return ee}function I(L,P,$,Y){return J(G(P,L.length-$),L,$,Y)}function D(L,P,$,Y){return J(function(Q){for(var X=[],ee=0;ee<Q.length;++ee)X.push(255&Q.charCodeAt(ee));return X}(P),L,$,Y)}function z(L,P,$,Y){return D(L,P,$,Y)}function O(L,P,$,Y){return J(W(P),L,$,Y)}function B(L,P,$,Y){return J(function(Q,X){for(var ee,ie,oe,Z=[],re=0;re<Q.length&&!((X-=2)<0);++re)ee=Q.charCodeAt(re),ie=ee>>8,oe=ee%256,Z.push(oe),Z.push(ie);return Z}(P,L.length-$),L,$,Y)}function V(L,P,$){return P===0&&$===L.length?s.fromByteArray(L):s.fromByteArray(L.slice(P,$))}function q(L,P,$){$=Math.min(L.length,$);for(var Y=[],Q=P;Q<$;){var X,ee,ie,oe,Z=L[Q],re=null,ne=Z>239?4:Z>223?3:Z>191?2:1;if(Q+ne<=$)switch(ne){case 1:Z<128&&(re=Z);break;case 2:(192&(X=L[Q+1]))==128&&(oe=(31&Z)<<6|63&X)>127&&(re=oe);break;case 3:X=L[Q+1],ee=L[Q+2],(192&X)==128&&(192&ee)==128&&(oe=(15&Z)<<12|(63&X)<<6|63&ee)>2047&&(oe<55296||oe>57343)&&(re=oe);break;case 4:X=L[Q+1],ee=L[Q+2],ie=L[Q+3],(192&X)==128&&(192&ee)==128&&(192&ie)==128&&(oe=(15&Z)<<18|(63&X)<<12|(63&ee)<<6|63&ie)>65535&&oe<1114112&&(re=oe)}re===null?(re=65533,ne=1):re>65535&&(re-=65536,Y.push(re>>>10&1023|55296),re=56320|1023&re),Y.push(re),Q+=ne}return function(ue){var le=ue.length;if(le<=4096)return String.fromCharCode.apply(String,ue);for(var de="",he=0;he<le;)de+=String.fromCharCode.apply(String,ue.slice(he,he+=4096));return de}(Y)}l.kMaxLength=2147483647,i.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1);return L.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},L.foo()===42}catch{return!1}}(),i.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(L,P,$){return c(L,P,$)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(L,P,$){return function(Y,Q,X){return h(Y),Y<=0?a(Y):Q!==void 0?typeof X=="string"?a(Y).fill(Q,X):a(Y).fill(Q):a(Y)}(L,P,$)},i.allocUnsafe=function(L){return d(L)},i.allocUnsafeSlow=function(L){return d(L)},i.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==i.prototype},i.compare=function(L,P){if(F(L,Uint8Array)&&(L=i.from(L,L.offset,L.byteLength)),F(P,Uint8Array)&&(P=i.from(P,P.offset,P.byteLength)),!i.isBuffer(L)||!i.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===P)return 0;for(var $=L.length,Y=P.length,Q=0,X=Math.min($,Y);Q<X;++Q)if(L[Q]!==P[Q]){$=L[Q],Y=P[Q];break}return $<Y?-1:Y<$?1:0},i.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(L,P){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return i.alloc(0);var $;if(P===void 0)for(P=0,$=0;$<L.length;++$)P+=L[$].length;var Y=i.allocUnsafe(P),Q=0;for($=0;$<L.length;++$){var X=L[$];if(F(X,Uint8Array)&&(X=i.from(X)),!i.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(Y,Q),Q+=X.length}return Y},i.byteLength=y,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<L;P+=2)g(this,P,P+1);return this},i.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<L;P+=4)g(this,P,P+3),g(this,P+1,P+2);return this},i.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<L;P+=8)g(this,P,P+7),g(this,P+1,P+6),g(this,P+2,P+5),g(this,P+3,P+4);return this},i.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?q(this,0,L):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(L){if(!i.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||i.compare(this,L)===0},i.prototype.inspect=function(){var L="",P=l.INSPECT_MAX_BYTES;return L=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(L+=" ... "),"<Buffer "+L+">"},i.prototype.compare=function(L,P,$,Y,Q){if(F(L,Uint8Array)&&(L=i.from(L,L.offset,L.byteLength)),!i.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(P===void 0&&(P=0),$===void 0&&($=L?L.length:0),Y===void 0&&(Y=0),Q===void 0&&(Q=this.length),P<0||$>L.length||Y<0||Q>this.length)throw new RangeError("out of range index");if(Y>=Q&&P>=$)return 0;if(Y>=Q)return-1;if(P>=$)return 1;if(this===L)return 0;for(var X=(Q>>>=0)-(Y>>>=0),ee=($>>>=0)-(P>>>=0),ie=Math.min(X,ee),oe=this.slice(Y,Q),Z=L.slice(P,$),re=0;re<ie;++re)if(oe[re]!==Z[re]){X=oe[re],ee=Z[re];break}return X<ee?-1:ee<X?1:0},i.prototype.includes=function(L,P,$){return this.indexOf(L,P,$)!==-1},i.prototype.indexOf=function(L,P,$){return m(this,L,P,$,!0)},i.prototype.lastIndexOf=function(L,P,$){return m(this,L,P,$,!1)},i.prototype.write=function(L,P,$,Y){if(P===void 0)Y="utf8",$=this.length,P=0;else if($===void 0&&typeof P=="string")Y=P,$=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite($)?($>>>=0,Y===void 0&&(Y="utf8")):(Y=$,$=void 0)}var Q=this.length-P;if(($===void 0||$>Q)&&($=Q),L.length>0&&($<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");for(var X=!1;;)switch(Y){case"hex":return C(this,L,P,$);case"utf8":case"utf-8":return I(this,L,P,$);case"ascii":return D(this,L,P,$);case"latin1":case"binary":return z(this,L,P,$);case"base64":return O(this,L,P,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,L,P,$);default:if(X)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),X=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(L,P,$){var Y="";$=Math.min(L.length,$);for(var Q=P;Q<$;++Q)Y+=String.fromCharCode(127&L[Q]);return Y}function E(L,P,$){var Y="";$=Math.min(L.length,$);for(var Q=P;Q<$;++Q)Y+=String.fromCharCode(L[Q]);return Y}function R(L,P,$){var Y=L.length;(!P||P<0)&&(P=0),(!$||$<0||$>Y)&&($=Y);for(var Q="",X=P;X<$;++X)Q+=U(L[X]);return Q}function k(L,P,$){for(var Y=L.slice(P,$),Q="",X=0;X<Y.length;X+=2)Q+=String.fromCharCode(Y[X]+256*Y[X+1]);return Q}function v(L,P,$){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(L+P>$)throw new RangeError("Trying to access beyond buffer length")}function _(L,P,$,Y,Q,X){if(!i.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>Q||P<X)throw new RangeError('"value" argument is out of bounds');if($+Y>L.length)throw new RangeError("Index out of range")}function w(L,P,$,Y,Q,X){if($+Y>L.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function S(L,P,$,Y,Q){return P=+P,$>>>=0,Q||w(L,0,$,4),u.write(L,P,$,Y,23,4),$+4}function N(L,P,$,Y,Q){return P=+P,$>>>=0,Q||w(L,0,$,8),u.write(L,P,$,Y,52,8),$+8}i.prototype.slice=function(L,P){var $=this.length;(L=~~L)<0?(L+=$)<0&&(L=0):L>$&&(L=$),(P=P===void 0?$:~~P)<0?(P+=$)<0&&(P=0):P>$&&(P=$),P<L&&(P=L);var Y=this.subarray(L,P);return Y.__proto__=i.prototype,Y},i.prototype.readUIntLE=function(L,P,$){L>>>=0,P>>>=0,$||v(L,P,this.length);for(var Y=this[L],Q=1,X=0;++X<P&&(Q*=256);)Y+=this[L+X]*Q;return Y},i.prototype.readUIntBE=function(L,P,$){L>>>=0,P>>>=0,$||v(L,P,this.length);for(var Y=this[L+--P],Q=1;P>0&&(Q*=256);)Y+=this[L+--P]*Q;return Y},i.prototype.readUInt8=function(L,P){return L>>>=0,P||v(L,1,this.length),this[L]},i.prototype.readUInt16LE=function(L,P){return L>>>=0,P||v(L,2,this.length),this[L]|this[L+1]<<8},i.prototype.readUInt16BE=function(L,P){return L>>>=0,P||v(L,2,this.length),this[L]<<8|this[L+1]},i.prototype.readUInt32LE=function(L,P){return L>>>=0,P||v(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},i.prototype.readUInt32BE=function(L,P){return L>>>=0,P||v(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},i.prototype.readIntLE=function(L,P,$){L>>>=0,P>>>=0,$||v(L,P,this.length);for(var Y=this[L],Q=1,X=0;++X<P&&(Q*=256);)Y+=this[L+X]*Q;return Y>=(Q*=128)&&(Y-=Math.pow(2,8*P)),Y},i.prototype.readIntBE=function(L,P,$){L>>>=0,P>>>=0,$||v(L,P,this.length);for(var Y=P,Q=1,X=this[L+--Y];Y>0&&(Q*=256);)X+=this[L+--Y]*Q;return X>=(Q*=128)&&(X-=Math.pow(2,8*P)),X},i.prototype.readInt8=function(L,P){return L>>>=0,P||v(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},i.prototype.readInt16LE=function(L,P){L>>>=0,P||v(L,2,this.length);var $=this[L]|this[L+1]<<8;return 32768&$?4294901760|$:$},i.prototype.readInt16BE=function(L,P){L>>>=0,P||v(L,2,this.length);var $=this[L+1]|this[L]<<8;return 32768&$?4294901760|$:$},i.prototype.readInt32LE=function(L,P){return L>>>=0,P||v(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},i.prototype.readInt32BE=function(L,P){return L>>>=0,P||v(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},i.prototype.readFloatLE=function(L,P){return L>>>=0,P||v(L,4,this.length),u.read(this,L,!0,23,4)},i.prototype.readFloatBE=function(L,P){return L>>>=0,P||v(L,4,this.length),u.read(this,L,!1,23,4)},i.prototype.readDoubleLE=function(L,P){return L>>>=0,P||v(L,8,this.length),u.read(this,L,!0,52,8)},i.prototype.readDoubleBE=function(L,P){return L>>>=0,P||v(L,8,this.length),u.read(this,L,!1,52,8)},i.prototype.writeUIntLE=function(L,P,$,Y){L=+L,P>>>=0,$>>>=0,Y||_(this,L,P,$,Math.pow(2,8*$)-1,0);var Q=1,X=0;for(this[P]=255&L;++X<$&&(Q*=256);)this[P+X]=L/Q&255;return P+$},i.prototype.writeUIntBE=function(L,P,$,Y){L=+L,P>>>=0,$>>>=0,Y||_(this,L,P,$,Math.pow(2,8*$)-1,0);var Q=$-1,X=1;for(this[P+Q]=255&L;--Q>=0&&(X*=256);)this[P+Q]=L/X&255;return P+$},i.prototype.writeUInt8=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,1,255,0),this[P]=255&L,P+1},i.prototype.writeUInt16LE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,2,65535,0),this[P]=255&L,this[P+1]=L>>>8,P+2},i.prototype.writeUInt16BE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,2,65535,0),this[P]=L>>>8,this[P+1]=255&L,P+2},i.prototype.writeUInt32LE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,4,4294967295,0),this[P+3]=L>>>24,this[P+2]=L>>>16,this[P+1]=L>>>8,this[P]=255&L,P+4},i.prototype.writeUInt32BE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,4,4294967295,0),this[P]=L>>>24,this[P+1]=L>>>16,this[P+2]=L>>>8,this[P+3]=255&L,P+4},i.prototype.writeIntLE=function(L,P,$,Y){if(L=+L,P>>>=0,!Y){var Q=Math.pow(2,8*$-1);_(this,L,P,$,Q-1,-Q)}var X=0,ee=1,ie=0;for(this[P]=255&L;++X<$&&(ee*=256);)L<0&&ie===0&&this[P+X-1]!==0&&(ie=1),this[P+X]=(L/ee>>0)-ie&255;return P+$},i.prototype.writeIntBE=function(L,P,$,Y){if(L=+L,P>>>=0,!Y){var Q=Math.pow(2,8*$-1);_(this,L,P,$,Q-1,-Q)}var X=$-1,ee=1,ie=0;for(this[P+X]=255&L;--X>=0&&(ee*=256);)L<0&&ie===0&&this[P+X+1]!==0&&(ie=1),this[P+X]=(L/ee>>0)-ie&255;return P+$},i.prototype.writeInt8=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,1,127,-128),L<0&&(L=255+L+1),this[P]=255&L,P+1},i.prototype.writeInt16LE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,2,32767,-32768),this[P]=255&L,this[P+1]=L>>>8,P+2},i.prototype.writeInt16BE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,2,32767,-32768),this[P]=L>>>8,this[P+1]=255&L,P+2},i.prototype.writeInt32LE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,4,2147483647,-2147483648),this[P]=255&L,this[P+1]=L>>>8,this[P+2]=L>>>16,this[P+3]=L>>>24,P+4},i.prototype.writeInt32BE=function(L,P,$){return L=+L,P>>>=0,$||_(this,L,P,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[P]=L>>>24,this[P+1]=L>>>16,this[P+2]=L>>>8,this[P+3]=255&L,P+4},i.prototype.writeFloatLE=function(L,P,$){return S(this,L,P,!0,$)},i.prototype.writeFloatBE=function(L,P,$){return S(this,L,P,!1,$)},i.prototype.writeDoubleLE=function(L,P,$){return N(this,L,P,!0,$)},i.prototype.writeDoubleBE=function(L,P,$){return N(this,L,P,!1,$)},i.prototype.copy=function(L,P,$,Y){if(!i.isBuffer(L))throw new TypeError("argument should be a Buffer");if($||($=0),Y||Y===0||(Y=this.length),P>=L.length&&(P=L.length),P||(P=0),Y>0&&Y<$&&(Y=$),Y===$||L.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),L.length-P<Y-$&&(Y=L.length-P+$);var Q=Y-$;if(this===L&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(P,$,Y);else if(this===L&&$<P&&P<Y)for(var X=Q-1;X>=0;--X)L[X+P]=this[X+$];else Uint8Array.prototype.set.call(L,this.subarray($,Y),P);return Q},i.prototype.fill=function(L,P,$,Y){if(typeof L=="string"){if(typeof P=="string"?(Y=P,P=0,$=this.length):typeof $=="string"&&(Y=$,$=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!i.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(L.length===1){var Q=L.charCodeAt(0);(Y==="utf8"&&Q<128||Y==="latin1")&&(L=Q)}}else typeof L=="number"&&(L&=255);if(P<0||this.length<P||this.length<$)throw new RangeError("Out of range index");if($<=P)return this;var X;if(P>>>=0,$=$===void 0?this.length:$>>>0,L||(L=0),typeof L=="number")for(X=P;X<$;++X)this[X]=L;else{var ee=i.isBuffer(L)?L:i.from(L,Y),ie=ee.length;if(ie===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(X=0;X<$-P;++X)this[X+P]=ee[X%ie]}return this};var j=/[^+/0-9A-Za-z-_]/g;function U(L){return L<16?"0"+L.toString(16):L.toString(16)}function G(L,P){var $;P=P||1/0;for(var Y=L.length,Q=null,X=[],ee=0;ee<Y;++ee){if(($=L.charCodeAt(ee))>55295&&$<57344){if(!Q){if($>56319){(P-=3)>-1&&X.push(239,191,189);continue}if(ee+1===Y){(P-=3)>-1&&X.push(239,191,189);continue}Q=$;continue}if($<56320){(P-=3)>-1&&X.push(239,191,189),Q=$;continue}$=65536+(Q-55296<<10|$-56320)}else Q&&(P-=3)>-1&&X.push(239,191,189);if(Q=null,$<128){if((P-=1)<0)break;X.push($)}else if($<2048){if((P-=2)<0)break;X.push($>>6|192,63&$|128)}else if($<65536){if((P-=3)<0)break;X.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;X.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return X}function W(L){return s.toByteArray(function(P){if((P=(P=P.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(L))}function J(L,P,$,Y){for(var Q=0;Q<Y&&!(Q+$>=P.length||Q>=L.length);++Q)P[Q+$]=L[Q];return Q}function F(L,P){return L instanceof P||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===P.name}function K(L){return L!=L}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("stream").Transform,u=e("string_decoder").StringDecoder;function a(i){s.call(this),this.hashMode=typeof i=="string",this.hashMode?this[i]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(a,s),a.prototype.update=function(i,c,h){typeof i=="string"&&(i=o.from(i,c));var d=this._update(i);return this.hashMode?this:(h&&(d=this._toString(d,h)),d)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(i,c,h){var d;try{this.hashMode?this._update(i):this.push(this._update(i))}catch(f){d=f}finally{h(d)}},a.prototype._flush=function(i){var c;try{this.push(this.__final())}catch(h){c=h}i(c)},a.prototype._finalOrDigest=function(i){var c=this.__final()||o.alloc(0);return i&&(c=this._toString(c,i,!0)),c},a.prototype._toString=function(i,c,h){if(this._decoder||(this._decoder=new u(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var d=this._decoder.write(i);return h&&(d+=this._decoder.end()),d},r.exports=a},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,r,l){var o=e("../internals/is-callable"),s=e("../internals/try-to-string"),u=TypeError;r.exports=function(a){if(o(a))return a;throw new u(s(a)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,r,l){var o=e("../internals/is-constructor"),s=e("../internals/try-to-string"),u=TypeError;r.exports=function(a){if(o(a))return a;throw new u(s(a)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,r,l){var o=e("../internals/is-callable"),s=String,u=TypeError;r.exports=function(a){if(typeof a=="object"||o(a))return a;throw new u("Can't set "+s(a)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,r,l){var o=e("../internals/well-known-symbol"),s=e("../internals/object-create"),u=e("../internals/object-define-property").f,a=o("unscopables"),i=Array.prototype;i[a]===void 0&&u(i,a,{configurable:!0,value:s(null)}),r.exports=function(c){i[a][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,r,l){var o=e("../internals/object-is-prototype-of"),s=TypeError;r.exports=function(u,a){if(o(a,u))return u;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,r,l){var o=e("../internals/is-object"),s=String,u=TypeError;r.exports=function(a){if(o(a))return a;throw new u(s(a)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,r,l){var o=e("../internals/to-indexed-object"),s=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),a=function(i){return function(c,h,d){var f,b=o(c),y=u(b),p=s(d,y);if(i&&h!=h){for(;y>p;)if((f=b[p++])!=f)return!0}else for(;y>p;p++)if((i||p in b)&&b[p]===h)return i||p||0;return!i&&-1}};r.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,r,l){var o=e("../internals/function-bind-context"),s=e("../internals/function-uncurry-this"),u=e("../internals/indexed-object"),a=e("../internals/to-object"),i=e("../internals/length-of-array-like"),c=e("../internals/array-species-create"),h=s([].push),d=function(f){var b=f===1,y=f===2,p=f===3,g=f===4,m=f===6,x=f===7,C=f===5||m;return function(I,D,z,O){for(var B,V,q=a(I),H=u(q),E=o(D,z),R=i(H),k=0,v=O||c,_=b?v(I,R):y||x?v(I,0):void 0;R>k;k++)if((C||k in H)&&(V=E(B=H[k],k,q),f))if(b)_[k]=V;else if(V)switch(f){case 3:return!0;case 5:return B;case 6:return k;case 2:h(_,B)}else switch(f){case 4:return!1;case 7:h(_,B)}return m?-1:p||g?g:_}};r.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,r,l){var o=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),u=e("../internals/create-property"),a=Array,i=Math.max;r.exports=function(c,h,d){for(var f=s(c),b=o(h,f),y=o(d===void 0?f:d,f),p=a(i(y-b,0)),g=0;b<y;b++,g++)u(p,g,c[b]);return p.length=g,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,r,l){var o=e("../internals/function-uncurry-this");r.exports=o([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,r,l){var o=e("../internals/is-array"),s=e("../internals/is-constructor"),u=e("../internals/is-object"),a=e("../internals/well-known-symbol")("species"),i=Array;r.exports=function(c){var h;return o(c)&&(h=c.constructor,(s(h)&&(h===i||o(h.prototype))||u(h)&&(h=h[a])===null)&&(h=void 0)),h===void 0?i:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,r,l){var o=e("../internals/array-species-constructor");r.exports=function(s,u){return new(o(s))(u===0?0:u)}},{"../internals/array-species-constructor":232}],234:[function(e,r,l){var o=e("../internals/well-known-symbol")("iterator"),s=!1;try{var u=0,a={next:function(){return{done:!!u++}},return:function(){s=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch{}r.exports=function(i,c){try{if(!c&&!s)return!1}catch{return!1}var h=!1;try{var d={};d[o]=function(){return{next:function(){return{done:h=!0}}}},i(d)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=o({}.toString),u=o("".slice);r.exports=function(a){return u(s(a),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,r,l){var o=e("../internals/to-string-tag-support"),s=e("../internals/is-callable"),u=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("toStringTag"),i=Object,c=u(function(){return arguments}())==="Arguments";r.exports=o?u:function(h){var d,f,b;return h===void 0?"Undefined":h===null?"Null":typeof(f=function(y,p){try{return y[p]}catch{}}(d=i(h),a))=="string"?f:c?u(d):(b=u(d))==="Object"&&s(d.callee)?"Arguments":b}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,r,l){var o=e("../internals/has-own-property"),s=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");r.exports=function(i,c,h){for(var d=s(c),f=a.f,b=u.f,y=0;y<d.length;y++){var p=d[y];o(i,p)||h&&o(h,p)||f(i,p,b(c,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,r,l){var o=e("../internals/well-known-symbol")("match");r.exports=function(s){var u=/./;try{"/./"[s](u)}catch{try{return u[o]=!1,"/./"[s](u)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,r,l){var o=e("../internals/fails");r.exports=!o(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(e,r,l){r.exports=function(o,s){return{value:o,done:s}}},{}],241:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");r.exports=o?function(a,i,c){return s.f(a,i,u(1,c))}:function(a,i,c){return a[i]=c,a}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,r,l){r.exports=function(o,s){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:s}}},{}],243:[function(e,r,l){var o=e("../internals/to-property-key"),s=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");r.exports=function(a,i,c){var h=o(i);h in a?s.f(a,h,u(0,c)):a[h]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,r,l){var o=e("../internals/make-built-in"),s=e("../internals/object-define-property");r.exports=function(u,a,i){return i.get&&o(i.get,a,{getter:!0}),i.set&&o(i.set,a,{setter:!0}),s.f(u,a,i)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,r,l){var o=e("../internals/is-callable"),s=e("../internals/object-define-property"),u=e("../internals/make-built-in"),a=e("../internals/define-global-property");r.exports=function(i,c,h,d){d||(d={});var f=d.enumerable,b=d.name!==void 0?d.name:c;if(o(h)&&u(h,b,d),d.global)f?i[c]=h:a(c,h);else{try{d.unsafe?i[c]&&(f=!0):delete i[c]}catch{}f?i[c]=h:s.f(i,c,{value:h,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return i}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,r,l){var o=e("../internals/global"),s=Object.defineProperty;r.exports=function(u,a){try{s(o,u,{value:a,configurable:!0,writable:!0})}catch{o[u]=a}return a}},{"../internals/global":274}],247:[function(e,r,l){var o=e("../internals/fails");r.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,r,l){var o=typeof document=="object"&&document.all,s=o===void 0&&o!==void 0;r.exports={all:o,IS_HTMLDDA:s}},{}],249:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/is-object"),u=o.document,a=s(u)&&s(u.createElement);r.exports=function(i){return a?u.createElement(i):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,r,l){var o=e("../internals/engine-is-deno"),s=e("../internals/engine-is-node");r.exports=!o&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,r,l){r.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,r,l){var o=e("../internals/engine-user-agent");r.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,r,l){var o=e("../internals/engine-user-agent");r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},{"../internals/engine-user-agent":256}],254:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/classof-raw");r.exports=s(o.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,r,l){var o=e("../internals/engine-user-agent");r.exports=/web0s(?!.*chrome)/i.test(o)},{"../internals/engine-user-agent":256}],256:[function(e,r,l){r.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,r,l){var o,s,u=e("../internals/global"),a=e("../internals/engine-user-agent"),i=u.process,c=u.Deno,h=i&&i.versions||c&&c.version,d=h&&h.v8;d&&(s=(o=d.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!s&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(s=+o[1]),r.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,r,l){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/create-non-enumerable-property"),a=e("../internals/define-built-in"),i=e("../internals/define-global-property"),c=e("../internals/copy-constructor-properties"),h=e("../internals/is-forced");r.exports=function(d,f){var b,y,p,g,m,x=d.target,C=d.global,I=d.stat;if(b=C?o:I?o[x]||i(x,{}):(o[x]||{}).prototype)for(y in f){if(g=f[y],p=d.dontCallGetSet?(m=s(b,y))&&m.value:b[y],!h(C?y:x+(I?".":"#")+y,d.forced)&&p!==void 0){if(typeof g==typeof p)continue;c(g,p)}(d.sham||p&&p.sham)&&u(g,"sham",!0),a(b,y,g,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,r,l){r.exports=function(o){try{return!!o()}catch{return!0}}},{}],261:[function(e,r,l){var o=e("../internals/function-bind-native"),s=Function.prototype,u=s.apply,a=s.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(o?a.bind(u):function(){return a.apply(u,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,r,l){var o=e("../internals/function-uncurry-this-clause"),s=e("../internals/a-callable"),u=e("../internals/function-bind-native"),a=o(o.bind);r.exports=function(i,c){return s(i),c===void 0?i:u?a(i,c):function(){return i.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,r,l){var o=e("../internals/fails");r.exports=!o(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,r,l){var o=e("../internals/function-bind-native"),s=Function.prototype.call;r.exports=o?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/has-own-property"),u=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,i=s(u,"name"),c=i&&(function(){}).name==="something",h=i&&(!o||o&&a(u,"name").configurable);r.exports={EXISTS:i,PROPER:c,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/a-callable");r.exports=function(u,a,i){try{return o(s(Object.getOwnPropertyDescriptor(u,a)[i]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,r,l){var o=e("../internals/classof-raw"),s=e("../internals/function-uncurry-this");r.exports=function(u){if(o(u)==="Function")return s(u)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,r,l){var o=e("../internals/function-bind-native"),s=Function.prototype,u=s.call,a=o&&s.bind.bind(u,u);r.exports=o?a:function(i){return function(){return u.apply(i,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/is-callable"),u=function(a){return s(a)?a:void 0};r.exports=function(a,i){return arguments.length<2?u(o[a]):o[a]&&o[a][i]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,r,l){var o=e("../internals/classof"),s=e("../internals/get-method"),u=e("../internals/is-null-or-undefined"),a=e("../internals/iterators"),i=e("../internals/well-known-symbol")("iterator");r.exports=function(c){if(!u(c))return s(c,i)||s(c,"@@iterator")||a[o(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,r,l){var o=e("../internals/function-call"),s=e("../internals/a-callable"),u=e("../internals/an-object"),a=e("../internals/try-to-string"),i=e("../internals/get-iterator-method"),c=TypeError;r.exports=function(h,d){var f=arguments.length<2?i(h):d;if(s(f))return u(o(f,h));throw new c(a(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/is-array"),u=e("../internals/is-callable"),a=e("../internals/classof-raw"),i=e("../internals/to-string"),c=o([].push);r.exports=function(h){if(u(h))return h;if(s(h)){for(var d=h.length,f=[],b=0;b<d;b++){var y=h[b];typeof y=="string"?c(f,y):typeof y!="number"&&a(y)!=="Number"&&a(y)!=="String"||c(f,i(y))}var p=f.length,g=!0;return function(m,x){if(g)return g=!1,x;if(s(this))return x;for(var C=0;C<p;C++)if(f[C]===m)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,r,l){var o=e("../internals/a-callable"),s=e("../internals/is-null-or-undefined");r.exports=function(u,a){var i=u[a];return s(i)?void 0:o(i)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,r,l){(function(o){(function(){var s=function(u){return u&&u.Math===Math&&u};r.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof o=="object"&&o)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/to-object"),u=o({}.hasOwnProperty);r.exports=Object.hasOwn||function(a,i){return u(s(a),i)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,r,l){r.exports={}},{}],277:[function(e,r,l){r.exports=function(o,s){try{arguments.length===1?console.error(o):console.error(o,s)}catch{}}},{}],278:[function(e,r,l){var o=e("../internals/get-built-in");r.exports=o("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/fails"),u=e("../internals/document-create-element");r.exports=!o&&!s(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/fails"),u=e("../internals/classof-raw"),a=Object,i=o("".split);r.exports=s(function(){return!a("z").propertyIsEnumerable(0)})?function(c){return u(c)==="String"?i(c,""):a(c)}:a},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/is-callable"),u=e("../internals/shared-store"),a=o(Function.toString);s(u.inspectSource)||(u.inspectSource=function(i){return a(i)}),r.exports=u.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,r,l){var o,s,u,a=e("../internals/weak-map-basic-detection"),i=e("../internals/global"),c=e("../internals/is-object"),h=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),f=e("../internals/shared-store"),b=e("../internals/shared-key"),y=e("../internals/hidden-keys"),p=i.TypeError,g=i.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,o=function(C,I){if(m.has(C))throw new p("Object already initialized");return I.facade=C,m.set(C,I),I},s=function(C){return m.get(C)||{}},u=function(C){return m.has(C)}}else{var x=b("state");y[x]=!0,o=function(C,I){if(d(C,x))throw new p("Object already initialized");return I.facade=C,h(C,x,I),I},s=function(C){return d(C,x)?C[x]:{}},u=function(C){return d(C,x)}}r.exports={set:o,get:s,has:u,enforce:function(C){return u(C)?s(C):o(C,{})},getterFor:function(C){return function(I){var D;if(!c(I)||(D=s(I)).type!==C)throw new p("Incompatible receiver, "+C+" required");return D}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,r,l){var o=e("../internals/well-known-symbol"),s=e("../internals/iterators"),u=o("iterator"),a=Array.prototype;r.exports=function(i){return i!==void 0&&(s.Array===i||a[u]===i)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,r,l){var o=e("../internals/classof-raw");r.exports=Array.isArray||function(s){return o(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,r,l){var o=e("../internals/document-all"),s=o.all;r.exports=o.IS_HTMLDDA?function(u){return typeof u=="function"||u===s}:function(u){return typeof u=="function"}},{"../internals/document-all":248}],286:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/fails"),u=e("../internals/is-callable"),a=e("../internals/classof"),i=e("../internals/get-built-in"),c=e("../internals/inspect-source"),h=function(){},d=[],f=i("Reflect","construct"),b=/^\s*(?:class|function)\b/,y=o(b.exec),p=!b.test(h),g=function(x){if(!u(x))return!1;try{return f(h,d,x),!0}catch{return!1}},m=function(x){if(!u(x))return!1;switch(a(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!y(b,c(x))}catch{return!0}};m.sham=!0,r.exports=!f||s(function(){var x;return g(g.call)||!g(Object)||!g(function(){x=!0})||x})?m:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,r,l){var o=e("../internals/fails"),s=e("../internals/is-callable"),u=/#|\.prototype\./,a=function(f,b){var y=c[i(f)];return y===d||y!==h&&(s(b)?o(b):!!b)},i=a.normalize=function(f){return String(f).replace(u,".").toLowerCase()},c=a.data={},h=a.NATIVE="N",d=a.POLYFILL="P";r.exports=a},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,r,l){r.exports=function(o){return o==null}},{}],289:[function(e,r,l){var o=e("../internals/is-callable"),s=e("../internals/document-all"),u=s.all;r.exports=s.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:o(a)||a===u}:function(a){return typeof a=="object"?a!==null:o(a)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,r,l){r.exports=!1},{}],291:[function(e,r,l){var o=e("../internals/is-object"),s=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("match");r.exports=function(a){var i;return o(a)&&((i=a[u])!==void 0?!!i:s(a)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,r,l){var o=e("../internals/get-built-in"),s=e("../internals/is-callable"),u=e("../internals/object-is-prototype-of"),a=e("../internals/use-symbol-as-uid"),i=Object;r.exports=a?function(c){return typeof c=="symbol"}:function(c){var h=o("Symbol");return s(h)&&u(h.prototype,i(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,r,l){var o=e("../internals/function-bind-context"),s=e("../internals/function-call"),u=e("../internals/an-object"),a=e("../internals/try-to-string"),i=e("../internals/is-array-iterator-method"),c=e("../internals/length-of-array-like"),h=e("../internals/object-is-prototype-of"),d=e("../internals/get-iterator"),f=e("../internals/get-iterator-method"),b=e("../internals/iterator-close"),y=TypeError,p=function(m,x){this.stopped=m,this.result=x},g=p.prototype;r.exports=function(m,x,C){var I,D,z,O,B,V,q,H=C&&C.that,E=!(!C||!C.AS_ENTRIES),R=!(!C||!C.IS_RECORD),k=!(!C||!C.IS_ITERATOR),v=!(!C||!C.INTERRUPTED),_=o(x,H),w=function(N){return I&&b(I,"normal",N),new p(!0,N)},S=function(N){return E?(u(N),v?_(N[0],N[1],w):_(N[0],N[1])):v?_(N,w):_(N)};if(R)I=m.iterator;else if(k)I=m;else{if(!(D=f(m)))throw new y(a(m)+" is not iterable");if(i(D)){for(z=0,O=c(m);O>z;z++)if((B=S(m[z]))&&h(g,B))return B;return new p(!1)}I=d(m,D)}for(V=R?m.next:I.next;!(q=s(V,I)).done;){try{B=S(q.value)}catch(N){b(I,"throw",N)}if(typeof B=="object"&&B&&h(g,B))return B}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,r,l){var o=e("../internals/function-call"),s=e("../internals/an-object"),u=e("../internals/get-method");r.exports=function(a,i,c){var h,d;s(a);try{if(!(h=u(a,"return"))){if(i==="throw")throw c;return c}h=o(h,a)}catch(f){d=!0,h=f}if(i==="throw")throw c;if(d)throw h;return s(h),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,r,l){var o=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),u=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),i=e("../internals/iterators"),c=function(){return this};r.exports=function(h,d,f,b){var y=d+" Iterator";return h.prototype=s(o,{next:u(+!b,f)}),a(h,y,!1,!0),i[y]=c,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/is-pure"),a=e("../internals/function-name"),i=e("../internals/is-callable"),c=e("../internals/iterator-create-constructor"),h=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),b=e("../internals/create-non-enumerable-property"),y=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),g=e("../internals/iterators"),m=e("../internals/iterators-core"),x=a.PROPER,C=a.CONFIGURABLE,I=m.IteratorPrototype,D=m.BUGGY_SAFARI_ITERATORS,z=p("iterator"),O=function(){return this};r.exports=function(B,V,q,H,E,R,k){c(q,V,H);var v,_,w,S=function(F){if(F===E&&W)return W;if(!D&&F&&F in U)return U[F];switch(F){case"keys":case"values":case"entries":return function(){return new q(this,F)}}return function(){return new q(this)}},N=V+" Iterator",j=!1,U=B.prototype,G=U[z]||U["@@iterator"]||E&&U[E],W=!D&&G||S(E),J=V==="Array"&&U.entries||G;if(J&&(v=h(J.call(new B)))!==Object.prototype&&v.next&&(u||h(v)===I||(d?d(v,I):i(v[z])||y(v,z,O)),f(v,N,!0,!0),u&&(g[N]=O)),x&&E==="values"&&G&&G.name!=="values"&&(!u&&C?b(U,"name","values"):(j=!0,W=function(){return s(G,this)})),E)if(_={values:S("values"),keys:R?W:S("keys"),entries:S("entries")},k)for(w in _)(D||j||!(w in U))&&y(U,w,_[w]);else o({target:V,proto:!0,forced:D||j},_);return u&&!k||U[z]===W||y(U,z,W,{name:E}),g[V]=W,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,r,l){var o,s,u,a=e("../internals/fails"),i=e("../internals/is-callable"),c=e("../internals/is-object"),h=e("../internals/object-create"),d=e("../internals/object-get-prototype-of"),f=e("../internals/define-built-in"),b=e("../internals/well-known-symbol"),y=e("../internals/is-pure"),p=b("iterator"),g=!1;[].keys&&("next"in(u=[].keys())?(s=d(d(u)))!==Object.prototype&&(o=s):g=!0),!c(o)||a(function(){var m={};return o[p].call(m)!==m})?o={}:y&&(o=h(o)),i(o[p])||f(o,p,function(){return this}),r.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,r,l){arguments[4][276][0].apply(l,arguments)},{dup:276}],299:[function(e,r,l){var o=e("../internals/to-length");r.exports=function(s){return o(s.length)}},{"../internals/to-length":343}],300:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/fails"),u=e("../internals/is-callable"),a=e("../internals/has-own-property"),i=e("../internals/descriptors"),c=e("../internals/function-name").CONFIGURABLE,h=e("../internals/inspect-source"),d=e("../internals/internal-state"),f=d.enforce,b=d.get,y=String,p=Object.defineProperty,g=o("".slice),m=o("".replace),x=o([].join),C=i&&!s(function(){return p(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),D=r.exports=function(z,O,B){g(y(O),0,7)==="Symbol("&&(O="["+m(y(O),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(O="get "+O),B&&B.setter&&(O="set "+O),(!a(z,"name")||c&&z.name!==O)&&(i?p(z,"name",{value:O,configurable:!0}):z.name=O),C&&B&&a(B,"arity")&&z.length!==B.arity&&p(z,"length",{value:B.arity});try{B&&a(B,"constructor")&&B.constructor?i&&p(z,"prototype",{writable:!1}):z.prototype&&(z.prototype=void 0)}catch{}var V=f(z);return a(V,"source")||(V.source=x(I,typeof O=="string"?O:"")),z};Function.prototype.toString=D(function(){return u(this)&&b(this).source||h(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,r,l){var o=Math.ceil,s=Math.floor;r.exports=Math.trunc||function(u){var a=+u;return(a>0?s:o)(a)}},{}],302:[function(e,r,l){var o,s,u,a,i,c=e("../internals/global"),h=e("../internals/function-bind-context"),d=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/task").set,b=e("../internals/queue"),y=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),g=e("../internals/engine-is-webos-webkit"),m=e("../internals/engine-is-node"),x=c.MutationObserver||c.WebKitMutationObserver,C=c.document,I=c.process,D=c.Promise,z=d(c,"queueMicrotask"),O=z&&z.value;if(!O){var B=new b,V=function(){var q,H;for(m&&(q=I.domain)&&q.exit();H=B.get();)try{H()}catch(E){throw B.head&&o(),E}q&&q.enter()};y||m||g||!x||!C?!p&&D&&D.resolve?((a=D.resolve(void 0)).constructor=D,i=h(a.then,a),o=function(){i(V)}):m?o=function(){I.nextTick(V)}:(f=h(f,c),o=function(){f(V)}):(s=!0,u=C.createTextNode(""),new x(V).observe(u,{characterData:!0}),o=function(){u.data=s=!s}),O=function(q){B.head||o(),B.add(q)}}r.exports=O},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,r,l){var o=e("../internals/a-callable"),s=TypeError,u=function(a){var i,c;this.promise=new a(function(h,d){if(i!==void 0||c!==void 0)throw new s("Bad Promise constructor");i=h,c=d}),this.resolve=o(i),this.reject=o(c)};r.exports.f=function(a){return new u(a)}},{"../internals/a-callable":222}],304:[function(e,r,l){var o=e("../internals/is-regexp"),s=TypeError;r.exports=function(u){if(o(u))throw new s("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":291}],305:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/function-uncurry-this"),u=e("../internals/function-call"),a=e("../internals/fails"),i=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),h=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),f=e("../internals/indexed-object"),b=Object.assign,y=Object.defineProperty,p=s([].concat);r.exports=!b||a(function(){if(o&&b({b:1},b(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},m={},x=Symbol("assign detection");return g[x]=7,"abcdefghijklmnopqrst".split("").forEach(function(C){m[C]=C}),b({},g)[x]!==7||i(b({},m)).join("")!=="abcdefghijklmnopqrst"})?function(g,m){for(var x=d(g),C=arguments.length,I=1,D=c.f,z=h.f;C>I;)for(var O,B=f(arguments[I++]),V=D?p(i(B),D(B)):i(B),q=V.length,H=0;q>H;)O=V[H++],o&&!u(z,B,O)||(x[O]=B[O]);return x}:b},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,r,l){var o,s=e("../internals/an-object"),u=e("../internals/object-define-properties"),a=e("../internals/enum-bug-keys"),i=e("../internals/hidden-keys"),c=e("../internals/html"),h=e("../internals/document-create-element"),d=e("../internals/shared-key"),f=d("IE_PROTO"),b=function(){},y=function(m){return"<script>"+m+"<\/script>"},p=function(m){m.write(y("")),m.close();var x=m.parentWindow.Object;return m=null,x},g=function(){try{o=new ActiveXObject("htmlfile")}catch{}var m,x;g=typeof document<"u"?document.domain&&o?p(o):((x=h("iframe")).style.display="none",c.appendChild(x),x.src="javascript:",(m=x.contentWindow.document).open(),m.write(y("document.F=Object")),m.close(),m.F):p(o);for(var C=a.length;C--;)delete g.prototype[a[C]];return g()};i[f]=!0,r.exports=Object.create||function(m,x){var C;return m!==null?(b.prototype=s(m),C=new b,b.prototype=null,C[f]=m):C=g(),x===void 0?C:u.f(C,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/v8-prototype-define-bug"),u=e("../internals/object-define-property"),a=e("../internals/an-object"),i=e("../internals/to-indexed-object"),c=e("../internals/object-keys");l.f=o&&!s?Object.defineProperties:function(h,d){a(h);for(var f,b=i(d),y=c(d),p=y.length,g=0;p>g;)u.f(h,f=y[g++],b[f]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/ie8-dom-define"),u=e("../internals/v8-prototype-define-bug"),a=e("../internals/an-object"),i=e("../internals/to-property-key"),c=TypeError,h=Object.defineProperty,d=Object.getOwnPropertyDescriptor;l.f=o?u?function(f,b,y){if(a(f),b=i(b),a(y),typeof f=="function"&&b==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var p=d(f,b);p&&p.writable&&(f[b]=y.value,y={configurable:"configurable"in y?y.configurable:p.configurable,enumerable:"enumerable"in y?y.enumerable:p.enumerable,writable:!1})}return h(f,b,y)}:h:function(f,b,y){if(a(f),b=i(b),a(y),s)try{return h(f,b,y)}catch{}if("get"in y||"set"in y)throw new c("Accessors not supported");return"value"in y&&(f[b]=y.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/function-call"),u=e("../internals/object-property-is-enumerable"),a=e("../internals/create-property-descriptor"),i=e("../internals/to-indexed-object"),c=e("../internals/to-property-key"),h=e("../internals/has-own-property"),d=e("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;l.f=o?f:function(b,y){if(b=i(b),y=c(y),d)try{return f(b,y)}catch{}if(h(b,y))return a(!s(u.f,b,y),b[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,r,l){var o=e("../internals/classof-raw"),s=e("../internals/to-indexed-object"),u=e("../internals/object-get-own-property-names").f,a=e("../internals/array-slice-simple"),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(c){return i&&o(c)==="Window"?function(h){try{return u(h)}catch{return a(i)}}(c):u(s(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,r,l){var o=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(u){return o(u,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,r,l){l.f=Object.getOwnPropertySymbols},{}],313:[function(e,r,l){var o=e("../internals/has-own-property"),s=e("../internals/is-callable"),u=e("../internals/to-object"),a=e("../internals/shared-key"),i=e("../internals/correct-prototype-getter"),c=a("IE_PROTO"),h=Object,d=h.prototype;r.exports=i?h.getPrototypeOf:function(f){var b=u(f);if(o(b,c))return b[c];var y=b.constructor;return s(y)&&b instanceof y?y.prototype:b instanceof h?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,r,l){var o=e("../internals/function-uncurry-this");r.exports=o({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=e("../internals/has-own-property"),u=e("../internals/to-indexed-object"),a=e("../internals/array-includes").indexOf,i=e("../internals/hidden-keys"),c=o([].push);r.exports=function(h,d){var f,b=u(h),y=0,p=[];for(f in b)!s(i,f)&&s(b,f)&&c(p,f);for(;d.length>y;)s(b,f=d[y++])&&(~a(p,f)||c(p,f));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,r,l){var o=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys");r.exports=Object.keys||function(u){return o(u,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,r,l){var o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u=s&&!o.call({1:2},1);l.f=u?function(a){var i=s(this,a);return!!i&&i.enumerable}:o},{}],318:[function(e,r,l){var o=e("../internals/function-uncurry-this-accessor"),s=e("../internals/an-object"),u=e("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,i=!1,c={};try{(a=o(Object.prototype,"__proto__","set"))(c,[]),i=c instanceof Array}catch{}return function(h,d){return s(h),u(d),i?a(h,d):h.__proto__=d,h}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/fails"),u=e("../internals/function-uncurry-this"),a=e("../internals/object-get-prototype-of"),i=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),h=u(e("../internals/object-property-is-enumerable").f),d=u([].push),f=o&&s(function(){var y=Object.create(null);return y[2]=2,!h(y,2)}),b=function(y){return function(p){for(var g,m=c(p),x=i(m),C=f&&a(m)===null,I=x.length,D=0,z=[];I>D;)g=x[D++],o&&!(C?g in m:h(m,g))||d(z,y?[g,m[g]]:m[g]);return z}};r.exports={entries:b(!0),values:b(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,r,l){var o=e("../internals/function-call"),s=e("../internals/is-callable"),u=e("../internals/is-object"),a=TypeError;r.exports=function(i,c){var h,d;if(c==="string"&&s(h=i.toString)&&!u(d=o(h,i))||s(h=i.valueOf)&&!u(d=o(h,i))||c!=="string"&&s(h=i.toString)&&!u(d=o(h,i)))return d;throw new a("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,r,l){var o=e("../internals/get-built-in"),s=e("../internals/function-uncurry-this"),u=e("../internals/object-get-own-property-names"),a=e("../internals/object-get-own-property-symbols"),i=e("../internals/an-object"),c=s([].concat);r.exports=o("Reflect","ownKeys")||function(h){var d=u.f(i(h)),f=a.f;return f?c(d,f(h)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,r,l){var o=e("../internals/global");r.exports=o},{"../internals/global":274}],323:[function(e,r,l){r.exports=function(o){try{return{error:!1,value:o()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/promise-native-constructor"),u=e("../internals/is-callable"),a=e("../internals/is-forced"),i=e("../internals/inspect-source"),c=e("../internals/well-known-symbol"),h=e("../internals/engine-is-browser"),d=e("../internals/engine-is-deno"),f=e("../internals/is-pure"),b=e("../internals/engine-v8-version"),y=s&&s.prototype,p=c("species"),g=!1,m=u(o.PromiseRejectionEvent),x=a("Promise",function(){var C=i(s),I=C!==String(s);if(!I&&b===66||f&&(!y.catch||!y.finally))return!0;if(!b||b<51||!/native code/.test(C)){var D=new s(function(O){O(1)}),z=function(O){O(function(){},function(){})};if((D.constructor={})[p]=z,!(g=D.then(function(){})instanceof z))return!0}return!I&&(h||d)&&!m});r.exports={CONSTRUCTOR:x,REJECTION_EVENT:m,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,r,l){var o=e("../internals/global");r.exports=o.Promise},{"../internals/global":274}],326:[function(e,r,l){var o=e("../internals/an-object"),s=e("../internals/is-object"),u=e("../internals/new-promise-capability");r.exports=function(a,i){if(o(a),s(i)&&i.constructor===a)return i;var c=u.f(a);return(0,c.resolve)(i),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,r,l){var o=e("../internals/promise-native-constructor"),s=e("../internals/check-correctness-of-iteration"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR;r.exports=u||!s(function(a){o.all(a).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,r,l){var o=function(){this.head=null,this.tail=null};o.prototype={add:function(s){var u={item:s,next:null},a=this.tail;a?a.next=u:this.head=u,this.tail=u},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},r.exports=o},{}],329:[function(e,r,l){var o=e("../internals/is-null-or-undefined"),s=TypeError;r.exports=function(u){if(o(u))throw new s("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":288}],330:[function(e,r,l){var o=e("../internals/get-built-in"),s=e("../internals/define-built-in-accessor"),u=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),i=u("species");r.exports=function(c){var h=o(c);a&&h&&!h[i]&&s(h,i,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,r,l){var o=e("../internals/object-define-property").f,s=e("../internals/has-own-property"),u=e("../internals/well-known-symbol")("toStringTag");r.exports=function(a,i,c){a&&!c&&(a=a.prototype),a&&!s(a,u)&&o(a,u,{configurable:!0,value:i})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,r,l){var o=e("../internals/shared"),s=e("../internals/uid"),u=o("keys");r.exports=function(a){return u[a]||(u[a]=s(a))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/define-global-property"),u=o["__core-js_shared__"]||s("__core-js_shared__",{});r.exports=u},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,r,l){var o=e("../internals/is-pure"),s=e("../internals/shared-store");(r.exports=function(u,a){return s[u]||(s[u]=a!==void 0?a:{})})("versions",[]).push({version:"3.33.0",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,r,l){var o=e("../internals/an-object"),s=e("../internals/a-constructor"),u=e("../internals/is-null-or-undefined"),a=e("../internals/well-known-symbol")("species");r.exports=function(i,c){var h,d=o(i).constructor;return d===void 0||u(h=o(d)[a])?c:s(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,r,l){var o=e("../internals/engine-v8-version"),s=e("../internals/fails"),u=e("../internals/global").String;r.exports=!!Object.getOwnPropertySymbols&&!s(function(){var a=Symbol("symbol detection");return!u(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&o&&o<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,r,l){var o=e("../internals/function-call"),s=e("../internals/get-built-in"),u=e("../internals/well-known-symbol"),a=e("../internals/define-built-in");r.exports=function(){var i=s("Symbol"),c=i&&i.prototype,h=c&&c.valueOf,d=u("toPrimitive");c&&!c[d]&&a(c,d,function(f){return o(h,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,r,l){var o=e("../internals/symbol-constructor-detection");r.exports=o&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,r,l){var o,s,u,a,i=e("../internals/global"),c=e("../internals/function-apply"),h=e("../internals/function-bind-context"),d=e("../internals/is-callable"),f=e("../internals/has-own-property"),b=e("../internals/fails"),y=e("../internals/html"),p=e("../internals/array-slice"),g=e("../internals/document-create-element"),m=e("../internals/validate-arguments-length"),x=e("../internals/engine-is-ios"),C=e("../internals/engine-is-node"),I=i.setImmediate,D=i.clearImmediate,z=i.process,O=i.Dispatch,B=i.Function,V=i.MessageChannel,q=i.String,H=0,E={};b(function(){o=i.location});var R=function(w){if(f(E,w)){var S=E[w];delete E[w],S()}},k=function(w){return function(){R(w)}},v=function(w){R(w.data)},_=function(w){i.postMessage(q(w),o.protocol+"//"+o.host)};I&&D||(I=function(w){m(arguments.length,1);var S=d(w)?w:B(w),N=p(arguments,1);return E[++H]=function(){c(S,void 0,N)},s(H),H},D=function(w){delete E[w]},C?s=function(w){z.nextTick(k(w))}:O&&O.now?s=function(w){O.now(k(w))}:V&&!x?(a=(u=new V).port2,u.port1.onmessage=v,s=h(a.postMessage,a)):i.addEventListener&&d(i.postMessage)&&!i.importScripts&&o&&o.protocol!=="file:"&&!b(_)?(s=_,i.addEventListener("message",v,!1)):s="onreadystatechange"in g("script")?function(w){y.appendChild(g("script")).onreadystatechange=function(){y.removeChild(this),R(w)}}:function(w){setTimeout(k(w),0)}),r.exports={set:I,clear:D}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,r,l){var o=e("../internals/to-integer-or-infinity"),s=Math.max,u=Math.min;r.exports=function(a,i){var c=o(a);return c<0?s(c+i,0):u(c,i)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,r,l){var o=e("../internals/indexed-object"),s=e("../internals/require-object-coercible");r.exports=function(u){return o(s(u))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,r,l){var o=e("../internals/math-trunc");r.exports=function(s){var u=+s;return u!=u||u===0?0:o(u)}},{"../internals/math-trunc":301}],343:[function(e,r,l){var o=e("../internals/to-integer-or-infinity"),s=Math.min;r.exports=function(u){return u>0?s(o(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,r,l){var o=e("../internals/require-object-coercible"),s=Object;r.exports=function(u){return s(o(u))}},{"../internals/require-object-coercible":329}],345:[function(e,r,l){var o=e("../internals/function-call"),s=e("../internals/is-object"),u=e("../internals/is-symbol"),a=e("../internals/get-method"),i=e("../internals/ordinary-to-primitive"),c=e("../internals/well-known-symbol"),h=TypeError,d=c("toPrimitive");r.exports=function(f,b){if(!s(f)||u(f))return f;var y,p=a(f,d);if(p){if(b===void 0&&(b="default"),y=o(p,f,b),!s(y)||u(y))return y;throw new h("Can't convert object to primitive value")}return b===void 0&&(b="number"),i(f,b)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,r,l){var o=e("../internals/to-primitive"),s=e("../internals/is-symbol");r.exports=function(u){var a=o(u,"string");return s(a)?a:a+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,r,l){var o={};o[e("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,r,l){var o=e("../internals/classof"),s=String;r.exports=function(u){if(o(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(u)}},{"../internals/classof":236}],349:[function(e,r,l){var o=String;r.exports=function(s){try{return o(s)}catch{return"Object"}}},{}],350:[function(e,r,l){var o=e("../internals/function-uncurry-this"),s=0,u=Math.random(),a=o(1 .toString);r.exports=function(i){return"Symbol("+(i===void 0?"":i)+")_"+a(++s+u,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,r,l){var o=e("../internals/symbol-constructor-detection");r.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,r,l){var o=e("../internals/descriptors"),s=e("../internals/fails");r.exports=o&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,r,l){var o=TypeError;r.exports=function(s,u){if(s<u)throw new o("Not enough arguments");return s}},{}],354:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/is-callable"),u=o.WeakMap;r.exports=s(u)&&/native code/.test(String(u))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,r,l){var o=e("../internals/path"),s=e("../internals/has-own-property"),u=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;r.exports=function(i){var c=o.Symbol||(o.Symbol={});s(c,i)||a(c,i,{value:u.f(i)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,r,l){var o=e("../internals/well-known-symbol");l.f=o},{"../internals/well-known-symbol":357}],357:[function(e,r,l){var o=e("../internals/global"),s=e("../internals/shared"),u=e("../internals/has-own-property"),a=e("../internals/uid"),i=e("../internals/symbol-constructor-detection"),c=e("../internals/use-symbol-as-uid"),h=o.Symbol,d=s("wks"),f=c?h.for||h:h&&h.withoutSetter||a;r.exports=function(b){return u(d,b)||(d[b]=i&&u(h,b)?h[b]:f("Symbol."+b)),d[b]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/array-iteration").findIndex,u=e("../internals/add-to-unscopables"),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),o({target:"Array",proto:!0,forced:a},{findIndex:function(i){return s(this,i,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/array-iteration").find,u=e("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),o({target:"Array",proto:!0,forced:a},{find:function(i){return s(this,i,arguments.length>1?arguments[1]:void 0)}}),u("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/array-includes").includes,u=e("../internals/fails"),a=e("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(i){return s(this,i,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,r,l){var o=e("../internals/to-indexed-object"),s=e("../internals/add-to-unscopables"),u=e("../internals/iterators"),a=e("../internals/internal-state"),i=e("../internals/object-define-property").f,c=e("../internals/iterator-define"),h=e("../internals/create-iter-result-object"),d=e("../internals/is-pure"),f=e("../internals/descriptors"),b=a.set,y=a.getterFor("Array Iterator");r.exports=c(Array,"Array",function(g,m){b(this,{type:"Array Iterator",target:o(g),index:0,kind:m})},function(){var g=y(this),m=g.target,x=g.kind,C=g.index++;if(!m||C>=m.length)return g.target=void 0,h(void 0,!0);switch(x){case"keys":return h(C,!1);case"values":return h(m[C],!1)}return h([C,m[C]],!1)},"values");var p=u.Arguments=u.Array;if(s("keys"),s("values"),s("entries"),!d&&f&&p.name!=="values")try{i(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/get-built-in"),u=e("../internals/function-apply"),a=e("../internals/function-call"),i=e("../internals/function-uncurry-this"),c=e("../internals/fails"),h=e("../internals/is-callable"),d=e("../internals/is-symbol"),f=e("../internals/array-slice"),b=e("../internals/get-json-replacer-function"),y=e("../internals/symbol-constructor-detection"),p=String,g=s("JSON","stringify"),m=i(/./.exec),x=i("".charAt),C=i("".charCodeAt),I=i("".replace),D=i(1 .toString),z=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,B=/^[\uDC00-\uDFFF]$/,V=!y||c(function(){var R=s("Symbol")("stringify detection");return g([R])!=="[null]"||g({a:R})!=="{}"||g(Object(R))!=="{}"}),q=c(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),H=function(R,k){var v=f(arguments),_=b(k);if(h(_)||R!==void 0&&!d(R))return v[1]=function(w,S){if(h(_)&&(S=a(_,this,p(w),S)),!d(S))return S},u(g,null,v)},E=function(R,k,v){var _=x(v,k-1),w=x(v,k+1);return m(O,R)&&!m(B,w)||m(B,R)&&!m(O,_)?"\\u"+D(C(R,0),16):R};g&&o({target:"JSON",stat:!0,arity:3,forced:V||q},{stringify:function(R,k,v){var _=f(arguments),w=u(V?H:g,null,_);return q&&typeof w=="string"?I(w,z,E):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,r,l){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(o){return o!=o}})},{"../internals/export":259}],364:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/object-assign");o({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),a=e("../internals/object-get-own-property-symbols"),i=e("../internals/to-object");o({target:"Object",stat:!0,forced:!s||u(function(){a.f(1)})},{getOwnPropertySymbols:function(c){var h=a.f;return h?h(i(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/to-object"),u=e("../internals/object-keys");o({target:"Object",stat:!0,forced:e("../internals/fails")(function(){u(1)})},{keys:function(a){return u(s(a))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/object-to-array").values;o({target:"Object",stat:!0},{values:function(u){return s(u)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),i=e("../internals/perform"),c=e("../internals/iterate");o({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(h){var d=this,f=a.f(d),b=f.resolve,y=f.reject,p=i(function(){var g=u(d.resolve),m=[],x=0,C=1;c(h,function(I){var D=x++,z=!1;C++,s(g,d,I).then(function(O){z||(z=!0,m[D]=O,--C||b(m))},y)}),--C||b(m)});return p.error&&y(p.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/is-pure"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,a=e("../internals/promise-native-constructor"),i=e("../internals/get-built-in"),c=e("../internals/is-callable"),h=e("../internals/define-built-in"),d=a&&a.prototype;if(o({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(b){return this.then(void 0,b)}}),!s&&c(a)){var f=i("Promise").prototype.catch;d.catch!==f&&h(d,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,r,l){var o,s,u,a=e("../internals/export"),i=e("../internals/is-pure"),c=e("../internals/engine-is-node"),h=e("../internals/global"),d=e("../internals/function-call"),f=e("../internals/define-built-in"),b=e("../internals/object-set-prototype-of"),y=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),g=e("../internals/a-callable"),m=e("../internals/is-callable"),x=e("../internals/is-object"),C=e("../internals/an-instance"),I=e("../internals/species-constructor"),D=e("../internals/task").set,z=e("../internals/microtask"),O=e("../internals/host-report-errors"),B=e("../internals/perform"),V=e("../internals/queue"),q=e("../internals/internal-state"),H=e("../internals/promise-native-constructor"),E=e("../internals/promise-constructor-detection"),R=e("../internals/new-promise-capability"),k=E.CONSTRUCTOR,v=E.REJECTION_EVENT,_=E.SUBCLASSING,w=q.getterFor("Promise"),S=q.set,N=H&&H.prototype,j=H,U=N,G=h.TypeError,W=h.document,J=h.process,F=R.f,K=F,L=!!(W&&W.createEvent&&h.dispatchEvent),P=function(ne){var ue;return!(!x(ne)||!m(ue=ne.then))&&ue},$=function(ne,ue){var le,de,he,pe=ue.value,ye=ue.state===1,Ee=ye?ne.ok:ne.fail,Te=ne.resolve,Se=ne.reject,Fe=ne.domain;try{Ee?(ye||(ue.rejection===2&&ie(ue),ue.rejection=1),Ee===!0?le=pe:(Fe&&Fe.enter(),le=Ee(pe),Fe&&(Fe.exit(),he=!0)),le===ne.promise?Se(new G("Promise-chain cycle")):(de=P(le))?d(de,le,Te,Se):Te(le)):Se(pe)}catch(Le){Fe&&!he&&Fe.exit(),Se(Le)}},Y=function(ne,ue){ne.notified||(ne.notified=!0,z(function(){for(var le,de=ne.reactions;le=de.get();)$(le,ne);ne.notified=!1,ue&&!ne.rejection&&X(ne)}))},Q=function(ne,ue,le){var de,he;L?((de=W.createEvent("Event")).promise=ue,de.reason=le,de.initEvent(ne,!1,!0),h.dispatchEvent(de)):de={promise:ue,reason:le},!v&&(he=h["on"+ne])?he(de):ne==="unhandledrejection"&&O("Unhandled promise rejection",le)},X=function(ne){d(D,h,function(){var ue,le=ne.facade,de=ne.value;if(ee(ne)&&(ue=B(function(){c?J.emit("unhandledRejection",de,le):Q("unhandledrejection",le,de)}),ne.rejection=c||ee(ne)?2:1,ue.error))throw ue.value})},ee=function(ne){return ne.rejection!==1&&!ne.parent},ie=function(ne){d(D,h,function(){var ue=ne.facade;c?J.emit("rejectionHandled",ue):Q("rejectionhandled",ue,ne.value)})},oe=function(ne,ue,le){return function(de){ne(ue,de,le)}},Z=function(ne,ue,le){ne.done||(ne.done=!0,le&&(ne=le),ne.value=ue,ne.state=2,Y(ne,!0))},re=function(ne,ue,le){if(!ne.done){ne.done=!0,le&&(ne=le);try{if(ne.facade===ue)throw new G("Promise can't be resolved itself");var de=P(ue);de?z(function(){var he={done:!1};try{d(de,ue,oe(re,he,ne),oe(Z,he,ne))}catch(pe){Z(he,pe,ne)}}):(ne.value=ue,ne.state=1,Y(ne,!1))}catch(he){Z({done:!1},he,ne)}}};if(k&&(U=(j=function(ne){C(this,U),g(ne),d(o,this);var ue=w(this);try{ne(oe(re,ue),oe(Z,ue))}catch(le){Z(ue,le)}}).prototype,(o=function(ne){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=f(U,"then",function(ne,ue){var le=w(this),de=F(I(this,j));return le.parent=!0,de.ok=!m(ne)||ne,de.fail=m(ue)&&ue,de.domain=c?J.domain:void 0,le.state===0?le.reactions.add(de):z(function(){$(de,le)}),de.promise}),s=function(){var ne=new o,ue=w(ne);this.promise=ne,this.resolve=oe(re,ue),this.reject=oe(Z,ue)},R.f=F=function(ne){return ne===j||ne===void 0?new s(ne):K(ne)},!i&&m(H)&&N!==Object.prototype)){u=N.then,_||f(N,"then",function(ne,ue){var le=this;return new j(function(de,he){d(u,le,de,he)}).then(ne,ue)},{unsafe:!0});try{delete N.constructor}catch{}b&&b(N,U)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:j}),y(j,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),a=e("../internals/fails"),i=e("../internals/get-built-in"),c=e("../internals/is-callable"),h=e("../internals/species-constructor"),d=e("../internals/promise-resolve"),f=e("../internals/define-built-in"),b=u&&u.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!u&&a(function(){b.finally.call({then:function(){}},function(){})})},{finally:function(p){var g=h(this,i("Promise")),m=c(p);return this.then(m?function(x){return d(g,p()).then(function(){return x})}:p,m?function(x){return d(g,p()).then(function(){throw x})}:p)}}),!s&&c(u)){var y=i("Promise").prototype.finally;b.finally!==y&&f(b,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,r,l){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),i=e("../internals/perform"),c=e("../internals/iterate");o({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(h){var d=this,f=a.f(d),b=f.reject,y=i(function(){var p=u(d.resolve);c(h,function(g){s(p,d,g).then(f.resolve,b)})});return y.error&&b(y.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/new-promise-capability");o({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(a){var i=u.f(this);return s(i.reject,void 0,a),i.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/get-built-in"),u=e("../internals/is-pure"),a=e("../internals/promise-native-constructor"),i=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-resolve"),h=s("Promise"),d=u&&!i;o({target:"Promise",stat:!0,forced:u||i},{resolve:function(f){return c(d&&this===h?a:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/function-uncurry-this"),u=e("../internals/to-absolute-index"),a=RangeError,i=String.fromCharCode,c=String.fromCodePoint,h=s([].join);o({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(d){for(var f,b=[],y=arguments.length,p=0;y>p;){if(f=+arguments[p++],u(f,1114111)!==f)throw new a(f+" is not a valid code point");b[p]=f<65536?i(f):i(55296+((f-=65536)>>10),f%1024+56320)}return h(b,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/function-uncurry-this"),u=e("../internals/not-a-regexp"),a=e("../internals/require-object-coercible"),i=e("../internals/to-string"),c=e("../internals/correct-is-regexp-logic"),h=s("".indexOf);o({target:"String",proto:!0,forced:!c("includes")},{includes:function(d){return!!~h(i(a(this)),i(u(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,r,l){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/global"),u=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),i=e("../internals/is-pure"),c=e("../internals/descriptors"),h=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),f=e("../internals/has-own-property"),b=e("../internals/object-is-prototype-of"),y=e("../internals/an-object"),p=e("../internals/to-indexed-object"),g=e("../internals/to-property-key"),m=e("../internals/to-string"),x=e("../internals/create-property-descriptor"),C=e("../internals/object-create"),I=e("../internals/object-keys"),D=e("../internals/object-get-own-property-names"),z=e("../internals/object-get-own-property-names-external"),O=e("../internals/object-get-own-property-symbols"),B=e("../internals/object-get-own-property-descriptor"),V=e("../internals/object-define-property"),q=e("../internals/object-define-properties"),H=e("../internals/object-property-is-enumerable"),E=e("../internals/define-built-in"),R=e("../internals/define-built-in-accessor"),k=e("../internals/shared"),v=e("../internals/shared-key"),_=e("../internals/hidden-keys"),w=e("../internals/uid"),S=e("../internals/well-known-symbol"),N=e("../internals/well-known-symbol-wrapped"),j=e("../internals/well-known-symbol-define"),U=e("../internals/symbol-define-to-primitive"),G=e("../internals/set-to-string-tag"),W=e("../internals/internal-state"),J=e("../internals/array-iteration").forEach,F=v("hidden"),K=W.set,L=W.getterFor("Symbol"),P=Object.prototype,$=s.Symbol,Y=$&&$.prototype,Q=s.RangeError,X=s.TypeError,ee=s.QObject,ie=B.f,oe=V.f,Z=z.f,re=H.f,ne=a([].push),ue=k("symbols"),le=k("op-symbols"),de=k("wks"),he=!ee||!ee.prototype||!ee.prototype.findChild,pe=function(Ae,xe,Ie){var je=ie(P,xe);je&&delete P[xe],oe(Ae,xe,Ie),je&&Ae!==P&&oe(P,xe,je)},ye=c&&d(function(){return C(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7})?pe:oe,Ee=function(Ae,xe){var Ie=ue[Ae]=C(Y);return K(Ie,{type:"Symbol",tag:Ae,description:xe}),c||(Ie.description=xe),Ie},Te=function(Ae,xe,Ie){Ae===P&&Te(le,xe,Ie),y(Ae);var je=g(xe);return y(Ie),f(ue,je)?(Ie.enumerable?(f(Ae,F)&&Ae[F][je]&&(Ae[F][je]=!1),Ie=C(Ie,{enumerable:x(0,!1)})):(f(Ae,F)||oe(Ae,F,x(1,{})),Ae[F][je]=!0),ye(Ae,je,Ie)):oe(Ae,je,Ie)},Se=function(Ae,xe){y(Ae);var Ie=p(xe),je=I(Ie).concat(Ue(Ie));return J(je,function(Re){c&&!u(Fe,Ie,Re)||Te(Ae,Re,Ie[Re])}),Ae},Fe=function(Ae){var xe=g(Ae),Ie=u(re,this,xe);return!(this===P&&f(ue,xe)&&!f(le,xe))&&(!(Ie||!f(this,xe)||!f(ue,xe)||f(this,F)&&this[F][xe])||Ie)},Le=function(Ae,xe){var Ie=p(Ae),je=g(xe);if(Ie!==P||!f(ue,je)||f(le,je)){var Re=ie(Ie,je);return!Re||!f(ue,je)||f(Ie,F)&&Ie[F][je]||(Re.enumerable=!0),Re}},Oe=function(Ae){var xe=Z(p(Ae)),Ie=[];return J(xe,function(je){f(ue,je)||f(_,je)||ne(Ie,je)}),Ie},Ue=function(Ae){var xe=Ae===P,Ie=Z(xe?le:p(Ae)),je=[];return J(Ie,function(Re){!f(ue,Re)||xe&&!f(P,Re)||ne(je,ue[Re])}),je};h||(E(Y=($=function(){if(b(Y,this))throw new X("Symbol is not a constructor");var Ae=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,xe=w(Ae),Ie=function(je){this===P&&u(Ie,le,je),f(this,F)&&f(this[F],xe)&&(this[F][xe]=!1);var Re=x(1,je);try{ye(this,xe,Re)}catch(st){if(!(st instanceof Q))throw st;pe(this,xe,Re)}};return c&&he&&ye(P,xe,{configurable:!0,set:Ie}),Ee(xe,Ae)}).prototype,"toString",function(){return L(this).tag}),E($,"withoutSetter",function(Ae){return Ee(w(Ae),Ae)}),H.f=Fe,V.f=Te,q.f=Se,B.f=Le,D.f=z.f=Oe,O.f=Ue,N.f=function(Ae){return Ee(S(Ae),Ae)},c&&(R(Y,"description",{configurable:!0,get:function(){return L(this).description}}),i||E(P,"propertyIsEnumerable",Fe,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:$}),J(I(de),function(Ae){j(Ae)}),o({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){he=!0},useSimple:function(){he=!1}}),o({target:"Object",stat:!0,forced:!h,sham:!c},{create:function(Ae,xe){return xe===void 0?C(Ae):Se(C(Ae),xe)},defineProperty:Te,defineProperties:Se,getOwnPropertyDescriptor:Le}),o({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Oe}),U(),G($,"Symbol"),_[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/get-built-in"),u=e("../internals/has-own-property"),a=e("../internals/to-string"),i=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),h=i("string-to-symbol-registry"),d=i("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!c},{for:function(f){var b=a(f);if(u(h,b))return h[b];var y=s("Symbol")(b);return h[b]=y,d[y]=b,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,r,l){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,r,l){var o=e("../internals/export"),s=e("../internals/has-own-property"),u=e("../internals/is-symbol"),a=e("../internals/try-to-string"),i=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),h=i("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!c},{keyFor:function(d){if(!u(d))throw new TypeError(a(d)+" is not a symbol");if(s(h,d))return h[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,r,l){function o(s){return Object.prototype.toString.call(s)}l.isArray=function(s){return Array.isArray?Array.isArray(s):o(s)==="[object Array]"},l.isBoolean=function(s){return typeof s=="boolean"},l.isNull=function(s){return s===null},l.isNullOrUndefined=function(s){return s==null},l.isNumber=function(s){return typeof s=="number"},l.isString=function(s){return typeof s=="string"},l.isSymbol=function(s){return typeof s=="symbol"},l.isUndefined=function(s){return s===void 0},l.isRegExp=function(s){return o(s)==="[object RegExp]"},l.isObject=function(s){return typeof s=="object"&&s!==null},l.isDate=function(s){return o(s)==="[object Date]"},l.isError=function(s){return o(s)==="[object Error]"||s instanceof Error},l.isFunction=function(s){return typeof s=="function"},l.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},l.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,r,l){(function(o){(function(){var s=e("elliptic"),u=e("bn.js");r.exports=function(h){return new i(h)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function i(h){this.curveType=a[h],this.curveType||(this.curveType={name:h}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function c(h,d,f){Array.isArray(h)||(h=h.toArray());var b=new o(h);if(f&&b.length<f){var y=new o(f-b.length);y.fill(0),b=o.concat([y,b])}return d?b.toString(d):b}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,i.prototype.generateKeys=function(h,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,d)},i.prototype.computeSecret=function(h,d,f){return d=d||"utf8",o.isBuffer(h)||(h=new o(h,d)),c(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},i.prototype.getPublicKey=function(h,d){var f=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),c(f,h)},i.prototype.getPrivateKey=function(h){return c(this.keys.getPrivate(),h)},i.prototype.setPublicKey=function(h,d){return d=d||"utf8",o.isBuffer(h)||(h=new o(h,d)),this.keys._importPublic(h),this},i.prototype.setPrivateKey=function(h,d){d=d||"utf8",o.isBuffer(h)||(h=new o(h,d));var f=new u(h);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,r,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],386:[function(e,r,l){var o=e("inherits"),s=e("md5.js"),u=e("ripemd160"),a=e("sha.js"),i=e("cipher-base");function c(h){i.call(this,"digest"),this._hash=h}o(c,i),c.prototype._update=function(h){this._hash.update(h)},c.prototype._final=function(){return this._hash.digest()},r.exports=function(h){return(h=h.toLowerCase())==="md5"?new s:h==="rmd160"||h==="ripemd160"?new u:new c(a(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,r,l){var o=e("md5.js");r.exports=function(s){return new o().update(s).digest()}},{"md5.js":450}],388:[function(e,r,l){var o=e("inherits"),s=e("./legacy"),u=e("cipher-base"),a=e("safe-buffer").Buffer,i=e("create-hash/md5"),c=e("ripemd160"),h=e("sha.js"),d=a.alloc(128);function f(b,y){u.call(this,"digest"),typeof y=="string"&&(y=a.from(y));var p=b==="sha512"||b==="sha384"?128:64;this._alg=b,this._key=y,y.length>p?y=(b==="rmd160"?new c:h(b)).update(y).digest():y.length<p&&(y=a.concat([y,d],p));for(var g=this._ipad=a.allocUnsafe(p),m=this._opad=a.allocUnsafe(p),x=0;x<p;x++)g[x]=54^y[x],m[x]=92^y[x];this._hash=b==="rmd160"?new c:h(b),this._hash.update(g)}o(f,u),f.prototype._update=function(b){this._hash.update(b)},f.prototype._final=function(){var b=this._hash.digest();return(this._alg==="rmd160"?new c:h(this._alg)).update(this._opad).update(b).digest()},r.exports=function(b,y){return(b=b.toLowerCase())==="rmd160"||b==="ripemd160"?new f("rmd160",y):b==="md5"?new s(i,y):new f(b,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,r,l){var o=e("inherits"),s=e("safe-buffer").Buffer,u=e("cipher-base"),a=s.alloc(128);function i(c,h){u.call(this,"digest"),typeof h=="string"&&(h=s.from(h)),this._alg=c,this._key=h,h.length>64?h=c(h):h.length<64&&(h=s.concat([h,a],64));for(var d=this._ipad=s.allocUnsafe(64),f=this._opad=s.allocUnsafe(64),b=0;b<64;b++)d[b]=54^h[b],f[b]=92^h[b];this._hash=[d]}o(i,u),i.prototype._update=function(c){this._hash.push(c)},i.prototype._final=function(){var c=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,c]))},r.exports=i},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,r,l){l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=e("randombytes"),l.createHash=l.Hash=e("create-hash"),l.createHmac=l.Hmac=e("create-hmac");var o=e("browserify-sign/algos"),s=Object.keys(o),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);l.getHashes=function(){return u};var a=e("pbkdf2");l.pbkdf2=a.pbkdf2,l.pbkdf2Sync=a.pbkdf2Sync;var i=e("browserify-cipher");l.Cipher=i.Cipher,l.createCipher=i.createCipher,l.Cipheriv=i.Cipheriv,l.createCipheriv=i.createCipheriv,l.Decipher=i.Decipher,l.createDecipher=i.createDecipher,l.Decipheriv=i.Decipheriv,l.createDecipheriv=i.createDecipheriv,l.getCiphers=i.getCiphers,l.listCiphers=i.listCiphers;var c=e("diffie-hellman");l.DiffieHellmanGroup=c.DiffieHellmanGroup,l.createDiffieHellmanGroup=c.createDiffieHellmanGroup,l.getDiffieHellman=c.getDiffieHellman,l.createDiffieHellman=c.createDiffieHellman,l.DiffieHellman=c.DiffieHellman;var h=e("browserify-sign");l.createSign=h.createSign,l.Sign=h.Sign,l.createVerify=h.createVerify,l.Verify=h.Verify,l.createECDH=e("create-ecdh");var d=e("public-encrypt");l.publicEncrypt=d.publicEncrypt,l.privateEncrypt=d.privateEncrypt,l.publicDecrypt=d.publicDecrypt,l.privateDecrypt=d.privateDecrypt;var f=e("randomfill");l.randomFill=f.randomFill,l.randomFillSync=f.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,r,l){(function(o,s){typeof l=="object"&&r!==void 0?r.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs=s()})(void 0,function(){var o=6e4,s=36e5,u="millisecond",a="second",i="minute",c="hour",h="day",d="week",f="month",b="quarter",y="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var _=["th","st","nd","rd"],w=v%100;return"["+v+(_[(w-20)%10]||_[w]||_[0])+"]"}},I=function(v,_,w){var S=String(v);return!S||S.length>=_?v:""+Array(_+1-S.length).join(w)+v},D={s:I,z:function(v){var _=-v.utcOffset(),w=Math.abs(_),S=Math.floor(w/60),N=w%60;return(_<=0?"+":"-")+I(S,2,"0")+":"+I(N,2,"0")},m:function v(_,w){if(_.date()<w.date())return-v(w,_);var S=12*(w.year()-_.year())+(w.month()-_.month()),N=_.clone().add(S,f),j=w-N<0,U=_.clone().add(S+(j?-1:1),f);return+(-(S+(w-N)/(j?N-U:U-N))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:f,y,w:d,d:h,D:p,h:c,m:i,s:a,ms:u,Q:b}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},z="en",O={};O[z]=C;var B="$isDayjsObject",V=function(v){return v instanceof R||!(!v||!v[B])},q=function v(_,w,S){var N;if(!_)return z;if(typeof _=="string"){var j=_.toLowerCase();O[j]&&(N=j),w&&(O[j]=w,N=j);var U=_.split("-");if(!N&&U.length>1)return v(U[0])}else{var G=_.name;O[G]=_,N=G}return!S&&N&&(z=N),N||!S&&z},H=function(v,_){if(V(v))return v.clone();var w=typeof _=="object"?_:{};return w.date=v,w.args=arguments,new R(w)},E=D;E.l=q,E.i=V,E.w=function(v,_){return H(v,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var R=function(){function v(w){this.$L=q(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[B]=!0}var _=v.prototype;return _.parse=function(w){this.$d=function(S){var N=S.date,j=S.utc;if(N===null)return new Date(NaN);if(E.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var U=N.match(m);if(U){var G=U[2]-1||0,W=(U[7]||"0").substring(0,3);return j?new Date(Date.UTC(U[1],G,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)):new Date(U[1],G,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)}}return new Date(N)}(w),this.init()},_.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},_.$utils=function(){return E},_.isValid=function(){return this.$d.toString()!==g},_.isSame=function(w,S){var N=H(w);return this.startOf(S)<=N&&N<=this.endOf(S)},_.isAfter=function(w,S){return H(w)<this.startOf(S)},_.isBefore=function(w,S){return this.endOf(S)<H(w)},_.$g=function(w,S,N){return E.u(w)?this[S]:this.set(N,w)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(w,S){var N=this,j=!!E.u(S)||S,U=E.p(w),G=function(Y,Q){var X=E.w(N.$u?Date.UTC(N.$y,Q,Y):new Date(N.$y,Q,Y),N);return j?X:X.endOf(h)},W=function(Y,Q){return E.w(N.toDate()[Y].apply(N.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(Q)),N)},J=this.$W,F=this.$M,K=this.$D,L="set"+(this.$u?"UTC":"");switch(U){case y:return j?G(1,0):G(31,11);case f:return j?G(1,F):G(0,F+1);case d:var P=this.$locale().weekStart||0,$=(J<P?J+7:J)-P;return G(j?K-$:K+(6-$),F);case h:case p:return W(L+"Hours",0);case c:return W(L+"Minutes",1);case i:return W(L+"Seconds",2);case a:return W(L+"Milliseconds",3);default:return this.clone()}},_.endOf=function(w){return this.startOf(w,!1)},_.$set=function(w,S){var N,j=E.p(w),U="set"+(this.$u?"UTC":""),G=(N={},N[h]=U+"Date",N[p]=U+"Date",N[f]=U+"Month",N[y]=U+"FullYear",N[c]=U+"Hours",N[i]=U+"Minutes",N[a]=U+"Seconds",N[u]=U+"Milliseconds",N)[j],W=j===h?this.$D+(S-this.$W):S;if(j===f||j===y){var J=this.clone().set(p,1);J.$d[G](W),J.init(),this.$d=J.set(p,Math.min(this.$D,J.daysInMonth())).$d}else G&&this.$d[G](W);return this.init(),this},_.set=function(w,S){return this.clone().$set(w,S)},_.get=function(w){return this[E.p(w)]()},_.add=function(w,S){var N,j=this;w=Number(w);var U=E.p(S),G=function(F){var K=H(j);return E.w(K.date(K.date()+Math.round(F*w)),j)};if(U===f)return this.set(f,this.$M+w);if(U===y)return this.set(y,this.$y+w);if(U===h)return G(1);if(U===d)return G(7);var W=(N={},N[i]=o,N[c]=s,N[a]=1e3,N)[U]||1,J=this.$d.getTime()+w*W;return E.w(J,this)},_.subtract=function(w,S){return this.add(-1*w,S)},_.format=function(w){var S=this,N=this.$locale();if(!this.isValid())return N.invalidDate||g;var j=w||"YYYY-MM-DDTHH:mm:ssZ",U=E.z(this),G=this.$H,W=this.$m,J=this.$M,F=N.weekdays,K=N.months,L=N.meridiem,P=function(Q,X,ee,ie){return Q&&(Q[X]||Q(S,j))||ee[X].slice(0,ie)},$=function(Q){return E.s(G%12||12,Q,"0")},Y=L||function(Q,X,ee){var ie=Q<12?"AM":"PM";return ee?ie.toLowerCase():ie};return j.replace(x,function(Q,X){return X||function(ee){switch(ee){case"YY":return String(S.$y).slice(-2);case"YYYY":return E.s(S.$y,4,"0");case"M":return J+1;case"MM":return E.s(J+1,2,"0");case"MMM":return P(N.monthsShort,J,K,3);case"MMMM":return P(K,J);case"D":return S.$D;case"DD":return E.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return P(N.weekdaysMin,S.$W,F,2);case"ddd":return P(N.weekdaysShort,S.$W,F,3);case"dddd":return F[S.$W];case"H":return String(G);case"HH":return E.s(G,2,"0");case"h":return $(1);case"hh":return $(2);case"a":return Y(G,W,!0);case"A":return Y(G,W,!1);case"m":return String(W);case"mm":return E.s(W,2,"0");case"s":return String(S.$s);case"ss":return E.s(S.$s,2,"0");case"SSS":return E.s(S.$ms,3,"0");case"Z":return U}return null}(Q)||U.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(w,S,N){var j,U=this,G=E.p(S),W=H(w),J=(W.utcOffset()-this.utcOffset())*o,F=this-W,K=function(){return E.m(U,W)};switch(G){case y:j=K()/12;break;case f:j=K();break;case b:j=K()/3;break;case d:j=(F-J)/6048e5;break;case h:j=(F-J)/864e5;break;case c:j=F/s;break;case i:j=F/o;break;case a:j=F/1e3;break;default:j=F}return N?j:E.a(j)},_.daysInMonth=function(){return this.endOf(f).$D},_.$locale=function(){return O[this.$L]},_.locale=function(w,S){if(!w)return this.$L;var N=this.clone(),j=q(w,S,!0);return j&&(N.$L=j),N},_.clone=function(){return E.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},v}(),k=R.prototype;return H.prototype=k,[["$ms",u],["$s",a],["$m",i],["$H",c],["$W",h],["$M",f],["$y",y],["$D",p]].forEach(function(v){k[v[1]]=function(_){return this.$g(_,v[0],v[1])}}),H.extend=function(v,_){return v.$i||(v(_,R,H),v.$i=!0),H},H.locale=q,H.isDayjs=V,H.unix=function(v){return H(1e3*v)},H.en=O[z],H.Ls=O,H.p={},H})},{}],392:[function(e,r,l){(function(o,s){typeof l=="object"&&r!==void 0?r.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,a=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,c={},h=function(m){return(m=+m)+(m>68?1900:2e3)},d=function(m){return function(x){this[m]=+x}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var C=x.match(/([+-]|\d\d)/g),I=60*C[1]+(+C[2]||0);return I===0?0:C[0]==="+"?-I:I}(m)}],b=function(m){var x=c[m];return x&&(x.indexOf?x:x.s.concat(x.f))},y=function(m,x){var C,I=c.meridiem;if(I){for(var D=1;D<=24;D+=1)if(m.indexOf(I(D,0,x))>-1){C=D>12;break}}else C=m===(x?"pm":"PM");return C},p={A:[i,function(m){this.afternoon=y(m,!1)}],a:[i,function(m){this.afternoon=y(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[u,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[a,d("seconds")],ss:[a,d("seconds")],m:[a,d("minutes")],mm:[a,d("minutes")],H:[a,d("hours")],h:[a,d("hours")],HH:[a,d("hours")],hh:[a,d("hours")],D:[a,d("day")],DD:[u,d("day")],Do:[i,function(m){var x=c.ordinal,C=m.match(/\d+/);if(this.day=C[0],x)for(var I=1;I<=31;I+=1)x(I).replace(/\[|\]/g,"")===m&&(this.day=I)}],M:[a,d("month")],MM:[u,d("month")],MMM:[i,function(m){var x=b("months"),C=(b("monthsShort")||x.map(function(I){return I.slice(0,3)})).indexOf(m)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[i,function(m){var x=b("months").indexOf(m)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,d("year")],YY:[u,function(m){this.year=h(m)}],YYYY:[/\d{4}/,d("year")],Z:f,ZZ:f};function g(m){var x,C;x=m,C=c&&c.formats;for(var I=(m=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,E,R){var k=R&&R.toUpperCase();return E||C[R]||o[R]||C[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,_,w){return _||w.slice(1)})})).match(s),D=I.length,z=0;z<D;z+=1){var O=I[z],B=p[O],V=B&&B[0],q=B&&B[1];I[z]=q?{regex:V,parser:q}:O.replace(/^\[|\]$/g,"")}return function(H){for(var E={},R=0,k=0;R<D;R+=1){var v=I[R];if(typeof v=="string")k+=v.length;else{var _=v.regex,w=v.parser,S=H.slice(k),N=_.exec(S)[0];w.call(E,N),H=H.replace(N,"")}}return function(j){var U=j.afternoon;if(U!==void 0){var G=j.hours;U?G<12&&(j.hours+=12):G===12&&(j.hours=0),delete j.afternoon}}(E),E}}return function(m,x,C){C.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(h=m.parseTwoDigitYear);var I=x.prototype,D=I.parse;I.parse=function(z){var O=z.date,B=z.utc,V=z.args;this.$u=B;var q=V[1];if(typeof q=="string"){var H=V[2]===!0,E=V[3]===!0,R=H||E,k=V[2];E&&(k=V[2]),c=this.$locale(),!H&&k&&(c=C.Ls[k]),this.$d=function(S,N,j){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*S);var U=g(N)(S),G=U.year,W=U.month,J=U.day,F=U.hours,K=U.minutes,L=U.seconds,P=U.milliseconds,$=U.zone,Y=new Date,Q=J||(G||W?1:Y.getDate()),X=G||Y.getFullYear(),ee=0;G&&!W||(ee=W>0?W-1:Y.getMonth());var ie=F||0,oe=K||0,Z=L||0,re=P||0;return $?new Date(Date.UTC(X,ee,Q,ie,oe,Z,re+60*$.offset*1e3)):j?new Date(Date.UTC(X,ee,Q,ie,oe,Z,re)):new Date(X,ee,Q,ie,oe,Z,re)}catch{return new Date("")}}(O,q,B),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),R&&O!=this.format(q)&&(this.$d=new Date("")),c={}}else if(q instanceof Array)for(var v=q.length,_=1;_<=v;_+=1){V[1]=q[_-1];var w=C.apply(this,V);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}_===v&&(this.$d=new Date(""))}else D.call(this,z)}}})},{}],393:[function(e,r,l){(function(o,s){typeof l=="object"&&r!==void 0?r.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_utc=s()})(void 0,function(){var o="minute",s=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(a,i,c){var h=i.prototype;c.utc=function(m){var x={date:m,utc:!0,args:arguments};return new i(x)},h.utc=function(m){var x=c(this.toDate(),{locale:this.$L,utc:!0});return m?x.add(this.utcOffset(),o):x},h.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var d=h.parse;h.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),d.call(this,m)};var f=h.init;h.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else f.call(this)};var b=h.utcOffset;h.utcOffset=function(m,x){var C=this.$utils().u;if(C(m))return this.$u?0:C(this.$offset)?b.call(this):this.$offset;if(typeof m=="string"&&(m=function(O){O===void 0&&(O="");var B=O.match(s);if(!B)return null;var V=(""+B[0]).match(u)||["-",0,0],q=V[0],H=60*+V[1]+ +V[2];return H===0?0:q==="+"?H:-H}(m))===null)return this;var I=Math.abs(m)<=16?60*m:m,D=this;if(x)return D.$offset=I,D.$u=m===0,D;if(m!==0){var z=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(I+z,o)).$offset=I,D.$x.$localOffset=z}else D=this.utc();return D};var y=h.format;h.format=function(m){var x=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,x)},h.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var p=h.toDate;h.toDate=function(m){return m==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var g=h.diff;h.diff=function(m,x,C){if(m&&this.$u===m.$u)return g.call(this,m,x,C);var I=this.local(),D=c(m).local();return g.call(I,D,x,C)}}})},{}],394:[function(e,r,l){l.utils=e("./des/utils"),l.Cipher=e("./des/cipher"),l.DES=e("./des/des"),l.CBC=e("./des/cbc"),l.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,r,l){var o=e("minimalistic-assert"),s=e("inherits"),u={};function a(i){o.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=i[c]}l.instantiate=function(i){function c(b){i.call(this,b),this._cbcInit()}s(c,i);for(var h=Object.keys(u),d=0;d<h.length;d++){var f=h[d];c.prototype[f]=u[f]}return c.create=function(b){return new c(b)},c},u._cbcInit=function(){var i=new a(this.options.iv);this._cbcState=i},u._update=function(i,c,h,d){var f=this._cbcState,b=this.constructor.super_.prototype,y=f.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)y[p]^=i[c+p];for(b._update.call(this,y,0,h,d),p=0;p<this.blockSize;p++)y[p]=h[d+p]}else{for(b._update.call(this,i,c,h,d),p=0;p<this.blockSize;p++)h[d+p]^=y[p];for(p=0;p<this.blockSize;p++)y[p]=i[c+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,r,l){var o=e("minimalistic-assert");function s(u){this.options=u,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=u.padding!==!1}r.exports=s,s.prototype._init=function(){},s.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},s.prototype._buffer=function(u,a){for(var i=Math.min(this.buffer.length-this.bufferOff,u.length-a),c=0;c<i;c++)this.buffer[this.bufferOff+c]=u[a+c];return this.bufferOff+=i,i},s.prototype._flushBuffer=function(u,a){return this._update(this.buffer,0,u,a),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(u){var a=0,i=0,c=(this.bufferOff+u.length)/this.blockSize|0,h=new Array(c*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(u,a),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(h,i)));for(var d=u.length-(u.length-a)%this.blockSize;a<d;a+=this.blockSize)this._update(u,a,h,i),i+=this.blockSize;for(;a<u.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=u[a];return h},s.prototype._updateDecrypt=function(u){for(var a=0,i=0,c=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,h=new Array(c*this.blockSize);c>0;c--)a+=this._buffer(u,a),i+=this._flushBuffer(h,i);return a+=this._buffer(u,a),h},s.prototype.final=function(u){var a,i;return u&&(a=this.update(u)),i=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),a?a.concat(i):i},s.prototype._pad=function(u,a){if(a===0)return!1;for(;a<u.length;)u[a++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},s.prototype._unpad=function(u){return u},s.prototype._finalDecrypt=function(){o.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},{"minimalistic-assert":453}],397:[function(e,r,l){var o=e("minimalistic-assert"),s=e("inherits"),u=e("./utils"),a=e("./cipher");function i(){this.tmp=new Array(2),this.keys=null}function c(d){a.call(this,d);var f=new i;this._desState=f,this.deriveKeys(f,d.key)}s(c,a),r.exports=c,c.create=function(d){return new c(d)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(d,f){d.keys=new Array(32),o.equal(f.length,this.blockSize,"Invalid key length");var b=u.readUInt32BE(f,0),y=u.readUInt32BE(f,4);u.pc1(b,y,d.tmp,0),b=d.tmp[0],y=d.tmp[1];for(var p=0;p<d.keys.length;p+=2){var g=h[p>>>1];b=u.r28shl(b,g),y=u.r28shl(y,g),u.pc2(b,y,d.keys,p)}},c.prototype._update=function(d,f,b,y){var p=this._desState,g=u.readUInt32BE(d,f),m=u.readUInt32BE(d,f+4);u.ip(g,m,p.tmp,0),g=p.tmp[0],m=p.tmp[1],this.type==="encrypt"?this._encrypt(p,g,m,p.tmp,0):this._decrypt(p,g,m,p.tmp,0),g=p.tmp[0],m=p.tmp[1],u.writeUInt32BE(b,g,y),u.writeUInt32BE(b,m,y+4)},c.prototype._pad=function(d,f){if(this.padding===!1)return!1;for(var b=d.length-f,y=f;y<d.length;y++)d[y]=b;return!0},c.prototype._unpad=function(d){if(this.padding===!1)return d;for(var f=d[d.length-1],b=d.length-f;b<d.length;b++)o.equal(d[b],f);return d.slice(0,d.length-f)},c.prototype._encrypt=function(d,f,b,y,p){for(var g=f,m=b,x=0;x<d.keys.length;x+=2){var C=d.keys[x],I=d.keys[x+1];u.expand(m,d.tmp,0),C^=d.tmp[0],I^=d.tmp[1];var D=u.substitute(C,I),z=m;m=(g^u.permute(D))>>>0,g=z}u.rip(m,g,y,p)},c.prototype._decrypt=function(d,f,b,y,p){for(var g=b,m=f,x=d.keys.length-2;x>=0;x-=2){var C=d.keys[x],I=d.keys[x+1];u.expand(g,d.tmp,0),C^=d.tmp[0],I^=d.tmp[1];var D=u.substitute(C,I),z=g;g=(m^u.permute(D))>>>0,m=z}u.rip(g,m,y,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,r,l){var o=e("minimalistic-assert"),s=e("inherits"),u=e("./cipher"),a=e("./des");function i(h,d){o.equal(d.length,24,"Invalid key length");var f=d.slice(0,8),b=d.slice(8,16),y=d.slice(16,24);this.ciphers=h==="encrypt"?[a.create({type:"encrypt",key:f}),a.create({type:"decrypt",key:b}),a.create({type:"encrypt",key:y})]:[a.create({type:"decrypt",key:y}),a.create({type:"encrypt",key:b}),a.create({type:"decrypt",key:f})]}function c(h){u.call(this,h);var d=new i(this.type,this.options.key);this._edeState=d}s(c,u),r.exports=c,c.create=function(h){return new c(h)},c.prototype._update=function(h,d,f,b){var y=this._edeState;y.ciphers[0]._update(h,d,f,b),y.ciphers[1]._update(f,b,f,b),y.ciphers[2]._update(f,b,f,b)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,r,l){l.readUInt32BE=function(a,i){return(a[0+i]<<24|a[1+i]<<16|a[2+i]<<8|a[3+i])>>>0},l.writeUInt32BE=function(a,i,c){a[0+c]=i>>>24,a[1+c]=i>>>16&255,a[2+c]=i>>>8&255,a[3+c]=255&i},l.ip=function(a,i,c,h){for(var d=0,f=0,b=6;b>=0;b-=2){for(var y=0;y<=24;y+=8)d<<=1,d|=i>>>y+b&1;for(y=0;y<=24;y+=8)d<<=1,d|=a>>>y+b&1}for(b=6;b>=0;b-=2){for(y=1;y<=25;y+=8)f<<=1,f|=i>>>y+b&1;for(y=1;y<=25;y+=8)f<<=1,f|=a>>>y+b&1}c[h+0]=d>>>0,c[h+1]=f>>>0},l.rip=function(a,i,c,h){for(var d=0,f=0,b=0;b<4;b++)for(var y=24;y>=0;y-=8)d<<=1,d|=i>>>y+b&1,d<<=1,d|=a>>>y+b&1;for(b=4;b<8;b++)for(y=24;y>=0;y-=8)f<<=1,f|=i>>>y+b&1,f<<=1,f|=a>>>y+b&1;c[h+0]=d>>>0,c[h+1]=f>>>0},l.pc1=function(a,i,c,h){for(var d=0,f=0,b=7;b>=5;b--){for(var y=0;y<=24;y+=8)d<<=1,d|=i>>y+b&1;for(y=0;y<=24;y+=8)d<<=1,d|=a>>y+b&1}for(y=0;y<=24;y+=8)d<<=1,d|=i>>y+b&1;for(b=1;b<=3;b++){for(y=0;y<=24;y+=8)f<<=1,f|=i>>y+b&1;for(y=0;y<=24;y+=8)f<<=1,f|=a>>y+b&1}for(y=0;y<=24;y+=8)f<<=1,f|=a>>y+b&1;c[h+0]=d>>>0,c[h+1]=f>>>0},l.r28shl=function(a,i){return a<<i&268435455|a>>>28-i};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(a,i,c,h){for(var d=0,f=0,b=o.length>>>1,y=0;y<b;y++)d<<=1,d|=a>>>o[y]&1;for(y=b;y<o.length;y++)f<<=1,f|=i>>>o[y]&1;c[h+0]=d>>>0,c[h+1]=f>>>0},l.expand=function(a,i,c){var h=0,d=0;h=(1&a)<<5|a>>>27;for(var f=23;f>=15;f-=4)h<<=6,h|=a>>>f&63;for(f=11;f>=3;f-=4)d|=a>>>f&63,d<<=6;d|=(31&a)<<1|a>>>31,i[c+0]=h>>>0,i[c+1]=d>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(a,i){for(var c=0,h=0;h<4;h++)c<<=4,c|=s[64*h+(a>>>18-6*h&63)];for(h=0;h<4;h++)c<<=4,c|=s[256+64*h+(i>>>18-6*h&63)];return c>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(a){for(var i=0,c=0;c<u.length;c++)i<<=1,i|=a>>>u[c]&1;return i>>>0},l.padSplit=function(a,i,c){for(var h=a.toString(2);h.length<i;)h="0"+h;for(var d=[],f=0;f<i;f+=c)d.push(h.slice(f,f+c));return d.join(" ")}},{}],400:[function(e,r,l){(function(o){(function(){var s=e("./lib/generatePrime"),u=e("./lib/primes.json"),a=e("./lib/dh"),i={binary:!0,hex:!0,base64:!0};l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=function(c){var h=new o(u[c].prime,"hex"),d=new o(u[c].gen,"hex");return new a(h,d)},l.createDiffieHellman=l.DiffieHellman=function c(h,d,f,b){return o.isBuffer(d)||i[d]===void 0?c(h,"binary",d,f):(d=d||"binary",b=b||"binary",f=f||new o([2]),o.isBuffer(f)||(f=new o(f,b)),typeof h=="number"?new a(s(h,f),f,!0):(o.isBuffer(h)||(h=new o(h,d)),new a(h,f,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,r,l){(function(o){(function(){var s=e("bn.js"),u=new(e("miller-rabin")),a=new s(24),i=new s(11),c=new s(10),h=new s(3),d=new s(7),f=e("./generatePrime"),b=e("randombytes");function y(C,I){return I=I||"utf8",o.isBuffer(C)||(C=new o(C,I)),this._pub=new s(C),this}function p(C,I){return I=I||"utf8",o.isBuffer(C)||(C=new o(C,I)),this._priv=new s(C),this}r.exports=m;var g={};function m(C,I,D){this.setGenerator(I),this.__prime=new s(C),this._prime=s.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=y,this.setPrivateKey=p):this._primeCode=8}function x(C,I){var D=new o(C.toArray());return I?D.toString(I):D}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(C,I){var D=I.toString("hex"),z=[D,C.toString(16)].join("_");if(z in g)return g[z];var O,B=0;if(C.isEven()||!f.simpleSieve||!f.fermatTest(C)||!u.test(C))return B+=1,B+=D==="02"||D==="05"?8:4,g[z]=B,B;switch(u.test(C.shrn(1))||(B+=2),D){case"02":C.mod(a).cmp(i)&&(B+=8);break;case"05":(O=C.mod(c)).cmp(h)&&O.cmp(d)&&(B+=8);break;default:B+=4}return g[z]=B,B}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new s(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(C){var I=(C=(C=new s(C)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new o(I.toArray()),z=this.getPrime();if(D.length<z.length){var O=new o(z.length-D.length);O.fill(0),D=o.concat([O,D])}return D},m.prototype.getPublicKey=function(C){return x(this._pub,C)},m.prototype.getPrivateKey=function(C){return x(this._priv,C)},m.prototype.getPrime=function(C){return x(this.__prime,C)},m.prototype.getGenerator=function(C){return x(this._gen,C)},m.prototype.setGenerator=function(C,I){return I=I||"utf8",o.isBuffer(C)||(C=new o(C,I)),this.__gen=C,this._gen=new s(C),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,r,l){var o=e("randombytes");r.exports=C,C.simpleSieve=m,C.fermatTest=x;var s=e("bn.js"),u=new s(24),a=new(e("miller-rabin")),i=new s(1),c=new s(2),h=new s(5),d=(new s(16),new s(8),new s(10)),f=new s(3),b=(new s(7),new s(11)),y=new s(4),p=(new s(12),null);function g(){if(p!==null)return p;var I=[];I[0]=2;for(var D=1,z=3;z<1048576;z+=2){for(var O=Math.ceil(Math.sqrt(z)),B=0;B<D&&I[B]<=O&&z%I[B]!=0;B++);D!==B&&I[B]<=O||(I[D++]=z)}return p=I,I}function m(I){for(var D=g(),z=0;z<D.length;z++)if(I.modn(D[z])===0)return I.cmpn(D[z])===0;return!0}function x(I){var D=s.mont(I);return c.toRed(D).redPow(I.subn(1)).fromRed().cmpn(1)===0}function C(I,D){if(I<16)return new s(D===2||D===5?[140,123]:[140,39]);var z,O;for(D=new s(D);;){for(z=new s(o(Math.ceil(I/8)));z.bitLength()>I;)z.ishrn(1);if(z.isEven()&&z.iadd(i),z.testn(1)||z.iadd(c),D.cmp(c)){if(!D.cmp(h))for(;z.mod(d).cmp(f);)z.iadd(y)}else for(;z.mod(u).cmp(b);)z.iadd(y);if(m(O=z.shrn(1))&&m(z)&&x(O)&&x(z)&&a.test(O)&&a.test(z))return z}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,r,l){r.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,r,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],405:[function(e,r,l){var o=l;o.version=e("../package.json").version,o.utils=e("./elliptic/utils"),o.rand=e("brorand"),o.curve=e("./elliptic/curve"),o.curves=e("./elliptic/curves"),o.ec=e("./elliptic/ec"),o.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,r,l){var o=e("bn.js"),s=e("../utils"),u=s.getNAF,a=s.getJSF,i=s.assert;function c(d,f){this.type=d,this.p=new o(f.p,16),this.red=f.prime?o.red(f.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=f.n&&new o(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(d,f){this.curve=d,this.type=f,this.precomputed=null}r.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(d,f){i(d.precomputed);var b=d._getDoubles(),y=u(f,1,this._bitLength),p=(1<<b.step+1)-(b.step%2==0?2:1);p/=3;var g,m,x=[];for(g=0;g<y.length;g+=b.step){m=0;for(var C=g+b.step-1;C>=g;C--)m=(m<<1)+y[C];x.push(m)}for(var I=this.jpoint(null,null,null),D=this.jpoint(null,null,null),z=p;z>0;z--){for(g=0;g<x.length;g++)(m=x[g])===z?D=D.mixedAdd(b.points[g]):m===-z&&(D=D.mixedAdd(b.points[g].neg()));I=I.add(D)}return I.toP()},c.prototype._wnafMul=function(d,f){var b=4,y=d._getNAFPoints(b);b=y.wnd;for(var p=y.points,g=u(f,b,this._bitLength),m=this.jpoint(null,null,null),x=g.length-1;x>=0;x--){for(var C=0;x>=0&&g[x]===0;x--)C++;if(x>=0&&C++,m=m.dblp(C),x<0)break;var I=g[x];i(I!==0),m=d.type==="affine"?I>0?m.mixedAdd(p[I-1>>1]):m.mixedAdd(p[-I-1>>1].neg()):I>0?m.add(p[I-1>>1]):m.add(p[-I-1>>1].neg())}return d.type==="affine"?m.toP():m},c.prototype._wnafMulAdd=function(d,f,b,y,p){var g,m,x,C=this._wnafT1,I=this._wnafT2,D=this._wnafT3,z=0;for(g=0;g<y;g++){var O=(x=f[g])._getNAFPoints(d);C[g]=O.wnd,I[g]=O.points}for(g=y-1;g>=1;g-=2){var B=g-1,V=g;if(C[B]===1&&C[V]===1){var q=[f[B],null,null,f[V]];f[B].y.cmp(f[V].y)===0?(q[1]=f[B].add(f[V]),q[2]=f[B].toJ().mixedAdd(f[V].neg())):f[B].y.cmp(f[V].y.redNeg())===0?(q[1]=f[B].toJ().mixedAdd(f[V]),q[2]=f[B].add(f[V].neg())):(q[1]=f[B].toJ().mixedAdd(f[V]),q[2]=f[B].toJ().mixedAdd(f[V].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],E=a(b[B],b[V]);for(z=Math.max(E[0].length,z),D[B]=new Array(z),D[V]=new Array(z),m=0;m<z;m++){var R=0|E[0][m],k=0|E[1][m];D[B][m]=H[3*(R+1)+(k+1)],D[V][m]=0,I[B]=q}}else D[B]=u(b[B],C[B],this._bitLength),D[V]=u(b[V],C[V],this._bitLength),z=Math.max(D[B].length,z),z=Math.max(D[V].length,z)}var v=this.jpoint(null,null,null),_=this._wnafT4;for(g=z;g>=0;g--){for(var w=0;g>=0;){var S=!0;for(m=0;m<y;m++)_[m]=0|D[m][g],_[m]!==0&&(S=!1);if(!S)break;w++,g--}if(g>=0&&w++,v=v.dblp(w),g<0)break;for(m=0;m<y;m++){var N=_[m];N!==0&&(N>0?x=I[m][N-1>>1]:N<0&&(x=I[m][-N-1>>1].neg()),v=x.type==="affine"?v.mixedAdd(x):v.add(x))}}for(g=0;g<y;g++)I[g]=null;return p?v:v.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(d,f){d=s.toArray(d,f);var b=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*b)return d[0]===6?i(d[d.length-1]%2==0):d[0]===7&&i(d[d.length-1]%2==1),this.point(d.slice(1,1+b),d.slice(1+b,1+2*b));if((d[0]===2||d[0]===3)&&d.length-1===b)return this.pointFromX(d.slice(1,1+b),d[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(d){return this.encode(d,!0)},h.prototype._encode=function(d){var f=this.curve.p.byteLength(),b=this.getX().toArray("be",f);return d?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",f))},h.prototype.encode=function(d,f){return s.encode(this._encode(f),d)},h.prototype.precompute=function(d){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,d),f.beta=this._getBeta(),this.precomputed=f,this},h.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((d.bitLength()+1)/f.step)},h.prototype._getDoubles=function(d,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],y=this,p=0;p<f;p+=d){for(var g=0;g<d;g++)y=y.dbl();b.push(y)}return{step:d,points:b}},h.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],b=(1<<d)-1,y=b===1?null:this.dbl(),p=1;p<b;p++)f[p]=f[p-1].add(y);return{wnd:d,points:f}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(d){for(var f=this,b=0;b<d;b++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(e,r,l){var o=e("../utils"),s=e("bn.js"),u=e("inherits"),a=e("./base"),i=o.assert;function c(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",d),this.a=new s(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function h(d,f,b,y,p){a.BasePoint.call(this,d,"projective"),f===null&&b===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(f,16),this.y=new s(b,16),this.z=y?new s(y,16):this.curve.one,this.t=p&&new s(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u(c,a),r.exports=c,c.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},c.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},c.prototype.jpoint=function(d,f,b,y){return this.point(d,f,b,y)},c.prototype.pointFromX=function(d,f){(d=new s(d,16)).red||(d=d.toRed(this.red));var b=d.redSqr(),y=this.c2.redSub(this.a.redMul(b)),p=this.one.redSub(this.c2.redMul(this.d).redMul(b)),g=y.redMul(p.redInvm()),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var x=m.fromRed().isOdd();return(f&&!x||!f&&x)&&(m=m.redNeg()),this.point(d,m)},c.prototype.pointFromY=function(d,f){(d=new s(d,16)).red||(d=d.toRed(this.red));var b=d.redSqr(),y=b.redSub(this.c2),p=b.redMul(this.d).redMul(this.c2).redSub(this.a),g=y.redMul(p.redInvm());if(g.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,d)}var m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==f&&(m=m.redNeg()),this.point(m,d)},c.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var f=d.x.redSqr(),b=d.y.redSqr(),y=f.redMul(this.a).redAdd(b),p=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(b)));return y.cmp(p)===0},u(h,a.BasePoint),c.prototype.pointFromJSON=function(d){return h.fromJSON(this,d)},c.prototype.point=function(d,f,b,y){return new h(this,d,f,b,y)},h.fromJSON=function(d,f){return new h(d,f[0],f[1],f[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var d=this.x.redSqr(),f=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var y=this.curve._mulA(d),p=this.x.redAdd(this.y).redSqr().redISub(d).redISub(f),g=y.redAdd(f),m=g.redSub(b),x=y.redSub(f),C=p.redMul(m),I=g.redMul(x),D=p.redMul(x),z=m.redMul(g);return this.curve.point(C,I,z,D)},h.prototype._projDbl=function(){var d,f,b,y,p,g,m=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var I=(y=this.curve._mulA(x)).redAdd(C);this.zOne?(d=m.redSub(x).redSub(C).redMul(I.redSub(this.curve.two)),f=I.redMul(y.redSub(C)),b=I.redSqr().redSub(I).redSub(I)):(p=this.z.redSqr(),g=I.redSub(p).redISub(p),d=m.redSub(x).redISub(C).redMul(g),f=I.redMul(y.redSub(C)),b=I.redMul(g))}else y=x.redAdd(C),p=this.curve._mulC(this.z).redSqr(),g=y.redSub(p).redSub(p),d=this.curve._mulC(m.redISub(y)).redMul(g),f=this.curve._mulC(y).redMul(x.redISub(C)),b=y.redMul(g);return this.curve.point(d,f,b)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(d){var f=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),b=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),y=this.t.redMul(this.curve.dd).redMul(d.t),p=this.z.redMul(d.z.redAdd(d.z)),g=b.redSub(f),m=p.redSub(y),x=p.redAdd(y),C=b.redAdd(f),I=g.redMul(m),D=x.redMul(C),z=g.redMul(C),O=m.redMul(x);return this.curve.point(I,D,O,z)},h.prototype._projAdd=function(d){var f,b,y=this.z.redMul(d.z),p=y.redSqr(),g=this.x.redMul(d.x),m=this.y.redMul(d.y),x=this.curve.d.redMul(g).redMul(m),C=p.redSub(x),I=p.redAdd(x),D=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(g).redISub(m),z=y.redMul(C).redMul(D);return this.curve.twisted?(f=y.redMul(I).redMul(m.redSub(this.curve._mulA(g))),b=C.redMul(I)):(f=y.redMul(I).redMul(m.redSub(g)),b=this.curve._mulC(C).redMul(I)),this.curve.point(z,f,b)},h.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},h.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},h.prototype.mulAdd=function(d,f,b){return this.curve._wnafMulAdd(1,[this,f],[d,b],2,!1)},h.prototype.jmulAdd=function(d,f,b){return this.curve._wnafMulAdd(1,[this,f],[d,b],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},h.prototype.eqXToP=function(d){var f=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var b=d.clone(),y=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(y),this.x.cmp(f)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,r,l){var o=l;o.base=e("./base"),o.short=e("./short"),o.mont=e("./mont"),o.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,r,l){var o=e("bn.js"),s=e("inherits"),u=e("./base"),a=e("../utils");function i(h){u.call(this,"mont",h),this.a=new o(h.a,16).toRed(this.red),this.b=new o(h.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(h,d,f){u.BasePoint.call(this,h,"projective"),d===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(d,16),this.z=new o(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(i,u),r.exports=i,i.prototype.validate=function(h){var d=h.normalize().x,f=d.redSqr(),b=f.redMul(d).redAdd(f.redMul(this.a)).redAdd(d);return b.redSqrt().redSqr().cmp(b)===0},s(c,u.BasePoint),i.prototype.decodePoint=function(h,d){return this.point(a.toArray(h,d),1)},i.prototype.point=function(h,d){return new c(this,h,d)},i.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(h,d){return new c(h,d[0],d[1]||h.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),f=h.redSub(d),b=h.redMul(d),y=f.redMul(d.redAdd(this.curve.a24.redMul(f)));return this.curve.point(b,y)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(h,d){var f=this.x.redAdd(this.z),b=this.x.redSub(this.z),y=h.x.redAdd(h.z),p=h.x.redSub(h.z).redMul(f),g=y.redMul(b),m=d.z.redMul(p.redAdd(g).redSqr()),x=d.x.redMul(p.redISub(g).redSqr());return this.curve.point(m,x)},c.prototype.mul=function(h){for(var d=h.clone(),f=this,b=this.curve.point(null,null),y=[];d.cmpn(0)!==0;d.iushrn(1))y.push(d.andln(1));for(var p=y.length-1;p>=0;p--)y[p]===0?(f=f.diffAdd(b,this),b=b.dbl()):(b=f.diffAdd(b,this),f=f.dbl());return b},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,r,l){var o=e("../utils"),s=e("bn.js"),u=e("inherits"),a=e("./base"),i=o.assert;function c(f){a.call(this,"short",f),this.a=new s(f.a,16).toRed(this.red),this.b=new s(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(f,b,y,p){a.BasePoint.call(this,f,"affine"),b===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(b,16),this.y=new s(y,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(f,b,y,p){a.BasePoint.call(this,f,"jacobian"),b===null&&y===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(b,16),this.y=new s(y,16),this.z=new s(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u(c,a),r.exports=c,c.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var b,y;if(f.beta)b=new s(f.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);b=(b=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(f.lambda)y=new s(f.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(b))===0?y=g[0]:(y=g[1],i(this.g.mul(y).x.cmp(this.g.x.redMul(b))===0))}return{beta:b,lambda:y,basis:f.basis?f.basis.map(function(m){return{a:new s(m.a,16),b:new s(m.b,16)}}):this._getEndoBasis(y)}}},c.prototype._getEndoRoots=function(f){var b=f===this.p?this.red:s.mont(f),y=new s(2).toRed(b).redInvm(),p=y.redNeg(),g=new s(3).toRed(b).redNeg().redSqrt().redMul(y);return[p.redAdd(g).fromRed(),p.redSub(g).fromRed()]},c.prototype._getEndoBasis=function(f){for(var b,y,p,g,m,x,C,I,D,z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),O=f,B=this.n.clone(),V=new s(1),q=new s(0),H=new s(0),E=new s(1),R=0;O.cmpn(0)!==0;){var k=B.div(O);I=B.sub(k.mul(O)),D=H.sub(k.mul(V));var v=E.sub(k.mul(q));if(!p&&I.cmp(z)<0)b=C.neg(),y=V,p=I.neg(),g=D;else if(p&&++R==2)break;C=I,B=O,O=I,H=V,V=D,E=q,q=v}m=I.neg(),x=D;var _=p.sqr().add(g.sqr());return m.sqr().add(x.sqr()).cmp(_)>=0&&(m=b,x=y),p.negative&&(p=p.neg(),g=g.neg()),m.negative&&(m=m.neg(),x=x.neg()),[{a:p,b:g},{a:m,b:x}]},c.prototype._endoSplit=function(f){var b=this.endo.basis,y=b[0],p=b[1],g=p.b.mul(f).divRound(this.n),m=y.b.neg().mul(f).divRound(this.n),x=g.mul(y.a),C=m.mul(p.a),I=g.mul(y.b),D=m.mul(p.b);return{k1:f.sub(x).sub(C),k2:I.add(D).neg()}},c.prototype.pointFromX=function(f,b){(f=new s(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),p=y.redSqrt();if(p.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var g=p.fromRed().isOdd();return(b&&!g||!b&&g)&&(p=p.redNeg()),this.point(f,p)},c.prototype.validate=function(f){if(f.inf)return!0;var b=f.x,y=f.y,p=this.a.redMul(b),g=b.redSqr().redMul(b).redIAdd(p).redIAdd(this.b);return y.redSqr().redISub(g).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(f,b,y){for(var p=this._endoWnafT1,g=this._endoWnafT2,m=0;m<f.length;m++){var x=this._endoSplit(b[m]),C=f[m],I=C._getBeta();x.k1.negative&&(x.k1.ineg(),C=C.neg(!0)),x.k2.negative&&(x.k2.ineg(),I=I.neg(!0)),p[2*m]=C,p[2*m+1]=I,g[2*m]=x.k1,g[2*m+1]=x.k2}for(var D=this._wnafMulAdd(1,p,g,2*m,y),z=0;z<2*m;z++)p[z]=null,g[z]=null;return D},u(h,a.BasePoint),c.prototype.point=function(f,b,y){return new h(this,f,b,y)},c.prototype.pointFromJSON=function(f,b){return h.fromJSON(this,f,b)},h.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var y=this.curve,p=function(g){return y.point(g.x.redMul(y.endo.beta),g.y)};f.beta=b,b.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return b}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(f,b,y){typeof b=="string"&&(b=JSON.parse(b));var p=f.point(b[0],b[1],y);if(!b[2])return p;function g(x){return f.point(x[0],x[1],y)}var m=b[2];return p.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[p].concat(m.doubles.points.map(g))},naf:m.naf&&{wnd:m.naf.wnd,points:[p].concat(m.naf.points.map(g))}},p},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var b=this.y.redSub(f.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(f.x).redInvm()));var y=b.redSqr().redISub(this.x).redISub(f.x),p=b.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,p)},h.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,y=this.x.redSqr(),p=f.redInvm(),g=y.redAdd(y).redIAdd(y).redIAdd(b).redMul(p),m=g.redSqr().redISub(this.x.redAdd(this.x)),x=g.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,x)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(f){return f=new s(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},h.prototype.mulAdd=function(f,b,y){var p=[this,b],g=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,g):this.curve._wnafMulAdd(1,p,g,2)},h.prototype.jmulAdd=function(f,b,y){var p=[this,b],g=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,g,!0):this.curve._wnafMulAdd(1,p,g,2,!0)},h.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},h.prototype.neg=function(f){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var y=this.precomputed,p=function(g){return g.neg()};b.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(p)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(p)}}}return b},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(d,a.BasePoint),c.prototype.jpoint=function(f,b,y){return new d(this,f,b,y)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),b=f.redSqr(),y=this.x.redMul(b),p=this.y.redMul(b).redMul(f);return this.curve.point(y,p)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var b=f.z.redSqr(),y=this.z.redSqr(),p=this.x.redMul(b),g=f.x.redMul(y),m=this.y.redMul(b.redMul(f.z)),x=f.y.redMul(y.redMul(this.z)),C=p.redSub(g),I=m.redSub(x);if(C.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=C.redSqr(),z=D.redMul(C),O=p.redMul(D),B=I.redSqr().redIAdd(z).redISub(O).redISub(O),V=I.redMul(O.redISub(B)).redISub(m.redMul(z)),q=this.z.redMul(f.z).redMul(C);return this.curve.jpoint(B,V,q)},d.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var b=this.z.redSqr(),y=this.x,p=f.x.redMul(b),g=this.y,m=f.y.redMul(b).redMul(this.z),x=y.redSub(p),C=g.redSub(m);if(x.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=x.redSqr(),D=I.redMul(x),z=y.redMul(I),O=C.redSqr().redIAdd(D).redISub(z).redISub(z),B=C.redMul(z.redISub(O)).redISub(g.redMul(D)),V=this.z.redMul(x);return this.curve.jpoint(O,B,V)},d.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var y=this;for(b=0;b<f;b++)y=y.dbl();return y}var p=this.curve.a,g=this.curve.tinv,m=this.x,x=this.y,C=this.z,I=C.redSqr().redSqr(),D=x.redAdd(x);for(b=0;b<f;b++){var z=m.redSqr(),O=D.redSqr(),B=O.redSqr(),V=z.redAdd(z).redIAdd(z).redIAdd(p.redMul(I)),q=m.redMul(O),H=V.redSqr().redISub(q.redAdd(q)),E=q.redISub(H),R=V.redMul(E);R=R.redIAdd(R).redISub(B);var k=D.redMul(C);b+1<f&&(I=I.redMul(B)),m=H,C=k,D=R}return this.curve.jpoint(m,D.redMul(g),C)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var f,b,y;if(this.zOne){var p=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),x=this.x.redAdd(g).redSqr().redISub(p).redISub(m);x=x.redIAdd(x);var C=p.redAdd(p).redIAdd(p),I=C.redSqr().redISub(x).redISub(x),D=m.redIAdd(m);D=(D=D.redIAdd(D)).redIAdd(D),f=I,b=C.redMul(x.redISub(I)).redISub(D),y=this.y.redAdd(this.y)}else{var z=this.x.redSqr(),O=this.y.redSqr(),B=O.redSqr(),V=this.x.redAdd(O).redSqr().redISub(z).redISub(B);V=V.redIAdd(V);var q=z.redAdd(z).redIAdd(z),H=q.redSqr(),E=B.redIAdd(B);E=(E=E.redIAdd(E)).redIAdd(E),f=H.redISub(V).redISub(V),b=q.redMul(V.redISub(f)).redISub(E),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(f,b,y)},d.prototype._threeDbl=function(){var f,b,y;if(this.zOne){var p=this.x.redSqr(),g=this.y.redSqr(),m=g.redSqr(),x=this.x.redAdd(g).redSqr().redISub(p).redISub(m);x=x.redIAdd(x);var C=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),I=C.redSqr().redISub(x).redISub(x);f=I;var D=m.redIAdd(m);D=(D=D.redIAdd(D)).redIAdd(D),b=C.redMul(x.redISub(I)).redISub(D),y=this.y.redAdd(this.y)}else{var z=this.z.redSqr(),O=this.y.redSqr(),B=this.x.redMul(O),V=this.x.redSub(z).redMul(this.x.redAdd(z));V=V.redAdd(V).redIAdd(V);var q=B.redIAdd(B),H=(q=q.redIAdd(q)).redAdd(q);f=V.redSqr().redISub(H),y=this.y.redAdd(this.z).redSqr().redISub(O).redISub(z);var E=O.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),b=V.redMul(q.redISub(f)).redISub(E)}return this.curve.jpoint(f,b,y)},d.prototype._dbl=function(){var f=this.curve.a,b=this.x,y=this.y,p=this.z,g=p.redSqr().redSqr(),m=b.redSqr(),x=y.redSqr(),C=m.redAdd(m).redIAdd(m).redIAdd(f.redMul(g)),I=b.redAdd(b),D=(I=I.redIAdd(I)).redMul(x),z=C.redSqr().redISub(D.redAdd(D)),O=D.redISub(z),B=x.redSqr();B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var V=C.redMul(O).redISub(B),q=y.redAdd(y).redMul(p);return this.curve.jpoint(z,V,q)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),b=this.y.redSqr(),y=this.z.redSqr(),p=b.redSqr(),g=f.redAdd(f).redIAdd(f),m=g.redSqr(),x=this.x.redAdd(b).redSqr().redISub(f).redISub(p),C=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(m)).redSqr(),I=p.redIAdd(p);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var D=g.redIAdd(x).redSqr().redISub(m).redISub(C).redISub(I),z=b.redMul(D);z=(z=z.redIAdd(z)).redIAdd(z);var O=this.x.redMul(C).redISub(z);O=(O=O.redIAdd(O)).redIAdd(O);var B=this.y.redMul(D.redMul(I.redISub(D)).redISub(x.redMul(C)));B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var V=this.z.redAdd(x).redSqr().redISub(y).redISub(C);return this.curve.jpoint(O,B,V)},d.prototype.mul=function(f,b){return f=new s(f,b),this.curve._wnafMul(this,f)},d.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var b=this.z.redSqr(),y=f.z.redSqr();if(this.x.redMul(y).redISub(f.x.redMul(b)).cmpn(0)!==0)return!1;var p=b.redMul(this.z),g=y.redMul(f.z);return this.y.redMul(g).redISub(f.y.redMul(p)).cmpn(0)===0},d.prototype.eqXToP=function(f){var b=this.z.redSqr(),y=f.toRed(this.curve.red).redMul(b);if(this.x.cmp(y)===0)return!0;for(var p=f.clone(),g=this.curve.redN.redMul(b);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(g),this.x.cmp(y)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,r,l){var o,s=l,u=e("hash.js"),a=e("./curve"),i=e("./utils").assert;function c(d){d.type==="short"?this.curve=new a.short(d):d.type==="edwards"?this.curve=new a.edwards(d):this.curve=new a.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(d,f){Object.defineProperty(s,d,{configurable:!0,enumerable:!0,get:function(){var b=new c(f);return Object.defineProperty(s,d,{configurable:!0,enumerable:!0,value:b}),b}})}s.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=e("./precomputed/secp256k1")}catch{o=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,r,l){var o=e("bn.js"),s=e("hmac-drbg"),u=e("../utils"),a=e("../curves"),i=e("brorand"),c=u.assert,h=e("./key"),d=e("./signature");function f(b){if(!(this instanceof f))return new f(b);typeof b=="string"&&(c(Object.prototype.hasOwnProperty.call(a,b),"Unknown curve "+b),b=a[b]),b instanceof a.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}r.exports=f,f.prototype.keyPair=function(b){return new h(this,b)},f.prototype.keyFromPrivate=function(b,y){return h.fromPrivate(this,b,y)},f.prototype.keyFromPublic=function(b,y){return h.fromPublic(this,b,y)},f.prototype.genKeyPair=function(b){b||(b={});for(var y=new s({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||i(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),g=this.n.sub(new o(2));;){var m=new o(y.generate(p));if(!(m.cmp(g)>0))return m.iaddn(1),this.keyFromPrivate(m)}},f.prototype._truncateToN=function(b,y){var p=8*b.byteLength()-this.n.bitLength();return p>0&&(b=b.ushrn(p)),!y&&b.cmp(this.n)>=0?b.sub(this.n):b},f.prototype.sign=function(b,y,p,g){typeof p=="object"&&(g=p,p=null),g||(g={}),y=this.keyFromPrivate(y,p),b=this._truncateToN(new o(b,16));for(var m=this.n.byteLength(),x=y.getPrivate().toArray("be",m),C=b.toArray("be",m),I=new s({hash:this.hash,entropy:x,nonce:C,pers:g.pers,persEnc:g.persEnc||"utf8"}),D=this.n.sub(new o(1)),z=0;;z++){var O=g.k?g.k(z):new o(I.generate(this.n.byteLength()));if(!((O=this._truncateToN(O,!0)).cmpn(1)<=0||O.cmp(D)>=0)){var B=this.g.mul(O);if(!B.isInfinity()){var V=B.getX(),q=V.umod(this.n);if(q.cmpn(0)!==0){var H=O.invm(this.n).mul(q.mul(y.getPrivate()).iadd(b));if((H=H.umod(this.n)).cmpn(0)!==0){var E=(B.getY().isOdd()?1:0)|(V.cmp(q)!==0?2:0);return g.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),E^=1),new d({r:q,s:H,recoveryParam:E})}}}}}},f.prototype.verify=function(b,y,p,g){b=this._truncateToN(new o(b,16)),p=this.keyFromPublic(p,g);var m=(y=new d(y,"hex")).r,x=y.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var C,I=x.invm(this.n),D=I.mul(b).umod(this.n),z=I.mul(m).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(D,p.getPublic(),z)).isInfinity()&&C.eqXToP(m):!(C=this.g.mulAdd(D,p.getPublic(),z)).isInfinity()&&C.getX().umod(this.n).cmp(m)===0},f.prototype.recoverPubKey=function(b,y,p,g){c((3&p)===p,"The recovery param is more than two bits"),y=new d(y,g);var m=this.n,x=new o(b),C=y.r,I=y.s,D=1&p,z=p>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&z)throw new Error("Unable to find sencond key candinate");C=z?this.curve.pointFromX(C.add(this.curve.n),D):this.curve.pointFromX(C,D);var O=y.r.invm(m),B=m.sub(x).mul(O).umod(m),V=I.mul(O).umod(m);return this.g.mulAdd(B,C,V)},f.prototype.getKeyRecoveryParam=function(b,y,p,g){if((y=new d(y,g)).recoveryParam!==null)return y.recoveryParam;for(var m=0;m<4;m++){var x;try{x=this.recoverPubKey(b,y,m)}catch{continue}if(x.eq(p))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,r,l){var o=e("bn.js"),s=e("../utils").assert;function u(a,i){this.ec=a,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}r.exports=u,u.fromPublic=function(a,i,c){return i instanceof u?i:new u(a,{pub:i,pubEnc:c})},u.fromPrivate=function(a,i,c){return i instanceof u?i:new u(a,{priv:i,privEnc:c})},u.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(a,i){return typeof a=="string"&&(i=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,a):this.pub},u.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(a,i){this.priv=new o(a,i||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(a,i){if(a.x||a.y)return this.ec.curve.type==="mont"?s(a.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(a.x&&a.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(a.x,a.y));this.pub=this.ec.curve.decodePoint(a,i)},u.prototype.derive=function(a){return a.validate()||s(a.validate(),"public point not validated"),a.mul(this.priv).getX()},u.prototype.sign=function(a,i,c){return this.ec.sign(a,this,i,c)},u.prototype.verify=function(a,i){return this.ec.verify(a,i,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,r,l){var o=e("bn.js"),s=e("../utils"),u=s.assert;function a(f,b){if(f instanceof a)return f;this._importDER(f,b)||(u(f.r&&f.s,"Signature without r or s"),this.r=new o(f.r,16),this.s=new o(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function i(){this.place=0}function c(f,b){var y=f[b.place++];if(!(128&y))return y;var p=15&y;if(p===0||p>4)return!1;for(var g=0,m=0,x=b.place;m<p;m++,x++)g<<=8,g|=f[x],g>>>=0;return!(g<=127)&&(b.place=x,g)}function h(f){for(var b=0,y=f.length-1;!f[b]&&!(128&f[b+1])&&b<y;)b++;return b===0?f:f.slice(b)}function d(f,b){if(b<128)f.push(b);else{var y=1+(Math.log(b)/Math.LN2>>>3);for(f.push(128|y);--y;)f.push(b>>>(y<<3)&255);f.push(b)}}r.exports=a,a.prototype._importDER=function(f,b){f=s.toArray(f,b);var y=new i;if(f[y.place++]!==48)return!1;var p=c(f,y);if(p===!1||p+y.place!==f.length||f[y.place++]!==2)return!1;var g=c(f,y);if(g===!1)return!1;var m=f.slice(y.place,g+y.place);if(y.place+=g,f[y.place++]!==2)return!1;var x=c(f,y);if(x===!1||f.length!==x+y.place)return!1;var C=f.slice(y.place,x+y.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new o(m),this.s=new o(C),this.recoveryParam=null,!0},a.prototype.toDER=function(f){var b=this.r.toArray(),y=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&y[0]&&(y=[0].concat(y)),b=h(b),y=h(y);!(y[0]||128&y[1]);)y=y.slice(1);var p=[2];d(p,b.length),(p=p.concat(b)).push(2),d(p,y.length);var g=p.concat(y),m=[48];return d(m,g.length),m=m.concat(g),s.encode(m,f)}},{"../utils":419,"bn.js":420}],415:[function(e,r,l){var o=e("hash.js"),s=e("../curves"),u=e("../utils"),a=u.assert,i=u.parseBytes,c=e("./key"),h=e("./signature");function d(f){if(a(f==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(f);f=s[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=o.sha512}r.exports=d,d.prototype.sign=function(f,b){f=i(f);var y=this.keyFromSecret(b),p=this.hashInt(y.messagePrefix(),f),g=this.g.mul(p),m=this.encodePoint(g),x=this.hashInt(m,y.pubBytes(),f).mul(y.priv()),C=p.add(x).umod(this.curve.n);return this.makeSignature({R:g,S:C,Rencoded:m})},d.prototype.verify=function(f,b,y){f=i(f),b=this.makeSignature(b);var p=this.keyFromPublic(y),g=this.hashInt(b.Rencoded(),p.pubBytes(),f),m=this.g.mul(b.S());return b.R().add(p.pub().mul(g)).eq(m)},d.prototype.hashInt=function(){for(var f=this.hash(),b=0;b<arguments.length;b++)f.update(arguments[b]);return u.intFromLE(f.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(f){return c.fromPublic(this,f)},d.prototype.keyFromSecret=function(f){return c.fromSecret(this,f)},d.prototype.makeSignature=function(f){return f instanceof h?f:new h(this,f)},d.prototype.encodePoint=function(f){var b=f.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=f.getX().isOdd()?128:0,b},d.prototype.decodePoint=function(f){var b=(f=u.parseBytes(f)).length-1,y=f.slice(0,b).concat(-129&f[b]),p=(128&f[b])!=0,g=u.intFromLE(y);return this.curve.pointFromY(g,p)},d.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(f){return u.intFromLE(f)},d.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,r,l){var o=e("../utils"),s=o.assert,u=o.parseBytes,a=o.cachedProperty;function i(c,h){this.eddsa=c,this._secret=u(h.secret),c.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=u(h.pub)}i.fromPublic=function(c,h){return h instanceof i?h:new i(c,{pub:h})},i.fromSecret=function(c,h){return h instanceof i?h:new i(c,{secret:h})},i.prototype.secret=function(){return this._secret},a(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(i,"privBytes",function(){var c=this.eddsa,h=this.hash(),d=c.encodingLength-1,f=h.slice(0,c.encodingLength);return f[0]&=248,f[d]&=127,f[d]|=64,f}),a(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(c){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},i.prototype.verify=function(c,h){return this.eddsa.verify(c,h,this)},i.prototype.getSecret=function(c){return s(this._secret,"KeyPair is public only"),o.encode(this.secret(),c)},i.prototype.getPublic=function(c){return o.encode(this.pubBytes(),c)},r.exports=i},{"../utils":419}],417:[function(e,r,l){var o=e("bn.js"),s=e("../utils"),u=s.assert,a=s.cachedProperty,i=s.parseBytes;function c(h,d){this.eddsa=h,typeof d!="object"&&(d=i(d)),Array.isArray(d)&&(d={R:d.slice(0,h.encodingLength),S:d.slice(h.encodingLength)}),u(d.R&&d.S,"Signature without R or S"),h.isPoint(d.R)&&(this._R=d.R),d.S instanceof o&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}a(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},r.exports=c},{"../utils":419,"bn.js":420}],418:[function(e,r,l){r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,r,l){var o=l,s=e("bn.js"),u=e("minimalistic-assert"),a=e("minimalistic-crypto-utils");o.assert=u,o.toArray=a.toArray,o.zero2=a.zero2,o.toHex=a.toHex,o.encode=a.encode,o.getNAF=function(i,c,h){var d=new Array(Math.max(i.bitLength(),h)+1);d.fill(0);for(var f=1<<c+1,b=i.clone(),y=0;y<d.length;y++){var p,g=b.andln(f-1);b.isOdd()?(p=g>(f>>1)-1?(f>>1)-g:g,b.isubn(p)):p=0,d[y]=p,b.iushrn(1)}return d},o.getJSF=function(i,c){var h=[[],[]];i=i.clone(),c=c.clone();for(var d,f=0,b=0;i.cmpn(-f)>0||c.cmpn(-b)>0;){var y,p,g=i.andln(3)+f&3,m=c.andln(3)+b&3;g===3&&(g=-1),m===3&&(m=-1),y=1&g?(d=i.andln(7)+f&7)!==3&&d!==5||m!==2?g:-g:0,h[0].push(y),p=1&m?(d=c.andln(7)+b&7)!==3&&d!==5||g!==2?m:-m:0,h[1].push(p),2*f===y+1&&(f=1-f),2*b===p+1&&(b=1-b),i.iushrn(1),c.iushrn(1)}return h},o.cachedProperty=function(i,c,h){var d="_"+c;i.prototype[c]=function(){return this[d]!==void 0?this[d]:this[d]=h.call(this)}},o.parseBytes=function(i){return typeof i=="string"?o.toArray(i,"hex"):i},o.intFromLE=function(i){return new s(i,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,r,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],421:[function(e,r,l){r.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,r,l){var o=Object.create||function(O){var B=function(){};return B.prototype=O,new B},s=Object.keys||function(O){var B=[];for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&B.push(V);return V},u=Function.prototype.bind||function(O){var B=this;return function(){return B.apply(O,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var i,c=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),i=h.x===0}catch{i=!1}function d(O){return O._maxListeners===void 0?a.defaultMaxListeners:O._maxListeners}function f(O,B,V){if(B)O.call(V);else for(var q=O.length,H=z(O,q),E=0;E<q;++E)H[E].call(V)}function b(O,B,V,q){if(B)O.call(V,q);else for(var H=O.length,E=z(O,H),R=0;R<H;++R)E[R].call(V,q)}function y(O,B,V,q,H){if(B)O.call(V,q,H);else for(var E=O.length,R=z(O,E),k=0;k<E;++k)R[k].call(V,q,H)}function p(O,B,V,q,H,E){if(B)O.call(V,q,H,E);else for(var R=O.length,k=z(O,R),v=0;v<R;++v)k[v].call(V,q,H,E)}function g(O,B,V,q){if(B)O.apply(V,q);else for(var H=O.length,E=z(O,H),R=0;R<H;++R)E[R].apply(V,q)}function m(O,B,V,q){var H,E,R;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((E=O._events)?(E.newListener&&(O.emit("newListener",B,V.listener?V.listener:V),E=O._events),R=E[B]):(E=O._events=o(null),O._eventsCount=0),R){if(typeof R=="function"?R=E[B]=q?[V,R]:[R,V]:q?R.unshift(V):R.push(V),!R.warned&&(H=d(O))&&H>0&&R.length>H){R.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=O,k.type=B,k.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else R=E[B]=V,++O._eventsCount;return O}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var O=new Array(arguments.length),B=0;B<O.length;++B)O[B]=arguments[B];this.listener.apply(this.target,O)}}function C(O,B,V){var q={fired:!1,wrapFn:void 0,target:O,type:B,listener:V},H=u.call(x,q);return H.listener=V,q.wrapFn=H,H}function I(O,B,V){var q=O._events;if(!q)return[];var H=q[B];return H?typeof H=="function"?V?[H.listener||H]:[H]:V?function(E){for(var R=new Array(E.length),k=0;k<R.length;++k)R[k]=E[k].listener||E[k];return R}(H):z(H,H.length):[]}function D(O){var B=this._events;if(B){var V=B[O];if(typeof V=="function")return 1;if(V)return V.length}return 0}function z(O,B){for(var V=new Array(B),q=0;q<B;++q)V[q]=O[q];return V}i?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(O){if(typeof O!="number"||O<0||O!=O)throw new TypeError('"defaultMaxListeners" must be a positive number');c=O}}):a.defaultMaxListeners=c,a.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||isNaN(O))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=O,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(O){var B,V,q,H,E,R,k=O==="error";if(R=this._events)k=k&&R.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(B=arguments[1]),B instanceof Error)throw B;var v=new Error('Unhandled "error" event. ('+B+")");throw v.context=B,v}if(!(V=R[O]))return!1;var _=typeof V=="function";switch(q=arguments.length){case 1:f(V,_,this);break;case 2:b(V,_,this,arguments[1]);break;case 3:y(V,_,this,arguments[1],arguments[2]);break;case 4:p(V,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(q-1),E=1;E<q;E++)H[E-1]=arguments[E];g(V,_,this,H)}return!0},a.prototype.addListener=function(O,B){return m(this,O,B,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(O,B){return m(this,O,B,!0)},a.prototype.once=function(O,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.on(O,C(this,O,B)),this},a.prototype.prependOnceListener=function(O,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(O,C(this,O,B)),this},a.prototype.removeListener=function(O,B){var V,q,H,E,R;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(V=q[O]))return this;if(V===B||V.listener===B)--this._eventsCount==0?this._events=o(null):(delete q[O],q.removeListener&&this.emit("removeListener",O,V.listener||B));else if(typeof V!="function"){for(H=-1,E=V.length-1;E>=0;E--)if(V[E]===B||V[E].listener===B){R=V[E].listener,H=E;break}if(H<0)return this;H===0?V.shift():function(k,v){for(var _=v,w=_+1,S=k.length;w<S;_+=1,w+=1)k[_]=k[w];k.pop()}(V,H),V.length===1&&(q[O]=V[0]),q.removeListener&&this.emit("removeListener",O,R||B)}return this},a.prototype.removeAllListeners=function(O){var B,V,q;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):V[O]&&(--this._eventsCount==0?this._events=o(null):delete V[O]),this;if(arguments.length===0){var H,E=s(V);for(q=0;q<E.length;++q)(H=E[q])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(typeof(B=V[O])=="function")this.removeListener(O,B);else if(B)for(q=B.length-1;q>=0;q--)this.removeListener(O,B[q]);return this},a.prototype.listeners=function(O){return I(this,O,!0)},a.prototype.rawListeners=function(O){return I(this,O,!1)},a.listenerCount=function(O,B){return typeof O.listenerCount=="function"?O.listenerCount(B):D.call(O,B)},a.prototype.listenerCount=D,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("md5.js");r.exports=function(u,a,i,c){if(o.isBuffer(u)||(u=o.from(u,"binary")),a&&(o.isBuffer(a)||(a=o.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=i/8,d=o.alloc(h),f=o.alloc(c||0),b=o.alloc(0);h>0||c>0;){var y=new s;y.update(b),y.update(u),a&&y.update(a),b=y.digest();var p=0;if(h>0){var g=d.length-h;p=Math.min(h,b.length),b.copy(d,g,0,p),h-=p}if(p<b.length&&c>0){var m=f.length-c,x=Math.min(c,b.length-p);b.copy(f,m,p,p+x),c-=x}}return b.fill(0),{key:d,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=l.ParserOptions=l.parseFile=l.parseStream=l.parseString=l.parse=l.FormatterOptions=l.CsvFormatterStream=l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=void 0;var o=e("@fast-csv/format");Object.defineProperty(l,"format",{enumerable:!0,get:function(){return o.format}}),Object.defineProperty(l,"write",{enumerable:!0,get:function(){return o.write}}),Object.defineProperty(l,"writeToStream",{enumerable:!0,get:function(){return o.writeToStream}}),Object.defineProperty(l,"writeToBuffer",{enumerable:!0,get:function(){return o.writeToBuffer}}),Object.defineProperty(l,"writeToString",{enumerable:!0,get:function(){return o.writeToString}}),Object.defineProperty(l,"writeToPath",{enumerable:!0,get:function(){return o.writeToPath}}),Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return o.CsvFormatterStream}}),Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return o.FormatterOptions}});var s=e("@fast-csv/parse");Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(l,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(l,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(l,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("readable-stream").Transform;function u(a){s.call(this),this._block=o.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(u,s),u.prototype._transform=function(a,i,c){var h=null;try{this.update(a,i)}catch(d){h=d}c(h)},u.prototype._flush=function(a){var i=null;try{this.push(this.digest())}catch(c){i=c}a(i)},u.prototype.update=function(a,i){if(function(y,p){if(!o.isBuffer(y)&&typeof y!="string")throw new TypeError(p+" must be a string or a buffer")}(a,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(a)||(a=o.from(a,i));for(var c=this._block,h=0;this._blockOffset+a.length-h>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)c[d++]=a[h++];this._update(),this._blockOffset=0}for(;h<a.length;)c[this._blockOffset++]=a[h++];for(var f=0,b=8*a.length;b>0;++f)this._length[f]+=b,(b=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*b);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var i=this._digest();a!==void 0&&(i=i.toString(a)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return i},u.prototype._digest=function(){throw new Error("_digest is not implemented")},r.exports=u},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,r,l){var o=l;o.utils=e("./hash/utils"),o.common=e("./hash/common"),o.sha=e("./hash/sha"),o.ripemd=e("./hash/ripemd"),o.hmac=e("./hash/hmac"),o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,r,l){var o=e("./utils"),s=e("minimalistic-assert");function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=u,u.prototype.update=function(a,i){if(a=o.toArray(a,i),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var c=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-c,a.length),this.pending.length===0&&(this.pending=null),a=o.join32(a,0,a.length-c,this.endian);for(var h=0;h<a.length;h+=this._delta32)this._update(a,h,h+this._delta32)}return this},u.prototype.digest=function(a){return this.update(this._pad()),s(this.pending===null),this._digest(a)},u.prototype._pad=function(){var a=this.pendingTotal,i=this._delta8,c=i-(a+this.padLength)%i,h=new Array(c+this.padLength);h[0]=128;for(var d=1;d<c;d++)h[d]=0;if(a<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)h[d++]=0;h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=a>>>24&255,h[d++]=a>>>16&255,h[d++]=a>>>8&255,h[d++]=255&a}else for(h[d++]=255&a,h[d++]=a>>>8&255,h[d++]=a>>>16&255,h[d++]=a>>>24&255,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,f=8;f<this.padLength;f++)h[d++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,r,l){var o=e("./utils"),s=e("minimalistic-assert");function u(a,i,c){if(!(this instanceof u))return new u(a,i,c);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(o.toArray(i,c))}r.exports=u,u.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),s(a.length<=this.blockSize);for(var i=a.length;i<this.blockSize;i++)a.push(0);for(i=0;i<a.length;i++)a[i]^=54;for(this.inner=new this.Hash().update(a),i=0;i<a.length;i++)a[i]^=106;this.outer=new this.Hash().update(a)},u.prototype.update=function(a,i){return this.inner.update(a,i),this},u.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,r,l){var o=e("./utils"),s=e("./common"),u=o.rotl32,a=o.sum32,i=o.sum32_3,c=o.sum32_4,h=s.BlockHash;function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(C,I,D,z){return C<=15?I^D^z:C<=31?I&D|~I&z:C<=47?(I|~D)^z:C<=63?I&z|D&~z:I^(D|~z)}function b(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function y(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}o.inherits(d,h),l.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(C,I){for(var D=this.h[0],z=this.h[1],O=this.h[2],B=this.h[3],V=this.h[4],q=D,H=z,E=O,R=B,k=V,v=0;v<80;v++){var _=a(u(c(D,f(v,z,O,B),C[p[v]+I],b(v)),m[v]),V);D=V,V=B,B=u(O,10),O=z,z=_,_=a(u(c(q,f(79-v,H,E,R),C[g[v]+I],y(v)),x[v]),k),q=k,k=R,R=u(E,10),E=H,H=_}_=i(this.h[1],O,R),this.h[1]=i(this.h[2],B,k),this.h[2]=i(this.h[3],V,q),this.h[3]=i(this.h[4],D,H),this.h[4]=i(this.h[0],z,E),this.h[0]=_},d.prototype._digest=function(C){return C==="hex"?o.toHex32(this.h,"little"):o.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,r,l){l.sha1=e("./sha/1"),l.sha224=e("./sha/224"),l.sha256=e("./sha/256"),l.sha384=e("./sha/384"),l.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,r,l){var o=e("../utils"),s=e("../common"),u=e("./common"),a=o.rotl32,i=o.sum32,c=o.sum32_5,h=u.ft_1,d=s.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o.inherits(b,d),r.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(y,p){for(var g=this.W,m=0;m<16;m++)g[m]=y[p+m];for(;m<g.length;m++)g[m]=a(g[m-3]^g[m-8]^g[m-14]^g[m-16],1);var x=this.h[0],C=this.h[1],I=this.h[2],D=this.h[3],z=this.h[4];for(m=0;m<g.length;m++){var O=~~(m/20),B=c(a(x,5),h(O,C,I,D),z,g[m],f[O]);z=D,D=I,I=a(C,30),C=x,x=B}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],C),this.h[2]=i(this.h[2],I),this.h[3]=i(this.h[3],D),this.h[4]=i(this.h[4],z)},b.prototype._digest=function(y){return y==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,r,l){var o=e("../utils"),s=e("./256");function u(){if(!(this instanceof u))return new u;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o.inherits(u,s),r.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(a){return a==="hex"?o.toHex32(this.h.slice(0,7),"big"):o.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,r,l){var o=e("../utils"),s=e("../common"),u=e("./common"),a=e("minimalistic-assert"),i=o.sum32,c=o.sum32_4,h=o.sum32_5,d=u.ch32,f=u.maj32,b=u.s0_256,y=u.s1_256,p=u.g0_256,g=u.g1_256,m=s.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}o.inherits(C,m),r.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(I,D){for(var z=this.W,O=0;O<16;O++)z[O]=I[D+O];for(;O<z.length;O++)z[O]=c(g(z[O-2]),z[O-7],p(z[O-15]),z[O-16]);var B=this.h[0],V=this.h[1],q=this.h[2],H=this.h[3],E=this.h[4],R=this.h[5],k=this.h[6],v=this.h[7];for(a(this.k.length===z.length),O=0;O<z.length;O++){var _=h(v,y(E),d(E,R,k),this.k[O],z[O]),w=i(b(B),f(B,V,q));v=k,k=R,R=E,E=i(H,_),H=q,q=V,V=B,B=i(_,w)}this.h[0]=i(this.h[0],B),this.h[1]=i(this.h[1],V),this.h[2]=i(this.h[2],q),this.h[3]=i(this.h[3],H),this.h[4]=i(this.h[4],E),this.h[5]=i(this.h[5],R),this.h[6]=i(this.h[6],k),this.h[7]=i(this.h[7],v)},C.prototype._digest=function(I){return I==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,r,l){var o=e("../utils"),s=e("./512");function u(){if(!(this instanceof u))return new u;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o.inherits(u,s),r.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(a){return a==="hex"?o.toHex32(this.h.slice(0,12),"big"):o.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,r,l){var o=e("../utils"),s=e("../common"),u=e("minimalistic-assert"),a=o.rotr64_hi,i=o.rotr64_lo,c=o.shr64_hi,h=o.shr64_lo,d=o.sum64,f=o.sum64_hi,b=o.sum64_lo,y=o.sum64_4_hi,p=o.sum64_4_lo,g=o.sum64_5_hi,m=o.sum64_5_lo,x=s.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function D(w,S,N,j,U){var G=w&N^~w&U;return G<0&&(G+=4294967296),G}function z(w,S,N,j,U,G){var W=S&j^~S&G;return W<0&&(W+=4294967296),W}function O(w,S,N,j,U){var G=w&N^w&U^N&U;return G<0&&(G+=4294967296),G}function B(w,S,N,j,U,G){var W=S&j^S&G^j&G;return W<0&&(W+=4294967296),W}function V(w,S){var N=a(w,S,28)^a(S,w,2)^a(S,w,7);return N<0&&(N+=4294967296),N}function q(w,S){var N=i(w,S,28)^i(S,w,2)^i(S,w,7);return N<0&&(N+=4294967296),N}function H(w,S){var N=a(w,S,14)^a(w,S,18)^a(S,w,9);return N<0&&(N+=4294967296),N}function E(w,S){var N=i(w,S,14)^i(w,S,18)^i(S,w,9);return N<0&&(N+=4294967296),N}function R(w,S){var N=a(w,S,1)^a(w,S,8)^c(w,S,7);return N<0&&(N+=4294967296),N}function k(w,S){var N=i(w,S,1)^i(w,S,8)^h(w,S,7);return N<0&&(N+=4294967296),N}function v(w,S){var N=a(w,S,19)^a(S,w,29)^c(w,S,6);return N<0&&(N+=4294967296),N}function _(w,S){var N=i(w,S,19)^i(S,w,29)^h(w,S,6);return N<0&&(N+=4294967296),N}o.inherits(I,x),r.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(w,S){for(var N=this.W,j=0;j<32;j++)N[j]=w[S+j];for(;j<N.length;j+=2){var U=v(N[j-4],N[j-3]),G=_(N[j-4],N[j-3]),W=N[j-14],J=N[j-13],F=R(N[j-30],N[j-29]),K=k(N[j-30],N[j-29]),L=N[j-32],P=N[j-31];N[j]=y(U,G,W,J,F,K,L,P),N[j+1]=p(U,G,W,J,F,K,L,P)}},I.prototype._update=function(w,S){this._prepareBlock(w,S);var N=this.W,j=this.h[0],U=this.h[1],G=this.h[2],W=this.h[3],J=this.h[4],F=this.h[5],K=this.h[6],L=this.h[7],P=this.h[8],$=this.h[9],Y=this.h[10],Q=this.h[11],X=this.h[12],ee=this.h[13],ie=this.h[14],oe=this.h[15];u(this.k.length===N.length);for(var Z=0;Z<N.length;Z+=2){var re=ie,ne=oe,ue=H(P,$),le=E(P,$),de=D(P,$,Y,Q,X),he=z(P,$,Y,Q,X,ee),pe=this.k[Z],ye=this.k[Z+1],Ee=N[Z],Te=N[Z+1],Se=g(re,ne,ue,le,de,he,pe,ye,Ee,Te),Fe=m(re,ne,ue,le,de,he,pe,ye,Ee,Te);re=V(j,U),ne=q(j,U),ue=O(j,U,G,W,J),le=B(j,U,G,W,J,F);var Le=f(re,ne,ue,le),Oe=b(re,ne,ue,le);ie=X,oe=ee,X=Y,ee=Q,Y=P,Q=$,P=f(K,L,Se,Fe),$=b(L,L,Se,Fe),K=J,L=F,J=G,F=W,G=j,W=U,j=f(Se,Fe,Le,Oe),U=b(Se,Fe,Le,Oe)}d(this.h,0,j,U),d(this.h,2,G,W),d(this.h,4,J,F),d(this.h,6,K,L),d(this.h,8,P,$),d(this.h,10,Y,Q),d(this.h,12,X,ee),d(this.h,14,ie,oe)},I.prototype._digest=function(w){return w==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,r,l){var o=e("../utils").rotr32;function s(i,c,h){return i&c^~i&h}function u(i,c,h){return i&c^i&h^c&h}function a(i,c,h){return i^c^h}l.ft_1=function(i,c,h,d){return i===0?s(c,h,d):i===1||i===3?a(c,h,d):i===2?u(c,h,d):void 0},l.ch32=s,l.maj32=u,l.p32=a,l.s0_256=function(i){return o(i,2)^o(i,13)^o(i,22)},l.s1_256=function(i){return o(i,6)^o(i,11)^o(i,25)},l.g0_256=function(i){return o(i,7)^o(i,18)^i>>>3},l.g1_256=function(i){return o(i,17)^o(i,19)^i>>>10}},{"../utils":437}],437:[function(e,r,l){var o=e("minimalistic-assert"),s=e("inherits");function u(h,d){return(64512&h.charCodeAt(d))==55296&&!(d<0||d+1>=h.length)&&(64512&h.charCodeAt(d+1))==56320}function a(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function i(h){return h.length===1?"0"+h:h}function c(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}l.inherits=s,l.toArray=function(h,d){if(Array.isArray(h))return h.slice();if(!h)return[];var f=[];if(typeof h=="string")if(d){if(d==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),y=0;y<h.length;y+=2)f.push(parseInt(h[y]+h[y+1],16))}else for(var b=0,y=0;y<h.length;y++){var p=h.charCodeAt(y);p<128?f[b++]=p:p<2048?(f[b++]=p>>6|192,f[b++]=63&p|128):u(h,y)?(p=65536+((1023&p)<<10)+(1023&h.charCodeAt(++y)),f[b++]=p>>18|240,f[b++]=p>>12&63|128,f[b++]=p>>6&63|128,f[b++]=63&p|128):(f[b++]=p>>12|224,f[b++]=p>>6&63|128,f[b++]=63&p|128)}else for(y=0;y<h.length;y++)f[y]=0|h[y];return f},l.toHex=function(h){for(var d="",f=0;f<h.length;f++)d+=i(h[f].toString(16));return d},l.htonl=a,l.toHex32=function(h,d){for(var f="",b=0;b<h.length;b++){var y=h[b];d==="little"&&(y=a(y)),f+=c(y.toString(16))}return f},l.zero2=i,l.zero8=c,l.join32=function(h,d,f,b){var y=f-d;o(y%4==0);for(var p=new Array(y/4),g=0,m=d;g<p.length;g++,m+=4){var x;x=b==="big"?h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3]:h[m+3]<<24|h[m+2]<<16|h[m+1]<<8|h[m],p[g]=x>>>0}return p},l.split32=function(h,d){for(var f=new Array(4*h.length),b=0,y=0;b<h.length;b++,y+=4){var p=h[b];d==="big"?(f[y]=p>>>24,f[y+1]=p>>>16&255,f[y+2]=p>>>8&255,f[y+3]=255&p):(f[y+3]=p>>>24,f[y+2]=p>>>16&255,f[y+1]=p>>>8&255,f[y]=255&p)}return f},l.rotr32=function(h,d){return h>>>d|h<<32-d},l.rotl32=function(h,d){return h<<d|h>>>32-d},l.sum32=function(h,d){return h+d>>>0},l.sum32_3=function(h,d,f){return h+d+f>>>0},l.sum32_4=function(h,d,f,b){return h+d+f+b>>>0},l.sum32_5=function(h,d,f,b,y){return h+d+f+b+y>>>0},l.sum64=function(h,d,f,b){var y=h[d],p=b+h[d+1]>>>0,g=(p<b?1:0)+f+y;h[d]=g>>>0,h[d+1]=p},l.sum64_hi=function(h,d,f,b){return(d+b>>>0<d?1:0)+h+f>>>0},l.sum64_lo=function(h,d,f,b){return d+b>>>0},l.sum64_4_hi=function(h,d,f,b,y,p,g,m){var x=0,C=d;return x+=(C=C+b>>>0)<d?1:0,x+=(C=C+p>>>0)<p?1:0,h+f+y+g+(x+=(C=C+m>>>0)<m?1:0)>>>0},l.sum64_4_lo=function(h,d,f,b,y,p,g,m){return d+b+p+m>>>0},l.sum64_5_hi=function(h,d,f,b,y,p,g,m,x,C){var I=0,D=d;return I+=(D=D+b>>>0)<d?1:0,I+=(D=D+p>>>0)<p?1:0,I+=(D=D+m>>>0)<m?1:0,h+f+y+g+x+(I+=(D=D+C>>>0)<C?1:0)>>>0},l.sum64_5_lo=function(h,d,f,b,y,p,g,m,x,C){return d+b+p+m+C>>>0},l.rotr64_hi=function(h,d,f){return(d<<32-f|h>>>f)>>>0},l.rotr64_lo=function(h,d,f){return(h<<32-f|d>>>f)>>>0},l.shr64_hi=function(h,d,f){return h>>>f},l.shr64_lo=function(h,d,f){return(h<<32-f|d>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,r,l){var o=e("hash.js"),s=e("minimalistic-crypto-utils"),u=e("minimalistic-assert");function a(i){if(!(this instanceof a))return new a(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=s.toArray(i.entropy,i.entropyEnc||"hex"),h=s.toArray(i.nonce,i.nonceEnc||"hex"),d=s.toArray(i.pers,i.persEnc||"hex");u(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,h,d)}r.exports=a,a.prototype._init=function(i,c,h){var d=i.concat(c).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new o.hmac(this.hash,this.K)},a.prototype._update=function(i){var c=this._hmac().update(this.V).update([0]);i&&(c=c.update(i)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(i,c,h,d){typeof c!="string"&&(d=h,h=c,c=null),i=s.toArray(i,c),h=s.toArray(h,d),u(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(h||[])),this._reseed=1},a.prototype.generate=function(i,c,h,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(d=h,h=c,c=null),h&&(h=s.toArray(h,d||"hex"),this._update(h));for(var f=[];f.length<i;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var b=f.slice(0,i);return this._update(h),this._reseed++,s.encode(b,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,r,l){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(o,s,u,a,i){var c,h,d=8*i-a-1,f=(1<<d)-1,b=f>>1,y=-7,p=u?i-1:0,g=u?-1:1,m=o[s+p];for(p+=g,c=m&(1<<-y)-1,m>>=-y,y+=d;y>0;c=256*c+o[s+p],p+=g,y-=8);for(h=c&(1<<-y)-1,c>>=-y,y+=a;y>0;h=256*h+o[s+p],p+=g,y-=8);if(c===0)c=1-b;else{if(c===f)return h?NaN:1/0*(m?-1:1);h+=Math.pow(2,a),c-=b}return(m?-1:1)*h*Math.pow(2,c-a)},l.write=function(o,s,u,a,i,c){var h,d,f,b=8*c-i-1,y=(1<<b)-1,p=y>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:c-1,x=a?1:-1,C=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(d=isNaN(s)?1:0,h=y):(h=Math.floor(Math.log(s)/Math.LN2),s*(f=Math.pow(2,-h))<1&&(h--,f*=2),(s+=h+p>=1?g/f:g*Math.pow(2,1-p))*f>=2&&(h++,f/=2),h+p>=y?(d=0,h=y):h+p>=1?(d=(s*f-1)*Math.pow(2,i),h+=p):(d=s*Math.pow(2,p-1)*Math.pow(2,i),h=0));i>=8;o[u+m]=255&d,m+=x,d/=256,i-=8);for(h=h<<i|d,b+=i;b>0;o[u+m]=255&h,m+=x,h/=256,b-=8);o[u+m-x]|=128*C}},{}],440:[function(e,r,l){typeof Object.create=="function"?r.exports=function(o,s){s&&(o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(o,s){if(s){o.super_=s;var u=function(){};u.prototype=s.prototype,o.prototype=new u,o.prototype.constructor=o}}},{}],441:[function(e,r,l){(function(o,s,u,a,i,c,h,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof l=="object"&&r!==void 0?r.exports=f():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(b,y,p){function g(C,I){if(!y[C]){if(!b[C]){var D=typeof e=="function"&&e;if(!I&&D)return D(C,!0);if(m)return m(C,!0);var z=new Error("Cannot find module '"+C+"'");throw z.code="MODULE_NOT_FOUND",z}var O=y[C]={exports:{}};b[C][0].call(O.exports,function(B){return g(b[C][1][B]||B)},O,O.exports,f,b,y,p)}return y[C].exports}for(var m=typeof e=="function"&&e,x=0;x<p.length;x++)g(p[x]);return g}({1:[function(f,b,y){var p=f("./utils"),g=f("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(x){for(var C,I,D,z,O,B,V,q=[],H=0,E=x.length,R=E,k=p.getTypeOf(x)!=="string";H<x.length;)R=E-H,D=k?(C=x[H++],I=H<E?x[H++]:0,H<E?x[H++]:0):(C=x.charCodeAt(H++),I=H<E?x.charCodeAt(H++):0,H<E?x.charCodeAt(H++):0),z=C>>2,O=(3&C)<<4|I>>4,B=1<R?(15&I)<<2|D>>6:64,V=2<R?63&D:64,q.push(m.charAt(z)+m.charAt(O)+m.charAt(B)+m.charAt(V));return q.join("")},y.decode=function(x){var C,I,D,z,O,B,V=0,q=0,H="data:";if(x.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var E,R=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===m.charAt(64)&&R--,x.charAt(x.length-2)===m.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=g.uint8array?new Uint8Array(0|R):new Array(0|R);V<x.length;)C=m.indexOf(x.charAt(V++))<<2|(z=m.indexOf(x.charAt(V++)))>>4,I=(15&z)<<4|(O=m.indexOf(x.charAt(V++)))>>2,D=(3&O)<<6|(B=m.indexOf(x.charAt(V++))),E[q++]=C,O!==64&&(E[q++]=I),B!==64&&(E[q++]=D);return E}},{"./support":30,"./utils":32}],2:[function(f,b,y){var p=f("./external"),g=f("./stream/DataWorker"),m=f("./stream/Crc32Probe"),x=f("./stream/DataLengthProbe");function C(I,D,z,O,B){this.compressedSize=I,this.uncompressedSize=D,this.crc32=z,this.compression=O,this.compressedContent=B}C.prototype={getContentWorker:function(){var I=new g(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),D=this;return I.on("end",function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new g(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(I,D,z){return I.pipe(new m).pipe(new x("uncompressedSize")).pipe(D.compressWorker(z)).pipe(new x("compressedSize")).withStreamInfo("compression",D)},b.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,b,y){var p=f("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},y.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,b,y){var p=f("./utils"),g=function(){for(var m,x=[],C=0;C<256;C++){m=C;for(var I=0;I<8;I++)m=1&m?3988292384^m>>>1:m>>>1;x[C]=m}return x}();b.exports=function(m,x){return m!==void 0&&m.length?p.getTypeOf(m)!=="string"?function(C,I,D,z){var O=g,B=0+D;C^=-1;for(var V=0;V<B;V++)C=C>>>8^O[255&(C^I[V])];return-1^C}(0|x,m,m.length):function(C,I,D,z){var O=g,B=0+D;C^=-1;for(var V=0;V<B;V++)C=C>>>8^O[255&(C^I.charCodeAt(V))];return-1^C}(0|x,m,m.length):0}},{"./utils":32}],5:[function(f,b,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(f,b,y){var p;p=typeof Promise<"u"?Promise:f("lie"),b.exports={Promise:p}},{lie:37}],7:[function(f,b,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=f("pako"),m=f("./utils"),x=f("./stream/GenericWorker"),C=p?"uint8array":"array";function I(D,z){x.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=z,this.meta={}}y.magic="\b\0",m.inherits(I,x),I.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(C,D.data),!1)},I.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(z){D.push({data:z,meta:D.meta})}},y.compressWorker=function(D){return new I("Deflate",D)},y.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,b,y){function p(O,B){var V,q="";for(V=0;V<B;V++)q+=String.fromCharCode(255&O),O>>>=8;return q}function g(O,B,V,q,H,E){var R,k,v=O.file,_=O.compression,w=E!==C.utf8encode,S=m.transformTo("string",E(v.name)),N=m.transformTo("string",C.utf8encode(v.name)),j=v.comment,U=m.transformTo("string",E(j)),G=m.transformTo("string",C.utf8encode(j)),W=N.length!==v.name.length,J=G.length!==j.length,F="",K="",L="",P=v.dir,$=v.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};B&&!V||(Y.crc32=O.crc32,Y.compressedSize=O.compressedSize,Y.uncompressedSize=O.uncompressedSize);var Q=0;B&&(Q|=8),w||!W&&!J||(Q|=2048);var X=0,ee=0;P&&(X|=16),H==="UNIX"?(ee=798,X|=function(oe,Z){var re=oe;return oe||(re=Z?16893:33204),(65535&re)<<16}(v.unixPermissions,P)):(ee=20,X|=function(oe){return 63&(oe||0)}(v.dosPermissions)),R=$.getUTCHours(),R<<=6,R|=$.getUTCMinutes(),R<<=5,R|=$.getUTCSeconds()/2,k=$.getUTCFullYear()-1980,k<<=4,k|=$.getUTCMonth()+1,k<<=5,k|=$.getUTCDate(),W&&(K=p(1,1)+p(I(S),4)+N,F+="up"+p(K.length,2)+K),J&&(L=p(1,1)+p(I(U),4)+G,F+="uc"+p(L.length,2)+L);var ie="";return ie+=`
\0`,ie+=p(Q,2),ie+=_.magic,ie+=p(R,2),ie+=p(k,2),ie+=p(Y.crc32,4),ie+=p(Y.compressedSize,4),ie+=p(Y.uncompressedSize,4),ie+=p(S.length,2),ie+=p(F.length,2),{fileRecord:D.LOCAL_FILE_HEADER+ie+S+F,dirRecord:D.CENTRAL_FILE_HEADER+p(ee,2)+ie+p(U.length,2)+"\0\0\0\0"+p(X,4)+p(q,4)+S+F+U}}var m=f("../utils"),x=f("../stream/GenericWorker"),C=f("../utf8"),I=f("../crc32"),D=f("../signature");function z(O,B,V,q){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=B,this.zipPlatform=V,this.encodeFileName=q,this.streamFiles=O,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(z,x),z.prototype.push=function(O){var B=O.meta.percent||0,V=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(O):(this.bytesWritten+=O.data.length,x.prototype.push.call(this,{data:O.data,meta:{currentFile:this.currentFile,percent:V?(B+100*(V-q-1))/V:100}}))},z.prototype.openedSource=function(O){this.currentSourceOffset=this.bytesWritten,this.currentFile=O.file.name;var B=this.streamFiles&&!O.file.dir;if(B){var V=g(O,B,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},z.prototype.closedSource=function(O){this.accumulate=!1;var B=this.streamFiles&&!O.file.dir,V=g(O,B,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),B)this.push({data:function(q){return D.DATA_DESCRIPTOR+p(q.crc32,4)+p(q.compressedSize,4)+p(q.uncompressedSize,4)}(O),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},z.prototype.flush=function(){for(var O=this.bytesWritten,B=0;B<this.dirRecords.length;B++)this.push({data:this.dirRecords[B],meta:{percent:100}});var V=this.bytesWritten-O,q=function(H,E,R,k,v){var _=m.transformTo("string",v(k));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(H,2)+p(H,2)+p(E,4)+p(R,4)+p(_.length,2)+_}(this.dirRecords.length,V,O,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},z.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},z.prototype.registerPrevious=function(O){this._sources.push(O);var B=this;return O.on("data",function(V){B.processChunk(V)}),O.on("end",function(){B.closedSource(B.previous.streamInfo),B._sources.length?B.prepareNextSource():B.end()}),O.on("error",function(V){B.error(V)}),this},z.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},z.prototype.error=function(O){var B=this._sources;if(!x.prototype.error.call(this,O))return!1;for(var V=0;V<B.length;V++)try{B[V].error(O)}catch{}return!0},z.prototype.lock=function(){x.prototype.lock.call(this);for(var O=this._sources,B=0;B<O.length;B++)O[B].lock()},b.exports=z},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,b,y){var p=f("../compressions"),g=f("./ZipFileWorker");y.generateWorker=function(m,x,C){var I=new g(x.streamFiles,C,x.platform,x.encodeFileName),D=0;try{m.forEach(function(z,O){D++;var B=function(E,R){var k=E||R,v=p[k];if(!v)throw new Error(k+" is not a valid compression method !");return v}(O.options.compression,x.compression),V=O.options.compressionOptions||x.compressionOptions||{},q=O.dir,H=O.date;O._compressWorker(B,V).withStreamInfo("file",{name:z,dir:q,date:H,comment:O.comment||"",unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions}).pipe(I)}),I.entriesCount=D}catch(z){I.error(z)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,b,y){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new p;for(var m in this)typeof this[m]!="function"&&(g[m]=this[m]);return g}}(p.prototype=f("./object")).loadAsync=f("./load"),p.support=f("./support"),p.defaults=f("./defaults"),p.version="3.10.1",p.loadAsync=function(g,m){return new p().loadAsync(g,m)},p.external=f("./external"),b.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,b,y){var p=f("./utils"),g=f("./external"),m=f("./utf8"),x=f("./zipEntries"),C=f("./stream/Crc32Probe"),I=f("./nodejsUtils");function D(z){return new g.Promise(function(O,B){var V=z.decompressed.getContentWorker().pipe(new C);V.on("error",function(q){B(q)}).on("end",function(){V.streamInfo.crc32!==z.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):O()}).resume()})}b.exports=function(z,O){var B=this;return O=p.extend(O||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),I.isNode&&I.isStream(z)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",z,!0,O.optimizedBinaryString,O.base64).then(function(V){var q=new x(O);return q.load(V),q}).then(function(V){var q=[g.Promise.resolve(V)],H=V.files;if(O.checkCRC32)for(var E=0;E<H.length;E++)q.push(D(H[E]));return g.Promise.all(q)}).then(function(V){for(var q=V.shift(),H=q.files,E=0;E<H.length;E++){var R=H[E],k=R.fileNameStr,v=p.resolve(R.fileNameStr);B.file(v,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:O.createFolders}),R.dir||(B.file(v).unsafeOriginalName=k)}return q.zipComment.length&&(B.comment=q.zipComment),B})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,b,y){var p=f("../utils"),g=f("../stream/GenericWorker");function m(x,C){g.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(C)}p.inherits(m,g),m.prototype._bindStream=function(x){var C=this;(this._stream=x).pause(),x.on("data",function(I){C.push({data:I,meta:{percent:0}})}).on("error",function(I){C.isPaused?this.generatedError=I:C.error(I)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},m.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,b,y){var p=f("readable-stream").Readable;function g(m,x,C){p.call(this,x),this._helper=m;var I=this;m.on("data",function(D,z){I.push(D)||I._helper.pause(),C&&C(z)}).on("error",function(D){I.emit("error",D)}).on("end",function(){I.push(null)})}f("../utils").inherits(g,p),g.prototype._read=function(){this._helper.resume()},b.exports=g},{"../utils":32,"readable-stream":16}],14:[function(f,b,y){b.exports={isNode:u!==void 0,newBufferFrom:function(p,g){if(u.from&&u.from!==Uint8Array.from)return u.from(p,g);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new u(p,g)},allocBuffer:function(p){if(u.alloc)return u.alloc(p);var g=new u(p);return g.fill(0),g},isBuffer:function(p){return u.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(f,b,y){function p(v,_,w){var S,N=m.getTypeOf(_),j=m.extend(w||{},I);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(v=H(v)),j.createFolders&&(S=q(v))&&E.call(this,S,!0);var U=N==="string"&&j.binary===!1&&j.base64===!1;w&&w.binary!==void 0||(j.binary=!U),(_ instanceof D&&_.uncompressedSize===0||j.dir||!_||_.length===0)&&(j.base64=!1,j.binary=!0,_="",j.compression="STORE",N="string");var G;G=_ instanceof D||_ instanceof x?_:B.isNode&&B.isStream(_)?new V(v,_):m.prepareContent(v,_,j.binary,j.optimizedBinaryString,j.base64);var W=new z(v,G,j);this.files[v]=W}var g=f("./utf8"),m=f("./utils"),x=f("./stream/GenericWorker"),C=f("./stream/StreamHelper"),I=f("./defaults"),D=f("./compressedObject"),z=f("./zipObject"),O=f("./generate"),B=f("./nodejsUtils"),V=f("./nodejs/NodejsStreamInputAdapter"),q=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var _=v.lastIndexOf("/");return 0<_?v.substring(0,_):""},H=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},E=function(v,_){return _=_!==void 0?_:I.createFolders,v=H(v),this.files[v]||p.call(this,v,null,{dir:!0,createFolders:_}),this.files[v]};function R(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var _,w,S;for(_ in this.files)S=this.files[_],(w=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&v(w,S)},filter:function(v){var _=[];return this.forEach(function(w,S){v(w,S)&&_.push(S)}),_},file:function(v,_,w){if(arguments.length!==1)return v=this.root+v,p.call(this,v,_,w),this;if(R(v)){var S=v;return this.filter(function(j,U){return!U.dir&&S.test(j)})}var N=this.files[this.root+v];return N&&!N.dir?N:null},folder:function(v){if(!v)return this;if(R(v))return this.filter(function(N,j){return j.dir&&v.test(N)});var _=this.root+v,w=E.call(this,_),S=this.clone();return S.root=w.name,S},remove:function(v){v=this.root+v;var _=this.files[v];if(_||(v.slice(-1)!=="/"&&(v+="/"),_=this.files[v]),_&&!_.dir)delete this.files[v];else for(var w=this.filter(function(N,j){return j.name.slice(0,v.length)===v}),S=0;S<w.length;S++)delete this.files[w[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var _,w={};try{if((w=m.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");m.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var S=w.comment||this.comment||"";_=O.generateWorker(this,w,S)}catch(N){(_=new x("error")).error(N)}return new C(_,w.type||"string",w.mimeType)},generateAsync:function(v,_){return this.generateInternalStream(v).accumulate(_)},generateNodeStream:function(v,_){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(_)}};b.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,b,y){b.exports=f("stream")},{stream:void 0}],17:[function(f,b,y){var p=f("./DataReader");function g(m){p.call(this,m);for(var x=0;x<this.data.length;x++)m[x]=255&m[x]}f("../utils").inherits(g,p),g.prototype.byteAt=function(m){return this.data[this.zero+m]},g.prototype.lastIndexOfSignature=function(m){for(var x=m.charCodeAt(0),C=m.charCodeAt(1),I=m.charCodeAt(2),D=m.charCodeAt(3),z=this.length-4;0<=z;--z)if(this.data[z]===x&&this.data[z+1]===C&&this.data[z+2]===I&&this.data[z+3]===D)return z-this.zero;return-1},g.prototype.readAndCheckSignature=function(m){var x=m.charCodeAt(0),C=m.charCodeAt(1),I=m.charCodeAt(2),D=m.charCodeAt(3),z=this.readData(4);return x===z[0]&&C===z[1]&&I===z[2]&&D===z[3]},g.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},b.exports=g},{"../utils":32,"./DataReader":18}],18:[function(f,b,y){var p=f("../utils");function g(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var x,C=0;for(this.checkOffset(m),x=this.index+m-1;x>=this.index;x--)C=(C<<8)+this.byteAt(x);return this.index+=m,C},readString:function(m){return p.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},b.exports=g},{"../utils":32}],19:[function(f,b,y){var p=f("./Uint8ArrayReader");function g(m){p.call(this,m)}f("../utils").inherits(g,p),g.prototype.readData=function(m){this.checkOffset(m);var x=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},b.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,b,y){var p=f("./DataReader");function g(m){p.call(this,m)}f("../utils").inherits(g,p),g.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},g.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},g.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},g.prototype.readData=function(m){this.checkOffset(m);var x=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},b.exports=g},{"../utils":32,"./DataReader":18}],21:[function(f,b,y){var p=f("./ArrayReader");function g(m){p.call(this,m)}f("../utils").inherits(g,p),g.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},b.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(f,b,y){var p=f("../utils"),g=f("../support"),m=f("./ArrayReader"),x=f("./StringReader"),C=f("./NodeBufferReader"),I=f("./Uint8ArrayReader");b.exports=function(D){var z=p.getTypeOf(D);return p.checkSupport(z),z!=="string"||g.uint8array?z==="nodebuffer"?new C(D):g.uint8array?new I(p.transformTo("uint8array",D)):new m(p.transformTo("array",D)):new x(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,b,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,b,y){var p=f("./GenericWorker"),g=f("../utils");function m(x){p.call(this,"ConvertWorker to "+x),this.destType=x}g.inherits(m,p),m.prototype.processChunk=function(x){this.push({data:g.transformTo(this.destType,x.data),meta:x.meta})},b.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(f,b,y){var p=f("./GenericWorker"),g=f("../crc32");function m(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(m,p),m.prototype.processChunk=function(x){this.streamInfo.crc32=g(x.data,this.streamInfo.crc32||0),this.push(x)},b.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,b,y){var p=f("../utils"),g=f("./GenericWorker");function m(x){g.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}p.inherits(m,g),m.prototype.processChunk=function(x){if(x){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+x.data.length}g.prototype.processChunk.call(this,x)},b.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(f,b,y){var p=f("../utils"),g=f("./GenericWorker");function m(x){g.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(I){C.dataIsReady=!0,C.data=I,C.max=I&&I.length||0,C.type=p.getTypeOf(I),C.isPaused||C._tickAndRepeat()},function(I){C.error(I)})}p.inherits(m,g),m.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,C);break;case"uint8array":x=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":x=this.data.slice(this.index,C)}return this.index=C,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(f,b,y){function p(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,m){return this._listeners[g].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,m){if(this._listeners[g])for(var x=0;x<this._listeners[g].length;x++)this._listeners[g][x].call(this,m)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var m=this;return g.on("data",function(x){m.processChunk(x)}),g.on("end",function(){m.end()}),g.on("error",function(x){m.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,m){return this.extraStreamInfo[g]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},b.exports=p},{}],29:[function(f,b,y){var p=f("../utils"),g=f("./ConvertWorker"),m=f("./GenericWorker"),x=f("../base64"),C=f("../support"),I=f("../external"),D=null;if(C.nodestream)try{D=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function z(O,B,V){var q=B;switch(B){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=B,this._mimeType=V,p.checkSupport(q),this._worker=O.pipe(new g(q)),O.lock()}catch(H){this._worker=new m("error"),this._worker.error(H)}}z.prototype={accumulate:function(O){return function(B,V){return new I.Promise(function(q,H){var E=[],R=B._internalType,k=B._outputType,v=B._mimeType;B.on("data",function(_,w){E.push(_),V&&V(w)}).on("error",function(_){E=[],H(_)}).on("end",function(){try{var _=function(w,S,N){switch(w){case"blob":return p.newBlob(p.transformTo("arraybuffer",S),N);case"base64":return x.encode(S);default:return p.transformTo(w,S)}}(k,function(w,S){var N,j=0,U=null,G=0;for(N=0;N<S.length;N++)G+=S[N].length;switch(w){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(U=new Uint8Array(G),N=0;N<S.length;N++)U.set(S[N],j),j+=S[N].length;return U;case"nodebuffer":return u.concat(S);default:throw new Error("concat : unsupported type '"+w+"'")}}(R,E),v);q(_)}catch(w){H(w)}E=[]}).resume()})}(this,O)},on:function(O,B){var V=this;return O==="data"?this._worker.on(O,function(q){B.call(V,q.data,q.meta)}):this._worker.on(O,function(){p.delay(B,arguments,V)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},O)}},b.exports=z},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,b,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=u!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var p=new ArrayBuffer(0);try{y.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(p),y.blob=g.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!f("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(f,b,y){for(var p=f("./utils"),g=f("./support"),m=f("./nodejsUtils"),x=f("./stream/GenericWorker"),C=new Array(256),I=0;I<256;I++)C[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function D(){x.call(this,"utf-8 decode"),this.leftOver=null}function z(){x.call(this,"utf-8 encode")}C[254]=C[254]=1,y.utf8encode=function(O){return g.nodebuffer?m.newBufferFrom(O,"utf-8"):function(B){var V,q,H,E,R,k=B.length,v=0;for(E=0;E<k;E++)(64512&(q=B.charCodeAt(E)))==55296&&E+1<k&&(64512&(H=B.charCodeAt(E+1)))==56320&&(q=65536+(q-55296<<10)+(H-56320),E++),v+=q<128?1:q<2048?2:q<65536?3:4;for(V=g.uint8array?new Uint8Array(v):new Array(v),E=R=0;R<v;E++)(64512&(q=B.charCodeAt(E)))==55296&&E+1<k&&(64512&(H=B.charCodeAt(E+1)))==56320&&(q=65536+(q-55296<<10)+(H-56320),E++),q<128?V[R++]=q:(q<2048?V[R++]=192|q>>>6:(q<65536?V[R++]=224|q>>>12:(V[R++]=240|q>>>18,V[R++]=128|q>>>12&63),V[R++]=128|q>>>6&63),V[R++]=128|63&q);return V}(O)},y.utf8decode=function(O){return g.nodebuffer?p.transformTo("nodebuffer",O).toString("utf-8"):function(B){var V,q,H,E,R=B.length,k=new Array(2*R);for(V=q=0;V<R;)if((H=B[V++])<128)k[q++]=H;else if(4<(E=C[H]))k[q++]=65533,V+=E-1;else{for(H&=E===2?31:E===3?15:7;1<E&&V<R;)H=H<<6|63&B[V++],E--;1<E?k[q++]=65533:H<65536?k[q++]=H:(H-=65536,k[q++]=55296|H>>10&1023,k[q++]=56320|1023&H)}return k.length!==q&&(k.subarray?k=k.subarray(0,q):k.length=q),p.applyFromCharCode(k)}(O=p.transformTo(g.uint8array?"uint8array":"array",O))},p.inherits(D,x),D.prototype.processChunk=function(O){var B=p.transformTo(g.uint8array?"uint8array":"array",O.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var V=B;(B=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),B.set(V,this.leftOver.length)}else B=this.leftOver.concat(B);this.leftOver=null}var q=function(E,R){var k;for((R=R||E.length)>E.length&&(R=E.length),k=R-1;0<=k&&(192&E[k])==128;)k--;return k<0||k===0?R:k+C[E[k]]>R?k:R}(B),H=B;q!==B.length&&(g.uint8array?(H=B.subarray(0,q),this.leftOver=B.subarray(q,B.length)):(H=B.slice(0,q),this.leftOver=B.slice(q,B.length))),this.push({data:y.utf8decode(H),meta:O.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=D,p.inherits(z,x),z.prototype.processChunk=function(O){this.push({data:y.utf8encode(O.data),meta:O.meta})},y.Utf8EncodeWorker=z},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,b,y){var p=f("./support"),g=f("./base64"),m=f("./nodejsUtils"),x=f("./external");function C(V){return V}function I(V,q){for(var H=0;H<V.length;++H)q[H]=255&V.charCodeAt(H);return q}f("setimmediate"),y.newBlob=function(V,q){y.checkSupport("blob");try{return new Blob([V],{type:q})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(V),H.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(V,q,H){var E=[],R=0,k=V.length;if(k<=H)return String.fromCharCode.apply(null,V);for(;R<k;)q==="array"||q==="nodebuffer"?E.push(String.fromCharCode.apply(null,V.slice(R,Math.min(R+H,k)))):E.push(String.fromCharCode.apply(null,V.subarray(R,Math.min(R+H,k)))),R+=H;return E.join("")},stringifyByChar:function(V){for(var q="",H=0;H<V.length;H++)q+=String.fromCharCode(V[H]);return q},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function z(V){var q=65536,H=y.getTypeOf(V),E=!0;if(H==="uint8array"?E=D.applyCanBeUsed.uint8array:H==="nodebuffer"&&(E=D.applyCanBeUsed.nodebuffer),E)for(;1<q;)try{return D.stringifyByChunk(V,H,q)}catch{q=Math.floor(q/2)}return D.stringifyByChar(V)}function O(V,q){for(var H=0;H<V.length;H++)q[H]=V[H];return q}y.applyFromCharCode=z;var B={};B.string={string:C,array:function(V){return I(V,new Array(V.length))},arraybuffer:function(V){return B.string.uint8array(V).buffer},uint8array:function(V){return I(V,new Uint8Array(V.length))},nodebuffer:function(V){return I(V,m.allocBuffer(V.length))}},B.array={string:z,array:C,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return m.newBufferFrom(V)}},B.arraybuffer={string:function(V){return z(new Uint8Array(V))},array:function(V){return O(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:C,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return m.newBufferFrom(new Uint8Array(V))}},B.uint8array={string:z,array:function(V){return O(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:C,nodebuffer:function(V){return m.newBufferFrom(V)}},B.nodebuffer={string:z,array:function(V){return O(V,new Array(V.length))},arraybuffer:function(V){return B.nodebuffer.uint8array(V).buffer},uint8array:function(V){return O(V,new Uint8Array(V.length))},nodebuffer:C},y.transformTo=function(V,q){if(q=q||"",!V)return q;y.checkSupport(V);var H=y.getTypeOf(q);return B[H][V](q)},y.resolve=function(V){for(var q=V.split("/"),H=[],E=0;E<q.length;E++){var R=q[E];R==="."||R===""&&E!==0&&E!==q.length-1||(R===".."?H.pop():H.push(R))}return H.join("/")},y.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":p.nodebuffer&&m.isBuffer(V)?"nodebuffer":p.uint8array&&V instanceof Uint8Array?"uint8array":p.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(V){if(!p[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(V){var q,H,E="";for(H=0;H<(V||"").length;H++)E+="\\x"+((q=V.charCodeAt(H))<16?"0":"")+q.toString(16).toUpperCase();return E},y.delay=function(V,q,H){d(function(){V.apply(H||null,q||[])})},y.inherits=function(V,q){function H(){}H.prototype=q.prototype,V.prototype=new H},y.extend=function(){var V,q,H={};for(V=0;V<arguments.length;V++)for(q in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],q)&&H[q]===void 0&&(H[q]=arguments[V][q]);return H},y.prepareContent=function(V,q,H,E,R){return x.Promise.resolve(q).then(function(k){return p.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new x.Promise(function(v,_){var w=new FileReader;w.onload=function(S){v(S.target.result)},w.onerror=function(S){_(S.target.error)},w.readAsArrayBuffer(k)}):k}).then(function(k){var v=y.getTypeOf(k);return v?(v==="arraybuffer"?k=y.transformTo("uint8array",k):v==="string"&&(R?k=g.decode(k):H&&E!==!0&&(k=function(_){return I(_,p.uint8array?new Uint8Array(_.length):new Array(_.length))}(k))),k):x.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,b,y){var p=f("./reader/readerFor"),g=f("./utils"),m=f("./signature"),x=f("./zipEntry"),C=f("./support");function I(D){this.files=[],this.loadOptions=D}I.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var z=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(z)+", expected "+g.pretty(D)+")")}},isSignature:function(D,z){var O=this.reader.index;this.reader.setIndex(D);var B=this.reader.readString(4)===z;return this.reader.setIndex(O),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),z=C.uint8array?"uint8array":"array",O=g.transformTo(z,D);this.zipComment=this.loadOptions.decodeFileName(O)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,z,O,B=this.zip64EndOfCentralSize-44;0<B;)D=this.reader.readInt(2),z=this.reader.readInt(4),O=this.reader.readData(z),this.zip64ExtensibleData[D]={id:D,length:z,value:O}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,z;for(D=0;D<this.files.length;D++)z=this.files[D],this.reader.setIndex(z.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),z.readLocalPart(this.reader),z.handleUTF8(),z.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(D=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var z=D;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;this.zip64&&(O+=20,O+=12+this.zip64EndOfCentralSize);var B=z-O;if(0<B)this.isSignature(z,m.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(D){this.reader=p(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,b,y){var p=f("./reader/readerFor"),g=f("./utils"),m=f("./compressedObject"),x=f("./crc32"),C=f("./utf8"),I=f("./compressions"),D=f("./support");function z(O,B){this.options=O,this.loadOptions=B}z.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(O){var B,V;if(O.skip(22),this.fileNameLength=O.readInt(2),V=O.readInt(2),this.fileName=O.readData(this.fileNameLength),O.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((B=function(q){for(var H in I)if(Object.prototype.hasOwnProperty.call(I,H)&&I[H].magic===q)return I[H];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,B,O.readData(this.compressedSize))},readCentralPart:function(O){this.versionMadeBy=O.readInt(2),O.skip(2),this.bitFlag=O.readInt(2),this.compressionMethod=O.readString(2),this.date=O.readDate(),this.crc32=O.readInt(4),this.compressedSize=O.readInt(4),this.uncompressedSize=O.readInt(4);var B=O.readInt(2);if(this.extraFieldsLength=O.readInt(2),this.fileCommentLength=O.readInt(2),this.diskNumberStart=O.readInt(2),this.internalFileAttributes=O.readInt(2),this.externalFileAttributes=O.readInt(4),this.localHeaderOffset=O.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");O.skip(B),this.readExtraFields(O),this.parseZIP64ExtraField(O),this.fileComment=O.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var O=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),O==0&&(this.dosPermissions=63&this.externalFileAttributes),O==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var O=p(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=O.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=O.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=O.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=O.readInt(4))}},readExtraFields:function(O){var B,V,q,H=O.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});O.index+4<H;)B=O.readInt(2),V=O.readInt(2),q=O.readData(V),this.extraFields[B]={id:B,length:V,value:q};O.setIndex(H)},handleUTF8:function(){var O=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var B=this.findExtraFieldUnicodePath();if(B!==null)this.fileNameStr=B;else{var V=g.transformTo(O,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var q=this.findExtraFieldUnicodeComment();if(q!==null)this.fileCommentStr=q;else{var H=g.transformTo(O,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var O=this.extraFields[28789];if(O){var B=p(O.value);return B.readInt(1)!==1||x(this.fileName)!==B.readInt(4)?null:C.utf8decode(B.readData(O.length-5))}return null},findExtraFieldUnicodeComment:function(){var O=this.extraFields[25461];if(O){var B=p(O.value);return B.readInt(1)!==1||x(this.fileComment)!==B.readInt(4)?null:C.utf8decode(B.readData(O.length-5))}return null}},b.exports=z},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,b,y){function p(B,V,q){this.name=B,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=V,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var g=f("./stream/StreamHelper"),m=f("./stream/DataWorker"),x=f("./utf8"),C=f("./compressedObject"),I=f("./stream/GenericWorker");p.prototype={internalStream:function(B){var V=null,q="string";try{if(!B)throw new Error("No output type specified.");var H=(q=B.toLowerCase())==="string"||q==="text";q!=="binarystring"&&q!=="text"||(q="string"),V=this._decompressWorker();var E=!this._dataBinary;E&&!H&&(V=V.pipe(new x.Utf8EncodeWorker)),!E&&H&&(V=V.pipe(new x.Utf8DecodeWorker))}catch(R){(V=new I("error")).error(R)}return new g(V,q,"")},async:function(B,V){return this.internalStream(B).accumulate(V)},nodeStream:function(B,V){return this.internalStream(B||"nodebuffer").toNodejsStream(V)},_compressWorker:function(B,V){if(this._data instanceof C&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new x.Utf8EncodeWorker)),C.createWorkerFrom(q,B,V)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof I?this._data:new m(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],z=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},O=0;O<D.length;O++)p.prototype[D[O]]=z;b.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,b,y){(function(p){var g,m,x=p.MutationObserver||p.WebKitMutationObserver;if(x){var C=0,I=new x(B),D=p.document.createTextNode("");I.observe(D,{characterData:!0}),g=function(){D.data=C=++C%2}}else if(p.setImmediate||p.MessageChannel===void 0)g="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var V=p.document.createElement("script");V.onreadystatechange=function(){B(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},p.document.documentElement.appendChild(V)}:function(){setTimeout(B,0)};else{var z=new p.MessageChannel;z.port1.onmessage=B,g=function(){z.port2.postMessage(0)}}var O=[];function B(){var V,q;m=!0;for(var H=O.length;H;){for(q=O,O=[],V=-1;++V<H;)q[V]();H=O.length}m=!1}b.exports=function(V){O.push(V)!==1||m||g()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,b,y){var p=f("immediate");function g(){}var m={},x=["REJECTED"],C=["FULFILLED"],I=["PENDING"];function D(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,H!==g&&V(this,H)}function z(H,E,R){this.promise=H,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function O(H,E,R){p(function(){var k;try{k=E(R)}catch(v){return m.reject(H,v)}k===H?m.reject(H,new TypeError("Cannot resolve promise with itself")):m.resolve(H,k)})}function B(H){var E=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof E=="function")return function(){E.apply(H,arguments)}}function V(H,E){var R=!1;function k(w){R||(R=!0,m.reject(H,w))}function v(w){R||(R=!0,m.resolve(H,w))}var _=q(function(){E(v,k)});_.status==="error"&&k(_.value)}function q(H,E){var R={};try{R.value=H(E),R.status="success"}catch(k){R.status="error",R.value=k}return R}(b.exports=D).prototype.finally=function(H){if(typeof H!="function")return this;var E=this.constructor;return this.then(function(R){return E.resolve(H()).then(function(){return R})},function(R){return E.resolve(H()).then(function(){throw R})})},D.prototype.catch=function(H){return this.then(null,H)},D.prototype.then=function(H,E){if(typeof H!="function"&&this.state===C||typeof E!="function"&&this.state===x)return this;var R=new this.constructor(g);return this.state!==I?O(R,this.state===C?H:E,this.outcome):this.queue.push(new z(R,H,E)),R},z.prototype.callFulfilled=function(H){m.resolve(this.promise,H)},z.prototype.otherCallFulfilled=function(H){O(this.promise,this.onFulfilled,H)},z.prototype.callRejected=function(H){m.reject(this.promise,H)},z.prototype.otherCallRejected=function(H){O(this.promise,this.onRejected,H)},m.resolve=function(H,E){var R=q(B,E);if(R.status==="error")return m.reject(H,R.value);var k=R.value;if(k)V(H,k);else{H.state=C,H.outcome=E;for(var v=-1,_=H.queue.length;++v<_;)H.queue[v].callFulfilled(E)}return H},m.reject=function(H,E){H.state=x,H.outcome=E;for(var R=-1,k=H.queue.length;++R<k;)H.queue[R].callRejected(E);return H},D.resolve=function(H){return H instanceof this?H:m.resolve(new this(g),H)},D.reject=function(H){var E=new this(g);return m.reject(E,H)},D.all=function(H){var E=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=H.length,k=!1;if(!R)return this.resolve([]);for(var v=new Array(R),_=0,w=-1,S=new this(g);++w<R;)N(H[w],w);return S;function N(j,U){E.resolve(j).then(function(G){v[U]=G,++_!==R||k||(k=!0,m.resolve(S,v))},function(G){k||(k=!0,m.reject(S,G))})}},D.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=H.length,R=!1;if(!E)return this.resolve([]);for(var k,v=-1,_=new this(g);++v<E;)k=H[v],this.resolve(k).then(function(w){R||(R=!0,m.resolve(_,w))},function(w){R||(R=!0,m.reject(_,w))});return _}},{immediate:36}],38:[function(f,b,y){var p={};(0,f("./lib/utils/common").assign)(p,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),b.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,b,y){var p=f("./zlib/deflate"),g=f("./utils/common"),m=f("./utils/strings"),x=f("./zlib/messages"),C=f("./zlib/zstream"),I=Object.prototype.toString;function D(O){if(!(this instanceof D))return new D(O);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},O||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var V=p.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(V!==0)throw new Error(x[V]);if(B.header&&p.deflateSetHeader(this.strm,B.header),B.dictionary){var q;if(q=typeof B.dictionary=="string"?m.string2buf(B.dictionary):I.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(V=p.deflateSetDictionary(this.strm,q))!==0)throw new Error(x[V]);this._dict_set=!0}}function z(O,B){var V=new D(B);if(V.push(O,!0),V.err)throw V.msg||x[V.err];return V.result}D.prototype.push=function(O,B){var V,q,H=this.strm,E=this.options.chunkSize;if(this.ended)return!1;q=B===~~B?B:B===!0?4:0,typeof O=="string"?H.input=m.string2buf(O):I.call(O)==="[object ArrayBuffer]"?H.input=new Uint8Array(O):H.input=O,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new g.Buf8(E),H.next_out=0,H.avail_out=E),(V=p.deflate(H,q))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(g.shrinkBuf(H.output,H.next_out))):this.onData(g.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&V!==1);return q===4?(V=p.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):q!==2||(this.onEnd(0),!(H.avail_out=0))},D.prototype.onData=function(O){this.chunks.push(O)},D.prototype.onEnd=function(O){O===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},y.Deflate=D,y.deflate=z,y.deflateRaw=function(O,B){return(B=B||{}).raw=!0,z(O,B)},y.gzip=function(O,B){return(B=B||{}).gzip=!0,z(O,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,b,y){var p=f("./zlib/inflate"),g=f("./utils/common"),m=f("./utils/strings"),x=f("./zlib/constants"),C=f("./zlib/messages"),I=f("./zlib/zstream"),D=f("./zlib/gzheader"),z=Object.prototype.toString;function O(V){if(!(this instanceof O))return new O(V);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},V||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||V&&V.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&!(15&q.windowBits)&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var H=p.inflateInit2(this.strm,q.windowBits);if(H!==x.Z_OK)throw new Error(C[H]);this.header=new D,p.inflateGetHeader(this.strm,this.header)}function B(V,q){var H=new O(q);if(H.push(V,!0),H.err)throw H.msg||C[H.err];return H.result}O.prototype.push=function(V,q){var H,E,R,k,v,_,w=this.strm,S=this.options.chunkSize,N=this.options.dictionary,j=!1;if(this.ended)return!1;E=q===~~q?q:q===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof V=="string"?w.input=m.binstring2buf(V):z.call(V)==="[object ArrayBuffer]"?w.input=new Uint8Array(V):w.input=V,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new g.Buf8(S),w.next_out=0,w.avail_out=S),(H=p.inflate(w,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&N&&(_=typeof N=="string"?m.string2buf(N):z.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,H=p.inflateSetDictionary(this.strm,_)),H===x.Z_BUF_ERROR&&j===!0&&(H=x.Z_OK,j=!1),H!==x.Z_STREAM_END&&H!==x.Z_OK)return this.onEnd(H),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&H!==x.Z_STREAM_END&&(w.avail_in!==0||E!==x.Z_FINISH&&E!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=m.utf8border(w.output,w.next_out),k=w.next_out-R,v=m.buf2string(w.output,R),w.next_out=k,w.avail_out=S-k,k&&g.arraySet(w.output,w.output,R,k,0),this.onData(v)):this.onData(g.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(j=!0)}while((0<w.avail_in||w.avail_out===0)&&H!==x.Z_STREAM_END);return H===x.Z_STREAM_END&&(E=x.Z_FINISH),E===x.Z_FINISH?(H=p.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===x.Z_OK):E!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(w.avail_out=0))},O.prototype.onData=function(V){this.chunks.push(V)},O.prototype.onEnd=function(V){V===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},y.Inflate=O,y.inflate=B,y.inflateRaw=function(V,q){return(q=q||{}).raw=!0,B(V,q)},y.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,b,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(x){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var I=C.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var D in I)I.hasOwnProperty(D)&&(x[D]=I[D])}}return x},y.shrinkBuf=function(x,C){return x.length===C?x:x.subarray?x.subarray(0,C):(x.length=C,x)};var g={arraySet:function(x,C,I,D,z){if(C.subarray&&x.subarray)x.set(C.subarray(I,I+D),z);else for(var O=0;O<D;O++)x[z+O]=C[I+O]},flattenChunks:function(x){var C,I,D,z,O,B;for(C=D=0,I=x.length;C<I;C++)D+=x[C].length;for(B=new Uint8Array(D),C=z=0,I=x.length;C<I;C++)O=x[C],B.set(O,z),z+=O.length;return B}},m={arraySet:function(x,C,I,D,z){for(var O=0;O<D;O++)x[z+O]=C[I+O]},flattenChunks:function(x){return[].concat.apply([],x)}};y.setTyped=function(x){x?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,g)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,m))},y.setTyped(p)},{}],42:[function(f,b,y){var p=f("./common"),g=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var x=new p.Buf8(256),C=0;C<256;C++)x[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function I(D,z){if(z<65537&&(D.subarray&&m||!D.subarray&&g))return String.fromCharCode.apply(null,p.shrinkBuf(D,z));for(var O="",B=0;B<z;B++)O+=String.fromCharCode(D[B]);return O}x[254]=x[254]=1,y.string2buf=function(D){var z,O,B,V,q,H=D.length,E=0;for(V=0;V<H;V++)(64512&(O=D.charCodeAt(V)))==55296&&V+1<H&&(64512&(B=D.charCodeAt(V+1)))==56320&&(O=65536+(O-55296<<10)+(B-56320),V++),E+=O<128?1:O<2048?2:O<65536?3:4;for(z=new p.Buf8(E),V=q=0;q<E;V++)(64512&(O=D.charCodeAt(V)))==55296&&V+1<H&&(64512&(B=D.charCodeAt(V+1)))==56320&&(O=65536+(O-55296<<10)+(B-56320),V++),O<128?z[q++]=O:(O<2048?z[q++]=192|O>>>6:(O<65536?z[q++]=224|O>>>12:(z[q++]=240|O>>>18,z[q++]=128|O>>>12&63),z[q++]=128|O>>>6&63),z[q++]=128|63&O);return z},y.buf2binstring=function(D){return I(D,D.length)},y.binstring2buf=function(D){for(var z=new p.Buf8(D.length),O=0,B=z.length;O<B;O++)z[O]=D.charCodeAt(O);return z},y.buf2string=function(D,z){var O,B,V,q,H=z||D.length,E=new Array(2*H);for(O=B=0;O<H;)if((V=D[O++])<128)E[B++]=V;else if(4<(q=x[V]))E[B++]=65533,O+=q-1;else{for(V&=q===2?31:q===3?15:7;1<q&&O<H;)V=V<<6|63&D[O++],q--;1<q?E[B++]=65533:V<65536?E[B++]=V:(V-=65536,E[B++]=55296|V>>10&1023,E[B++]=56320|1023&V)}return I(E,B)},y.utf8border=function(D,z){var O;for((z=z||D.length)>D.length&&(z=D.length),O=z-1;0<=O&&(192&D[O])==128;)O--;return O<0||O===0?z:O+x[D[O]]>z?O:z}},{"./common":41}],43:[function(f,b,y){b.exports=function(p,g,m,x){for(var C=65535&p|0,I=p>>>16&65535|0,D=0;m!==0;){for(m-=D=2e3<m?2e3:m;I=I+(C=C+g[x++]|0)|0,--D;);C%=65521,I%=65521}return C|I<<16|0}},{}],44:[function(f,b,y){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,b,y){var p=function(){for(var g,m=[],x=0;x<256;x++){g=x;for(var C=0;C<8;C++)g=1&g?3988292384^g>>>1:g>>>1;m[x]=g}return m}();b.exports=function(g,m,x,C){var I=p,D=C+x;g^=-1;for(var z=C;z<D;z++)g=g>>>8^I[255&(g^m[z])];return-1^g}},{}],46:[function(f,b,y){var p,g=f("../utils/common"),m=f("./trees"),x=f("./adler32"),C=f("./crc32"),I=f("./messages"),D=-2,z=258,O=262,B=113;function V(F,K){return F.msg=I[K],K}function q(F){return(F<<1)-(4<F?9:0)}function H(F){for(var K=F.length;0<=--K;)F[K]=0}function E(F){var K=F.state,L=K.pending;L>F.avail_out&&(L=F.avail_out),L!==0&&(g.arraySet(F.output,K.pending_buf,K.pending_out,L,F.next_out),F.next_out+=L,K.pending_out+=L,F.total_out+=L,F.avail_out-=L,K.pending-=L,K.pending===0&&(K.pending_out=0))}function R(F,K){m._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,K),F.block_start=F.strstart,E(F.strm)}function k(F,K){F.pending_buf[F.pending++]=K}function v(F,K){F.pending_buf[F.pending++]=K>>>8&255,F.pending_buf[F.pending++]=255&K}function _(F,K){var L,P,$=F.max_chain_length,Y=F.strstart,Q=F.prev_length,X=F.nice_match,ee=F.strstart>F.w_size-O?F.strstart-(F.w_size-O):0,ie=F.window,oe=F.w_mask,Z=F.prev,re=F.strstart+z,ne=ie[Y+Q-1],ue=ie[Y+Q];F.prev_length>=F.good_match&&($>>=2),X>F.lookahead&&(X=F.lookahead);do if(ie[(L=K)+Q]===ue&&ie[L+Q-1]===ne&&ie[L]===ie[Y]&&ie[++L]===ie[Y+1]){Y+=2,L++;do;while(ie[++Y]===ie[++L]&&ie[++Y]===ie[++L]&&ie[++Y]===ie[++L]&&ie[++Y]===ie[++L]&&ie[++Y]===ie[++L]&&ie[++Y]===ie[++L]&&ie[++Y]===ie[++L]&&ie[++Y]===ie[++L]&&Y<re);if(P=z-(re-Y),Y=re-z,Q<P){if(F.match_start=K,X<=(Q=P))break;ne=ie[Y+Q-1],ue=ie[Y+Q]}}while((K=Z[K&oe])>ee&&--$!=0);return Q<=F.lookahead?Q:F.lookahead}function w(F){var K,L,P,$,Y,Q,X,ee,ie,oe,Z=F.w_size;do{if($=F.window_size-F.lookahead-F.strstart,F.strstart>=Z+(Z-O)){for(g.arraySet(F.window,F.window,Z,Z,0),F.match_start-=Z,F.strstart-=Z,F.block_start-=Z,K=L=F.hash_size;P=F.head[--K],F.head[K]=Z<=P?P-Z:0,--L;);for(K=L=Z;P=F.prev[--K],F.prev[K]=Z<=P?P-Z:0,--L;);$+=Z}if(F.strm.avail_in===0)break;if(Q=F.strm,X=F.window,ee=F.strstart+F.lookahead,oe=void 0,(ie=$)<(oe=Q.avail_in)&&(oe=ie),L=oe===0?0:(Q.avail_in-=oe,g.arraySet(X,Q.input,Q.next_in,oe,ee),Q.state.wrap===1?Q.adler=x(Q.adler,X,oe,ee):Q.state.wrap===2&&(Q.adler=C(Q.adler,X,oe,ee)),Q.next_in+=oe,Q.total_in+=oe,oe),F.lookahead+=L,F.lookahead+F.insert>=3)for(Y=F.strstart-F.insert,F.ins_h=F.window[Y],F.ins_h=(F.ins_h<<F.hash_shift^F.window[Y+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[Y+3-1])&F.hash_mask,F.prev[Y&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=Y,Y++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<O&&F.strm.avail_in!==0)}function S(F,K){for(var L,P;;){if(F.lookahead<O){if(w(F),F.lookahead<O&&K===0)return 1;if(F.lookahead===0)break}if(L=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),L!==0&&F.strstart-L<=F.w_size-O&&(F.match_length=_(F,L)),F.match_length>=3)if(P=m._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else P=m._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(P&&(R(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,K===4?(R(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(R(F,!1),F.strm.avail_out===0)?1:2}function N(F,K){for(var L,P,$;;){if(F.lookahead<O){if(w(F),F.lookahead<O&&K===0)return 1;if(F.lookahead===0)break}if(L=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,L!==0&&F.prev_length<F.max_lazy_match&&F.strstart-L<=F.w_size-O&&(F.match_length=_(F,L),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for($=F.strstart+F.lookahead-3,P=m._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=$&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,P&&(R(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((P=m._tr_tally(F,0,F.window[F.strstart-1]))&&R(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(P=m._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,K===4?(R(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(R(F,!1),F.strm.avail_out===0)?1:2}function j(F,K,L,P,$){this.good_length=F,this.max_lazy=K,this.nice_length=L,this.max_chain=P,this.func=$}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(F){var K;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(K=F.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:B,F.adler=K.wrap===2?0:1,K.last_flush=0,m._tr_init(K),0):V(F,D)}function W(F){var K=G(F);return K===0&&function(L){L.window_size=2*L.w_size,H(L.head),L.max_lazy_match=p[L.level].max_lazy,L.good_match=p[L.level].good_length,L.nice_match=p[L.level].nice_length,L.max_chain_length=p[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=2,L.match_available=0,L.ins_h=0}(F.state),K}function J(F,K,L,P,$,Y){if(!F)return D;var Q=1;if(K===-1&&(K=6),P<0?(Q=0,P=-P):15<P&&(Q=2,P-=16),$<1||9<$||L!==8||P<8||15<P||K<0||9<K||Y<0||4<Y)return V(F,D);P===8&&(P=9);var X=new U;return(F.state=X).strm=F,X.wrap=Q,X.gzhead=null,X.w_bits=P,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=$+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+3-1)/3),X.window=new g.Buf8(2*X.w_size),X.head=new g.Buf16(X.hash_size),X.prev=new g.Buf16(X.w_size),X.lit_bufsize=1<<$+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new g.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=K,X.strategy=Y,X.method=L,W(F)}p=[new j(0,0,0,0,function(F,K){var L=65535;for(L>F.pending_buf_size-5&&(L=F.pending_buf_size-5);;){if(F.lookahead<=1){if(w(F),F.lookahead===0&&K===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var P=F.block_start+L;if((F.strstart===0||F.strstart>=P)&&(F.lookahead=F.strstart-P,F.strstart=P,R(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-O&&(R(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,K===4?(R(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(R(F,!1),F.strm.avail_out),1)}),new j(4,4,8,4,S),new j(4,5,16,8,S),new j(4,6,32,32,S),new j(4,4,16,16,N),new j(8,16,32,32,N),new j(8,16,128,128,N),new j(8,32,128,256,N),new j(32,128,258,1024,N),new j(32,258,258,4096,N)],y.deflateInit=function(F,K){return J(F,K,8,15,8,0)},y.deflateInit2=J,y.deflateReset=W,y.deflateResetKeep=G,y.deflateSetHeader=function(F,K){return F&&F.state?F.state.wrap!==2?D:(F.state.gzhead=K,0):D},y.deflate=function(F,K){var L,P,$,Y;if(!F||!F.state||5<K||K<0)return F?V(F,D):D;if(P=F.state,!F.output||!F.input&&F.avail_in!==0||P.status===666&&K!==4)return V(F,F.avail_out===0?-5:D);if(P.strm=F,L=P.last_flush,P.last_flush=K,P.status===42)if(P.wrap===2)F.adler=0,k(P,31),k(P,139),k(P,8),P.gzhead?(k(P,(P.gzhead.text?1:0)+(P.gzhead.hcrc?2:0)+(P.gzhead.extra?4:0)+(P.gzhead.name?8:0)+(P.gzhead.comment?16:0)),k(P,255&P.gzhead.time),k(P,P.gzhead.time>>8&255),k(P,P.gzhead.time>>16&255),k(P,P.gzhead.time>>24&255),k(P,P.level===9?2:2<=P.strategy||P.level<2?4:0),k(P,255&P.gzhead.os),P.gzhead.extra&&P.gzhead.extra.length&&(k(P,255&P.gzhead.extra.length),k(P,P.gzhead.extra.length>>8&255)),P.gzhead.hcrc&&(F.adler=C(F.adler,P.pending_buf,P.pending,0)),P.gzindex=0,P.status=69):(k(P,0),k(P,0),k(P,0),k(P,0),k(P,0),k(P,P.level===9?2:2<=P.strategy||P.level<2?4:0),k(P,3),P.status=B);else{var Q=8+(P.w_bits-8<<4)<<8;Q|=(2<=P.strategy||P.level<2?0:P.level<6?1:P.level===6?2:3)<<6,P.strstart!==0&&(Q|=32),Q+=31-Q%31,P.status=B,v(P,Q),P.strstart!==0&&(v(P,F.adler>>>16),v(P,65535&F.adler)),F.adler=1}if(P.status===69)if(P.gzhead.extra){for($=P.pending;P.gzindex<(65535&P.gzhead.extra.length)&&(P.pending!==P.pending_buf_size||(P.gzhead.hcrc&&P.pending>$&&(F.adler=C(F.adler,P.pending_buf,P.pending-$,$)),E(F),$=P.pending,P.pending!==P.pending_buf_size));)k(P,255&P.gzhead.extra[P.gzindex]),P.gzindex++;P.gzhead.hcrc&&P.pending>$&&(F.adler=C(F.adler,P.pending_buf,P.pending-$,$)),P.gzindex===P.gzhead.extra.length&&(P.gzindex=0,P.status=73)}else P.status=73;if(P.status===73)if(P.gzhead.name){$=P.pending;do{if(P.pending===P.pending_buf_size&&(P.gzhead.hcrc&&P.pending>$&&(F.adler=C(F.adler,P.pending_buf,P.pending-$,$)),E(F),$=P.pending,P.pending===P.pending_buf_size)){Y=1;break}Y=P.gzindex<P.gzhead.name.length?255&P.gzhead.name.charCodeAt(P.gzindex++):0,k(P,Y)}while(Y!==0);P.gzhead.hcrc&&P.pending>$&&(F.adler=C(F.adler,P.pending_buf,P.pending-$,$)),Y===0&&(P.gzindex=0,P.status=91)}else P.status=91;if(P.status===91)if(P.gzhead.comment){$=P.pending;do{if(P.pending===P.pending_buf_size&&(P.gzhead.hcrc&&P.pending>$&&(F.adler=C(F.adler,P.pending_buf,P.pending-$,$)),E(F),$=P.pending,P.pending===P.pending_buf_size)){Y=1;break}Y=P.gzindex<P.gzhead.comment.length?255&P.gzhead.comment.charCodeAt(P.gzindex++):0,k(P,Y)}while(Y!==0);P.gzhead.hcrc&&P.pending>$&&(F.adler=C(F.adler,P.pending_buf,P.pending-$,$)),Y===0&&(P.status=103)}else P.status=103;if(P.status===103&&(P.gzhead.hcrc?(P.pending+2>P.pending_buf_size&&E(F),P.pending+2<=P.pending_buf_size&&(k(P,255&F.adler),k(P,F.adler>>8&255),F.adler=0,P.status=B)):P.status=B),P.pending!==0){if(E(F),F.avail_out===0)return P.last_flush=-1,0}else if(F.avail_in===0&&q(K)<=q(L)&&K!==4)return V(F,-5);if(P.status===666&&F.avail_in!==0)return V(F,-5);if(F.avail_in!==0||P.lookahead!==0||K!==0&&P.status!==666){var X=P.strategy===2?function(ee,ie){for(var oe;;){if(ee.lookahead===0&&(w(ee),ee.lookahead===0)){if(ie===0)return 1;break}if(ee.match_length=0,oe=m._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,oe&&(R(ee,!1),ee.strm.avail_out===0))return 1}return ee.insert=0,ie===4?(R(ee,!0),ee.strm.avail_out===0?3:4):ee.last_lit&&(R(ee,!1),ee.strm.avail_out===0)?1:2}(P,K):P.strategy===3?function(ee,ie){for(var oe,Z,re,ne,ue=ee.window;;){if(ee.lookahead<=z){if(w(ee),ee.lookahead<=z&&ie===0)return 1;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=3&&0<ee.strstart&&(Z=ue[re=ee.strstart-1])===ue[++re]&&Z===ue[++re]&&Z===ue[++re]){ne=ee.strstart+z;do;while(Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&re<ne);ee.match_length=z-(ne-re),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=3?(oe=m._tr_tally(ee,1,ee.match_length-3),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(oe=m._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),oe&&(R(ee,!1),ee.strm.avail_out===0))return 1}return ee.insert=0,ie===4?(R(ee,!0),ee.strm.avail_out===0?3:4):ee.last_lit&&(R(ee,!1),ee.strm.avail_out===0)?1:2}(P,K):p[P.level].func(P,K);if(X!==3&&X!==4||(P.status=666),X===1||X===3)return F.avail_out===0&&(P.last_flush=-1),0;if(X===2&&(K===1?m._tr_align(P):K!==5&&(m._tr_stored_block(P,0,0,!1),K===3&&(H(P.head),P.lookahead===0&&(P.strstart=0,P.block_start=0,P.insert=0))),E(F),F.avail_out===0))return P.last_flush=-1,0}return K!==4?0:P.wrap<=0?1:(P.wrap===2?(k(P,255&F.adler),k(P,F.adler>>8&255),k(P,F.adler>>16&255),k(P,F.adler>>24&255),k(P,255&F.total_in),k(P,F.total_in>>8&255),k(P,F.total_in>>16&255),k(P,F.total_in>>24&255)):(v(P,F.adler>>>16),v(P,65535&F.adler)),E(F),0<P.wrap&&(P.wrap=-P.wrap),P.pending!==0?0:1)},y.deflateEnd=function(F){var K;return F&&F.state?(K=F.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==B&&K!==666?V(F,D):(F.state=null,K===B?V(F,-3):0):D},y.deflateSetDictionary=function(F,K){var L,P,$,Y,Q,X,ee,ie,oe=K.length;if(!F||!F.state||(Y=(L=F.state).wrap)===2||Y===1&&L.status!==42||L.lookahead)return D;for(Y===1&&(F.adler=x(F.adler,K,oe,0)),L.wrap=0,oe>=L.w_size&&(Y===0&&(H(L.head),L.strstart=0,L.block_start=0,L.insert=0),ie=new g.Buf8(L.w_size),g.arraySet(ie,K,oe-L.w_size,L.w_size,0),K=ie,oe=L.w_size),Q=F.avail_in,X=F.next_in,ee=F.input,F.avail_in=oe,F.next_in=0,F.input=K,w(L);L.lookahead>=3;){for(P=L.strstart,$=L.lookahead-2;L.ins_h=(L.ins_h<<L.hash_shift^L.window[P+3-1])&L.hash_mask,L.prev[P&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=P,P++,--$;);L.strstart=P,L.lookahead=2,w(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=2,L.match_available=0,F.next_in=X,F.input=ee,F.avail_in=Q,L.wrap=Y,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,b,y){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,b,y){b.exports=function(p,g){var m,x,C,I,D,z,O,B,V,q,H,E,R,k,v,_,w,S,N,j,U,G,W,J,F;m=p.state,x=p.next_in,J=p.input,C=x+(p.avail_in-5),I=p.next_out,F=p.output,D=I-(g-p.avail_out),z=I+(p.avail_out-257),O=m.dmax,B=m.wsize,V=m.whave,q=m.wnext,H=m.window,E=m.hold,R=m.bits,k=m.lencode,v=m.distcode,_=(1<<m.lenbits)-1,w=(1<<m.distbits)-1;e:do{R<15&&(E+=J[x++]<<R,R+=8,E+=J[x++]<<R,R+=8),S=k[E&_];t:for(;;){if(E>>>=N=S>>>24,R-=N,(N=S>>>16&255)==0)F[I++]=65535&S;else{if(!(16&N)){if(!(64&N)){S=k[(65535&S)+(E&(1<<N)-1)];continue t}if(32&N){m.mode=12;break e}p.msg="invalid literal/length code",m.mode=30;break e}j=65535&S,(N&=15)&&(R<N&&(E+=J[x++]<<R,R+=8),j+=E&(1<<N)-1,E>>>=N,R-=N),R<15&&(E+=J[x++]<<R,R+=8,E+=J[x++]<<R,R+=8),S=v[E&w];n:for(;;){if(E>>>=N=S>>>24,R-=N,!(16&(N=S>>>16&255))){if(!(64&N)){S=v[(65535&S)+(E&(1<<N)-1)];continue n}p.msg="invalid distance code",m.mode=30;break e}if(U=65535&S,R<(N&=15)&&(E+=J[x++]<<R,(R+=8)<N&&(E+=J[x++]<<R,R+=8)),O<(U+=E&(1<<N)-1)){p.msg="invalid distance too far back",m.mode=30;break e}if(E>>>=N,R-=N,(N=I-D)<U){if(V<(N=U-N)&&m.sane){p.msg="invalid distance too far back",m.mode=30;break e}if(W=H,(G=0)===q){if(G+=B-N,N<j){for(j-=N;F[I++]=H[G++],--N;);G=I-U,W=F}}else if(q<N){if(G+=B+q-N,(N-=q)<j){for(j-=N;F[I++]=H[G++],--N;);if(G=0,q<j){for(j-=N=q;F[I++]=H[G++],--N;);G=I-U,W=F}}}else if(G+=q-N,N<j){for(j-=N;F[I++]=H[G++],--N;);G=I-U,W=F}for(;2<j;)F[I++]=W[G++],F[I++]=W[G++],F[I++]=W[G++],j-=3;j&&(F[I++]=W[G++],1<j&&(F[I++]=W[G++]))}else{for(G=I-U;F[I++]=F[G++],F[I++]=F[G++],F[I++]=F[G++],2<(j-=3););j&&(F[I++]=F[G++],1<j&&(F[I++]=F[G++]))}break}}break}}while(x<C&&I<z);x-=j=R>>3,E&=(1<<(R-=j<<3))-1,p.next_in=x,p.next_out=I,p.avail_in=x<C?C-x+5:5-(x-C),p.avail_out=I<z?z-I+257:257-(I-z),m.hold=E,m.bits=R}},{}],49:[function(f,b,y){var p=f("../utils/common"),g=f("./adler32"),m=f("./crc32"),x=f("./inffast"),C=f("./inftrees"),I=-2;function D(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(_){var w;return _&&_.state?(w=_.state,_.total_in=_.total_out=w.total=0,_.msg="",w.wrap&&(_.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new p.Buf32(852),w.distcode=w.distdyn=new p.Buf32(592),w.sane=1,w.back=-1,0):I}function B(_){var w;return _&&_.state?((w=_.state).wsize=0,w.whave=0,w.wnext=0,O(_)):I}function V(_,w){var S,N;return _&&_.state?(N=_.state,w<0?(S=0,w=-w):(S=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?I:(N.window!==null&&N.wbits!==w&&(N.window=null),N.wrap=S,N.wbits=w,B(_))):I}function q(_,w){var S,N;return _?(N=new z,(_.state=N).window=null,(S=V(_,w))!==0&&(_.state=null),S):I}var H,E,R=!0;function k(_){if(R){var w;for(H=new p.Buf32(512),E=new p.Buf32(32),w=0;w<144;)_.lens[w++]=8;for(;w<256;)_.lens[w++]=9;for(;w<280;)_.lens[w++]=7;for(;w<288;)_.lens[w++]=8;for(C(1,_.lens,0,288,H,0,_.work,{bits:9}),w=0;w<32;)_.lens[w++]=5;C(2,_.lens,0,32,E,0,_.work,{bits:5}),R=!1}_.lencode=H,_.lenbits=9,_.distcode=E,_.distbits=5}function v(_,w,S,N){var j,U=_.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new p.Buf8(U.wsize)),N>=U.wsize?(p.arraySet(U.window,w,S-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(N<(j=U.wsize-U.wnext)&&(j=N),p.arraySet(U.window,w,S-N,j,U.wnext),(N-=j)?(p.arraySet(U.window,w,S-N,N,0),U.wnext=N,U.whave=U.wsize):(U.wnext+=j,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=j))),0}y.inflateReset=B,y.inflateReset2=V,y.inflateResetKeep=O,y.inflateInit=function(_){return q(_,15)},y.inflateInit2=q,y.inflate=function(_,w){var S,N,j,U,G,W,J,F,K,L,P,$,Y,Q,X,ee,ie,oe,Z,re,ne,ue,le,de,he=0,pe=new p.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return I;(S=_.state).mode===12&&(S.mode=13),G=_.next_out,j=_.output,J=_.avail_out,U=_.next_in,N=_.input,W=_.avail_in,F=S.hold,K=S.bits,L=W,P=J,ue=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;K<16;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(2&S.wrap&&F===35615){pe[S.check=0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0),K=F=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&F)<<8)+(F>>8))%31){_.msg="incorrect header check",S.mode=30;break}if((15&F)!=8){_.msg="unknown compression method",S.mode=30;break}if(K-=4,ne=8+(15&(F>>>=4)),S.wbits===0)S.wbits=ne;else if(ne>S.wbits){_.msg="invalid window size",S.mode=30;break}S.dmax=1<<ne,_.adler=S.check=1,S.mode=512&F?10:12,K=F=0;break;case 2:for(;K<16;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(S.flags=F,(255&S.flags)!=8){_.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){_.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=F>>8&1),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0)),K=F=0,S.mode=3;case 3:for(;K<32;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}S.head&&(S.head.time=F),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,pe[2]=F>>>16&255,pe[3]=F>>>24&255,S.check=m(S.check,pe,4,0)),K=F=0,S.mode=4;case 4:for(;K<16;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}S.head&&(S.head.xflags=255&F,S.head.os=F>>8),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0)),K=F=0,S.mode=5;case 5:if(1024&S.flags){for(;K<16;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}S.length=F,S.head&&(S.head.extra_len=F),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0)),K=F=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(W<($=S.length)&&($=W),$&&(S.head&&(ne=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),p.arraySet(S.head.extra,N,U,$,ne)),512&S.flags&&(S.check=m(S.check,N,$,U)),W-=$,U+=$,S.length-=$),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(W===0)break e;for($=0;ne=N[U+$++],S.head&&ne&&S.length<65536&&(S.head.name+=String.fromCharCode(ne)),ne&&$<W;);if(512&S.flags&&(S.check=m(S.check,N,$,U)),W-=$,U+=$,ne)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(W===0)break e;for($=0;ne=N[U+$++],S.head&&ne&&S.length<65536&&(S.head.comment+=String.fromCharCode(ne)),ne&&$<W;);if(512&S.flags&&(S.check=m(S.check,N,$,U)),W-=$,U+=$,ne)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;K<16;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(F!==(65535&S.check)){_.msg="header crc mismatch",S.mode=30;break}K=F=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),_.adler=S.check=0,S.mode=12;break;case 10:for(;K<32;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}_.adler=S.check=D(F),K=F=0,S.mode=11;case 11:if(S.havedict===0)return _.next_out=G,_.avail_out=J,_.next_in=U,_.avail_in=W,S.hold=F,S.bits=K,2;_.adler=S.check=1,S.mode=12;case 12:if(w===5||w===6)break e;case 13:if(S.last){F>>>=7&K,K-=7&K,S.mode=27;break}for(;K<3;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}switch(S.last=1&F,K-=1,3&(F>>>=1)){case 0:S.mode=14;break;case 1:if(k(S),S.mode=20,w!==6)break;F>>>=2,K-=2;break e;case 2:S.mode=17;break;case 3:_.msg="invalid block type",S.mode=30}F>>>=2,K-=2;break;case 14:for(F>>>=7&K,K-=7&K;K<32;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if((65535&F)!=(F>>>16^65535)){_.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&F,K=F=0,S.mode=15,w===6)break e;case 15:S.mode=16;case 16:if($=S.length){if(W<$&&($=W),J<$&&($=J),$===0)break e;p.arraySet(j,N,U,$,G),W-=$,U+=$,J-=$,G+=$,S.length-=$;break}S.mode=12;break;case 17:for(;K<14;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(S.nlen=257+(31&F),F>>>=5,K-=5,S.ndist=1+(31&F),F>>>=5,K-=5,S.ncode=4+(15&F),F>>>=4,K-=4,286<S.nlen||30<S.ndist){_.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;K<3;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}S.lens[ye[S.have++]]=7&F,F>>>=3,K-=3}for(;S.have<19;)S.lens[ye[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,le={bits:S.lenbits},ue=C(0,S.lens,0,19,S.lencode,0,S.work,le),S.lenbits=le.bits,ue){_.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ee=(he=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ie=65535&he,!((X=he>>>24)<=K);){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(ie<16)F>>>=X,K-=X,S.lens[S.have++]=ie;else{if(ie===16){for(de=X+2;K<de;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(F>>>=X,K-=X,S.have===0){_.msg="invalid bit length repeat",S.mode=30;break}ne=S.lens[S.have-1],$=3+(3&F),F>>>=2,K-=2}else if(ie===17){for(de=X+3;K<de;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}K-=X,ne=0,$=3+(7&(F>>>=X)),F>>>=3,K-=3}else{for(de=X+7;K<de;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}K-=X,ne=0,$=11+(127&(F>>>=X)),F>>>=7,K-=7}if(S.have+$>S.nlen+S.ndist){_.msg="invalid bit length repeat",S.mode=30;break}for(;$--;)S.lens[S.have++]=ne}}if(S.mode===30)break;if(S.lens[256]===0){_.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,le={bits:S.lenbits},ue=C(1,S.lens,0,S.nlen,S.lencode,0,S.work,le),S.lenbits=le.bits,ue){_.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,le={bits:S.distbits},ue=C(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,le),S.distbits=le.bits,ue){_.msg="invalid distances set",S.mode=30;break}if(S.mode=20,w===6)break e;case 20:S.mode=21;case 21:if(6<=W&&258<=J){_.next_out=G,_.avail_out=J,_.next_in=U,_.avail_in=W,S.hold=F,S.bits=K,x(_,P),G=_.next_out,j=_.output,J=_.avail_out,U=_.next_in,N=_.input,W=_.avail_in,F=S.hold,K=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ee=(he=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ie=65535&he,!((X=he>>>24)<=K);){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(ee&&!(240&ee)){for(oe=X,Z=ee,re=ie;ee=(he=S.lencode[re+((F&(1<<oe+Z)-1)>>oe)])>>>16&255,ie=65535&he,!(oe+(X=he>>>24)<=K);){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}F>>>=oe,K-=oe,S.back+=oe}if(F>>>=X,K-=X,S.back+=X,S.length=ie,ee===0){S.mode=26;break}if(32&ee){S.back=-1,S.mode=12;break}if(64&ee){_.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ee,S.mode=22;case 22:if(S.extra){for(de=S.extra;K<de;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}S.length+=F&(1<<S.extra)-1,F>>>=S.extra,K-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ee=(he=S.distcode[F&(1<<S.distbits)-1])>>>16&255,ie=65535&he,!((X=he>>>24)<=K);){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(!(240&ee)){for(oe=X,Z=ee,re=ie;ee=(he=S.distcode[re+((F&(1<<oe+Z)-1)>>oe)])>>>16&255,ie=65535&he,!(oe+(X=he>>>24)<=K);){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}F>>>=oe,K-=oe,S.back+=oe}if(F>>>=X,K-=X,S.back+=X,64&ee){_.msg="invalid distance code",S.mode=30;break}S.offset=ie,S.extra=15&ee,S.mode=24;case 24:if(S.extra){for(de=S.extra;K<de;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}S.offset+=F&(1<<S.extra)-1,F>>>=S.extra,K-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){_.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(J===0)break e;if($=P-J,S.offset>$){if(($=S.offset-$)>S.whave&&S.sane){_.msg="invalid distance too far back",S.mode=30;break}Y=$>S.wnext?($-=S.wnext,S.wsize-$):S.wnext-$,$>S.length&&($=S.length),Q=S.window}else Q=j,Y=G-S.offset,$=S.length;for(J<$&&($=J),J-=$,S.length-=$;j[G++]=Q[Y++],--$;);S.length===0&&(S.mode=21);break;case 26:if(J===0)break e;j[G++]=S.length,J--,S.mode=21;break;case 27:if(S.wrap){for(;K<32;){if(W===0)break e;W--,F|=N[U++]<<K,K+=8}if(P-=J,_.total_out+=P,S.total+=P,P&&(_.adler=S.check=S.flags?m(S.check,j,P,G-P):g(S.check,j,P,G-P)),P=J,(S.flags?F:D(F))!==S.check){_.msg="incorrect data check",S.mode=30;break}K=F=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;K<32;){if(W===0)break e;W--,F+=N[U++]<<K,K+=8}if(F!==(4294967295&S.total)){_.msg="incorrect length check",S.mode=30;break}K=F=0}S.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return I}return _.next_out=G,_.avail_out=J,_.next_in=U,_.avail_in=W,S.hold=F,S.bits=K,(S.wsize||P!==_.avail_out&&S.mode<30&&(S.mode<27||w!==4))&&v(_,_.output,_.next_out,P-_.avail_out)?(S.mode=31,-4):(L-=_.avail_in,P-=_.avail_out,_.total_in+=L,_.total_out+=P,S.total+=P,S.wrap&&P&&(_.adler=S.check=S.flags?m(S.check,j,P,_.next_out-P):g(S.check,j,P,_.next_out-P)),_.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(L==0&&P===0||w===4)&&ue===0&&(ue=-5),ue)},y.inflateEnd=function(_){if(!_||!_.state)return I;var w=_.state;return w.window&&(w.window=null),_.state=null,0},y.inflateGetHeader=function(_,w){var S;return _&&_.state&&2&(S=_.state).wrap?((S.head=w).done=!1,0):I},y.inflateSetDictionary=function(_,w){var S,N=w.length;return _&&_.state?(S=_.state).wrap!==0&&S.mode!==11?I:S.mode===11&&g(1,w,N,0)!==S.check?-3:v(_,w,N,N)?(S.mode=31,-4):(S.havedict=1,0):I},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,b,y){var p=f("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(I,D,z,O,B,V,q,H){var E,R,k,v,_,w,S,N,j,U=H.bits,G=0,W=0,J=0,F=0,K=0,L=0,P=0,$=0,Y=0,Q=0,X=null,ee=0,ie=new p.Buf16(16),oe=new p.Buf16(16),Z=null,re=0;for(G=0;G<=15;G++)ie[G]=0;for(W=0;W<O;W++)ie[D[z+W]]++;for(K=U,F=15;1<=F&&ie[F]===0;F--);if(F<K&&(K=F),F===0)return B[V++]=20971520,B[V++]=20971520,H.bits=1,0;for(J=1;J<F&&ie[J]===0;J++);for(K<J&&(K=J),G=$=1;G<=15;G++)if($<<=1,($-=ie[G])<0)return-1;if(0<$&&(I===0||F!==1))return-1;for(oe[1]=0,G=1;G<15;G++)oe[G+1]=oe[G]+ie[G];for(W=0;W<O;W++)D[z+W]!==0&&(q[oe[D[z+W]]++]=W);if(w=I===0?(X=Z=q,19):I===1?(X=g,ee-=257,Z=m,re-=257,256):(X=x,Z=C,-1),G=J,_=V,P=W=Q=0,k=-1,v=(Y=1<<(L=K))-1,I===1&&852<Y||I===2&&592<Y)return 1;for(;;){for(S=G-P,j=q[W]<w?(N=0,q[W]):q[W]>w?(N=Z[re+q[W]],X[ee+q[W]]):(N=96,0),E=1<<G-P,J=R=1<<L;B[_+(Q>>P)+(R-=E)]=S<<24|N<<16|j|0,R!==0;);for(E=1<<G-1;Q&E;)E>>=1;if(E!==0?(Q&=E-1,Q+=E):Q=0,W++,--ie[G]==0){if(G===F)break;G=D[z+q[W]]}if(K<G&&(Q&v)!==k){for(P===0&&(P=K),_+=J,$=1<<(L=G-P);L+P<F&&!(($-=ie[L+P])<=0);)L++,$<<=1;if(Y+=1<<L,I===1&&852<Y||I===2&&592<Y)return 1;B[k=Q&v]=K<<24|L<<16|_-V|0}}return Q!==0&&(B[_+Q]=G-P<<24|64<<16|0),H.bits=K,0}},{"../utils/common":41}],51:[function(f,b,y){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,b,y){var p=f("../utils/common");function g(Z){for(var re=Z.length;0<=--re;)Z[re]=0}var m=256,x=286,C=30,I=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);g(V);var q=new Array(60);g(q);var H=new Array(512);g(H);var E=new Array(256);g(E);var R=new Array(29);g(R);var k,v,_,w=new Array(C);function S(Z,re,ne,ue,le){this.static_tree=Z,this.extra_bits=re,this.extra_base=ne,this.elems=ue,this.max_length=le,this.has_stree=Z&&Z.length}function N(Z,re){this.dyn_tree=Z,this.max_code=0,this.stat_desc=re}function j(Z){return Z<256?H[Z]:H[256+(Z>>>7)]}function U(Z,re){Z.pending_buf[Z.pending++]=255&re,Z.pending_buf[Z.pending++]=re>>>8&255}function G(Z,re,ne){Z.bi_valid>16-ne?(Z.bi_buf|=re<<Z.bi_valid&65535,U(Z,Z.bi_buf),Z.bi_buf=re>>16-Z.bi_valid,Z.bi_valid+=ne-16):(Z.bi_buf|=re<<Z.bi_valid&65535,Z.bi_valid+=ne)}function W(Z,re,ne){G(Z,ne[2*re],ne[2*re+1])}function J(Z,re){for(var ne=0;ne|=1&Z,Z>>>=1,ne<<=1,0<--re;);return ne>>>1}function F(Z,re,ne){var ue,le,de=new Array(16),he=0;for(ue=1;ue<=I;ue++)de[ue]=he=he+ne[ue-1]<<1;for(le=0;le<=re;le++){var pe=Z[2*le+1];pe!==0&&(Z[2*le]=J(de[pe]++,pe))}}function K(Z){var re;for(re=0;re<x;re++)Z.dyn_ltree[2*re]=0;for(re=0;re<C;re++)Z.dyn_dtree[2*re]=0;for(re=0;re<19;re++)Z.bl_tree[2*re]=0;Z.dyn_ltree[512]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function L(Z){8<Z.bi_valid?U(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function P(Z,re,ne,ue){var le=2*re,de=2*ne;return Z[le]<Z[de]||Z[le]===Z[de]&&ue[re]<=ue[ne]}function $(Z,re,ne){for(var ue=Z.heap[ne],le=ne<<1;le<=Z.heap_len&&(le<Z.heap_len&&P(re,Z.heap[le+1],Z.heap[le],Z.depth)&&le++,!P(re,ue,Z.heap[le],Z.depth));)Z.heap[ne]=Z.heap[le],ne=le,le<<=1;Z.heap[ne]=ue}function Y(Z,re,ne){var ue,le,de,he,pe=0;if(Z.last_lit!==0)for(;ue=Z.pending_buf[Z.d_buf+2*pe]<<8|Z.pending_buf[Z.d_buf+2*pe+1],le=Z.pending_buf[Z.l_buf+pe],pe++,ue===0?W(Z,le,re):(W(Z,(de=E[le])+m+1,re),(he=D[de])!==0&&G(Z,le-=R[de],he),W(Z,de=j(--ue),ne),(he=z[de])!==0&&G(Z,ue-=w[de],he)),pe<Z.last_lit;);W(Z,256,re)}function Q(Z,re){var ne,ue,le,de=re.dyn_tree,he=re.stat_desc.static_tree,pe=re.stat_desc.has_stree,ye=re.stat_desc.elems,Ee=-1;for(Z.heap_len=0,Z.heap_max=573,ne=0;ne<ye;ne++)de[2*ne]!==0?(Z.heap[++Z.heap_len]=Ee=ne,Z.depth[ne]=0):de[2*ne+1]=0;for(;Z.heap_len<2;)de[2*(le=Z.heap[++Z.heap_len]=Ee<2?++Ee:0)]=1,Z.depth[le]=0,Z.opt_len--,pe&&(Z.static_len-=he[2*le+1]);for(re.max_code=Ee,ne=Z.heap_len>>1;1<=ne;ne--)$(Z,de,ne);for(le=ye;ne=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],$(Z,de,1),ue=Z.heap[1],Z.heap[--Z.heap_max]=ne,Z.heap[--Z.heap_max]=ue,de[2*le]=de[2*ne]+de[2*ue],Z.depth[le]=(Z.depth[ne]>=Z.depth[ue]?Z.depth[ne]:Z.depth[ue])+1,de[2*ne+1]=de[2*ue+1]=le,Z.heap[1]=le++,$(Z,de,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(Te,Se){var Fe,Le,Oe,Ue,Ae,xe,Ie=Se.dyn_tree,je=Se.max_code,Re=Se.stat_desc.static_tree,st=Se.stat_desc.has_stree,gt=Se.stat_desc.extra_bits,ze=Se.stat_desc.extra_base,dt=Se.stat_desc.max_length,nt=0;for(Ue=0;Ue<=I;Ue++)Te.bl_count[Ue]=0;for(Ie[2*Te.heap[Te.heap_max]+1]=0,Fe=Te.heap_max+1;Fe<573;Fe++)dt<(Ue=Ie[2*Ie[2*(Le=Te.heap[Fe])+1]+1]+1)&&(Ue=dt,nt++),Ie[2*Le+1]=Ue,je<Le||(Te.bl_count[Ue]++,Ae=0,ze<=Le&&(Ae=gt[Le-ze]),xe=Ie[2*Le],Te.opt_len+=xe*(Ue+Ae),st&&(Te.static_len+=xe*(Re[2*Le+1]+Ae)));if(nt!==0){do{for(Ue=dt-1;Te.bl_count[Ue]===0;)Ue--;Te.bl_count[Ue]--,Te.bl_count[Ue+1]+=2,Te.bl_count[dt]--,nt-=2}while(0<nt);for(Ue=dt;Ue!==0;Ue--)for(Le=Te.bl_count[Ue];Le!==0;)je<(Oe=Te.heap[--Fe])||(Ie[2*Oe+1]!==Ue&&(Te.opt_len+=(Ue-Ie[2*Oe+1])*Ie[2*Oe],Ie[2*Oe+1]=Ue),Le--)}}(Z,re),F(de,Ee,Z.bl_count)}function X(Z,re,ne){var ue,le,de=-1,he=re[1],pe=0,ye=7,Ee=4;for(he===0&&(ye=138,Ee=3),re[2*(ne+1)+1]=65535,ue=0;ue<=ne;ue++)le=he,he=re[2*(ue+1)+1],++pe<ye&&le===he||(pe<Ee?Z.bl_tree[2*le]+=pe:le!==0?(le!==de&&Z.bl_tree[2*le]++,Z.bl_tree[32]++):pe<=10?Z.bl_tree[34]++:Z.bl_tree[36]++,de=le,Ee=(pe=0)===he?(ye=138,3):le===he?(ye=6,3):(ye=7,4))}function ee(Z,re,ne){var ue,le,de=-1,he=re[1],pe=0,ye=7,Ee=4;for(he===0&&(ye=138,Ee=3),ue=0;ue<=ne;ue++)if(le=he,he=re[2*(ue+1)+1],!(++pe<ye&&le===he)){if(pe<Ee)for(;W(Z,le,Z.bl_tree),--pe!=0;);else le!==0?(le!==de&&(W(Z,le,Z.bl_tree),pe--),W(Z,16,Z.bl_tree),G(Z,pe-3,2)):pe<=10?(W(Z,17,Z.bl_tree),G(Z,pe-3,3)):(W(Z,18,Z.bl_tree),G(Z,pe-11,7));de=le,Ee=(pe=0)===he?(ye=138,3):le===he?(ye=6,3):(ye=7,4)}}g(w);var ie=!1;function oe(Z,re,ne,ue){G(Z,0+(ue?1:0),3),function(le,de,he,pe){L(le),U(le,he),U(le,~he),p.arraySet(le.pending_buf,le.window,de,he,le.pending),le.pending+=he}(Z,re,ne)}y._tr_init=function(Z){ie||(function(){var re,ne,ue,le,de,he=new Array(16);for(le=ue=0;le<28;le++)for(R[le]=ue,re=0;re<1<<D[le];re++)E[ue++]=le;for(E[ue-1]=le,le=de=0;le<16;le++)for(w[le]=de,re=0;re<1<<z[le];re++)H[de++]=le;for(de>>=7;le<C;le++)for(w[le]=de<<7,re=0;re<1<<z[le]-7;re++)H[256+de++]=le;for(ne=0;ne<=I;ne++)he[ne]=0;for(re=0;re<=143;)V[2*re+1]=8,re++,he[8]++;for(;re<=255;)V[2*re+1]=9,re++,he[9]++;for(;re<=279;)V[2*re+1]=7,re++,he[7]++;for(;re<=287;)V[2*re+1]=8,re++,he[8]++;for(F(V,287,he),re=0;re<C;re++)q[2*re+1]=5,q[2*re]=J(re,5);k=new S(V,D,257,x,I),v=new S(q,z,0,C,I),_=new S(new Array(0),O,0,19,7)}(),ie=!0),Z.l_desc=new N(Z.dyn_ltree,k),Z.d_desc=new N(Z.dyn_dtree,v),Z.bl_desc=new N(Z.bl_tree,_),Z.bi_buf=0,Z.bi_valid=0,K(Z)},y._tr_stored_block=oe,y._tr_flush_block=function(Z,re,ne,ue){var le,de,he=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(pe){var ye,Ee=4093624447;for(ye=0;ye<=31;ye++,Ee>>>=1)if(1&Ee&&pe.dyn_ltree[2*ye]!==0)return 0;if(pe.dyn_ltree[18]!==0||pe.dyn_ltree[20]!==0||pe.dyn_ltree[26]!==0)return 1;for(ye=32;ye<m;ye++)if(pe.dyn_ltree[2*ye]!==0)return 1;return 0}(Z)),Q(Z,Z.l_desc),Q(Z,Z.d_desc),he=function(pe){var ye;for(X(pe,pe.dyn_ltree,pe.l_desc.max_code),X(pe,pe.dyn_dtree,pe.d_desc.max_code),Q(pe,pe.bl_desc),ye=18;3<=ye&&pe.bl_tree[2*B[ye]+1]===0;ye--);return pe.opt_len+=3*(ye+1)+5+5+4,ye}(Z),le=Z.opt_len+3+7>>>3,(de=Z.static_len+3+7>>>3)<=le&&(le=de)):le=de=ne+5,ne+4<=le&&re!==-1?oe(Z,re,ne,ue):Z.strategy===4||de===le?(G(Z,2+(ue?1:0),3),Y(Z,V,q)):(G(Z,4+(ue?1:0),3),function(pe,ye,Ee,Te){var Se;for(G(pe,ye-257,5),G(pe,Ee-1,5),G(pe,Te-4,4),Se=0;Se<Te;Se++)G(pe,pe.bl_tree[2*B[Se]+1],3);ee(pe,pe.dyn_ltree,ye-1),ee(pe,pe.dyn_dtree,Ee-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,he+1),Y(Z,Z.dyn_ltree,Z.dyn_dtree)),K(Z),ue&&L(Z)},y._tr_tally=function(Z,re,ne){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=re>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&re,Z.pending_buf[Z.l_buf+Z.last_lit]=255&ne,Z.last_lit++,re===0?Z.dyn_ltree[2*ne]++:(Z.matches++,re--,Z.dyn_ltree[2*(E[ne]+m+1)]++,Z.dyn_dtree[2*j(re)]++),Z.last_lit===Z.lit_bufsize-1},y._tr_align=function(Z){G(Z,2,3),W(Z,256,V),function(re){re.bi_valid===16?(U(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):8<=re.bi_valid&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(f,b,y){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,b,y){(function(p){(function(g,m){if(!g.setImmediate){var x,C,I,D,z=1,O={},B=!1,V=g.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(g);q=q&&q.setTimeout?q:g,x={}.toString.call(g.process)==="[object process]"?function(k){o.nextTick(function(){E(k)})}:function(){if(g.postMessage&&!g.importScripts){var k=!0,v=g.onmessage;return g.onmessage=function(){k=!1},g.postMessage("","*"),g.onmessage=v,k}}()?(D="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",R,!1):g.attachEvent("onmessage",R),function(k){g.postMessage(D+k,"*")}):g.MessageChannel?((I=new MessageChannel).port1.onmessage=function(k){E(k.data)},function(k){I.port2.postMessage(k)}):V&&"onreadystatechange"in V.createElement("script")?(C=V.documentElement,function(k){var v=V.createElement("script");v.onreadystatechange=function(){E(k),v.onreadystatechange=null,C.removeChild(v),v=null},C.appendChild(v)}):function(k){setTimeout(E,0,k)},q.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var v=new Array(arguments.length-1),_=0;_<v.length;_++)v[_]=arguments[_+1];var w={callback:k,args:v};return O[z]=w,x(z),z++},q.clearImmediate=H}function H(k){delete O[k]}function E(k){if(B)setTimeout(E,0,k);else{var v=O[k];if(v){B=!0;try{(function(_){var w=_.callback,S=_.args;switch(S.length){case 0:w();break;case 1:w(S[0]);break;case 2:w(S[0],S[1]);break;case 3:w(S[0],S[1],S[2]);break;default:w.apply(void 0,S)}})(v)}finally{H(k),B=!1}}}}function R(k){k.source===g&&typeof k.data=="string"&&k.data.indexOf(D)===0&&E(+k.data.slice(D.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,r,l){(function(o){(function(){var s=/[\\^$.*+?()[\]{}|]/g,u=RegExp(s.source),a=typeof o=="object"&&o&&o.Object===Object&&o,i=typeof self=="object"&&self&&self.Object===Object&&self,c=a||i||Function("return this")(),h=Object.prototype.toString,d=c.Symbol,f=d?d.prototype:void 0,b=f?f.toString:void 0;function y(p){if(typeof p=="string")return p;if(function(m){return typeof m=="symbol"||function(x){return!!x&&typeof x=="object"}(m)&&h.call(m)=="[object Symbol]"}(p))return b?b.call(p):"";var g=p+"";return g=="0"&&1/p==-1/0?"-0":g}r.exports=function(p){var g;return(p=(g=p)==null?"":y(g))&&u.test(p)?p.replace(s,"\\$&"):p}}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,r,l){(function(o){(function(){var s="[object Arguments]",u="[object Map]",a="[object Object]",i="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[s]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[u]=g["[object Number]"]=g[a]=g["[object RegExp]"]=g[i]=g["[object String]"]=g["[object WeakMap]"]=!1;var m=typeof o=="object"&&o&&o.Object===Object&&o,x=typeof self=="object"&&self&&self.Object===Object&&self,C=m||x||Function("return this")(),I=typeof l=="object"&&l&&!l.nodeType&&l,D=I&&typeof r=="object"&&r&&!r.nodeType&&r,z=D&&D.exports===I&&m.process,O=function(){try{return z&&z.binding("util")}catch{}}(),B=O&&O.isTypedArray;function V(te,fe,ge,be){for(var De=-1,we=te?te.length:0;++De<we;){var _e=te[De];fe(be,_e,ge(_e),te)}return be}function q(te,fe){for(var ge=-1,be=te?te.length:0;++ge<be;)if(fe(te[ge],ge,te))return!0;return!1}function H(te){var fe=!1;if(te!=null&&typeof te.toString!="function")try{fe=!!(te+"")}catch{}return fe}function E(te){var fe=-1,ge=Array(te.size);return te.forEach(function(be,De){ge[++fe]=[De,be]}),ge}function R(te){var fe=-1,ge=Array(te.size);return te.forEach(function(be){ge[++fe]=be}),ge}var k,v,_,w=Array.prototype,S=Function.prototype,N=Object.prototype,j=C["__core-js_shared__"],U=(k=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",G=S.toString,W=N.hasOwnProperty,J=N.toString,F=RegExp("^"+G.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=C.Symbol,L=C.Uint8Array,P=N.propertyIsEnumerable,$=w.splice,Y=(v=Object.keys,_=Object,function(te){return v(_(te))}),Q=qe(C,"DataView"),X=qe(C,"Map"),ee=qe(C,"Promise"),ie=qe(C,"Set"),oe=qe(C,"WeakMap"),Z=qe(Object,"create"),re=ce(Q),ne=ce(X),ue=ce(ee),le=ce(ie),de=ce(oe),he=K?K.prototype:void 0,pe=he?he.valueOf:void 0,ye=he?he.toString:void 0;function Ee(te){var fe=-1,ge=te?te.length:0;for(this.clear();++fe<ge;){var be=te[fe];this.set(be[0],be[1])}}function Te(te){var fe=-1,ge=te?te.length:0;for(this.clear();++fe<ge;){var be=te[fe];this.set(be[0],be[1])}}function Se(te){var fe=-1,ge=te?te.length:0;for(this.clear();++fe<ge;){var be=te[fe];this.set(be[0],be[1])}}function Fe(te){var fe=-1,ge=te?te.length:0;for(this.__data__=new Se;++fe<ge;)this.add(te[fe])}function Le(te){this.__data__=new Te(te)}function Oe(te,fe){var ge=He(te)||We(te)?function(_e,rt){for(var et=-1,Qe=Array(_e);++et<_e;)Qe[et]=rt(et);return Qe}(te.length,String):[],be=ge.length,De=!!be;for(var we in te)!fe&&!W.call(te,we)||De&&(we=="length"||xt(we,be))||ge.push(we);return ge}function Ue(te,fe){for(var ge=te.length;ge--;)if(Ce(te[ge][0],fe))return ge;return-1}function Ae(te,fe,ge,be){return Ie(te,function(De,we,_e){fe(be,De,ge(De),_e)}),be}Ee.prototype.clear=function(){this.__data__=Z?Z(null):{}},Ee.prototype.delete=function(te){return this.has(te)&&delete this.__data__[te]},Ee.prototype.get=function(te){var fe=this.__data__;if(Z){var ge=fe[te];return ge==="__lodash_hash_undefined__"?void 0:ge}return W.call(fe,te)?fe[te]:void 0},Ee.prototype.has=function(te){var fe=this.__data__;return Z?fe[te]!==void 0:W.call(fe,te)},Ee.prototype.set=function(te,fe){return this.__data__[te]=Z&&fe===void 0?"__lodash_hash_undefined__":fe,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(te){var fe=this.__data__,ge=Ue(fe,te);return!(ge<0)&&(ge==fe.length-1?fe.pop():$.call(fe,ge,1),!0)},Te.prototype.get=function(te){var fe=this.__data__,ge=Ue(fe,te);return ge<0?void 0:fe[ge][1]},Te.prototype.has=function(te){return Ue(this.__data__,te)>-1},Te.prototype.set=function(te,fe){var ge=this.__data__,be=Ue(ge,te);return be<0?ge.push([te,fe]):ge[be][1]=fe,this},Se.prototype.clear=function(){this.__data__={hash:new Ee,map:new(X||Te),string:new Ee}},Se.prototype.delete=function(te){return ft(this,te).delete(te)},Se.prototype.get=function(te){return ft(this,te).get(te)},Se.prototype.has=function(te){return ft(this,te).has(te)},Se.prototype.set=function(te,fe){return ft(this,te).set(te,fe),this},Fe.prototype.add=Fe.prototype.push=function(te){return this.__data__.set(te,"__lodash_hash_undefined__"),this},Fe.prototype.has=function(te){return this.__data__.has(te)},Le.prototype.clear=function(){this.__data__=new Te},Le.prototype.delete=function(te){return this.__data__.delete(te)},Le.prototype.get=function(te){return this.__data__.get(te)},Le.prototype.has=function(te){return this.__data__.has(te)},Le.prototype.set=function(te,fe){var ge=this.__data__;if(ge instanceof Te){var be=ge.__data__;if(!X||be.length<199)return be.push([te,fe]),this;ge=this.__data__=new Se(be)}return ge.set(te,fe),this};var xe,Ie=(xe=function(te,fe){return te&&je(te,fe,$t)},function(te,fe){if(te==null)return te;if(!Be(te))return xe(te,fe);for(var ge=te.length,be=-1,De=Object(te);++be<ge&&fe(De[be],be,De)!==!1;);return te}),je=function(te){return function(fe,ge,be){for(var De=-1,we=Object(fe),_e=be(fe),rt=_e.length;rt--;){var et=_e[te?rt:++De];if(ge(we[et],et,we)===!1)break}return fe}}();function Re(te,fe){for(var ge=0,be=(fe=Ge(fe,te)?[fe]:Je(fe)).length;te!=null&&ge<be;)te=te[se(fe[ge++])];return ge&&ge==be?te:void 0}function st(te,fe){return te!=null&&fe in Object(te)}function gt(te,fe,ge,be,De){return te===fe||(te==null||fe==null||!tt(te)&&!Ot(fe)?te!=te&&fe!=fe:function(we,_e,rt,et,Qe,$e){var yt=He(we),Tt=He(_e),ut="[object Array]",It="[object Array]";yt||(ut=(ut=lt(we))==s?a:ut),Tt||(It=(It=lt(_e))==s?a:It);var Ut=ut==a&&!H(we),Qt=It==a&&!H(_e),On=ut==It;if(On&&!Ut)return $e||($e=new Le),yt||Ht(we)?St(we,_e,rt,et,Qe,$e):function(bt,ct,br,Kr,eo,bn,tr){switch(br){case"[object DataView]":if(bt.byteLength!=ct.byteLength||bt.byteOffset!=ct.byteOffset)return!1;bt=bt.buffer,ct=ct.buffer;case"[object ArrayBuffer]":return!(bt.byteLength!=ct.byteLength||!Kr(new L(bt),new L(ct)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ce(+bt,+ct);case"[object Error]":return bt.name==ct.name&&bt.message==ct.message;case"[object RegExp]":case"[object String]":return bt==ct+"";case u:var vr=E;case i:var rs=2&bn;if(vr||(vr=R),bt.size!=ct.size&&!rs)return!1;var to=tr.get(bt);if(to)return to==ct;bn|=1,tr.set(bt,ct);var mi=St(vr(bt),vr(ct),Kr,eo,bn,tr);return tr.delete(bt),mi;case"[object Symbol]":if(pe)return pe.call(bt)==pe.call(ct)}return!1}(we,_e,ut,rt,et,Qe,$e);if(!(2&Qe)){var Wn=Ut&&W.call(we,"__wrapped__"),fi=Qt&&W.call(_e,"__wrapped__");if(Wn||fi){var hi=Wn?we.value():we,pi=fi?_e.value():_e;return $e||($e=new Le),rt(hi,pi,et,Qe,$e)}}return On?($e||($e=new Le),function(bt,ct,br,Kr,eo,bn){var tr=2&eo,vr=$t(bt),rs=vr.length,to=$t(ct).length;if(rs!=to&&!tr)return!1;for(var mi=rs;mi--;){var xr=vr[mi];if(!(tr?xr in ct:W.call(ct,xr)))return!1}var Wc=bn.get(bt);if(Wc&&bn.get(ct))return Wc==ct;var no=!0;bn.set(bt,ct),bn.set(ct,bt);for(var nl=tr;++mi<rs;){xr=vr[mi];var ro=bt[xr],io=ct[xr];if(Kr)var Kc=tr?Kr(io,ro,xr,ct,bt,bn):Kr(ro,io,xr,bt,ct,bn);if(!(Kc===void 0?ro===io||br(ro,io,Kr,eo,bn):Kc)){no=!1;break}nl||(nl=xr=="constructor")}if(no&&!nl){var so=bt.constructor,oo=ct.constructor;so==oo||!("constructor"in bt)||!("constructor"in ct)||typeof so=="function"&&so instanceof so&&typeof oo=="function"&&oo instanceof oo||(no=!1)}return bn.delete(bt),bn.delete(ct),no}(we,_e,rt,et,Qe,$e)):!1}(te,fe,gt,ge,be,De))}function ze(te){return!(!tt(te)||function(fe){return!!U&&U in fe}(te))&&(Xe(te)||H(te)?F:y).test(ce(te))}function dt(te){return typeof te=="function"?te:te==null?cn:typeof te=="object"?He(te)?function(be,De){return Ge(be)&&pt(De)?wt(se(be),De):function(we){var _e=function(rt,et,Qe){var $e=rt==null?void 0:Re(rt,et);return $e===void 0?Qe:$e}(we,be);return _e===void 0&&_e===De?function(rt,et){return rt!=null&&function(Qe,$e,yt){$e=Ge($e,Qe)?[$e]:Je($e);for(var Tt,ut=-1,It=$e.length;++ut<It;){var Ut=se($e[ut]);if(!(Tt=Qe!=null&&yt(Qe,Ut)))break;Qe=Qe[Ut]}return Tt||!!(It=Qe?Qe.length:0)&&Ke(It)&&xt(Ut,It)&&(He(Qe)||We(Qe))}(rt,et,st)}(we,be):gt(De,_e,void 0,3)}}(te[0],te[1]):function(be){var De=function(we){for(var _e=$t(we),rt=_e.length;rt--;){var et=_e[rt],Qe=we[et];_e[rt]=[et,Qe,pt(Qe)]}return _e}(be);return De.length==1&&De[0][2]?wt(De[0][0],De[0][1]):function(we){return we===be||function(_e,rt,et,Qe){var $e=et.length,yt=$e,Tt=!Qe;if(_e==null)return!yt;for(_e=Object(_e);$e--;){var ut=et[$e];if(Tt&&ut[2]?ut[1]!==_e[ut[0]]:!(ut[0]in _e))return!1}for(;++$e<yt;){var It=(ut=et[$e])[0],Ut=_e[It],Qt=ut[1];if(Tt&&ut[2]){if(Ut===void 0&&!(It in _e))return!1}else{var On=new Le;if(Qe)var Wn=Qe(Ut,Qt,It,_e,rt,On);if(!(Wn===void 0?gt(Qt,Ut,Qe,3,On):Wn))return!1}}return!0}(we,be,De)}}(te):Ge(fe=te)?(ge=se(fe),function(be){return be==null?void 0:be[ge]}):function(be){return function(De){return Re(De,be)}}(fe);var fe,ge}function nt(te){if(ge=(fe=te)&&fe.constructor,be=typeof ge=="function"&&ge.prototype||N,fe!==be)return Y(te);var fe,ge,be,De=[];for(var we in Object(te))W.call(te,we)&&we!="constructor"&&De.push(we);return De}function Je(te){return He(te)?te:Ze(te)}function St(te,fe,ge,be,De,we){var _e=2&De,rt=te.length,et=fe.length;if(rt!=et&&!(_e&&et>rt))return!1;var Qe=we.get(te);if(Qe&&we.get(fe))return Qe==fe;var $e=-1,yt=!0,Tt=1&De?new Fe:void 0;for(we.set(te,fe),we.set(fe,te);++$e<rt;){var ut=te[$e],It=fe[$e];if(be)var Ut=_e?be(It,ut,$e,fe,te,we):be(ut,It,$e,te,fe,we);if(Ut!==void 0){if(Ut)continue;yt=!1;break}if(Tt){if(!q(fe,function(Qt,On){if(!Tt.has(On)&&(ut===Qt||ge(ut,Qt,be,De,we)))return Tt.add(On)})){yt=!1;break}}else if(ut!==It&&!ge(ut,It,be,De,we)){yt=!1;break}}return we.delete(te),we.delete(fe),yt}function ft(te,fe){var ge,be,De=te.__data__;return((be=typeof(ge=fe))=="string"||be=="number"||be=="symbol"||be=="boolean"?ge!=="__proto__":ge===null)?De[typeof fe=="string"?"string":"hash"]:De.map}function qe(te,fe){var ge=function(be,De){return be==null?void 0:be[De]}(te,fe);return ze(ge)?ge:void 0}var lt=function(te){return J.call(te)};function xt(te,fe){return!!(fe=fe??9007199254740991)&&(typeof te=="number"||p.test(te))&&te>-1&&te%1==0&&te<fe}function Ge(te,fe){if(He(te))return!1;var ge=typeof te;return!(ge!="number"&&ge!="symbol"&&ge!="boolean"&&te!=null&&!kt(te))||h.test(te)||!c.test(te)||fe!=null&&te in Object(fe)}function pt(te){return te==te&&!tt(te)}function wt(te,fe){return function(ge){return ge!=null&&ge[te]===fe&&(fe!==void 0||te in Object(ge))}}(Q&&lt(new Q(new ArrayBuffer(1)))!="[object DataView]"||X&&lt(new X)!=u||ee&&lt(ee.resolve())!="[object Promise]"||ie&&lt(new ie)!=i||oe&&lt(new oe)!="[object WeakMap]")&&(lt=function(te){var fe=J.call(te),ge=fe==a?te.constructor:void 0,be=ge?ce(ge):void 0;if(be)switch(be){case re:return"[object DataView]";case ne:return u;case ue:return"[object Promise]";case le:return i;case de:return"[object WeakMap]"}return fe});var Ze=Ve(function(te){var fe;te=(fe=te)==null?"":function(be){if(typeof be=="string")return be;if(kt(be))return ye?ye.call(be):"";var De=be+"";return De=="0"&&1/be==-1/0?"-0":De}(fe);var ge=[];return d.test(te)&&ge.push(""),te.replace(f,function(be,De,we,_e){ge.push(we?_e.replace(b,"$1"):De||be)}),ge});function se(te){if(typeof te=="string"||kt(te))return te;var fe=te+"";return fe=="0"&&1/te==-1/0?"-0":fe}function ce(te){if(te!=null){try{return G.call(te)}catch{}try{return te+""}catch{}}return""}var me,ke=(me=function(te,fe,ge){W.call(te,ge)?te[ge].push(fe):te[ge]=[fe]},function(te,fe){var ge=He(te)?V:Ae,be={};return ge(te,me,dt(fe),be)});function Ve(te,fe){if(typeof te!="function"||fe&&typeof fe!="function")throw new TypeError("Expected a function");var ge=function(){var be=arguments,De=fe?fe.apply(this,be):be[0],we=ge.cache;if(we.has(De))return we.get(De);var _e=te.apply(this,be);return ge.cache=we.set(De,_e),_e};return ge.cache=new(Ve.Cache||Se),ge}function Ce(te,fe){return te===fe||te!=te&&fe!=fe}function We(te){return function(fe){return Ot(fe)&&Be(fe)}(te)&&W.call(te,"callee")&&(!P.call(te,"callee")||J.call(te)==s)}Ve.Cache=Se;var He=Array.isArray;function Be(te){return te!=null&&Ke(te.length)&&!Xe(te)}function Xe(te){var fe=tt(te)?J.call(te):"";return fe=="[object Function]"||fe=="[object GeneratorFunction]"}function Ke(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=9007199254740991}function tt(te){var fe=typeof te;return!!te&&(fe=="object"||fe=="function")}function Ot(te){return!!te&&typeof te=="object"}function kt(te){return typeof te=="symbol"||Ot(te)&&J.call(te)=="[object Symbol]"}var Ht=B?function(te){return function(fe){return te(fe)}}(B):function(te){return Ot(te)&&Ke(te.length)&&!!g[J.call(te)]};function $t(te){return Be(te)?Oe(te):nt(te)}function cn(te){return te}r.exports=ke}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,r,l){var o=Object.prototype.toString;r.exports=function(s){return s===!0||s===!1||function(u){return!!u&&typeof u=="object"}(s)&&o.call(s)=="[object Boolean]"}},{}],445:[function(e,r,l){(function(o){(function(){var s="[object Arguments]",u="[object Map]",a="[object Object]",i="[object Set]",c=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[s]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[u]=d["[object Number]"]=d[a]=d["[object RegExp]"]=d[i]=d["[object String]"]=d["[object WeakMap]"]=!1;var f=typeof o=="object"&&o&&o.Object===Object&&o,b=typeof self=="object"&&self&&self.Object===Object&&self,y=f||b||Function("return this")(),p=typeof l=="object"&&l&&!l.nodeType&&l,g=p&&typeof r=="object"&&r&&!r.nodeType&&r,m=g&&g.exports===p,x=m&&f.process,C=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),I=C&&C.isTypedArray;function D(se,ce){for(var me=-1,ke=se==null?0:se.length;++me<ke;)if(ce(se[me],me,se))return!0;return!1}function z(se){var ce=-1,me=Array(se.size);return se.forEach(function(ke,Ve){me[++ce]=[Ve,ke]}),me}function O(se){var ce=-1,me=Array(se.size);return se.forEach(function(ke){me[++ce]=ke}),me}var B,V,q,H=Array.prototype,E=Function.prototype,R=Object.prototype,k=y["__core-js_shared__"],v=E.toString,_=R.hasOwnProperty,w=(B=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",S=R.toString,N=RegExp("^"+v.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=m?y.Buffer:void 0,U=y.Symbol,G=y.Uint8Array,W=R.propertyIsEnumerable,J=H.splice,F=U?U.toStringTag:void 0,K=Object.getOwnPropertySymbols,L=j?j.isBuffer:void 0,P=(V=Object.keys,q=Object,function(se){return V(q(se))}),$=st(y,"DataView"),Y=st(y,"Map"),Q=st(y,"Promise"),X=st(y,"Set"),ee=st(y,"WeakMap"),ie=st(Object,"create"),oe=nt($),Z=nt(Y),re=nt(Q),ne=nt(X),ue=nt(ee),le=U?U.prototype:void 0,de=le?le.valueOf:void 0;function he(se){var ce=-1,me=se==null?0:se.length;for(this.clear();++ce<me;){var ke=se[ce];this.set(ke[0],ke[1])}}function pe(se){var ce=-1,me=se==null?0:se.length;for(this.clear();++ce<me;){var ke=se[ce];this.set(ke[0],ke[1])}}function ye(se){var ce=-1,me=se==null?0:se.length;for(this.clear();++ce<me;){var ke=se[ce];this.set(ke[0],ke[1])}}function Ee(se){var ce=-1,me=se==null?0:se.length;for(this.__data__=new ye;++ce<me;)this.add(se[ce])}function Te(se){var ce=this.__data__=new pe(se);this.size=ce.size}function Se(se,ce){var me=ft(se),ke=!me&&St(se),Ve=!me&&!ke&&qe(se),Ce=!me&&!ke&&!Ve&&wt(se),We=me||ke||Ve||Ce,He=We?function(Ke,tt){for(var Ot=-1,kt=Array(Ke);++Ot<Ke;)kt[Ot]=tt(Ot);return kt}(se.length,String):[],Be=He.length;for(var Xe in se)!ce&&!_.call(se,Xe)||We&&(Xe=="length"||Ve&&(Xe=="offset"||Xe=="parent")||Ce&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||dt(Xe,Be))||He.push(Xe);return He}function Fe(se,ce){for(var me=se.length;me--;)if(Je(se[me][0],ce))return me;return-1}function Le(se){return se==null?se===void 0?"[object Undefined]":"[object Null]":F&&F in Object(se)?function(ce){var me=_.call(ce,F),ke=ce[F];try{ce[F]=void 0;var Ve=!0}catch{}var Ce=S.call(ce);return Ve&&(me?ce[F]=ke:delete ce[F]),Ce}(se):function(ce){return S.call(ce)}(se)}function Oe(se){return pt(se)&&Le(se)==s}function Ue(se,ce,me,ke,Ve){return se===ce||(se==null||ce==null||!pt(se)&&!pt(ce)?se!=se&&ce!=ce:function(Ce,We,He,Be,Xe,Ke){var tt=ft(Ce),Ot=ft(We),kt=tt?"[object Array]":ze(Ce),Ht=Ot?"[object Array]":ze(We),$t=(kt=kt==s?a:kt)==a,cn=(Ht=Ht==s?a:Ht)==a,te=kt==Ht;if(te&&qe(Ce)){if(!qe(We))return!1;tt=!0,$t=!1}if(te&&!$t)return Ke||(Ke=new Te),tt||wt(Ce)?Ie(Ce,We,He,Be,Xe,Ke):function(we,_e,rt,et,Qe,$e,yt){switch(rt){case"[object DataView]":if(we.byteLength!=_e.byteLength||we.byteOffset!=_e.byteOffset)return!1;we=we.buffer,_e=_e.buffer;case"[object ArrayBuffer]":return!(we.byteLength!=_e.byteLength||!$e(new G(we),new G(_e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Je(+we,+_e);case"[object Error]":return we.name==_e.name&&we.message==_e.message;case"[object RegExp]":case"[object String]":return we==_e+"";case u:var Tt=z;case i:var ut=1&et;if(Tt||(Tt=O),we.size!=_e.size&&!ut)return!1;var It=yt.get(we);if(It)return It==_e;et|=2,yt.set(we,_e);var Ut=Ie(Tt(we),Tt(_e),et,Qe,$e,yt);return yt.delete(we),Ut;case"[object Symbol]":if(de)return de.call(we)==de.call(_e)}return!1}(Ce,We,kt,He,Be,Xe,Ke);if(!(1&He)){var fe=$t&&_.call(Ce,"__wrapped__"),ge=cn&&_.call(We,"__wrapped__");if(fe||ge){var be=fe?Ce.value():Ce,De=ge?We.value():We;return Ke||(Ke=new Te),Xe(be,De,He,Be,Ke)}}return te?(Ke||(Ke=new Te),function(we,_e,rt,et,Qe,$e){var yt=1&rt,Tt=je(we),ut=Tt.length,It=je(_e).length;if(ut!=It&&!yt)return!1;for(var Ut=ut;Ut--;){var Qt=Tt[Ut];if(!(yt?Qt in _e:_.call(_e,Qt)))return!1}var On=$e.get(we);if(On&&$e.get(_e))return On==_e;var Wn=!0;$e.set(we,_e),$e.set(_e,we);for(var fi=yt;++Ut<ut;){Qt=Tt[Ut];var hi=we[Qt],pi=_e[Qt];if(et)var bt=yt?et(pi,hi,Qt,_e,we,$e):et(hi,pi,Qt,we,_e,$e);if(!(bt===void 0?hi===pi||Qe(hi,pi,rt,et,$e):bt)){Wn=!1;break}fi||(fi=Qt=="constructor")}if(Wn&&!fi){var ct=we.constructor,br=_e.constructor;ct==br||!("constructor"in we)||!("constructor"in _e)||typeof ct=="function"&&ct instanceof ct&&typeof br=="function"&&br instanceof br||(Wn=!1)}return $e.delete(we),$e.delete(_e),Wn}(Ce,We,He,Be,Xe,Ke)):!1}(se,ce,me,ke,Ue,Ve))}function Ae(se){return!(!Ge(se)||function(ce){return!!w&&w in ce}(se))&&(lt(se)?N:c).test(nt(se))}function xe(se){if(me=(ce=se)&&ce.constructor,ke=typeof me=="function"&&me.prototype||R,ce!==ke)return P(se);var ce,me,ke,Ve=[];for(var Ce in Object(se))_.call(se,Ce)&&Ce!="constructor"&&Ve.push(Ce);return Ve}function Ie(se,ce,me,ke,Ve,Ce){var We=1&me,He=se.length,Be=ce.length;if(He!=Be&&!(We&&Be>He))return!1;var Xe=Ce.get(se);if(Xe&&Ce.get(ce))return Xe==ce;var Ke=-1,tt=!0,Ot=2&me?new Ee:void 0;for(Ce.set(se,ce),Ce.set(ce,se);++Ke<He;){var kt=se[Ke],Ht=ce[Ke];if(ke)var $t=We?ke(Ht,kt,Ke,ce,se,Ce):ke(kt,Ht,Ke,se,ce,Ce);if($t!==void 0){if($t)continue;tt=!1;break}if(Ot){if(!D(ce,function(cn,te){if(fe=te,!Ot.has(fe)&&(kt===cn||Ve(kt,cn,me,ke,Ce)))return Ot.push(te);var fe})){tt=!1;break}}else if(kt!==Ht&&!Ve(kt,Ht,me,ke,Ce)){tt=!1;break}}return Ce.delete(se),Ce.delete(ce),tt}function je(se){return function(ce,me,ke){var Ve=me(ce);return ft(ce)?Ve:function(Ce,We){for(var He=-1,Be=We.length,Xe=Ce.length;++He<Be;)Ce[Xe+He]=We[He];return Ce}(Ve,ke(ce))}(se,Ze,gt)}function Re(se,ce){var me,ke,Ve=se.__data__;return((ke=typeof(me=ce))=="string"||ke=="number"||ke=="symbol"||ke=="boolean"?me!=="__proto__":me===null)?Ve[typeof ce=="string"?"string":"hash"]:Ve.map}function st(se,ce){var me=function(ke,Ve){return ke==null?void 0:ke[Ve]}(se,ce);return Ae(me)?me:void 0}he.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},he.prototype.delete=function(se){var ce=this.has(se)&&delete this.__data__[se];return this.size-=ce?1:0,ce},he.prototype.get=function(se){var ce=this.__data__;if(ie){var me=ce[se];return me==="__lodash_hash_undefined__"?void 0:me}return _.call(ce,se)?ce[se]:void 0},he.prototype.has=function(se){var ce=this.__data__;return ie?ce[se]!==void 0:_.call(ce,se)},he.prototype.set=function(se,ce){var me=this.__data__;return this.size+=this.has(se)?0:1,me[se]=ie&&ce===void 0?"__lodash_hash_undefined__":ce,this},pe.prototype.clear=function(){this.__data__=[],this.size=0},pe.prototype.delete=function(se){var ce=this.__data__,me=Fe(ce,se);return!(me<0)&&(me==ce.length-1?ce.pop():J.call(ce,me,1),--this.size,!0)},pe.prototype.get=function(se){var ce=this.__data__,me=Fe(ce,se);return me<0?void 0:ce[me][1]},pe.prototype.has=function(se){return Fe(this.__data__,se)>-1},pe.prototype.set=function(se,ce){var me=this.__data__,ke=Fe(me,se);return ke<0?(++this.size,me.push([se,ce])):me[ke][1]=ce,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(Y||pe),string:new he}},ye.prototype.delete=function(se){var ce=Re(this,se).delete(se);return this.size-=ce?1:0,ce},ye.prototype.get=function(se){return Re(this,se).get(se)},ye.prototype.has=function(se){return Re(this,se).has(se)},ye.prototype.set=function(se,ce){var me=Re(this,se),ke=me.size;return me.set(se,ce),this.size+=me.size==ke?0:1,this},Ee.prototype.add=Ee.prototype.push=function(se){return this.__data__.set(se,"__lodash_hash_undefined__"),this},Ee.prototype.has=function(se){return this.__data__.has(se)},Te.prototype.clear=function(){this.__data__=new pe,this.size=0},Te.prototype.delete=function(se){var ce=this.__data__,me=ce.delete(se);return this.size=ce.size,me},Te.prototype.get=function(se){return this.__data__.get(se)},Te.prototype.has=function(se){return this.__data__.has(se)},Te.prototype.set=function(se,ce){var me=this.__data__;if(me instanceof pe){var ke=me.__data__;if(!Y||ke.length<199)return ke.push([se,ce]),this.size=++me.size,this;me=this.__data__=new ye(ke)}return me.set(se,ce),this.size=me.size,this};var gt=K?function(se){return se==null?[]:(se=Object(se),function(ce,me){for(var ke=-1,Ve=ce==null?0:ce.length,Ce=0,We=[];++ke<Ve;){var He=ce[ke];me(He,ke,ce)&&(We[Ce++]=He)}return We}(K(se),function(ce){return W.call(se,ce)}))}:function(){return[]},ze=Le;function dt(se,ce){return!!(ce=ce??9007199254740991)&&(typeof se=="number"||h.test(se))&&se>-1&&se%1==0&&se<ce}function nt(se){if(se!=null){try{return v.call(se)}catch{}try{return se+""}catch{}}return""}function Je(se,ce){return se===ce||se!=se&&ce!=ce}($&&ze(new $(new ArrayBuffer(1)))!="[object DataView]"||Y&&ze(new Y)!=u||Q&&ze(Q.resolve())!="[object Promise]"||X&&ze(new X)!=i||ee&&ze(new ee)!="[object WeakMap]")&&(ze=function(se){var ce=Le(se),me=ce==a?se.constructor:void 0,ke=me?nt(me):"";if(ke)switch(ke){case oe:return"[object DataView]";case Z:return u;case re:return"[object Promise]";case ne:return i;case ue:return"[object WeakMap]"}return ce});var St=Oe(function(){return arguments}())?Oe:function(se){return pt(se)&&_.call(se,"callee")&&!W.call(se,"callee")},ft=Array.isArray,qe=L||function(){return!1};function lt(se){if(!Ge(se))return!1;var ce=Le(se);return ce=="[object Function]"||ce=="[object GeneratorFunction]"||ce=="[object AsyncFunction]"||ce=="[object Proxy]"}function xt(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=9007199254740991}function Ge(se){var ce=typeof se;return se!=null&&(ce=="object"||ce=="function")}function pt(se){return se!=null&&typeof se=="object"}var wt=I?function(se){return function(ce){return se(ce)}}(I):function(se){return pt(se)&&xt(se.length)&&!!d[Le(se)]};function Ze(se){return(ce=se)!=null&&xt(ce.length)&&!lt(ce)?Se(se):xe(se);var ce}r.exports=function(se,ce){return Ue(se,ce)}}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,r,l){(function(o){(function(){var s=typeof o=="object"&&o&&o.Object===Object&&o,u=typeof self=="object"&&self&&self.Object===Object&&self,a=s||u||Function("return this")(),i=Object.prototype,c=i.hasOwnProperty,h=i.toString,d=a.Symbol,f=d?d.toStringTag:void 0;function b(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":f&&f in Object(y)?function(p){var g=c.call(p,f),m=p[f];try{p[f]=void 0;var x=!0}catch{}var C=h.call(p);return x&&(g?p[f]=m:delete p[f]),C}(y):function(p){return h.call(p)}(y)}r.exports=function(y){if(!function(g){var m=typeof g;return g!=null&&(m=="object"||m=="function")}(y))return!1;var p=b(y);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,r,l){r.exports=function(o){return o==null}},{}],448:[function(e,r,l){r.exports=function(o){return o===void 0}},{}],449:[function(e,r,l){(function(o){(function(){var s=/^\[object .+?Constructor\]$/,u=typeof o=="object"&&o&&o.Object===Object&&o,a=typeof self=="object"&&self&&self.Object===Object&&self,i=u||a||Function("return this")();function c(G,W){return!!(G&&G.length)&&function(J,F,K){if(F!=F)return function($,Y,Q,X){for(var ee=$.length,ie=Q+(X?1:-1);X?ie--:++ie<ee;)if(Y($[ie],ie,$))return ie;return-1}(J,d,K);for(var L=K-1,P=J.length;++L<P;)if(J[L]===F)return L;return-1}(G,W,0)>-1}function h(G,W,J){for(var F=-1,K=G?G.length:0;++F<K;)if(J(W,G[F]))return!0;return!1}function d(G){return G!=G}function f(G,W){return G.has(W)}function b(G){var W=-1,J=Array(G.size);return G.forEach(function(F){J[++W]=F}),J}var y,p=Array.prototype,g=Function.prototype,m=Object.prototype,x=i["__core-js_shared__"],C=(y=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",I=g.toString,D=m.hasOwnProperty,z=m.toString,O=RegExp("^"+I.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=p.splice,V=j(i,"Map"),q=j(i,"Set"),H=j(Object,"create");function E(G){var W=-1,J=G?G.length:0;for(this.clear();++W<J;){var F=G[W];this.set(F[0],F[1])}}function R(G){var W=-1,J=G?G.length:0;for(this.clear();++W<J;){var F=G[W];this.set(F[0],F[1])}}function k(G){var W=-1,J=G?G.length:0;for(this.clear();++W<J;){var F=G[W];this.set(F[0],F[1])}}function v(G){var W=-1,J=G?G.length:0;for(this.__data__=new k;++W<J;)this.add(G[W])}function _(G,W){for(var J,F,K=G.length;K--;)if((J=G[K][0])===(F=W)||J!=J&&F!=F)return K;return-1}function w(G){return!(!U(G)||(W=G,C&&C in W))&&(function(J){var F=U(J)?z.call(J):"";return F=="[object Function]"||F=="[object GeneratorFunction]"}(G)||function(J){var F=!1;if(J!=null&&typeof J.toString!="function")try{F=!!(J+"")}catch{}return F}(G)?O:s).test(function(J){if(J!=null){try{return I.call(J)}catch{}try{return J+""}catch{}}return""}(G));var W}E.prototype.clear=function(){this.__data__=H?H(null):{}},E.prototype.delete=function(G){return this.has(G)&&delete this.__data__[G]},E.prototype.get=function(G){var W=this.__data__;if(H){var J=W[G];return J==="__lodash_hash_undefined__"?void 0:J}return D.call(W,G)?W[G]:void 0},E.prototype.has=function(G){var W=this.__data__;return H?W[G]!==void 0:D.call(W,G)},E.prototype.set=function(G,W){return this.__data__[G]=H&&W===void 0?"__lodash_hash_undefined__":W,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(G){var W=this.__data__,J=_(W,G);return!(J<0)&&(J==W.length-1?W.pop():B.call(W,J,1),!0)},R.prototype.get=function(G){var W=this.__data__,J=_(W,G);return J<0?void 0:W[J][1]},R.prototype.has=function(G){return _(this.__data__,G)>-1},R.prototype.set=function(G,W){var J=this.__data__,F=_(J,G);return F<0?J.push([G,W]):J[F][1]=W,this},k.prototype.clear=function(){this.__data__={hash:new E,map:new(V||R),string:new E}},k.prototype.delete=function(G){return N(this,G).delete(G)},k.prototype.get=function(G){return N(this,G).get(G)},k.prototype.has=function(G){return N(this,G).has(G)},k.prototype.set=function(G,W){return N(this,G).set(G,W),this},v.prototype.add=v.prototype.push=function(G){return this.__data__.set(G,"__lodash_hash_undefined__"),this},v.prototype.has=function(G){return this.__data__.has(G)};var S=q&&1/b(new q([,-0]))[1]==1/0?function(G){return new q(G)}:function(){};function N(G,W){var J,F,K=G.__data__;return((F=typeof(J=W))=="string"||F=="number"||F=="symbol"||F=="boolean"?J!=="__proto__":J===null)?K[typeof W=="string"?"string":"hash"]:K.map}function j(G,W){var J=function(F,K){return F==null?void 0:F[K]}(G,W);return w(J)?J:void 0}function U(G){var W=typeof G;return!!G&&(W=="object"||W=="function")}r.exports=function(G){return G&&G.length?function(W,J,F){var K=-1,L=c,P=W.length,$=!0,Y=[],Q=Y;if(F)$=!1,L=h;else if(P>=200){var X=J?null:S(W);if(X)return b(X);$=!1,L=f,Q=new v}else Q=J?[]:Y;e:for(;++K<P;){var ee=W[K],ie=J?J(ee):ee;if(ee=F||ee!==0?ee:0,$&&ie==ie){for(var oe=Q.length;oe--;)if(Q[oe]===ie)continue e;J&&Q.push(ie),Y.push(ee)}else L(Q,ie,F)||(Q!==Y&&Q.push(ie),Y.push(ee))}return Y}(G):[]}}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,r,l){var o=e("inherits"),s=e("hash-base"),u=e("safe-buffer").Buffer,a=new Array(16);function i(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(y,p){return y<<p|y>>>32-p}function h(y,p,g,m,x,C,I){return c(y+(p&g|~p&m)+x+C|0,I)+p|0}function d(y,p,g,m,x,C,I){return c(y+(p&m|g&~m)+x+C|0,I)+p|0}function f(y,p,g,m,x,C,I){return c(y+(p^g^m)+x+C|0,I)+p|0}function b(y,p,g,m,x,C,I){return c(y+(g^(p|~m))+x+C|0,I)+p|0}o(i,s),i.prototype._update=function(){for(var y=a,p=0;p<16;++p)y[p]=this._block.readInt32LE(4*p);var g=this._a,m=this._b,x=this._c,C=this._d;g=h(g,m,x,C,y[0],3614090360,7),C=h(C,g,m,x,y[1],3905402710,12),x=h(x,C,g,m,y[2],606105819,17),m=h(m,x,C,g,y[3],3250441966,22),g=h(g,m,x,C,y[4],4118548399,7),C=h(C,g,m,x,y[5],1200080426,12),x=h(x,C,g,m,y[6],2821735955,17),m=h(m,x,C,g,y[7],4249261313,22),g=h(g,m,x,C,y[8],1770035416,7),C=h(C,g,m,x,y[9],2336552879,12),x=h(x,C,g,m,y[10],4294925233,17),m=h(m,x,C,g,y[11],2304563134,22),g=h(g,m,x,C,y[12],1804603682,7),C=h(C,g,m,x,y[13],4254626195,12),x=h(x,C,g,m,y[14],2792965006,17),g=d(g,m=h(m,x,C,g,y[15],1236535329,22),x,C,y[1],4129170786,5),C=d(C,g,m,x,y[6],3225465664,9),x=d(x,C,g,m,y[11],643717713,14),m=d(m,x,C,g,y[0],3921069994,20),g=d(g,m,x,C,y[5],3593408605,5),C=d(C,g,m,x,y[10],38016083,9),x=d(x,C,g,m,y[15],3634488961,14),m=d(m,x,C,g,y[4],3889429448,20),g=d(g,m,x,C,y[9],568446438,5),C=d(C,g,m,x,y[14],3275163606,9),x=d(x,C,g,m,y[3],4107603335,14),m=d(m,x,C,g,y[8],1163531501,20),g=d(g,m,x,C,y[13],2850285829,5),C=d(C,g,m,x,y[2],4243563512,9),x=d(x,C,g,m,y[7],1735328473,14),g=f(g,m=d(m,x,C,g,y[12],2368359562,20),x,C,y[5],4294588738,4),C=f(C,g,m,x,y[8],2272392833,11),x=f(x,C,g,m,y[11],1839030562,16),m=f(m,x,C,g,y[14],4259657740,23),g=f(g,m,x,C,y[1],2763975236,4),C=f(C,g,m,x,y[4],1272893353,11),x=f(x,C,g,m,y[7],4139469664,16),m=f(m,x,C,g,y[10],3200236656,23),g=f(g,m,x,C,y[13],681279174,4),C=f(C,g,m,x,y[0],3936430074,11),x=f(x,C,g,m,y[3],3572445317,16),m=f(m,x,C,g,y[6],76029189,23),g=f(g,m,x,C,y[9],3654602809,4),C=f(C,g,m,x,y[12],3873151461,11),x=f(x,C,g,m,y[15],530742520,16),g=b(g,m=f(m,x,C,g,y[2],3299628645,23),x,C,y[0],4096336452,6),C=b(C,g,m,x,y[7],1126891415,10),x=b(x,C,g,m,y[14],2878612391,15),m=b(m,x,C,g,y[5],4237533241,21),g=b(g,m,x,C,y[12],1700485571,6),C=b(C,g,m,x,y[3],2399980690,10),x=b(x,C,g,m,y[10],4293915773,15),m=b(m,x,C,g,y[1],2240044497,21),g=b(g,m,x,C,y[8],1873313359,6),C=b(C,g,m,x,y[15],4264355552,10),x=b(x,C,g,m,y[6],2734768916,15),m=b(m,x,C,g,y[13],1309151649,21),g=b(g,m,x,C,y[4],4149444226,6),C=b(C,g,m,x,y[11],3174756917,10),x=b(x,C,g,m,y[2],718787259,15),m=b(m,x,C,g,y[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+m|0,this._c=this._c+x|0,this._d=this._d+C|0},i.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=u.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},r.exports=i},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,r,l){var o=e("bn.js"),s=e("brorand");function u(a){this.rand=a||new s.Rand}r.exports=u,u.create=function(a){return new u(a)},u.prototype._randbelow=function(a){var i=a.bitLength(),c=Math.ceil(i/8);do var h=new o(this.rand.generate(c));while(h.cmp(a)>=0);return h},u.prototype._randrange=function(a,i){var c=i.sub(a);return a.add(this._randbelow(c))},u.prototype.test=function(a,i,c){var h=a.bitLength(),d=o.mont(a),f=new o(1).toRed(d);i||(i=Math.max(1,h/48|0));for(var b=a.subn(1),y=0;!b.testn(y);y++);for(var p=a.shrn(y),g=b.toRed(d);i>0;i--){var m=this._randrange(new o(2),b);c&&c(m);var x=m.toRed(d).redPow(p);if(x.cmp(f)!==0&&x.cmp(g)!==0){for(var C=1;C<y;C++){if((x=x.redSqr()).cmp(f)===0)return!1;if(x.cmp(g)===0)break}if(C===y)return!1}}return!0},u.prototype.getDivisor=function(a,i){var c=a.bitLength(),h=o.mont(a),d=new o(1).toRed(h);i||(i=Math.max(1,c/48|0));for(var f=a.subn(1),b=0;!f.testn(b);b++);for(var y=a.shrn(b),p=f.toRed(h);i>0;i--){var g=this._randrange(new o(2),f),m=a.gcd(g);if(m.cmpn(1)!==0)return m;var x=g.toRed(h).redPow(y);if(x.cmp(d)!==0&&x.cmp(p)!==0){for(var C=1;C<b;C++){if((x=x.redSqr()).cmp(d)===0)return x.fromRed().subn(1).gcd(a);if(x.cmp(p)===0)break}if(C===b)return(x=x.redSqr()).fromRed().subn(1).gcd(a)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,r,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],453:[function(e,r,l){function o(s,u){if(!s)throw new Error(u||"Assertion failed")}r.exports=o,o.equal=function(s,u,a){if(s!=u)throw new Error(a||"Assertion failed: "+s+" != "+u)}},{}],454:[function(e,r,l){var o=l;function s(a){return a.length===1?"0"+a:a}function u(a){for(var i="",c=0;c<a.length;c++)i+=s(a[c].toString(16));return i}o.toArray=function(a,i){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)c[h]=0|a[h];return c}if(i==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),h=0;h<a.length;h+=2)c.push(parseInt(a[h]+a[h+1],16));else for(h=0;h<a.length;h++){var d=a.charCodeAt(h),f=d>>8,b=255&d;f?c.push(f,b):c.push(b)}return c},o.zero2=s,o.toHex=u,o.encode=function(a,i){return i==="hex"?u(a):a}},{}],455:[function(e,r,l){r.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,r,l){var o=e("asn1.js");l.certificate=e("./certificate");var s=o.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});l.RSAPrivateKey=s;var u=o.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});l.RSAPublicKey=u;var a=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});l.PublicKey=a;var i=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=o.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});l.PrivateKey=c;var h=o.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});l.EncryptedPrivateKey=h;var d=o.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});l.DSAPrivateKey=d,l.DSAparam=o.define("DSAparam",function(){this.int()});var f=o.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});l.ECPrivateKey=f;var b=o.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});l.signature=o.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,r,l){var o=e("asn1.js"),s=o.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),u=o.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),i=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),c=o.define("RelativeDistinguishedName",function(){this.setof(u)}),h=o.define("RDNSequence",function(){this.seqof(c)}),d=o.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),f=o.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),b=o.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=o.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(d),this.key("validity").use(f),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(i),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())}),p=o.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});r.exports=p},{"asn1.js":170}],458:[function(e,r,l){var o=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=e("evp_bytestokey"),i=e("browserify-aes"),c=e("safe-buffer").Buffer;r.exports=function(h,d){var f,b=h.toString(),y=b.match(o);if(y){var p="aes"+y[1],g=c.from(y[2],"hex"),m=c.from(y[3].replace(/[\r\n]/g,""),"base64"),x=a(d,g.slice(0,8),parseInt(y[1],10)).key,C=[],I=i.createDecipheriv(p,x,g);C.push(I.update(m)),C.push(I.final()),f=c.concat(C)}else{var D=b.match(u);f=c.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:b.match(s)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,r,l){var o=e("./asn1"),s=e("./aesid.json"),u=e("./fixProc"),a=e("browserify-aes"),i=e("pbkdf2"),c=e("safe-buffer").Buffer;function h(d){var f;typeof d!="object"||c.isBuffer(d)||(f=d.passphrase,d=d.key),typeof d=="string"&&(d=c.from(d));var b,y,p=u(d,f),g=p.tag,m=p.data;switch(g){case"CERTIFICATE":y=o.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=o.PublicKey.decode(m,"der")),b=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=o.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":m=function(x,C){var I=x.algorithm.decrypt.kde.kdeparams.salt,D=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),z=s[x.algorithm.decrypt.cipher.algo.join(".")],O=x.algorithm.decrypt.cipher.iv,B=x.subjectPrivateKey,V=parseInt(z.split("-")[1],10)/8,q=i.pbkdf2Sync(C,I,D,V,"sha1"),H=a.createDecipheriv(z,q,O),E=[];return E.push(H.update(B)),E.push(H.final()),c.concat(E)}(m=o.EncryptedPrivateKey.decode(m,"der"),f);case"PRIVATE KEY":switch(b=(y=o.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:o.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=o.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=o.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+g)}}r.exports=h,h.signature=o.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,r,l){l.pbkdf2=e("./lib/async"),l.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,r,l){(function(o){(function(){var s,u,a=e("safe-buffer").Buffer,i=e("./precondition"),c=e("./default-encoding"),h=e("./sync"),d=e("./to-buffer"),f=o.crypto&&o.crypto.subtle,b={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function p(){return u||(u=o.process&&o.process.nextTick?o.process.nextTick:o.queueMicrotask?o.queueMicrotask:o.setImmediate?o.setImmediate:o.setTimeout)}function g(m,x,C,I,D){return f.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(z){return f.deriveBits({name:"PBKDF2",salt:x,iterations:C,hash:{name:D}},z,I<<3)}).then(function(z){return a.from(z)})}r.exports=function(m,x,C,I,D,z){typeof D=="function"&&(z=D,D=void 0);var O=b[(D=D||"sha1").toLowerCase()];if(O&&typeof o.Promise=="function"){if(i(C,I),m=d(m,c,"Password"),x=d(x,c,"Salt"),typeof z!="function")throw new Error("No callback provided to pbkdf2");(function(B,V){B.then(function(q){p()(function(){V(null,q)})},function(q){p()(function(){V(q)})})})(function(B){if(o.process&&!o.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(y[B]!==void 0)return y[B];var V=g(s=s||a.alloc(8),s,10,128,B).then(function(){return!0}).catch(function(){return!1});return y[B]=V,V}(O).then(function(B){return B?g(m,x,C,I,O):h(m,x,C,I,D)}),z)}else p()(function(){var B;try{B=h(m,x,C,I,D)}catch(V){return z(V)}z(null,B)})}}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,r,l){(function(o,s){(function(){var u;s.process&&s.process.browser?u="utf-8":s.process&&s.process.version?u=parseInt(o.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":u="utf-8",r.exports=u}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,r,l){var o=Math.pow(2,30)-1;r.exports=function(s,u){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof u!="number")throw new TypeError("Key length not a number");if(u<0||u>o||u!=u)throw new TypeError("Bad key length")}},{}],464:[function(e,r,l){var o=e("create-hash/md5"),s=e("ripemd160"),u=e("sha.js"),a=e("safe-buffer").Buffer,i=e("./precondition"),c=e("./default-encoding"),h=e("./to-buffer"),d=a.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function b(y,p,g){var m=function(O){function B(V){return u(O).update(V).digest()}return O==="rmd160"||O==="ripemd160"?function(V){return new s().update(V).digest()}:O==="md5"?o:B}(y),x=y==="sha512"||y==="sha384"?128:64;p.length>x?p=m(p):p.length<x&&(p=a.concat([p,d],x));for(var C=a.allocUnsafe(x+f[y]),I=a.allocUnsafe(x+f[y]),D=0;D<x;D++)C[D]=54^p[D],I[D]=92^p[D];var z=a.allocUnsafe(x+g+4);C.copy(z,0,0,x),this.ipad1=z,this.ipad2=C,this.opad=I,this.alg=y,this.blocksize=x,this.hash=m,this.size=f[y]}b.prototype.run=function(y,p){return y.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},r.exports=function(y,p,g,m,x){i(g,m);var C=new b(x=x||"sha1",y=h(y,c,"Password"),(p=h(p,c,"Salt")).length),I=a.allocUnsafe(m),D=a.allocUnsafe(p.length+4);p.copy(D,0,0,p.length);for(var z=0,O=f[x],B=Math.ceil(m/O),V=1;V<=B;V++){D.writeUInt32BE(V,p.length);for(var q=C.run(D,C.ipad1),H=q,E=1;E<g;E++){H=C.run(H,C.ipad2);for(var R=0;R<O;R++)q[R]^=H[R]}q.copy(I,z),z+=O}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,r,l){var o=e("safe-buffer").Buffer;r.exports=function(s,u,a){if(o.isBuffer(s))return s;if(typeof s=="string")return o.from(s,u);if(ArrayBuffer.isView(s))return o.from(s.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,r,l){(function(o){(function(){o===void 0||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(s,u,a,i){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var c,h,d=arguments.length;switch(d){case 0:case 1:return o.nextTick(s);case 2:return o.nextTick(function(){s.call(null,u)});case 3:return o.nextTick(function(){s.call(null,u,a)});case 4:return o.nextTick(function(){s.call(null,u,a,i)});default:for(c=new Array(d-1),h=0;h<c.length;)c[h++]=arguments[h];return o.nextTick(function(){s.apply(null,c)})}}}:r.exports=o}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,r,l){var o,s,u=r.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(x){if(o===setTimeout)return setTimeout(x,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(x,0);try{return o(x,0)}catch{try{return o.call(null,x,0)}catch{return o.call(this,x,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{s=typeof clearTimeout=="function"?clearTimeout:i}catch{s=i}})();var h,d=[],f=!1,b=-1;function y(){f&&h&&(f=!1,h.length?d=h.concat(d):b=-1,d.length&&p())}function p(){if(!f){var x=c(y);f=!0;for(var C=d.length;C;){for(h=d,d=[];++b<C;)h&&h[b].run();b=-1,C=d.length}h=null,f=!1,function(I){if(s===clearTimeout)return clearTimeout(I);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(I);try{s(I)}catch{try{return s.call(null,I)}catch{return s.call(this,I)}}}(x)}}function g(x,C){this.fun=x,this.array=C}function m(){}u.nextTick=function(x){var C=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)C[I-1]=arguments[I];d.push(new g(x,C)),d.length!==1||f||c(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=m,u.addListener=m,u.once=m,u.off=m,u.removeListener=m,u.removeAllListeners=m,u.emit=m,u.prependListener=m,u.prependOnceListener=m,u.listeners=function(x){return[]},u.binding=function(x){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(x){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],468:[function(e,r,l){l.publicEncrypt=e("./publicEncrypt"),l.privateDecrypt=e("./privateDecrypt"),l.privateEncrypt=function(o,s){return l.publicEncrypt(o,s,!0)},l.publicDecrypt=function(o,s){return l.privateDecrypt(o,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,r,l){var o=e("create-hash"),s=e("safe-buffer").Buffer;function u(a){var i=s.allocUnsafe(4);return i.writeUInt32BE(a,0),i}r.exports=function(a,i){for(var c,h=s.alloc(0),d=0;h.length<i;)c=u(d++),h=s.concat([h,o("sha1").update(a).update(c).digest()]);return h.slice(0,i)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,r,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],471:[function(e,r,l){var o=e("parse-asn1"),s=e("./mgf"),u=e("./xor"),a=e("bn.js"),i=e("browserify-rsa"),c=e("create-hash"),h=e("./withPublic"),d=e("safe-buffer").Buffer;r.exports=function(f,b,y){var p;p=f.padding?f.padding:y?1:4;var g,m=o(f),x=m.modulus.byteLength();if(b.length>x||new a(b).cmp(m.modulus)>=0)throw new Error("decryption error");g=y?h(new a(b),m):i(b,m);var C=d.alloc(x-g.length);if(g=d.concat([C,g],x),p===4)return function(I,D){var z=I.modulus.byteLength(),O=c("sha1").update(d.alloc(0)).digest(),B=O.length;if(D[0]!==0)throw new Error("decryption error");var V=D.slice(1,B+1),q=D.slice(B+1),H=u(V,s(q,B)),E=u(q,s(H,z-B-1));if(function(k,v){k=d.from(k),v=d.from(v);var _=0,w=k.length;k.length!==v.length&&(_++,w=Math.min(k.length,v.length));for(var S=-1;++S<w;)_+=k[S]^v[S];return _}(O,E.slice(0,B)))throw new Error("decryption error");for(var R=B;E[R]===0;)R++;if(E[R++]!==1)throw new Error("decryption error");return E.slice(R)}(m,g);if(p===1)return function(I,D,z){for(var O=D.slice(0,2),B=2,V=0;D[B++]!==0;)if(B>=D.length){V++;break}var q=D.slice(2,B-1);if((O.toString("hex")!=="0002"&&!z||O.toString("hex")!=="0001"&&z)&&V++,q.length<8&&V++,V)throw new Error("decryption error");return D.slice(B)}(0,g,y);if(p===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,r,l){var o=e("parse-asn1"),s=e("randombytes"),u=e("create-hash"),a=e("./mgf"),i=e("./xor"),c=e("bn.js"),h=e("./withPublic"),d=e("browserify-rsa"),f=e("safe-buffer").Buffer;r.exports=function(b,y,p){var g;g=b.padding?b.padding:p?1:4;var m,x=o(b);if(g===4)m=function(C,I){var D=C.modulus.byteLength(),z=I.length,O=u("sha1").update(f.alloc(0)).digest(),B=O.length,V=2*B;if(z>D-V-2)throw new Error("message too long");var q=f.alloc(D-z-V-2),H=D-B-1,E=s(B),R=i(f.concat([O,q,f.alloc(1,1),I],H),a(E,H)),k=i(E,a(R,B));return new c(f.concat([f.alloc(1),k,R],D))}(x,y);else if(g===1)m=function(C,I,D){var z,O=I.length,B=C.modulus.byteLength();if(O>B-11)throw new Error("message too long");return z=D?f.alloc(B-O-3,255):function(V){for(var q,H=f.allocUnsafe(V),E=0,R=s(2*V),k=0;E<V;)k===R.length&&(R=s(2*V),k=0),(q=R[k++])&&(H[E++]=q);return H}(B-O-3),new c(f.concat([f.from([0,D?1:2]),z,f.alloc(1),I],B))}(x,y,p);else{if(g!==3)throw new Error("unknown padding");if((m=new c(y)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return p?d(m,x):h(m,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,r,l){var o=e("bn.js"),s=e("safe-buffer").Buffer;r.exports=function(u,a){return s.from(u.toRed(o.mont(a.modulus)).redPow(new o(a.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,r,l){r.exports=function(o,s){for(var u=o.length,a=-1;++a<u;)o[a]^=s[a];return o}},{}],475:[function(e,r,l){(function(o,s){(function(){var u=e("safe-buffer").Buffer,a=s.crypto||s.msCrypto;a&&a.getRandomValues?r.exports=function(i,c){if(i>4294967295)throw new RangeError("requested too many random bytes");var h=u.allocUnsafe(i);if(i>0)if(i>65536)for(var d=0;d<i;d+=65536)a.getRandomValues(h.slice(d,d+65536));else a.getRandomValues(h);return typeof c=="function"?o.nextTick(function(){c(null,h)}):h}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,r,l){(function(o,s){(function(){function u(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=e("safe-buffer"),i=e("randombytes"),c=a.Buffer,h=a.kMaxLength,d=s.crypto||s.msCrypto,f=Math.pow(2,32)-1;function b(g,m){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>f||g<0)throw new TypeError("offset must be a uint32");if(g>h||g>m)throw new RangeError("offset out of range")}function y(g,m,x){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>f||g<0)throw new TypeError("size must be a uint32");if(g+m>x||g>h)throw new RangeError("buffer too small")}function p(g,m,x,C){if(o.browser){var I=g.buffer,D=new Uint8Array(I,m,x);return d.getRandomValues(D),C?void o.nextTick(function(){C(null,g)}):g}if(!C)return i(x).copy(g,m),g;i(x,function(z,O){if(z)return C(z);O.copy(g,m),C(null,g)})}d&&d.getRandomValues||!o.browser?(l.randomFill=function(g,m,x,C){if(!(c.isBuffer(g)||g instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")C=m,m=0,x=g.length;else if(typeof x=="function")C=x,x=g.length-m;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return b(m,g.length),y(x,m,g.length),p(g,m,x,C)},l.randomFillSync=function(g,m,x){if(m===void 0&&(m=0),!(c.isBuffer(g)||g instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return b(m,g.length),x===void 0&&(x=g.length-m),y(x,m,g.length),p(g,m,x)}):(l.randomFill=u,l.randomFillSync=u)}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,r,l){var o={};function s(a,i,c){c||(c=Error);var h=function(d){var f,b;function y(p,g,m){return d.call(this,function(x,C,I){return typeof i=="string"?i:i(x,C,I)}(p,g,m))||this}return b=d,(f=y).prototype=Object.create(b.prototype),f.prototype.constructor=f,f.__proto__=b,y}(c);h.prototype.name=c.name,h.prototype.code=a,o[a]=h}function u(a,i){if(Array.isArray(a)){var c=a.length;return a=a.map(function(h){return String(h)}),c>2?"one of ".concat(i," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(i," ").concat(a[0]," or ").concat(a[1]):"of ".concat(i," ").concat(a[0])}return"of ".concat(i," ").concat(String(a))}s("ERR_INVALID_OPT_VALUE",function(a,i){return'The value "'+i+'" is invalid for option "'+a+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(a,i,c){var h,d,f;if(typeof i=="string"&&(d="not ",i.substr(0,d.length)===d)?(h="must not be",i=i.replace(/^not /,"")):h="must be",function(y,p,g){return(g===void 0||g>y.length)&&(g=y.length),y.substring(g-p.length,g)===p}(a," argument"))f="The ".concat(a," ").concat(h," ").concat(u(i,"type"));else{var b=function(y,p,g){return typeof g!="number"&&(g=0),!(g+p.length>y.length)&&y.indexOf(p,g)!==-1}(a,".")?"property":"argument";f='The "'.concat(a,'" ').concat(b," ").concat(h," ").concat(u(i,"type"))}return f+=". Received type ".concat(typeof c)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=o},{}],478:[function(e,r,l){(function(o){(function(){var s=Object.keys||function(y){var p=[];for(var g in y)p.push(g);return p};r.exports=d;var u=e("./_stream_readable"),a=e("./_stream_writable");e("inherits")(d,u);for(var i=s(a.prototype),c=0;c<i.length;c++){var h=i[c];d.prototype[h]||(d.prototype[h]=a.prototype[h])}function d(y){if(!(this instanceof d))return new d(y);u.call(this,y),a.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||o.nextTick(b,this)}function b(y){y.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,r,l){r.exports=s;var o=e("./_stream_transform");function s(u){if(!(this instanceof s))return new s(u);o.call(this,u)}e("inherits")(s,o),s.prototype._transform=function(u,a,i){i(null,u)}},{"./_stream_transform":481,inherits:440}],480:[function(e,r,l){(function(o,s){(function(){var u;r.exports=H,H.ReadableState=q,e("events").EventEmitter;var a=function(L,P){return L.listeners(P).length},i=e("./internal/streams/stream"),c=e("buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,f=e("util");d=f&&f.debuglog?f.debuglog("stream"):function(){};var b,y,p,g=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),x=e("./internal/streams/state").getHighWaterMark,C=e("../errors").codes,I=C.ERR_INVALID_ARG_TYPE,D=C.ERR_STREAM_PUSH_AFTER_EOF,z=C.ERR_METHOD_NOT_IMPLEMENTED,O=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(H,i);var B=m.errorOrDestroy,V=["error","close","destroy","pause","resume"];function q(L,P,$){u=u||e("./_stream_duplex"),L=L||{},typeof $!="boolean"&&($=P instanceof u),this.objectMode=!!L.objectMode,$&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=x(this,L,"readableHighWaterMark",$),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(L.encoding),this.encoding=L.encoding)}function H(L){if(u=u||e("./_stream_duplex"),!(this instanceof H))return new H(L);var P=this instanceof u;this._readableState=new q(L,this,P),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),i.call(this)}function E(L,P,$,Y,Q){d("readableAddChunk",P);var X,ee=L._readableState;if(P===null)ee.reading=!1,function(ie,oe){if(d("onEofChunk"),!oe.ended){if(oe.decoder){var Z=oe.decoder.end();Z&&Z.length&&(oe.buffer.push(Z),oe.length+=oe.objectMode?1:Z.length)}oe.ended=!0,oe.sync?v(ie):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,_(ie)))}}(L,ee);else if(Q||(X=function(ie,oe){var Z;re=oe,c.isBuffer(re)||re instanceof h||typeof oe=="string"||oe===void 0||ie.objectMode||(Z=new I("chunk",["string","Buffer","Uint8Array"],oe));var re;return Z}(ee,P)),X)B(L,X);else if(ee.objectMode||P&&P.length>0)if(typeof P=="string"||ee.objectMode||Object.getPrototypeOf(P)===c.prototype||(P=function(ie){return c.from(ie)}(P)),Y)ee.endEmitted?B(L,new O):R(L,ee,P,!0);else if(ee.ended)B(L,new D);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!$?(P=ee.decoder.write(P),ee.objectMode||P.length!==0?R(L,ee,P,!1):w(L,ee)):R(L,ee,P,!1)}else Y||(ee.reading=!1,w(L,ee));return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function R(L,P,$,Y){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,L.emit("data",$)):(P.length+=P.objectMode?1:$.length,Y?P.buffer.unshift($):P.buffer.push($),P.needReadable&&v(L)),w(L,P)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),H.prototype.destroy=m.destroy,H.prototype._undestroy=m.undestroy,H.prototype._destroy=function(L,P){P(L)},H.prototype.push=function(L,P){var $,Y=this._readableState;return Y.objectMode?$=!0:typeof L=="string"&&((P=P||Y.defaultEncoding)!==Y.encoding&&(L=c.from(L,P),P=""),$=!0),E(this,L,P,!1,$)},H.prototype.unshift=function(L){return E(this,L,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(L){b||(b=e("string_decoder/").StringDecoder);var P=new b(L);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,Y="";$!==null;)Y+=P.write($.data),$=$.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};function k(L,P){return L<=0||P.length===0&&P.ended?0:P.objectMode?1:L!=L?P.flowing&&P.length?P.buffer.head.data.length:P.length:(L>P.highWaterMark&&(P.highWaterMark=function($){return $>=1073741824?$=1073741824:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}(L)),L<=P.length?L:P.ended?P.length:(P.needReadable=!0,0))}function v(L){var P=L._readableState;d("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(d("emitReadable",P.flowing),P.emittedReadable=!0,o.nextTick(_,L))}function _(L){var P=L._readableState;d("emitReadable_",P.destroyed,P.length,P.ended),P.destroyed||!P.length&&!P.ended||(L.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,G(L)}function w(L,P){P.readingMore||(P.readingMore=!0,o.nextTick(S,L,P))}function S(L,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var $=P.length;if(d("maybeReadMore read 0"),L.read(0),$===P.length)break}P.readingMore=!1}function N(L){var P=L._readableState;P.readableListening=L.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:L.listenerCount("data")>0&&L.resume()}function j(L){d("readable nexttick read 0"),L.read(0)}function U(L,P){d("resume",P.reading),P.reading||L.read(0),P.resumeScheduled=!1,L.emit("resume"),G(L),P.flowing&&!P.reading&&L.read(0)}function G(L){var P=L._readableState;for(d("flow",P.flowing);P.flowing&&L.read()!==null;);}function W(L,P){return P.length===0?null:(P.objectMode?$=P.buffer.shift():!L||L>=P.length?($=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.first():P.buffer.concat(P.length),P.buffer.clear()):$=P.buffer.consume(L,P.decoder),$);var $}function J(L){var P=L._readableState;d("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,o.nextTick(F,P,L))}function F(L,P){if(d("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,P.readable=!1,P.emit("end"),L.autoDestroy)){var $=P._writableState;(!$||$.autoDestroy&&$.finished)&&P.destroy()}}function K(L,P){for(var $=0,Y=L.length;$<Y;$++)if(L[$]===P)return $;return-1}H.prototype.read=function(L){d("read",L),L=parseInt(L,10);var P=this._readableState,$=L;if(L!==0&&(P.emittedReadable=!1),L===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return d("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?J(this):v(this),null;if((L=k(L,P))===0&&P.ended)return P.length===0&&J(this),null;var Y,Q=P.needReadable;return d("need readable",Q),(P.length===0||P.length-L<P.highWaterMark)&&d("length less than watermark",Q=!0),P.ended||P.reading?d("reading or ended",Q=!1):Q&&(d("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(L=k($,P))),(Y=L>0?W(L,P):null)===null?(P.needReadable=P.length<=P.highWaterMark,L=0):(P.length-=L,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),$!==L&&P.ended&&J(this)),Y!==null&&this.emit("data",Y),Y},H.prototype._read=function(L){B(this,new z("_read()"))},H.prototype.pipe=function(L,P){var $=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=L;break;case 1:Y.pipes=[Y.pipes,L];break;default:Y.pipes.push(L)}Y.pipesCount+=1,d("pipe count=%d opts=%j",Y.pipesCount,P);var Q=(!P||P.end!==!1)&&L!==o.stdout&&L!==o.stderr?ee:le;function X(de,he){d("onunpipe"),de===$&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,d("cleanup"),L.removeListener("close",ne),L.removeListener("finish",ue),L.removeListener("drain",ie),L.removeListener("error",re),L.removeListener("unpipe",X),$.removeListener("end",ee),$.removeListener("end",le),$.removeListener("data",Z),oe=!0,!Y.awaitDrain||L._writableState&&!L._writableState.needDrain||ie())}function ee(){d("onend"),L.end()}Y.endEmitted?o.nextTick(Q):$.once("end",Q),L.on("unpipe",X);var ie=function(de){return function(){var he=de._readableState;d("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&a(de,"data")&&(he.flowing=!0,G(de))}}($);L.on("drain",ie);var oe=!1;function Z(de){d("ondata");var he=L.write(de);d("dest.write",he),he===!1&&((Y.pipesCount===1&&Y.pipes===L||Y.pipesCount>1&&K(Y.pipes,L)!==-1)&&!oe&&(d("false write response, pause",Y.awaitDrain),Y.awaitDrain++),$.pause())}function re(de){d("onerror",de),le(),L.removeListener("error",re),a(L,"error")===0&&B(L,de)}function ne(){L.removeListener("finish",ue),le()}function ue(){d("onfinish"),L.removeListener("close",ne),le()}function le(){d("unpipe"),$.unpipe(L)}return $.on("data",Z),function(de,he,pe){if(typeof de.prependListener=="function")return de.prependListener(he,pe);de._events&&de._events[he]?Array.isArray(de._events[he])?de._events[he].unshift(pe):de._events[he]=[pe,de._events[he]]:de.on(he,pe)}(L,"error",re),L.once("close",ne),L.once("finish",ue),L.emit("pipe",$),Y.flowing||(d("pipe resume"),$.resume()),L},H.prototype.unpipe=function(L){var P=this._readableState,$={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return L&&L!==P.pipes||(L||(L=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,L&&L.emit("unpipe",this,$)),this;if(!L){var Y=P.pipes,Q=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var X=0;X<Q;X++)Y[X].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=K(P.pipes,L);return ee===-1||(P.pipes.splice(ee,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),L.emit("unpipe",this,$)),this},H.prototype.on=function(L,P){var $=i.prototype.on.call(this,L,P),Y=this._readableState;return L==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):L==="readable"&&(Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,d("on readable",Y.length,Y.reading),Y.length?v(this):Y.reading||o.nextTick(j,this))),$},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(L,P){var $=i.prototype.removeListener.call(this,L,P);return L==="readable"&&o.nextTick(N,this),$},H.prototype.removeAllListeners=function(L){var P=i.prototype.removeAllListeners.apply(this,arguments);return L!=="readable"&&L!==void 0||o.nextTick(N,this),P},H.prototype.resume=function(){var L=this._readableState;return L.flowing||(d("resume"),L.flowing=!L.readableListening,function(P,$){$.resumeScheduled||($.resumeScheduled=!0,o.nextTick(U,P,$))}(this,L)),L.paused=!1,this},H.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(L){var P=this,$=this._readableState,Y=!1;for(var Q in L.on("end",function(){if(d("wrapped end"),$.decoder&&!$.ended){var ee=$.decoder.end();ee&&ee.length&&P.push(ee)}P.push(null)}),L.on("data",function(ee){d("wrapped data"),$.decoder&&(ee=$.decoder.write(ee)),$.objectMode&&ee==null||($.objectMode||ee&&ee.length)&&(P.push(ee)||(Y=!0,L.pause()))}),L)this[Q]===void 0&&typeof L[Q]=="function"&&(this[Q]=function(ee){return function(){return L[ee].apply(L,arguments)}}(Q));for(var X=0;X<V.length;X++)L.on(V[X],this.emit.bind(this,V[X]));return this._read=function(ee){d("wrapped _read",ee),Y&&(Y=!1,L.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=e("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),H._fromList=W,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(L,P){return p===void 0&&(p=e("./internal/streams/from")),p(H,L,P)})}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,r,l){r.exports=d;var o=e("../errors").codes,s=o.ERR_METHOD_NOT_IMPLEMENTED,u=o.ERR_MULTIPLE_CALLBACK,a=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=o.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function h(y,p){var g=this._transformState;g.transforming=!1;var m=g.writecb;if(m===null)return this.emit("error",new u);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),m(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function d(y){if(!(this instanceof d))return new d(y);c.call(this,y),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",f)}function f(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?b(this,null,null):this._flush(function(p,g){b(y,p,g)})}function b(y,p,g){if(p)return y.emit("error",p);if(g!=null&&y.push(g),y._writableState.length)throw new i;if(y._transformState.transforming)throw new a;return y.push(null)}e("inherits")(d,c),d.prototype.push=function(y,p){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,p)},d.prototype._transform=function(y,p,g){g(new s("_transform()"))},d.prototype._write=function(y,p,g){var m=this._transformState;if(m.writecb=g,m.writechunk=y,m.writeencoding=p,!m.transforming){var x=this._readableState;(m.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},d.prototype._read=function(y){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},d.prototype._destroy=function(y,p){c.prototype._destroy.call(this,y,function(g){p(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,r,l){(function(o,s){(function(){function u(S){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(j,U,G){var W=j.entry;for(j.entry=null;W;){var J=W.callback;U.pendingcb--,J(G),W=W.next}U.corkedRequestsFree.next=j})(N,S)}}var a;r.exports=H,H.WritableState=q;var i={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),h=e("buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,b=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,g=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,x=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_STREAM_CANNOT_PIPE,I=p.ERR_STREAM_DESTROYED,D=p.ERR_STREAM_NULL_VALUES,z=p.ERR_STREAM_WRITE_AFTER_END,O=p.ERR_UNKNOWN_ENCODING,B=b.errorOrDestroy;function V(){}function q(S,N,j){a=a||e("./_stream_duplex"),S=S||{},typeof j!="boolean"&&(j=N instanceof a),this.objectMode=!!S.objectMode,j&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=y(this,S,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=S.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(W,J){var F=W._writableState,K=F.sync,L=F.writecb;if(typeof L!="function")throw new x;if(function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}(F),J)(function($,Y,Q,X,ee){--Y.pendingcb,Q?(o.nextTick(ee,X),o.nextTick(w,$,Y),$._writableState.errorEmitted=!0,B($,X)):(ee(X),$._writableState.errorEmitted=!0,B($,X),w($,Y))})(W,F,K,J,L);else{var P=v(F)||W.destroyed;P||F.corked||F.bufferProcessing||!F.bufferedRequest||k(W,F),K?o.nextTick(R,W,F,P,L):R(W,F,P,L)}})(N,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function H(S){var N=this instanceof(a=a||e("./_stream_duplex"));if(!N&&!f.call(H,this))return new H(S);this._writableState=new q(S,this,N),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function E(S,N,j,U,G,W,J){N.writelen=U,N.writecb=J,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new I("write")):j?S._writev(G,N.onwrite):S._write(G,W,N.onwrite),N.sync=!1}function R(S,N,j,U){j||function(G,W){W.length===0&&W.needDrain&&(W.needDrain=!1,G.emit("drain"))}(S,N),N.pendingcb--,U(),w(S,N)}function k(S,N){N.bufferProcessing=!0;var j=N.bufferedRequest;if(S._writev&&j&&j.next){var U=N.bufferedRequestCount,G=new Array(U),W=N.corkedRequestsFree;W.entry=j;for(var J=0,F=!0;j;)G[J]=j,j.isBuf||(F=!1),j=j.next,J+=1;G.allBuffers=F,E(S,N,!0,N.length,G,"",W.finish),N.pendingcb++,N.lastBufferedRequest=null,W.next?(N.corkedRequestsFree=W.next,W.next=null):N.corkedRequestsFree=new u(N),N.bufferedRequestCount=0}else{for(;j;){var K=j.chunk,L=j.encoding,P=j.callback;if(E(S,N,!1,N.objectMode?1:K.length,K,L,P),j=j.next,N.bufferedRequestCount--,N.writing)break}j===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=j,N.bufferProcessing=!1}function v(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function _(S,N){S._final(function(j){N.pendingcb--,j&&B(S,j),N.prefinished=!0,S.emit("prefinish"),w(S,N)})}function w(S,N){var j=v(N);if(j&&(function(G,W){W.prefinished||W.finalCalled||(typeof G._final!="function"||W.destroyed?(W.prefinished=!0,G.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,o.nextTick(_,G,W)))}(S,N),N.pendingcb===0&&(N.finished=!0,S.emit("finish"),N.autoDestroy))){var U=S._readableState;(!U||U.autoDestroy&&U.endEmitted)&&S.destroy()}return j}e("inherits")(H,c),q.prototype.getBuffer=function(){for(var S=this.bufferedRequest,N=[];S;)N.push(S),S=S.next;return N},function(){try{Object.defineProperty(q.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(S){return!!f.call(this,S)||this===H&&S&&S._writableState instanceof q}})):f=function(S){return S instanceof this},H.prototype.pipe=function(){B(this,new C)},H.prototype.write=function(S,N,j){var U,G=this._writableState,W=!1,J=!G.objectMode&&(U=S,h.isBuffer(U)||U instanceof d);return J&&!h.isBuffer(S)&&(S=function(F){return h.from(F)}(S)),typeof N=="function"&&(j=N,N=null),J?N="buffer":N||(N=G.defaultEncoding),typeof j!="function"&&(j=V),G.ending?function(F,K){var L=new z;B(F,L),o.nextTick(K,L)}(this,j):(J||function(F,K,L,P){var $;return L===null?$=new D:typeof L=="string"||K.objectMode||($=new g("chunk",["string","Buffer"],L)),!$||(B(F,$),o.nextTick(P,$),!1)}(this,G,S,j))&&(G.pendingcb++,W=function(F,K,L,P,$,Y){if(!L){var Q=function(oe,Z,re){return oe.objectMode||oe.decodeStrings===!1||typeof Z!="string"||(Z=h.from(Z,re)),Z}(K,P,$);P!==Q&&(L=!0,$="buffer",P=Q)}var X=K.objectMode?1:P.length;K.length+=X;var ee=K.length<K.highWaterMark;if(ee||(K.needDrain=!0),K.writing||K.corked){var ie=K.lastBufferedRequest;K.lastBufferedRequest={chunk:P,encoding:$,isBuf:L,callback:Y,next:null},ie?ie.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else E(F,K,!1,X,P,$,Y);return ee}(this,G,J,S,N,j)),W},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||k(this,S))},H.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new O(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(S,N,j){j(new m("_write()"))},H.prototype._writev=null,H.prototype.end=function(S,N,j){var U=this._writableState;return typeof S=="function"?(j=S,S=null,N=null):typeof N=="function"&&(j=N,N=null),S!=null&&this.write(S,N),U.corked&&(U.corked=1,this.uncork()),U.ending||function(G,W,J){W.ending=!0,w(G,W),J&&(W.finished?o.nextTick(J):G.once("finish",J)),W.ended=!0,G.writable=!1}(this,U,j),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),H.prototype.destroy=b.destroy,H.prototype._undestroy=b.undestroy,H.prototype._destroy=function(S,N){N(S)}}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,r,l){(function(o){(function(){var s;function u(I,D,z){return(D=function(O){var B=function(V,q){if(typeof V!="object"||V===null)return V;var H=V[Symbol.toPrimitive];if(H!==void 0){var E=H.call(V,q||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(V)}(O,"string");return typeof B=="symbol"?B:String(B)}(D))in I?Object.defineProperty(I,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):I[D]=z,I}var a=e("./end-of-stream"),i=Symbol("lastResolve"),c=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),f=Symbol("lastPromise"),b=Symbol("handlePromise"),y=Symbol("stream");function p(I,D){return{value:I,done:D}}function g(I){var D=I[i];if(D!==null){var z=I[y].read();z!==null&&(I[f]=null,I[i]=null,I[c]=null,D(p(z,!1)))}}function m(I){o.nextTick(g,I)}var x=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((u(s={get stream(){return this[y]},next:function(){var I=this,D=this[h];if(D!==null)return Promise.reject(D);if(this[d])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise(function(V,q){o.nextTick(function(){I[h]?q(I[h]):V(p(void 0,!0))})});var z,O=this[f];if(O)z=new Promise(function(V,q){return function(H,E){V.then(function(){q[d]?H(p(void 0,!0)):q[b](H,E)},E)}}(O,this));else{var B=this[y].read();if(B!==null)return Promise.resolve(p(B,!1));z=new Promise(this[b])}return this[f]=z,z}},Symbol.asyncIterator,function(){return this}),u(s,"return",function(){var I=this;return new Promise(function(D,z){I[y].destroy(null,function(O){O?z(O):D(p(void 0,!0))})})}),s),x);r.exports=function(I){var D,z=Object.create(C,(u(D={},y,{value:I,writable:!0}),u(D,i,{value:null,writable:!0}),u(D,c,{value:null,writable:!0}),u(D,h,{value:null,writable:!0}),u(D,d,{value:I._readableState.endEmitted,writable:!0}),u(D,b,{value:function(O,B){var V=z[y].read();V?(z[f]=null,z[i]=null,z[c]=null,O(p(V,!1))):(z[i]=O,z[c]=B)},writable:!0}),D));return z[f]=null,a(I,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=z[c];return B!==null&&(z[f]=null,z[i]=null,z[c]=null,B(O)),void(z[h]=O)}var V=z[i];V!==null&&(z[f]=null,z[i]=null,z[c]=null,V(p(void 0,!0))),z[d]=!0}),I.on("readable",m.bind(null,z)),z}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,r,l){function o(f,b){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);b&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(f,g).enumerable})),y.push.apply(y,p)}return y}function s(f){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?o(Object(y),!0).forEach(function(p){u(f,p,y[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):o(Object(y)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(y,p))})}return f}function u(f,b,y){return(b=i(b))in f?Object.defineProperty(f,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[b]=y,f}function a(f,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,i(p.key),p)}}function i(f){var b=function(y,p){if(typeof y!="object"||y===null)return y;var g=y[Symbol.toPrimitive];if(g!==void 0){var m=g.call(y,p||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(y)}(f,"string");return typeof b=="symbol"?b:String(b)}var c=e("buffer").Buffer,h=e("util").inspect,d=h&&h.custom||"inspect";r.exports=function(){function f(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var b,y;return b=f,(y=[{key:"push",value:function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(p){var g={data:p,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var g=this.head,m=""+g.data;g=g.next;)m+=p+g.data;return m}},{key:"concat",value:function(p){if(this.length===0)return c.alloc(0);for(var g,m,x,C=c.allocUnsafe(p>>>0),I=this.head,D=0;I;)g=I.data,m=C,x=D,c.prototype.copy.call(g,m,x),D+=I.data.length,I=I.next;return C}},{key:"consume",value:function(p,g){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):m=p===this.head.data.length?this.shift():g?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var g=this.head,m=1,x=g.data;for(p-=x.length;g=g.next;){var C=g.data,I=p>C.length?C.length:p;if(I===C.length?x+=C:x+=C.slice(0,p),(p-=I)==0){I===C.length?(++m,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=C.slice(I));break}++m}return this.length-=m,x}},{key:"_getBuffer",value:function(p){var g=c.allocUnsafe(p),m=this.head,x=1;for(m.data.copy(g),p-=m.data.length;m=m.next;){var C=m.data,I=p>C.length?C.length:p;if(C.copy(g,g.length-p,0,I),(p-=I)==0){I===C.length?(++x,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=C.slice(I));break}++x}return this.length-=x,g}},{key:d,value:function(p,g){return h(this,s(s({},g),{},{depth:0,customInspect:!1}))}}])&&a(b.prototype,y),Object.defineProperty(b,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(e,r,l){(function(o){(function(){function s(i,c){a(i,c),u(i)}function u(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function a(i,c){i.emit("error",c)}r.exports={destroy:function(i,c){var h=this,d=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return d||f?(c?c(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(a,this,i)):o.nextTick(a,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(b){!c&&b?h._writableState?h._writableState.errorEmitted?o.nextTick(u,h):(h._writableState.errorEmitted=!0,o.nextTick(s,h,b)):o.nextTick(s,h,b):c?(o.nextTick(u,h),c(b)):o.nextTick(u,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(i,c){var h=i._readableState,d=i._writableState;h&&h.autoDestroy||d&&d.autoDestroy?i.destroy(c):i.emit("error",c)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,r,l){var o=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}r.exports=function u(a,i,c){if(typeof i=="function")return u(a,null,i);i||(i={}),c=function(I){var D=!1;return function(){if(!D){D=!0;for(var z=arguments.length,O=new Array(z),B=0;B<z;B++)O[B]=arguments[B];I.apply(this,O)}}}(c||s);var h=i.readable||i.readable!==!1&&a.readable,d=i.writable||i.writable!==!1&&a.writable,f=function(){a.writable||y()},b=a._writableState&&a._writableState.finished,y=function(){d=!1,b=!0,h||c.call(a)},p=a._readableState&&a._readableState.endEmitted,g=function(){h=!1,p=!0,d||c.call(a)},m=function(I){c.call(a,I)},x=function(){var I;return h&&!p?(a._readableState&&a._readableState.ended||(I=new o),c.call(a,I)):d&&!b?(a._writableState&&a._writableState.ended||(I=new o),c.call(a,I)):void 0},C=function(){a.req.on("finish",y)};return function(I){return I.setHeader&&typeof I.abort=="function"}(a)?(a.on("complete",y),a.on("abort",x),a.req?C():a.on("request",C)):d&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",g),a.on("finish",y),i.error!==!1&&a.on("error",m),a.on("close",x),function(){a.removeListener("complete",y),a.removeListener("abort",x),a.removeListener("request",C),a.req&&a.req.removeListener("finish",y),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",y),a.removeListener("end",g),a.removeListener("error",m),a.removeListener("close",x)}}},{"../../../errors":477}],487:[function(e,r,l){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,r,l){var o,s=e("../../../errors").codes,u=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function i(b){if(b)throw b}function c(b,y,p,g){g=function(C){var I=!1;return function(){I||(I=!0,C.apply(void 0,arguments))}}(g);var m=!1;b.on("close",function(){m=!0}),o===void 0&&(o=e("./end-of-stream")),o(b,{readable:y,writable:p},function(C){if(C)return g(C);m=!0,g()});var x=!1;return function(C){if(!m&&!x)return x=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(b)?b.abort():typeof b.destroy=="function"?b.destroy():void g(C||new a("pipe"))}}function h(b){b()}function d(b,y){return b.pipe(y)}function f(b){return b.length?typeof b[b.length-1]!="function"?i:b.pop():i}r.exports=function(){for(var b=arguments.length,y=new Array(b),p=0;p<b;p++)y[p]=arguments[p];var g,m=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new u("streams");var x=y.map(function(C,I){var D=I<y.length-1;return c(C,D,I>0,function(z){g||(g=z),z&&x.forEach(h),D||(x.forEach(h),m(g))})});return y.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,r,l){var o=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;r.exports={getHighWaterMark:function(s,u,a,i){var c=function(h,d,f){return h.highWaterMark!=null?h.highWaterMark:d?h[f]:null}(u,i,a);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new o(i?a:"highWaterMark",c);return Math.floor(c)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,r,l){r.exports=e("events").EventEmitter},{events:422}],491:[function(e,r,l){(l=r.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js"),l.finished=e("./lib/internal/streams/end-of-stream.js"),l.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,r,l){var o=function(s){var u=Object.prototype,a=u.hasOwnProperty,i=Object.defineProperty||function(w,S,N){w[S]=N.value},c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function b(w,S,N){return Object.defineProperty(w,S,{value:N,enumerable:!0,configurable:!0,writable:!0}),w[S]}try{b({},"")}catch{b=function(S,N,j){return S[N]=j}}function y(w,S,N,j){var U=S&&S.prototype instanceof m?S:m,G=Object.create(U.prototype),W=new k(j||[]);return i(G,"_invoke",{value:q(w,N,W)}),G}function p(w,S,N){try{return{type:"normal",arg:w.call(S,N)}}catch(j){return{type:"throw",arg:j}}}s.wrap=y;var g={};function m(){}function x(){}function C(){}var I={};b(I,h,function(){return this});var D=Object.getPrototypeOf,z=D&&D(D(v([])));z&&z!==u&&a.call(z,h)&&(I=z);var O=C.prototype=m.prototype=Object.create(I);function B(w){["next","throw","return"].forEach(function(S){b(w,S,function(N){return this._invoke(S,N)})})}function V(w,S){var N;i(this,"_invoke",{value:function(j,U){function G(){return new S(function(W,J){(function F(K,L,P,$){var Y=p(w[K],w,L);if(Y.type!=="throw"){var Q=Y.arg,X=Q.value;return X&&typeof X=="object"&&a.call(X,"__await")?S.resolve(X.__await).then(function(ee){F("next",ee,P,$)},function(ee){F("throw",ee,P,$)}):S.resolve(X).then(function(ee){Q.value=ee,P(Q)},function(ee){return F("throw",ee,P,$)})}$(Y.arg)})(j,U,W,J)})}return N=N?N.then(G,G):G()}})}function q(w,S,N){var j="suspendedStart";return function(U,G){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(U==="throw")throw G;return _()}for(N.method=U,N.arg=G;;){var W=N.delegate;if(W){var J=H(W,N);if(J){if(J===g)continue;return J}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(j==="suspendedStart")throw j="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);j="executing";var F=p(w,S,N);if(F.type==="normal"){if(j=N.done?"completed":"suspendedYield",F.arg===g)continue;return{value:F.arg,done:N.done}}F.type==="throw"&&(j="completed",N.method="throw",N.arg=F.arg)}}}function H(w,S){var N=S.method,j=w.iterator[N];if(j===void 0)return S.delegate=null,N==="throw"&&w.iterator.return&&(S.method="return",S.arg=void 0,H(w,S),S.method==="throw")||N!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+N+"' method")),g;var U=p(j,w.iterator,S.arg);if(U.type==="throw")return S.method="throw",S.arg=U.arg,S.delegate=null,g;var G=U.arg;return G?G.done?(S[w.resultName]=G.value,S.next=w.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,g):G:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,g)}function E(w){var S={tryLoc:w[0]};1 in w&&(S.catchLoc=w[1]),2 in w&&(S.finallyLoc=w[2],S.afterLoc=w[3]),this.tryEntries.push(S)}function R(w){var S=w.completion||{};S.type="normal",delete S.arg,w.completion=S}function k(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(E,this),this.reset(!0)}function v(w){if(w){var S=w[h];if(S)return S.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var N=-1,j=function U(){for(;++N<w.length;)if(a.call(w,N))return U.value=w[N],U.done=!1,U;return U.value=void 0,U.done=!0,U};return j.next=j}}return{next:_}}function _(){return{value:void 0,done:!0}}return x.prototype=C,i(O,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:x,configurable:!0}),x.displayName=b(C,f,"GeneratorFunction"),s.isGeneratorFunction=function(w){var S=typeof w=="function"&&w.constructor;return!!S&&(S===x||(S.displayName||S.name)==="GeneratorFunction")},s.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,C):(w.__proto__=C,b(w,f,"GeneratorFunction")),w.prototype=Object.create(O),w},s.awrap=function(w){return{__await:w}},B(V.prototype),b(V.prototype,d,function(){return this}),s.AsyncIterator=V,s.async=function(w,S,N,j,U){U===void 0&&(U=Promise);var G=new V(y(w,S,N,j),U);return s.isGeneratorFunction(S)?G:G.next().then(function(W){return W.done?W.value:G.next()})},B(O),b(O,f,"Generator"),b(O,h,function(){return this}),b(O,"toString",function(){return"[object Generator]"}),s.keys=function(w){var S=Object(w),N=[];for(var j in S)N.push(j);return N.reverse(),function U(){for(;N.length;){var G=N.pop();if(G in S)return U.value=G,U.done=!1,U}return U.done=!0,U}},s.values=v,k.prototype={constructor:k,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!w)for(var S in this)S.charAt(0)==="t"&&a.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var S=this;function N(F,K){return G.type="throw",G.arg=w,S.next=F,K&&(S.method="next",S.arg=void 0),!!K}for(var j=this.tryEntries.length-1;j>=0;--j){var U=this.tryEntries[j],G=U.completion;if(U.tryLoc==="root")return N("end");if(U.tryLoc<=this.prev){var W=a.call(U,"catchLoc"),J=a.call(U,"finallyLoc");if(W&&J){if(this.prev<U.catchLoc)return N(U.catchLoc,!0);if(this.prev<U.finallyLoc)return N(U.finallyLoc)}else if(W){if(this.prev<U.catchLoc)return N(U.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return N(U.finallyLoc)}}}},abrupt:function(w,S){for(var N=this.tryEntries.length-1;N>=0;--N){var j=this.tryEntries[N];if(j.tryLoc<=this.prev&&a.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var U=j;break}}U&&(w==="break"||w==="continue")&&U.tryLoc<=S&&S<=U.finallyLoc&&(U=null);var G=U?U.completion:{};return G.type=w,G.arg=S,U?(this.method="next",this.next=U.finallyLoc,g):this.complete(G)},complete:function(w,S){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&S&&(this.next=S),g},finish:function(w){for(var S=this.tryEntries.length-1;S>=0;--S){var N=this.tryEntries[S];if(N.finallyLoc===w)return this.complete(N.completion,N.afterLoc),R(N),g}},catch:function(w){for(var S=this.tryEntries.length-1;S>=0;--S){var N=this.tryEntries[S];if(N.tryLoc===w){var j=N.completion;if(j.type==="throw"){var U=j.arg;R(N)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(w,S,N){return this.delegate={iterator:v(w),resultName:S,nextLoc:N},this.method==="next"&&(this.arg=void 0),g}},s}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},{}],493:[function(e,r,l){var o=e("buffer").Buffer,s=e("inherits"),u=e("hash-base"),a=new Array(16),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function y(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(D,z){return D<<z|D>>>32-z}function g(D,z,O,B,V,q,H,E){return p(D+(z^O^B)+q+H|0,E)+V|0}function m(D,z,O,B,V,q,H,E){return p(D+(z&O|~z&B)+q+H|0,E)+V|0}function x(D,z,O,B,V,q,H,E){return p(D+((z|~O)^B)+q+H|0,E)+V|0}function C(D,z,O,B,V,q,H,E){return p(D+(z&B|O&~B)+q+H|0,E)+V|0}function I(D,z,O,B,V,q,H,E){return p(D+(z^(O|~B))+q+H|0,E)+V|0}s(y,u),y.prototype._update=function(){for(var D=a,z=0;z<16;++z)D[z]=this._block.readInt32LE(4*z);for(var O=0|this._a,B=0|this._b,V=0|this._c,q=0|this._d,H=0|this._e,E=0|this._a,R=0|this._b,k=0|this._c,v=0|this._d,_=0|this._e,w=0;w<80;w+=1){var S,N;w<16?(S=g(O,B,V,q,H,D[i[w]],f[0],h[w]),N=I(E,R,k,v,_,D[c[w]],b[0],d[w])):w<32?(S=m(O,B,V,q,H,D[i[w]],f[1],h[w]),N=C(E,R,k,v,_,D[c[w]],b[1],d[w])):w<48?(S=x(O,B,V,q,H,D[i[w]],f[2],h[w]),N=x(E,R,k,v,_,D[c[w]],b[2],d[w])):w<64?(S=C(O,B,V,q,H,D[i[w]],f[3],h[w]),N=m(E,R,k,v,_,D[c[w]],b[3],d[w])):(S=I(O,B,V,q,H,D[i[w]],f[4],h[w]),N=g(E,R,k,v,_,D[c[w]],b[4],d[w])),O=H,H=q,q=p(V,10),V=B,B=S,E=_,_=v,v=p(k,10),k=R,R=N}var j=this._b+V+v|0;this._b=this._c+q+_|0,this._c=this._d+H+E|0,this._d=this._e+O+R|0,this._e=this._a+B+k|0,this._a=j},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=o.alloc?o.alloc(20):new o(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},r.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,r,l){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var o=e("buffer"),s=o.Buffer;function u(i,c){for(var h in i)c[h]=i[h]}function a(i,c,h){return s(i,c,h)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=o:(u(o,l),l.Buffer=a),a.prototype=Object.create(s.prototype),u(s,a),a.from=function(i,c,h){if(typeof i=="number")throw new TypeError("Argument must not be a number");return s(i,c,h)},a.alloc=function(i,c,h){if(typeof i!="number")throw new TypeError("Argument must be a number");var d=s(i);return c!==void 0?typeof h=="string"?d.fill(c,h):d.fill(c):d.fill(0),d},a.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return s(i)},a.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(i)}},{buffer:220}],495:[function(e,r,l){(function(o){(function(){var s,u=e("buffer"),a=u.Buffer,i={};for(s in u)u.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(i[s]=u[s]);var c=i.Buffer={};for(s in a)a.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(c[s]=a[s]);if(i.Buffer.prototype=a.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(h,d,f){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return a(h,d,f)}),c.alloc||(c.alloc=function(h,d,f){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var b=a(h);return d&&d.length!==0?typeof f=="string"?b.fill(d,f):b.fill(d):b.fill(0),b}),!i.kStringMaxLength)try{i.kStringMaxLength=o.binding("buffer").kStringMaxLength}catch{}i.constants||(i.constants={MAX_LENGTH:i.kMaxLength},i.kStringMaxLength&&(i.constants.MAX_STRING_LENGTH=i.kStringMaxLength)),r.exports=i}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0});const o=e("xmlchars/xml/1.0/ed5"),s=e("xmlchars/xml/1.1/ed2"),u=e("xmlchars/xmlns/1.0/ed3");var a=o.isS,i=o.isChar,c=o.isNameStartChar,h=o.isNameChar,d=o.S_LIST,f=o.NAME_RE,b=s.isChar,y=u.isNCNameStartChar,p=u.isNCNameChar,g=u.NC_NAME_RE;const m="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:m,xmlns:x},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D=v=>v===34||v===39,z=[34,39],O=[...z,91,62],B=[...z,60,93],V=[61,63,...d],q=[...d,62,38,60];function H(v,_,w){switch(_){case"xml":w!==m&&v.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":w!==x&&v.fail(`xmlns prefix must be bound to ${x}.`)}switch(w){case x:v.fail(_===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case m:switch(_){case"xml":break;case"":v.fail(`the default namespace may not be set to ${w}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}const E=v=>g.test(v),R=v=>f.test(v);l.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};l.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=y,this.nameCheck=p,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const w=this.opt.additionalNamespaces;w!=null&&(function(S,N){for(const j of Object.keys(N))H(S,j,N[j])}(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=c,this.nameCheck=h,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,_){this[k[v]]=_}off(v){this[k[v]]=void 0}makeError(v){var _;let w=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+v)}fail(v){const _=this.makeError(v),w=this.errorHandler;if(w===void 0)throw _;return w(_),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;v===null?(_=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let w=v.length;const S=v.charCodeAt(w-1);!_&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=v[w-1],w--,v=v.slice(0,w));const{stateTable:N}=this;for(this.chunk=v,this.i=0;this.i<w;)N[this.state].call(this);return this.chunkPosition+=w,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:v,i:_}=this;if(this.prevI=_,this.i=_+1,_>=v.length)return-1;const w=v.charCodeAt(_);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const S=65536+1024*(w-55296)+(v.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:v,i:_}=this;if(this.prevI=_,this.i=_+1,_>=v.length)return-1;const w=v.charCodeAt(_);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const N=v.charCodeAt(_+1);N!==10&&N!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const S=65536+1024*(w-55296)+(v.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:_}=this;const{chunk:w}=this;for(;;){const S=this.getCode(),N=S===-2,j=N?10:S;if(j===-1||v.includes(j))return this.text+=w.slice(_,this.prevI),j;N&&(this.text+=w.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(v){let{i:_}=this;const{chunk:w}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=w.slice(_,this.prevI)+`
`,_=this.i,S=10;break;case-1:return this.text+=w.slice(_),!1}if(S===v)return this.text+=w.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:v,i:_}=this;for(;;){const w=this.getCode();if(w===-1)return this.name+=v.slice(_),-1;if(!h(w))return this.name+=v.slice(_,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){const v=this.getCodeNorm();if(v===-1||!a(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=i,this.getCode=this.getCode10):(this.isChar=b,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const v=this.i,_=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;const _=this.captureTo(O);switch(_){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:D(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){const v=this.captureTo(B);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:D(v)&&(this.state=5,this.q=v))}sDTDQuoted(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){const v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const v=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=v;this.text+=v,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{const{entityReturnState:w}=this,S=this.entity+_.slice(v,this.prevI);let N;this.state=w,S===""?(this.fail("empty entity name."),N="&;"):(N=this.parseEntity(S),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=N);break e}case-1:this.entity+=_.slice(v);break e}}sOpenWaka(){const v=this.getCode();if(c(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;const _=this.getCodeNorm();_===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;const _=this.getCodeNorm();switch(_){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||a(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){const{chunk:v,i:_}=this;for(;;){const w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=v.slice(_));if(!this.nameCheck(w)){this.piTarget+=v.slice(_,this.prevI);const S=w===63;S||a(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){const v=this.getCodeNorm();v===63?this.state=26:a(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;const _=this.getCodeNorm();if(_===62){const{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){const v=this.captureTo(V);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(a(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(v)||(D(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const w=_;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const v=this.getCodeNorm();v!==63?(a(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;const _=this.captureNameChars();if(_===-1)return;const w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:a(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const v=this.skipSpaces();v!==-1&&(c(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const v=this.captureNameChars();v===61?this.state=39:a(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():c(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const v=this.getCodeNorm();D(v)?(this.q=v,this.state=40):a(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:v,chunk:_}=this;let{i:w}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+_.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=_.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(w))}}sAttribValueClosed(){const v=this.getCodeNorm();a(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:c(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const v=this.captureTo(q);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){const v=this.captureNameChars();v===62?this.closeTag():a(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:_}=this;const{chunk:w,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:N}=this,j=w.slice(v,this.prevI);N.length!==0?(S(N+j),this.text=""):j.length!==0&&S(j)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=w.slice(v,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:S!==void 0&&(this.text+=w.slice(v,this.prevI)+`
`),v=this.i,_=0;break;case-1:S!==void 0&&(this.text+=w.slice(v));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:v}=this;const{chunk:_,textHandler:w}=this;let S=!1;e:for(;;){const N=this.getCode();switch(N){case 60:if(this.state=15,w!==void 0){const{text:j}=this,U=_.slice(v,this.prevI);j.length!==0?(w(j+U),this.text=""):U.length!==0&&w(U)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=_.slice(v,this.prevI)),S=!0;break e;case-2:w!==void 0&&(this.text+=_.slice(v,this.prevI)+`
`),v=this.i;break;case-1:w!==void 0&&(this.text+=_.slice(v));break e;default:a(N)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,_){var w;const{prefix:S,local:N}=this.qname(v),j={name:v,prefix:S,local:N,value:_};if(this.attribList.push(j),(w=this.attributeHandler)===null||w===void 0||w.call(this,j),S==="xmlns"){const U=_.trim();this.currentXMLVersion==="1.0"&&U===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[N]=U,H(this,N,U)}else if(v==="xmlns"){const U=_.trim();this.topNS[""]=U,H(this,"",U)}}pushAttribPlain(v,_){var w;const S={name:v,value:_};this.attribList.push(S),(w=this.attributeHandler)===null||w===void 0||w.call(this,S)}end(){var v,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:w}=this;for(;w.length>0;){const N=w.pop();this.fail("unclosed tag: "+N.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,S),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(v){var _,w;let S=this.topNS[v];if(S!==void 0)return S;const{tags:N}=this;for(let j=N.length-1;j>=0;j--)if(S=N[j].ns[v],S!==void 0)return S;return S=this.ns[v],S!==void 0?S:(w=(_=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(_,v)}qname(v){const _=v.indexOf(":");if(_===-1)return{prefix:"",local:v};const w=v.slice(_+1),S=v.slice(0,_);return(S===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:S,local:w}}processAttribsNS(){var v;const{attribList:_}=this,w=this.tag;{const{prefix:j,local:U}=this.qname(w.name);w.prefix=j,w.local=U;const G=w.uri=(v=this.resolve(j))!==null&&v!==void 0?v:"";j!==""&&(j==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),G===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(j)}.`),w.uri=j))}if(_.length===0)return;const{attributes:S}=w,N=new Set;for(const j of _){const{name:U,prefix:G,local:W}=j;let J,F;G===""?(J=U==="xmlns"?x:"",F=U):(J=this.resolve(G),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(G)}.`),J=G),F=`{${J}}${W}`),N.has(F)&&this.fail(`duplicate attribute: ${F}.`),N.add(F),j.uri=J,S[U]=j}this.attribList=[]}processAttribsPlain(){const{attribList:v}=this,_=this.tag.attributes;for(const{name:w,value:S}of v)_[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),_[w]=S;this.attribList=[]}openTag(){var v;this.processAttribs();const{tags:_}=this,w=this.tag;w.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,w),_.push(w),this.state=13,this.name=""}openSelfClosingTag(){var v,_,w;this.processAttribs();const{tags:S}=this,N=this.tag;N.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,N),(_=this.closeTagHandler)===null||_===void 0||_.call(this,N),(this.tag=(w=S[S.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:v,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const w=this.closeTagHandler;let S=v.length;for(;S-- >0;){const N=this.tag=v.pop();if(this.topNS=N.ns,w==null||w(N),N.name===_)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(v){if(v[0]!=="#"){const w=this.ENTITIES[v];return w!==void 0?w:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let _=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?_=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(_=parseInt(v.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,r,l){var o=e("safe-buffer").Buffer;function s(u,a){this._block=o.alloc(u),this._finalSize=a,this._blockSize=u,this._len=0}s.prototype.update=function(u,a){typeof u=="string"&&(a=a||"utf8",u=o.from(u,a));for(var i=this._block,c=this._blockSize,h=u.length,d=this._len,f=0;f<h;){for(var b=d%c,y=Math.min(h-f,c-b),p=0;p<y;p++)i[b+p]=u[f+p];f+=y,(d+=y)%c==0&&this._update(i)}return this._len+=h,this},s.prototype.digest=function(u){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var c=(4294967295&i)>>>0,h=(i-c)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var d=this._hash();return u?d.toString(u):d},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},r.exports=s},{"safe-buffer":494}],498:[function(e,r,l){var o=r.exports=function(s){s=s.toLowerCase();var u=o[s];if(!u)throw new Error(s+" is not supported (we accept pull requests)");return new u};o.sha=e("./sha"),o.sha1=e("./sha1"),o.sha224=e("./sha224"),o.sha256=e("./sha256"),o.sha384=e("./sha384"),o.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,r,l){var o=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function c(){this.init(),this._w=i,s.call(this,64,56)}function h(f){return f<<30|f>>>2}function d(f,b,y,p){return f===0?b&y|~b&p:f===2?b&y|b&p|y&p:b^y^p}o(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(f){for(var b,y=this._w,p=0|this._a,g=0|this._b,m=0|this._c,x=0|this._d,C=0|this._e,I=0;I<16;++I)y[I]=f.readInt32BE(4*I);for(;I<80;++I)y[I]=y[I-3]^y[I-8]^y[I-14]^y[I-16];for(var D=0;D<80;++D){var z=~~(D/20),O=0|((b=p)<<5|b>>>27)+d(z,g,m,x)+C+y[D]+a[z];C=x,x=m,m=h(g),g=p,p=O}this._a=p+this._a|0,this._b=g+this._b|0,this._c=m+this._c|0,this._d=x+this._d|0,this._e=C+this._e|0},c.prototype._hash=function(){var f=u.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,r,l){var o=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function c(){this.init(),this._w=i,s.call(this,64,56)}function h(b){return b<<5|b>>>27}function d(b){return b<<30|b>>>2}function f(b,y,p,g){return b===0?y&p|~y&g:b===2?y&p|y&g|p&g:y^p^g}o(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(b){for(var y,p=this._w,g=0|this._a,m=0|this._b,x=0|this._c,C=0|this._d,I=0|this._e,D=0;D<16;++D)p[D]=b.readInt32BE(4*D);for(;D<80;++D)p[D]=(y=p[D-3]^p[D-8]^p[D-14]^p[D-16])<<1|y>>>31;for(var z=0;z<80;++z){var O=~~(z/20),B=h(g)+f(O,m,x,C)+I+p[z]+a[O]|0;I=C,C=x,x=d(m),m=g,g=B}this._a=g+this._a|0,this._b=m+this._b|0,this._c=x+this._c|0,this._d=C+this._d|0,this._e=I+this._e|0},c.prototype._hash=function(){var b=u.allocUnsafe(20);return b.writeInt32BE(0|this._a,0),b.writeInt32BE(0|this._b,4),b.writeInt32BE(0|this._c,8),b.writeInt32BE(0|this._d,12),b.writeInt32BE(0|this._e,16),b},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,r,l){var o=e("inherits"),s=e("./sha256"),u=e("./hash"),a=e("safe-buffer").Buffer,i=new Array(64);function c(){this.init(),this._w=i,u.call(this,64,56)}o(c,s),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var h=a.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},r.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,r,l){var o=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=new Array(64);function c(){this.init(),this._w=i,s.call(this,64,56)}function h(p,g,m){return m^p&(g^m)}function d(p,g,m){return p&g|m&(p|g)}function f(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function b(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function y(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}o(c,s),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(p){for(var g,m=this._w,x=0|this._a,C=0|this._b,I=0|this._c,D=0|this._d,z=0|this._e,O=0|this._f,B=0|this._g,V=0|this._h,q=0;q<16;++q)m[q]=p.readInt32BE(4*q);for(;q<64;++q)m[q]=0|(((g=m[q-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+m[q-7]+y(m[q-15])+m[q-16];for(var H=0;H<64;++H){var E=V+b(z)+h(z,O,B)+a[H]+m[H]|0,R=f(x)+d(x,C,I)|0;V=B,B=O,O=z,z=D+E|0,D=I,I=C,C=x,x=E+R|0}this._a=x+this._a|0,this._b=C+this._b|0,this._c=I+this._c|0,this._d=D+this._d|0,this._e=z+this._e|0,this._f=O+this._f|0,this._g=B+this._g|0,this._h=V+this._h|0},c.prototype._hash=function(){var p=u.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,r,l){var o=e("inherits"),s=e("./sha512"),u=e("./hash"),a=e("safe-buffer").Buffer,i=new Array(160);function c(){this.init(),this._w=i,u.call(this,128,112)}o(c,s),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var h=a.allocUnsafe(48);function d(f,b,y){h.writeInt32BE(f,y),h.writeInt32BE(b,y+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),h},r.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,r,l){var o=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],i=new Array(160);function c(){this.init(),this._w=i,s.call(this,128,112)}function h(C,I,D){return D^C&(I^D)}function d(C,I,D){return C&I|D&(C|I)}function f(C,I){return(C>>>28|I<<4)^(I>>>2|C<<30)^(I>>>7|C<<25)}function b(C,I){return(C>>>14|I<<18)^(C>>>18|I<<14)^(I>>>9|C<<23)}function y(C,I){return(C>>>1|I<<31)^(C>>>8|I<<24)^C>>>7}function p(C,I){return(C>>>1|I<<31)^(C>>>8|I<<24)^(C>>>7|I<<25)}function g(C,I){return(C>>>19|I<<13)^(I>>>29|C<<3)^C>>>6}function m(C,I){return(C>>>19|I<<13)^(I>>>29|C<<3)^(C>>>6|I<<26)}function x(C,I){return C>>>0<I>>>0?1:0}o(c,s),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(C){for(var I=this._w,D=0|this._ah,z=0|this._bh,O=0|this._ch,B=0|this._dh,V=0|this._eh,q=0|this._fh,H=0|this._gh,E=0|this._hh,R=0|this._al,k=0|this._bl,v=0|this._cl,_=0|this._dl,w=0|this._el,S=0|this._fl,N=0|this._gl,j=0|this._hl,U=0;U<32;U+=2)I[U]=C.readInt32BE(4*U),I[U+1]=C.readInt32BE(4*U+4);for(;U<160;U+=2){var G=I[U-30],W=I[U-30+1],J=y(G,W),F=p(W,G),K=g(G=I[U-4],W=I[U-4+1]),L=m(W,G),P=I[U-14],$=I[U-14+1],Y=I[U-32],Q=I[U-32+1],X=F+$|0,ee=J+P+x(X,F)|0;ee=(ee=ee+K+x(X=X+L|0,L)|0)+Y+x(X=X+Q|0,Q)|0,I[U]=ee,I[U+1]=X}for(var ie=0;ie<160;ie+=2){ee=I[ie],X=I[ie+1];var oe=d(D,z,O),Z=d(R,k,v),re=f(D,R),ne=f(R,D),ue=b(V,w),le=b(w,V),de=a[ie],he=a[ie+1],pe=h(V,q,H),ye=h(w,S,N),Ee=j+le|0,Te=E+ue+x(Ee,j)|0;Te=(Te=(Te=Te+pe+x(Ee=Ee+ye|0,ye)|0)+de+x(Ee=Ee+he|0,he)|0)+ee+x(Ee=Ee+X|0,X)|0;var Se=ne+Z|0,Fe=re+oe+x(Se,ne)|0;E=H,j=N,H=q,N=S,q=V,S=w,V=B+Te+x(w=_+Ee|0,_)|0,B=O,_=v,O=z,v=k,z=D,k=R,D=Te+Fe+x(R=Ee+Se|0,Ee)|0}this._al=this._al+R|0,this._bl=this._bl+k|0,this._cl=this._cl+v|0,this._dl=this._dl+_|0,this._el=this._el+w|0,this._fl=this._fl+S|0,this._gl=this._gl+N|0,this._hl=this._hl+j|0,this._ah=this._ah+D+x(this._al,R)|0,this._bh=this._bh+z+x(this._bl,k)|0,this._ch=this._ch+O+x(this._cl,v)|0,this._dh=this._dh+B+x(this._dl,_)|0,this._eh=this._eh+V+x(this._el,w)|0,this._fh=this._fh+q+x(this._fl,S)|0,this._gh=this._gh+H+x(this._gl,N)|0,this._hh=this._hh+E+x(this._hl,j)|0},c.prototype._hash=function(){var C=u.allocUnsafe(64);function I(D,z,O){C.writeInt32BE(D,O),C.writeInt32BE(z,O+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),C},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,r,l){r.exports=s;var o=e("events").EventEmitter;function s(){o.call(this)}e("inherits")(s,o),s.Readable=e("readable-stream/readable.js"),s.Writable=e("readable-stream/writable.js"),s.Duplex=e("readable-stream/duplex.js"),s.Transform=e("readable-stream/transform.js"),s.PassThrough=e("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(u,a){var i=this;function c(g){u.writable&&u.write(g)===!1&&i.pause&&i.pause()}function h(){i.readable&&i.resume&&i.resume()}i.on("data",c),u.on("drain",h),u._isStdio||a&&a.end===!1||(i.on("end",f),i.on("close",b));var d=!1;function f(){d||(d=!0,u.end())}function b(){d||(d=!0,typeof u.destroy=="function"&&u.destroy())}function y(g){if(p(),o.listenerCount(this,"error")===0)throw g}function p(){i.removeListener("data",c),u.removeListener("drain",h),i.removeListener("end",f),i.removeListener("close",b),i.removeListener("error",y),u.removeListener("error",y),i.removeListener("end",p),i.removeListener("close",p),u.removeListener("close",p)}return i.on("error",y),u.on("error",y),i.on("end",p),i.on("close",p),u.on("close",p),u.emit("pipe",i),u}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,r,l){var o={}.toString;r.exports=Array.isArray||function(s){return o.call(s)=="[object Array]"}},{}],507:[function(e,r,l){r.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,r,l){var o=e("process-nextick-args"),s=Object.keys||function(p){var g=[];for(var m in p)g.push(m);return g};r.exports=f;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var a=e("./_stream_readable"),i=e("./_stream_writable");u.inherits(f,a);for(var c=s(i.prototype),h=0;h<c.length;h++){var d=c[h];f.prototype[d]||(f.prototype[d]=i.prototype[d])}function f(p){if(!(this instanceof f))return new f(p);a.call(this,p),i.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||o.nextTick(y,this)}function y(p){p.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),f.prototype._destroy=function(p,g){this.push(null),this.end(),o.nextTick(g,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,r,l){r.exports=u;var o=e("./_stream_transform"),s=Object.create(e("core-util-is"));function u(a){if(!(this instanceof u))return new u(a);o.call(this,a)}s.inherits=e("inherits"),s.inherits(u,o),u.prototype._transform=function(a,i,c){c(null,a)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,r,l){(function(o,s){(function(){var u=e("process-nextick-args");r.exports=D;var a,i=e("isarray");D.ReadableState=I,e("events").EventEmitter;var c=function(j,U){return j.listeners(U).length},h=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b=Object.create(e("core-util-is"));b.inherits=e("inherits");var y=e("util"),p=void 0;p=y&&y.debuglog?y.debuglog("stream"):function(){};var g,m=e("./internal/streams/BufferList"),x=e("./internal/streams/destroy");b.inherits(D,h);var C=["error","close","destroy","pause","resume"];function I(j,U){j=j||{};var G=U instanceof(a=a||e("./_stream_duplex"));this.objectMode=!!j.objectMode,G&&(this.objectMode=this.objectMode||!!j.readableObjectMode);var W=j.highWaterMark,J=j.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:G&&(J||J===0)?J:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(j.encoding),this.encoding=j.encoding)}function D(j){if(a=a||e("./_stream_duplex"),!(this instanceof D))return new D(j);this._readableState=new I(j,this),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),h.call(this)}function z(j,U,G,W,J){var F,K=j._readableState;return U===null?(K.reading=!1,function(L,P){if(!P.ended){if(P.decoder){var $=P.decoder.end();$&&$.length&&(P.buffer.push($),P.length+=P.objectMode?1:$.length)}P.ended=!0,V(L)}}(j,K)):(J||(F=function(L,P){var $;Y=P,d.isBuffer(Y)||Y instanceof f||typeof P=="string"||P===void 0||L.objectMode||($=new TypeError("Invalid non-string/buffer chunk"));var Y;return $}(K,U)),F?j.emit("error",F):K.objectMode||U&&U.length>0?(typeof U=="string"||K.objectMode||Object.getPrototypeOf(U)===d.prototype||(U=function(L){return d.from(L)}(U)),W?K.endEmitted?j.emit("error",new Error("stream.unshift() after end event")):O(j,K,U,!0):K.ended?j.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!G?(U=K.decoder.write(U),K.objectMode||U.length!==0?O(j,K,U,!1):H(j,K)):O(j,K,U,!1))):W||(K.reading=!1)),function(L){return!L.ended&&(L.needReadable||L.length<L.highWaterMark||L.length===0)}(K)}function O(j,U,G,W){U.flowing&&U.length===0&&!U.sync?(j.emit("data",G),j.read(0)):(U.length+=U.objectMode?1:G.length,W?U.buffer.unshift(G):U.buffer.push(G),U.needReadable&&V(j)),H(j,U)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),D.prototype.destroy=x.destroy,D.prototype._undestroy=x.undestroy,D.prototype._destroy=function(j,U){this.push(null),U(j)},D.prototype.push=function(j,U){var G,W=this._readableState;return W.objectMode?G=!0:typeof j=="string"&&((U=U||W.defaultEncoding)!==W.encoding&&(j=d.from(j,U),U=""),G=!0),z(this,j,U,!1,G)},D.prototype.unshift=function(j){return z(this,j,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(j){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(j),this._readableState.encoding=j,this};function B(j,U){return j<=0||U.length===0&&U.ended?0:U.objectMode?1:j!=j?U.flowing&&U.length?U.buffer.head.data.length:U.length:(j>U.highWaterMark&&(U.highWaterMark=function(G){return G>=8388608?G=8388608:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(j)),j<=U.length?j:U.ended?U.length:(U.needReadable=!0,0))}function V(j){var U=j._readableState;U.needReadable=!1,U.emittedReadable||(p("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?u.nextTick(q,j):q(j))}function q(j){p("emit readable"),j.emit("readable"),v(j)}function H(j,U){U.readingMore||(U.readingMore=!0,u.nextTick(E,j,U))}function E(j,U){for(var G=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(p("maybeReadMore read 0"),j.read(0),G!==U.length);)G=U.length;U.readingMore=!1}function R(j){p("readable nexttick read 0"),j.read(0)}function k(j,U){U.reading||(p("resume read 0"),j.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,j.emit("resume"),v(j),U.flowing&&!U.reading&&j.read(0)}function v(j){var U=j._readableState;for(p("flow",U.flowing);U.flowing&&j.read()!==null;);}function _(j,U){return U.length===0?null:(U.objectMode?G=U.buffer.shift():!j||j>=U.length?(G=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):G=function(W,J,F){var K;return W<J.head.data.length?(K=J.head.data.slice(0,W),J.head.data=J.head.data.slice(W)):K=W===J.head.data.length?J.shift():F?function(L,P){var $=P.head,Y=1,Q=$.data;for(L-=Q.length;$=$.next;){var X=$.data,ee=L>X.length?X.length:L;if(ee===X.length?Q+=X:Q+=X.slice(0,L),(L-=ee)===0){ee===X.length?(++Y,$.next?P.head=$.next:P.head=P.tail=null):(P.head=$,$.data=X.slice(ee));break}++Y}return P.length-=Y,Q}(W,J):function(L,P){var $=d.allocUnsafe(L),Y=P.head,Q=1;for(Y.data.copy($),L-=Y.data.length;Y=Y.next;){var X=Y.data,ee=L>X.length?X.length:L;if(X.copy($,$.length-L,0,ee),(L-=ee)===0){ee===X.length?(++Q,Y.next?P.head=Y.next:P.head=P.tail=null):(P.head=Y,Y.data=X.slice(ee));break}++Q}return P.length-=Q,$}(W,J),K}(j,U.buffer,U.decoder),G);var G}function w(j){var U=j._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,u.nextTick(S,U,j))}function S(j,U){j.endEmitted||j.length!==0||(j.endEmitted=!0,U.readable=!1,U.emit("end"))}function N(j,U){for(var G=0,W=j.length;G<W;G++)if(j[G]===U)return G;return-1}D.prototype.read=function(j){p("read",j),j=parseInt(j,10);var U=this._readableState,G=j;if(j!==0&&(U.emittedReadable=!1),j===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return p("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?w(this):V(this),null;if((j=B(j,U))===0&&U.ended)return U.length===0&&w(this),null;var W,J=U.needReadable;return p("need readable",J),(U.length===0||U.length-j<U.highWaterMark)&&p("length less than watermark",J=!0),U.ended||U.reading?p("reading or ended",J=!1):J&&(p("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(j=B(G,U))),(W=j>0?_(j,U):null)===null?(U.needReadable=!0,j=0):U.length-=j,U.length===0&&(U.ended||(U.needReadable=!0),G!==j&&U.ended&&w(this)),W!==null&&this.emit("data",W),W},D.prototype._read=function(j){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(j,U){var G=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=j;break;case 1:W.pipes=[W.pipes,j];break;default:W.pipes.push(j)}W.pipesCount+=1,p("pipe count=%d opts=%j",W.pipesCount,U);var J=(!U||U.end!==!1)&&j!==o.stdout&&j!==o.stderr?K:ie;function F(oe,Z){p("onunpipe"),oe===G&&Z&&Z.hasUnpiped===!1&&(Z.hasUnpiped=!0,p("cleanup"),j.removeListener("close",X),j.removeListener("finish",ee),j.removeListener("drain",L),j.removeListener("error",Q),j.removeListener("unpipe",F),G.removeListener("end",K),G.removeListener("end",ie),G.removeListener("data",Y),P=!0,!W.awaitDrain||j._writableState&&!j._writableState.needDrain||L())}function K(){p("onend"),j.end()}W.endEmitted?u.nextTick(J):G.once("end",J),j.on("unpipe",F);var L=function(oe){return function(){var Z=oe._readableState;p("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&c(oe,"data")&&(Z.flowing=!0,v(oe))}}(G);j.on("drain",L);var P=!1,$=!1;function Y(oe){p("ondata"),$=!1,j.write(oe)!==!1||$||((W.pipesCount===1&&W.pipes===j||W.pipesCount>1&&N(W.pipes,j)!==-1)&&!P&&(p("false write response, pause",W.awaitDrain),W.awaitDrain++,$=!0),G.pause())}function Q(oe){p("onerror",oe),ie(),j.removeListener("error",Q),c(j,"error")===0&&j.emit("error",oe)}function X(){j.removeListener("finish",ee),ie()}function ee(){p("onfinish"),j.removeListener("close",X),ie()}function ie(){p("unpipe"),G.unpipe(j)}return G.on("data",Y),function(oe,Z,re){if(typeof oe.prependListener=="function")return oe.prependListener(Z,re);oe._events&&oe._events[Z]?i(oe._events[Z])?oe._events[Z].unshift(re):oe._events[Z]=[re,oe._events[Z]]:oe.on(Z,re)}(j,"error",Q),j.once("close",X),j.once("finish",ee),j.emit("pipe",G),W.flowing||(p("pipe resume"),G.resume()),j},D.prototype.unpipe=function(j){var U=this._readableState,G={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return j&&j!==U.pipes||(j||(j=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,j&&j.emit("unpipe",this,G)),this;if(!j){var W=U.pipes,J=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var F=0;F<J;F++)W[F].emit("unpipe",this,{hasUnpiped:!1});return this}var K=N(U.pipes,j);return K===-1||(U.pipes.splice(K,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),j.emit("unpipe",this,G)),this},D.prototype.on=function(j,U){var G=h.prototype.on.call(this,j,U);if(j==="data")this._readableState.flowing!==!1&&this.resume();else if(j==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&V(this):u.nextTick(R,this))}return G},D.prototype.addListener=D.prototype.on,D.prototype.resume=function(){var j=this._readableState;return j.flowing||(p("resume"),j.flowing=!0,function(U,G){G.resumeScheduled||(G.resumeScheduled=!0,u.nextTick(k,U,G))}(this,j)),this},D.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(j){var U=this,G=this._readableState,W=!1;for(var J in j.on("end",function(){if(p("wrapped end"),G.decoder&&!G.ended){var K=G.decoder.end();K&&K.length&&U.push(K)}U.push(null)}),j.on("data",function(K){p("wrapped data"),G.decoder&&(K=G.decoder.write(K)),G.objectMode&&K==null||(G.objectMode||K&&K.length)&&(U.push(K)||(W=!0,j.pause()))}),j)this[J]===void 0&&typeof j[J]=="function"&&(this[J]=function(K){return function(){return j[K].apply(j,arguments)}}(J));for(var F=0;F<C.length;F++)j.on(C[F],this.emit.bind(this,C[F]));return this._read=function(K){p("wrapped _read",K),W&&(W=!1,j.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=_}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,r,l){r.exports=a;var o=e("./_stream_duplex"),s=Object.create(e("core-util-is"));function u(h,d){var f=this._transformState;f.transforming=!1;var b=f.writecb;if(!b)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,d!=null&&this.push(d),b(h);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function a(h){if(!(this instanceof a))return new a(h);o.call(this,h),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",i)}function i(){var h=this;typeof this._flush=="function"?this._flush(function(d,f){c(h,d,f)}):c(this,null,null)}function c(h,d,f){if(d)return h.emit("error",d);if(f!=null&&h.push(f),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}s.inherits=e("inherits"),s.inherits(a,o),a.prototype.push=function(h,d){return this._transformState.needTransform=!1,o.prototype.push.call(this,h,d)},a.prototype._transform=function(h,d,f){throw new Error("_transform() is not implemented")},a.prototype._write=function(h,d,f){var b=this._transformState;if(b.writecb=f,b.writechunk=h,b.writeencoding=d,!b.transforming){var y=this._readableState;(b.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},a.prototype._read=function(h){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},a.prototype._destroy=function(h,d){var f=this;o.prototype._destroy.call(this,h,function(b){d(b),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,r,l){(function(o,s,u){(function(){var a=e("process-nextick-args");function i(H){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(R,k,v){var _=R.entry;for(R.entry=null;_;){var w=_.callback;k.pendingcb--,w(v),_=_.next}k.corkedRequestsFree.next=R})(E,H)}}r.exports=I;var c,h=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?u:a.nextTick;I.WritableState=C;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var f={deprecate:e("util-deprecate")},b=e("./internal/streams/stream"),y=e("safe-buffer").Buffer,p=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,m=e("./internal/streams/destroy");function x(){}function C(H,E){c=c||e("./_stream_duplex"),H=H||{};var R=E instanceof c;this.objectMode=!!H.objectMode,R&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var k=H.highWaterMark,v=H.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:R&&(v||v===0)?v:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=H.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(N,j){var U=N._writableState,G=U.sync,W=U.writecb;if(function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}(U),j)(function(F,K,L,P,$){--K.pendingcb,L?(a.nextTick($,P),a.nextTick(q,F,K),F._writableState.errorEmitted=!0,F.emit("error",P)):($(P),F._writableState.errorEmitted=!0,F.emit("error",P),q(F,K))})(N,U,G,j,W);else{var J=B(U);J||U.corked||U.bufferProcessing||!U.bufferedRequest||O(N,U),G?h(z,N,U,J,W):z(N,U,J,W)}})(E,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(H){if(c=c||e("./_stream_duplex"),!(g.call(I,this)||this instanceof c))return new I(H);this._writableState=new C(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),b.call(this)}function D(H,E,R,k,v,_,w){E.writelen=k,E.writecb=w,E.writing=!0,E.sync=!0,R?H._writev(v,E.onwrite):H._write(v,_,E.onwrite),E.sync=!1}function z(H,E,R,k){R||function(v,_){_.length===0&&_.needDrain&&(_.needDrain=!1,v.emit("drain"))}(H,E),E.pendingcb--,k(),q(H,E)}function O(H,E){E.bufferProcessing=!0;var R=E.bufferedRequest;if(H._writev&&R&&R.next){var k=E.bufferedRequestCount,v=new Array(k),_=E.corkedRequestsFree;_.entry=R;for(var w=0,S=!0;R;)v[w]=R,R.isBuf||(S=!1),R=R.next,w+=1;v.allBuffers=S,D(H,E,!0,E.length,v,"",_.finish),E.pendingcb++,E.lastBufferedRequest=null,_.next?(E.corkedRequestsFree=_.next,_.next=null):E.corkedRequestsFree=new i(E),E.bufferedRequestCount=0}else{for(;R;){var N=R.chunk,j=R.encoding,U=R.callback;if(D(H,E,!1,E.objectMode?1:N.length,N,j,U),R=R.next,E.bufferedRequestCount--,E.writing)break}R===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=R,E.bufferProcessing=!1}function B(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function V(H,E){H._final(function(R){E.pendingcb--,R&&H.emit("error",R),E.prefinished=!0,H.emit("prefinish"),q(H,E)})}function q(H,E){var R=B(E);return R&&(function(k,v){v.prefinished||v.finalCalled||(typeof k._final=="function"?(v.pendingcb++,v.finalCalled=!0,a.nextTick(V,k,v)):(v.prefinished=!0,k.emit("prefinish")))}(H,E),E.pendingcb===0&&(E.finished=!0,H.emit("finish"))),R}d.inherits(I,b),C.prototype.getBuffer=function(){for(var H=this.bufferedRequest,E=[];H;)E.push(H),H=H.next;return E},function(){try{Object.defineProperty(C.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(H){return!!g.call(this,H)||this===I&&H&&H._writableState instanceof C}})):g=function(H){return H instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function(H,E,R){var k,v=this._writableState,_=!1,w=!v.objectMode&&(k=H,y.isBuffer(k)||k instanceof p);return w&&!y.isBuffer(H)&&(H=function(S){return y.from(S)}(H)),typeof E=="function"&&(R=E,E=null),w?E="buffer":E||(E=v.defaultEncoding),typeof R!="function"&&(R=x),v.ended?function(S,N){var j=new Error("write after end");S.emit("error",j),a.nextTick(N,j)}(this,R):(w||function(S,N,j,U){var G=!0,W=!1;return j===null?W=new TypeError("May not write null values to stream"):typeof j=="string"||j===void 0||N.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(S.emit("error",W),a.nextTick(U,W),G=!1),G}(this,v,H,R))&&(v.pendingcb++,_=function(S,N,j,U,G,W){if(!j){var J=function(P,$,Y){return P.objectMode||P.decodeStrings===!1||typeof $!="string"||($=y.from($,Y)),$}(N,U,G);U!==J&&(j=!0,G="buffer",U=J)}var F=N.objectMode?1:U.length;N.length+=F;var K=N.length<N.highWaterMark;if(K||(N.needDrain=!0),N.writing||N.corked){var L=N.lastBufferedRequest;N.lastBufferedRequest={chunk:U,encoding:G,isBuf:j,callback:W,next:null},L?L.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else D(S,N,!1,F,U,G,W);return K}(this,v,w,H,E,R)),_},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||O(this,H))},I.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(H,E,R){R(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function(H,E,R){var k=this._writableState;typeof H=="function"?(R=H,H=null,E=null):typeof E=="function"&&(R=E,E=null),H!=null&&this.write(H,E),k.corked&&(k.corked=1,this.uncork()),k.ending||function(v,_,w){_.ending=!0,q(v,_),w&&(_.finished?a.nextTick(w):v.once("finish",w)),_.ended=!0,v.writable=!1}(this,k,R)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(H,E){this.end(),E(H)}}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,r,l){var o=e("safe-buffer").Buffer,s=e("util");r.exports=function(){function u(){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(a){var i={data:a,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},u.prototype.unshift=function(a){var i={data:a,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},u.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(a){if(this.length===0)return"";for(var i=this.head,c=""+i.data;i=i.next;)c+=a+i.data;return c},u.prototype.concat=function(a){if(this.length===0)return o.alloc(0);for(var i,c,h,d=o.allocUnsafe(a>>>0),f=this.head,b=0;f;)i=f.data,c=d,h=b,i.copy(c,h),b+=f.data.length,f=f.next;return d},u}(),s&&s.inspect&&s.inspect.custom&&(r.exports.prototype[s.inspect.custom]=function(){var u=s.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":520,util:188}],514:[function(e,r,l){var o=e("process-nextick-args");function s(u,a){u.emit("error",a)}r.exports={destroy:function(u,a){var i=this,c=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return c||h?(a?a(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(s,this,u)):o.nextTick(s,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(d){!a&&d?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,o.nextTick(s,i,d)):o.nextTick(s,i,d):a&&a(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,r,l){arguments[4][490][0].apply(l,arguments)},{dup:490,events:422}],516:[function(e,r,l){r.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,r,l){(l=r.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,r,l){r.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,r,l){r.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,r,l){arguments[4][217][0].apply(l,arguments)},{buffer:220,dup:217}],521:[function(e,r,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,r,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,r,l){(function(o,s){(function(){var u=e("process/browser.js").nextTick,a=Function.prototype.apply,i=Array.prototype.slice,c={},h=0;function d(f,b){this._id=f,this._clearFn=b}l.setTimeout=function(){return new d(a.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new d(a.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(f){f.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(f,b){clearTimeout(f._idleTimeoutId),f._idleTimeout=b},l.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},l._unrefActive=l.active=function(f){clearTimeout(f._idleTimeoutId);var b=f._idleTimeout;b>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},b))},l.setImmediate=typeof o=="function"?o:function(f){var b=h++,y=!(arguments.length<2)&&i.call(arguments,1);return c[b]=!0,u(function(){c[b]&&(y?f.apply(null,y):f.call(null),l.clearImmediate(b))}),b},l.clearImmediate=typeof s=="function"?s:function(f){delete c[f]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,r,l){(function(o){(function(){function s(u){try{if(!o.localStorage)return!1}catch{return!1}var a=o.localStorage[u];return a!=null&&String(a).toLowerCase()==="true"}r.exports=function(u,a){if(s("noDeprecation"))return u;var i=!1;return function(){if(!i){if(s("throwDeprecation"))throw new Error(a);s("traceDeprecation")?console.trace(a):console.warn(a),i=!0}return u.apply(this,arguments)}}}).call(this)}).call(this,typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,r,l){typeof Object.create=="function"?r.exports=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(o,s){o.super_=s;var u=function(){};u.prototype=s.prototype,o.prototype=new u,o.prototype.constructor=o}},{}],526:[function(e,r,l){r.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],527:[function(e,r,l){(function(o,s){(function(){var u=/%[sdj%]/g;l.format=function(v){if(!C(v)){for(var _=[],w=0;w<arguments.length;w++)_.push(c(arguments[w]));return _.join(" ")}w=1;for(var S=arguments,N=S.length,j=String(v).replace(u,function(G){if(G==="%%")return"%";if(w>=N)return G;switch(G){case"%s":return String(S[w++]);case"%d":return Number(S[w++]);case"%j":try{return JSON.stringify(S[w++])}catch{return"[Circular]"}default:return G}}),U=S[w];w<N;U=S[++w])m(U)||!z(U)?j+=" "+U:j+=" "+c(U);return j},l.deprecate=function(v,_){if(I(s.process))return function(){return l.deprecate(v,_).apply(this,arguments)};if(o.noDeprecation===!0)return v;var w=!1;return function(){if(!w){if(o.throwDeprecation)throw new Error(_);o.traceDeprecation?console.trace(_):console.error(_),w=!0}return v.apply(this,arguments)}};var a,i={};function c(v,_){var w={seen:[],stylize:d};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),g(_)?w.showHidden=_:_&&l._extend(w,_),I(w.showHidden)&&(w.showHidden=!1),I(w.depth)&&(w.depth=2),I(w.colors)&&(w.colors=!1),I(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=h),f(w,v,w.depth)}function h(v,_){var w=c.styles[_];return w?"\x1B["+c.colors[w][0]+"m"+v+"\x1B["+c.colors[w][1]+"m":v}function d(v,_){return v}function f(v,_,w){if(v.customInspect&&_&&V(_.inspect)&&_.inspect!==l.inspect&&(!_.constructor||_.constructor.prototype!==_)){var S=_.inspect(w,v);return C(S)||(S=f(v,S,w)),S}var N=function(L,P){if(I(P))return L.stylize("undefined","undefined");if(C(P)){var $="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize($,"string")}if(x(P))return L.stylize(""+P,"number");if(g(P))return L.stylize(""+P,"boolean");if(m(P))return L.stylize("null","null")}(v,_);if(N)return N;var j=Object.keys(_),U=function(L){var P={};return L.forEach(function($,Y){P[$]=!0}),P}(j);if(v.showHidden&&(j=Object.getOwnPropertyNames(_)),B(_)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return b(_);if(j.length===0){if(V(_)){var G=_.name?": "+_.name:"";return v.stylize("[Function"+G+"]","special")}if(D(_))return v.stylize(RegExp.prototype.toString.call(_),"regexp");if(O(_))return v.stylize(Date.prototype.toString.call(_),"date");if(B(_))return b(_)}var W,J="",F=!1,K=["{","}"];return p(_)&&(F=!0,K=["[","]"]),V(_)&&(J=" [Function"+(_.name?": "+_.name:"")+"]"),D(_)&&(J=" "+RegExp.prototype.toString.call(_)),O(_)&&(J=" "+Date.prototype.toUTCString.call(_)),B(_)&&(J=" "+b(_)),j.length!==0||F&&_.length!=0?w<0?D(_)?v.stylize(RegExp.prototype.toString.call(_),"regexp"):v.stylize("[Object]","special"):(v.seen.push(_),W=F?function(L,P,$,Y,Q){for(var X=[],ee=0,ie=P.length;ee<ie;++ee)k(P,String(ee))?X.push(y(L,P,$,Y,String(ee),!0)):X.push("");return Q.forEach(function(oe){oe.match(/^\d+$/)||X.push(y(L,P,$,Y,oe,!0))}),X}(v,_,w,U,j):j.map(function(L){return y(v,_,w,U,L,F)}),v.seen.pop(),function(L,P,$){return L.reduce(function(Y,Q){return Q.indexOf(`
`)>=0,Y+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(P===""?"":P+`
 `)+" "+L.join(`,
  `)+" "+$[1]:$[0]+P+" "+L.join(", ")+" "+$[1]}(W,J,K)):K[0]+J+K[1]}function b(v){return"["+Error.prototype.toString.call(v)+"]"}function y(v,_,w,S,N,j){var U,G,W;if((W=Object.getOwnPropertyDescriptor(_,N)||{value:_[N]}).get?G=W.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):W.set&&(G=v.stylize("[Setter]","special")),k(S,N)||(U="["+N+"]"),G||(v.seen.indexOf(W.value)<0?(G=m(w)?f(v,W.value,null):f(v,W.value,w-1)).indexOf(`
`)>-1&&(G=j?G.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+G.split(`
`).map(function(J){return"   "+J}).join(`
`)):G=v.stylize("[Circular]","special")),I(U)){if(j&&N.match(/^\d+$/))return G;(U=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=v.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=v.stylize(U,"string"))}return U+": "+G}function p(v){return Array.isArray(v)}function g(v){return typeof v=="boolean"}function m(v){return v===null}function x(v){return typeof v=="number"}function C(v){return typeof v=="string"}function I(v){return v===void 0}function D(v){return z(v)&&q(v)==="[object RegExp]"}function z(v){return typeof v=="object"&&v!==null}function O(v){return z(v)&&q(v)==="[object Date]"}function B(v){return z(v)&&(q(v)==="[object Error]"||v instanceof Error)}function V(v){return typeof v=="function"}function q(v){return Object.prototype.toString.call(v)}function H(v){return v<10?"0"+v.toString(10):v.toString(10)}l.debuglog=function(v){if(I(a)&&(a=o.env.NODE_DEBUG||""),v=v.toUpperCase(),!i[v])if(new RegExp("\\b"+v+"\\b","i").test(a)){var _=o.pid;i[v]=function(){var w=l.format.apply(l,arguments);console.error("%s %d: %s",v,_,w)}}else i[v]=function(){};return i[v]},l.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=p,l.isBoolean=g,l.isNull=m,l.isNullOrUndefined=function(v){return v==null},l.isNumber=x,l.isString=C,l.isSymbol=function(v){return typeof v=="symbol"},l.isUndefined=I,l.isRegExp=D,l.isObject=z,l.isDate=O,l.isError=B,l.isFunction=V,l.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},l.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var v=new Date,_=[H(v.getHours()),H(v.getMinutes()),H(v.getSeconds())].join(":");return[v.getDate(),E[v.getMonth()],_].join(" ")}function k(v,_){return Object.prototype.hasOwnProperty.call(v,_)}l.log=function(){console.log("%s - %s",R(),l.format.apply(l,arguments))},l.inherits=e("inherits"),l._extend=function(v,_){if(!_||!z(_))return v;for(var w=Object.keys(_),S=w.length;S--;)v[w[S]]=_[w[S]];return v}}).call(this)}).call(this,e("_process"),typeof at<"u"?at:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(l,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(l,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(l,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(l,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(l,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(l,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(l,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return f.default}});var o=b(e("./v1.js")),s=b(e("./v3.js")),u=b(e("./v4.js")),a=b(e("./v5.js")),i=b(e("./nil.js")),c=b(e("./version.js")),h=b(e("./validate.js")),d=b(e("./stringify.js")),f=b(e("./parse.js"));function b(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,r,l){function o(f){return 14+(f+64>>>9<<4)+1}function s(f,b){const y=(65535&f)+(65535&b);return(f>>16)+(b>>16)+(y>>16)<<16|65535&y}function u(f,b,y,p,g,m){return s((x=s(s(b,f),s(p,m)))<<(C=g)|x>>>32-C,y);var x,C}function a(f,b,y,p,g,m,x){return u(b&y|~b&p,f,b,g,m,x)}function i(f,b,y,p,g,m,x){return u(b&p|y&~p,f,b,g,m,x)}function c(f,b,y,p,g,m,x){return u(b^y^p,f,b,g,m,x)}function h(f,b,y,p,g,m,x){return u(y^(b|~p),f,b,g,m,x)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d=function(f){if(typeof f=="string"){const b=unescape(encodeURIComponent(f));f=new Uint8Array(b.length);for(let y=0;y<b.length;++y)f[y]=b.charCodeAt(y)}return function(b){const y=[],p=32*b.length;for(let g=0;g<p;g+=8){const m=b[g>>5]>>>g%32&255,x=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);y.push(x)}return y}(function(b,y){b[y>>5]|=128<<y%32,b[o(y)-1]=y;let p=1732584193,g=-271733879,m=-1732584194,x=271733878;for(let C=0;C<b.length;C+=16){const I=p,D=g,z=m,O=x;p=a(p,g,m,x,b[C],7,-680876936),x=a(x,p,g,m,b[C+1],12,-389564586),m=a(m,x,p,g,b[C+2],17,606105819),g=a(g,m,x,p,b[C+3],22,-1044525330),p=a(p,g,m,x,b[C+4],7,-176418897),x=a(x,p,g,m,b[C+5],12,1200080426),m=a(m,x,p,g,b[C+6],17,-1473231341),g=a(g,m,x,p,b[C+7],22,-45705983),p=a(p,g,m,x,b[C+8],7,1770035416),x=a(x,p,g,m,b[C+9],12,-1958414417),m=a(m,x,p,g,b[C+10],17,-42063),g=a(g,m,x,p,b[C+11],22,-1990404162),p=a(p,g,m,x,b[C+12],7,1804603682),x=a(x,p,g,m,b[C+13],12,-40341101),m=a(m,x,p,g,b[C+14],17,-1502002290),g=a(g,m,x,p,b[C+15],22,1236535329),p=i(p,g,m,x,b[C+1],5,-165796510),x=i(x,p,g,m,b[C+6],9,-1069501632),m=i(m,x,p,g,b[C+11],14,643717713),g=i(g,m,x,p,b[C],20,-373897302),p=i(p,g,m,x,b[C+5],5,-701558691),x=i(x,p,g,m,b[C+10],9,38016083),m=i(m,x,p,g,b[C+15],14,-660478335),g=i(g,m,x,p,b[C+4],20,-405537848),p=i(p,g,m,x,b[C+9],5,568446438),x=i(x,p,g,m,b[C+14],9,-1019803690),m=i(m,x,p,g,b[C+3],14,-187363961),g=i(g,m,x,p,b[C+8],20,1163531501),p=i(p,g,m,x,b[C+13],5,-1444681467),x=i(x,p,g,m,b[C+2],9,-51403784),m=i(m,x,p,g,b[C+7],14,1735328473),g=i(g,m,x,p,b[C+12],20,-1926607734),p=c(p,g,m,x,b[C+5],4,-378558),x=c(x,p,g,m,b[C+8],11,-2022574463),m=c(m,x,p,g,b[C+11],16,1839030562),g=c(g,m,x,p,b[C+14],23,-35309556),p=c(p,g,m,x,b[C+1],4,-1530992060),x=c(x,p,g,m,b[C+4],11,1272893353),m=c(m,x,p,g,b[C+7],16,-155497632),g=c(g,m,x,p,b[C+10],23,-1094730640),p=c(p,g,m,x,b[C+13],4,681279174),x=c(x,p,g,m,b[C],11,-358537222),m=c(m,x,p,g,b[C+3],16,-722521979),g=c(g,m,x,p,b[C+6],23,76029189),p=c(p,g,m,x,b[C+9],4,-640364487),x=c(x,p,g,m,b[C+12],11,-421815835),m=c(m,x,p,g,b[C+15],16,530742520),g=c(g,m,x,p,b[C+2],23,-995338651),p=h(p,g,m,x,b[C],6,-198630844),x=h(x,p,g,m,b[C+7],10,1126891415),m=h(m,x,p,g,b[C+14],15,-1416354905),g=h(g,m,x,p,b[C+5],21,-57434055),p=h(p,g,m,x,b[C+12],6,1700485571),x=h(x,p,g,m,b[C+3],10,-1894986606),m=h(m,x,p,g,b[C+10],15,-1051523),g=h(g,m,x,p,b[C+1],21,-2054922799),p=h(p,g,m,x,b[C+8],6,1873313359),x=h(x,p,g,m,b[C+15],10,-30611744),m=h(m,x,p,g,b[C+6],15,-1560198380),g=h(g,m,x,p,b[C+13],21,1309151649),p=h(p,g,m,x,b[C+4],6,-145523070),x=h(x,p,g,m,b[C+11],10,-1120210379),m=h(m,x,p,g,b[C+2],15,718787259),g=h(g,m,x,p,b[C+9],21,-343485551),p=s(p,I),g=s(g,D),m=s(m,z),x=s(x,O)}return[p,g,m,x]}(function(b){if(b.length===0)return[];const y=8*b.length,p=new Uint32Array(o(y));for(let g=0;g<y;g+=8)p[g>>5]|=(255&b[g/8])<<g%32;return p}(f),8*f.length))};l.default=d},{}],530:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./validate.js"))&&o.__esModule?o:{default:o},u=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");let i;const c=new Uint8Array(16);return c[0]=(i=parseInt(a.slice(0,8),16))>>>24,c[1]=i>>>16&255,c[2]=i>>>8&255,c[3]=255&i,c[4]=(i=parseInt(a.slice(9,13),16))>>>8,c[5]=255&i,c[6]=(i=parseInt(a.slice(14,18),16))>>>8,c[7]=255&i,c[8]=(i=parseInt(a.slice(19,23),16))>>>8,c[9]=255&i,c[10]=(i=parseInt(a.slice(24,36),16))/1099511627776&255,c[11]=i/4294967296&255,c[12]=i>>>24&255,c[13]=i>>>16&255,c[14]=i>>>8&255,c[15]=255&i,c};l.default=u},{"./validate.js":541}],532:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,r,l){let o;Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)};const s=new Uint8Array(16)},{}],534:[function(e,r,l){function o(a,i,c,h){switch(a){case 0:return i&c^~i&h;case 1:return i^c^h;case 2:return i&c^i&h^c&h;case 3:return i^c^h}}function s(a,i){return a<<i|a>>>32-i}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=function(a){const i=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const b=unescape(encodeURIComponent(a));a=[];for(let y=0;y<b.length;++y)a.push(b.charCodeAt(y))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const h=a.length/4+2,d=Math.ceil(h/16),f=new Array(d);for(let b=0;b<d;++b){const y=new Uint32Array(16);for(let p=0;p<16;++p)y[p]=a[64*b+4*p]<<24|a[64*b+4*p+1]<<16|a[64*b+4*p+2]<<8|a[64*b+4*p+3];f[b]=y}f[d-1][14]=8*(a.length-1)/Math.pow(2,32),f[d-1][14]=Math.floor(f[d-1][14]),f[d-1][15]=8*(a.length-1)&4294967295;for(let b=0;b<d;++b){const y=new Uint32Array(80);for(let I=0;I<16;++I)y[I]=f[b][I];for(let I=16;I<80;++I)y[I]=s(y[I-3]^y[I-8]^y[I-14]^y[I-16],1);let p=c[0],g=c[1],m=c[2],x=c[3],C=c[4];for(let I=0;I<80;++I){const D=Math.floor(I/20),z=s(p,5)+o(D,g,m,x)+C+i[D]+y[I]>>>0;C=x,x=m,m=s(g,30)>>>0,g=p,p=z}c[0]=c[0]+p>>>0,c[1]=c[1]+g>>>0,c[2]=c[2]+m>>>0,c[3]=c[3]+x>>>0,c[4]=c[4]+C>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};l.default=u},{}],535:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./validate.js"))&&o.__esModule?o:{default:o};const u=[];for(let i=0;i<256;++i)u.push((i+256).toString(16).substr(1));var a=function(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(u[i[c+0]]+u[i[c+1]]+u[i[c+2]]+u[i[c+3]]+"-"+u[i[c+4]]+u[i[c+5]]+"-"+u[i[c+6]]+u[i[c+7]]+"-"+u[i[c+8]]+u[i[c+9]]+"-"+u[i[c+10]]+u[i[c+11]]+u[i[c+12]]+u[i[c+13]]+u[i[c+14]]+u[i[c+15]]).toLowerCase();if(!(0,s.default)(h))throw TypeError("Stringified UUID is invalid");return h};l.default=a},{"./validate.js":541}],536:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=u(e("./rng.js")),s=u(e("./stringify.js"));function u(f){return f&&f.__esModule?f:{default:f}}let a,i,c=0,h=0;var d=function(f,b,y){let p=b&&y||0;const g=b||new Array(16);let m=(f=f||{}).node||a,x=f.clockseq!==void 0?f.clockseq:i;if(m==null||x==null){const B=f.random||(f.rng||o.default)();m==null&&(m=a=[1|B[0],B[1],B[2],B[3],B[4],B[5]]),x==null&&(x=i=16383&(B[6]<<8|B[7]))}let C=f.msecs!==void 0?f.msecs:Date.now(),I=f.nsecs!==void 0?f.nsecs:h+1;const D=C-c+(I-h)/1e4;if(D<0&&f.clockseq===void 0&&(x=x+1&16383),(D<0||C>c)&&f.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=C,h=I,i=x,C+=122192928e5;const z=(1e4*(268435455&C)+I)%4294967296;g[p++]=z>>>24&255,g[p++]=z>>>16&255,g[p++]=z>>>8&255,g[p++]=255&z;const O=C/4294967296*1e4&268435455;g[p++]=O>>>8&255,g[p++]=255&O,g[p++]=O>>>24&15|16,g[p++]=O>>>16&255,g[p++]=x>>>8|128,g[p++]=255&x;for(let B=0;B<6;++B)g[p+B]=m[B];return b||(0,s.default)(g)};l.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=u(e("./v35.js")),s=u(e("./md5.js"));function u(i){return i&&i.__esModule?i:{default:i}}var a=(0,o.default)("v3",48,s.default);l.default=a},{"./md5.js":529,"./v35.js":538}],538:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(c,h,d){function f(b,y,p,g){if(typeof b=="string"&&(b=function(x){x=unescape(encodeURIComponent(x));const C=[];for(let I=0;I<x.length;++I)C.push(x.charCodeAt(I));return C}(b)),typeof y=="string"&&(y=(0,s.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+b.length);if(m.set(y),m.set(b,y.length),m=d(m),m[6]=15&m[6]|h,m[8]=63&m[8]|128,p){g=g||0;for(let x=0;x<16;++x)p[g+x]=m[x];return p}return(0,o.default)(m)}try{f.name=c}catch{}return f.DNS=a,f.URL=i,f},l.URL=l.DNS=void 0;var o=u(e("./stringify.js")),s=u(e("./parse.js"));function u(c){return c&&c.__esModule?c:{default:c}}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";l.DNS=a;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";l.URL=i},{"./parse.js":531,"./stringify.js":535}],539:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=u(e("./rng.js")),s=u(e("./stringify.js"));function u(i){return i&&i.__esModule?i:{default:i}}var a=function(i,c,h){const d=(i=i||{}).random||(i.rng||o.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,c){h=h||0;for(let f=0;f<16;++f)c[h+f]=d[f];return c}return(0,s.default)(d)};l.default=a},{"./rng.js":533,"./stringify.js":535}],540:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=u(e("./v35.js")),s=u(e("./sha1.js"));function u(i){return i&&i.__esModule?i:{default:i}}var a=(0,o.default)("v5",80,s.default);l.default=a},{"./sha1.js":534,"./v35.js":538}],541:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./regex.js"))&&o.__esModule?o:{default:o},u=function(a){return typeof a=="string"&&s.default.test(a)};l.default=u},{"./regex.js":532}],542:[function(e,r,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o,s=(o=e("./validate.js"))&&o.__esModule?o:{default:o},u=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)};l.default=u},{"./validate.js":541}],543:[function(e,r,l){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR=`	
\r ---`,l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isS=function(s){return s===32||s===10||s===13||s===9},l.isNameStartChar=o,l.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(e,r,l){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR="---",l.RESTRICTED_CHAR="-\b\v\f---",l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.RESTRICTED_CHAR_RE=new RegExp("^["+l.RESTRICTED_CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},l.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isS=function(s){return s===32||s===10||s===13||s===9},l.isNameStartChar=o,l.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(e,r,l){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function o(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(l,"__esModule",{value:!0}),l.NC_NAME_START_CHAR="A-Z_a-z------------",l.NC_NAME_CHAR="-"+l.NC_NAME_START_CHAR+".0-9--",l.NC_NAME_START_CHAR_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]$","u"),l.NC_NAME_CHAR_RE=new RegExp("^["+l.NC_NAME_CHAR+"]$","u"),l.NC_NAME_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]["+l.NC_NAME_CHAR+"]*$","u"),l.isNCNameStartChar=o,l.isNCNameChar=function(s){return o(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})})(J0);var A6=J0.exports;const I6={type:Ye.ARRAY,items:{type:Ye.OBJECT,properties:{name:{type:Ye.STRING},contactInfo:{type:Ye.STRING},role:{type:Ye.STRING},rate:{type:Ye.NUMBER},currency:{type:Ye.STRING},skills:{type:Ye.ARRAY,items:{type:Ye.STRING}},bio:{type:Ye.STRING},status:{type:Ye.STRING},timezone:{type:Ye.STRING}},required:["name","role","rate"]}},M6={type:Ye.ARRAY,items:{type:Ye.OBJECT,properties:{name:{type:Ye.STRING},clientName:{type:Ye.STRING},description:{type:Ye.STRING},priority:{type:Ye.STRING},status:{type:Ye.STRING},budget:{type:Ye.STRING},startDate:{type:Ye.STRING},dueDate:{type:Ye.STRING},tags:{type:Ye.ARRAY,items:{type:Ye.STRING}}},required:["name","clientName"]}},R6=({onImport:t,existingFreelancers:n=[],existingProjects:e=[]})=>{const[r,l]=ae.useState("freelancer"),[o,s]=ae.useState("excel"),[u,a]=ae.useState(1),[i,c]=ae.useState(null),[h,d]=ae.useState(""),[f,b]=ae.useState(!1),[y,p]=ae.useState(0),[g,m]=ae.useState("IDLE"),[x,C]=ae.useState([]),[I,D]=ae.useState([]),[z,O]=ae.useState(null),B=async(R,k,v,_)=>{m(v);const w=10,S=(k-R)/w;for(let N=0;N<w;N++)await new Promise(j=>setTimeout(j,_/w)),p(j=>Math.min(j+S,k))},V=async R=>{c(R),b(!0),p(0);try{if(await B(0,30,"ENCRYPTING & UPLOADING STREAM",1200),await B(30,50,"DISPATCHING JOB TO WORKER QUEUE",800),O(`job-${Date.now().toString().slice(-6)}`),await B(50,80,"WORKER: PARSING BINARY DATA",1500),R.name.endsWith(".xlsx")||R.name.endsWith(".csv")){const k=await R.arrayBuffer(),v=new A6.Workbook;await v.xlsx.load(k);const _=v.worksheets[0],w=[];_.eachRow({includeEmpty:!1},(S,N)=>{const j=S.values;w.push(j.slice(1))}),w.length>0&&(D(w[0]),C(w.slice(1)))}else{await B(50,60,"UPLOADING TO SECURE STORAGE",500);const v=(await it.assets.upload(R)).data;await B(60,80,"BACKEND: DEEP READING & OCR",1500);const _=await it.knowledge.createFromAsset("global",v.id,v);if(_.data.status==="error")throw new Error("Text extraction failed on server.");const w=_.data.originalContent;if(!w)throw new Error("No text content extracted.");await H(w)}await B(80,100,"VALIDATING SCHEMA",500),a(2)}catch(k){console.error(k),alert(`Import Failed: ${k.message}`)}finally{b(!1)}},q=async()=>{if(h.trim()){b(!0),p(0);try{await B(0,40,"STREAMING TEXT TO VECTOR STORE",1e3),await B(40,80,"GEMINI 2.0: STRUCTURING UNSTRUCTURED DATA",2500),await H(h),await B(80,100,"FINALIZING",200),a(2)}catch(R){console.error(R),alert("Analysis Failed")}finally{b(!1)}}},H=async R=>{const k=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),_=r==="freelancer"?I6:M6,w=await Wr(k,{model:"gemini-2.0-flash-exp",contents:`Extract data. Return strict JSON. Content: ${R.slice(0,25e3)}`,config:{responseMimeType:"application/json",responseSchema:_}}),S=typeof w.text=="function"?w.text():w.text;if(!S||typeof S!="string")throw new Error("Invalid AI response format");const N=JSON.parse(S),j=Array.isArray(N)?N:[];if(j.length>0){const U=j[0],G=Object.keys(U);D(G),C(j.map(W=>Object.values(W)))}},E=async()=>{b(!0),await B(0,100,"ATOMIC DATABASE COMMIT",1500);const R=x.map(k=>{const v={};return I.forEach((_,w)=>{v[_]=k[w]}),v.id||(v.id=`${r==="freelancer"?"f":"p"}-${Date.now()}-${Math.random().toString(36).substr(2,5)}`),r==="freelancer"&&!v.avatar&&(v.avatar=`https://ui-avatars.com/api/?name=${encodeURIComponent(v.name||"User")}&background=random`),r==="project"&&!v.status&&(v.status=Sn.PLANNED),r==="freelancer"&&!v.status&&(v.status=Xn.ACTIVE),v});t(r,R),b(!1),a(4)};return A.jsxs("div",{className:"p-12 max-w-6xl mx-auto min-h-screen flex flex-col font-sans text-ink-primary animate-enter",children:[A.jsxs("div",{className:"flex items-center justify-between mb-12",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-4xl font-display font-bold tracking-tighter text-ink-primary",children:"Data Ingestion Portal"}),A.jsx("div",{className:"flex items-center gap-3 mt-2",children:A.jsxs("p",{className:"text-xs text-ink-secondary uppercase tracking-widest font-bold",children:["Pipeline v2.4 ",A.jsx("span",{className:"text-border-hover mx-2",children:"|"})," Secure TLS 1.3"]})})]}),A.jsx(yn,{to:"/",className:"text-ink-tertiary hover:text-ink-primary p-3 rounded-full hover:bg-subtle transition-colors",children:A.jsx(Rn,{size:24})})]}),A.jsx("div",{className:"flex items-center gap-4 mb-10",children:[1,2,3,4].map(R=>A.jsx("div",{className:`h-1 rounded-full flex-1 transition-all duration-700 ${R<=u?"bg-ink-primary":"bg-border-subtle"}`},R))}),u===1&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[A.jsxs("button",{onClick:()=>l("freelancer"),className:`p-10 rounded-3xl transition-all duration-300 group relative text-left border ${r==="freelancer"?"bg-ink-primary text-white border-ink-primary shadow-card":"bg-surface text-ink-secondary border-border-subtle hover:border-ink-secondary"}`,children:[A.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[A.jsx("div",{className:`p-3 rounded-xl ${r==="freelancer"?"bg-white/20 text-white":"bg-subtle text-ink-secondary"}`,children:A.jsx(y0,{size:24})}),A.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Roster Import"})]}),A.jsx("p",{className:`text-xs font-medium leading-relaxed ${r==="freelancer"?"text-white/70":"text-ink-tertiary"}`,children:"Bulk ingest talent profiles via Excel or Resume PDF. AI auto-extraction enabled."})]}),A.jsxs("button",{onClick:()=>l("project"),className:`p-10 rounded-3xl transition-all duration-300 group relative text-left border ${r==="project"?"bg-ink-primary text-white border-ink-primary shadow-card":"bg-surface text-ink-secondary border-border-subtle hover:border-ink-secondary"}`,children:[A.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[A.jsx("div",{className:`p-3 rounded-xl ${r==="project"?"bg-white/20 text-white":"bg-subtle text-ink-secondary"}`,children:A.jsx(d0,{size:24})}),A.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Project Import"})]}),A.jsx("p",{className:`text-xs font-medium leading-relaxed ${r==="project"?"text-white/70":"text-ink-tertiary"}`,children:"Ingest campaign briefs or manifests. AI extracts dates, budgets, and roles."})]})]}),A.jsxs("div",{className:"bg-surface border border-border-subtle rounded-3xl flex-1 flex flex-col shadow-card overflow-hidden min-h-[500px]",children:[A.jsxs("div",{className:"px-10 pt-10 flex gap-8 border-b border-border-subtle",children:[A.jsx("button",{onClick:()=>s("excel"),className:`pb-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${o==="excel"?"border-ink-primary text-ink-primary":"border-transparent text-ink-tertiary hover:text-ink-secondary"}`,children:"Upload Binary"}),A.jsx("button",{onClick:()=>s("paste"),className:`pb-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${o==="paste"?"border-ink-primary text-ink-primary":"border-transparent text-ink-tertiary hover:text-ink-secondary"}`,children:"Raw Text Stream"})]}),A.jsxs("div",{className:"flex-1 flex flex-col p-12 bg-app/50 relative",children:[f&&A.jsx("div",{className:"absolute inset-0 z-50 bg-surface/90 backdrop-blur-lg flex flex-col items-center justify-center animate-in fade-in duration-500",children:A.jsxs("div",{className:"w-96 text-center space-y-6",children:[A.jsxs("div",{className:"relative w-24 h-24 mx-auto flex items-center justify-center",children:[A.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-border-subtle"}),A.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-ink-primary border-r-transparent border-b-transparent border-l-transparent animate-spin"}),A.jsx(bv,{size:32,className:"text-ink-primary animate-pulse"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"text-2xl font-display font-bold text-ink-primary tracking-tight",children:[Math.round(y),"%"]}),A.jsxs("div",{className:"text-[10px] font-bold text-edge-teal uppercase tracking-widest flex items-center justify-center gap-2",children:[A.jsx(c0,{size:12,className:"animate-bounce"}),g]})]}),A.jsxs("div",{className:"w-full bg-ink-primary rounded-lg p-4 text-left font-mono text-[10px] text-green-400 h-24 overflow-hidden relative shadow-inner border border-ink-secondary",children:[A.jsx("div",{className:"opacity-50 absolute top-2 right-2 text-[8px] uppercase",children:"System Log"}),A.jsx("p",{children:"> Initiating secure handshake..."}),A.jsx("p",{children:"> Stream opened (Port 443)"}),z&&A.jsxs("p",{children:["> Job Assigned: ",z]}),y>50&&A.jsx("p",{children:"> Worker Node 04: Analyzing payload..."}),y>80&&A.jsx("p",{children:"> Structuring data models..."}),A.jsx("div",{className:"animate-pulse mt-1",children:"_"})]})]})}),o==="excel"?A.jsxs("div",{className:`w-full h-full border-2 border-dashed rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all min-h-[300px] group ${i?"border-state-success bg-state-success-bg/10":"border-border-subtle hover:border-ink-primary hover:bg-white"}`,onClick:()=>{var R;return(R=document.getElementById("fileInput"))==null?void 0:R.click()},onDragOver:R=>R.preventDefault(),onDrop:R=>{R.preventDefault(),R.dataTransfer.files[0]&&V(R.dataTransfer.files[0])},children:[A.jsx("input",{type:"file",id:"fileInput",className:"hidden",onChange:R=>{var k;(k=R.target.files)!=null&&k[0]&&V(R.target.files[0])}}),i?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-16 h-16 bg-state-success-bg rounded-2xl text-state-success flex items-center justify-center mb-6 shadow-sm",children:A.jsx(tv,{size:32})}),A.jsx("p",{className:"font-bold text-ink-primary text-sm",children:i.name})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-16 h-16 bg-white border border-border-subtle rounded-2xl text-ink-tertiary group-hover:text-ink-primary flex items-center justify-center mb-6 shadow-float transition-colors",children:A.jsx(Ws,{size:32})}),A.jsx("p",{className:"font-bold text-ink-primary text-sm uppercase tracking-wide",children:"Drop Asset (XLSX, CSV, PDF)"}),A.jsx("p",{className:"text-ink-tertiary text-xs mt-2 font-medium",children:"Maximum payload: 500MB"})]})]}):A.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[A.jsx("div",{className:"relative flex-1",children:A.jsx("textarea",{className:"absolute inset-0 w-full h-full p-8 bg-white border border-border-subtle rounded-2xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm font-mono resize-none shadow-sm placeholder-ink-tertiary/50 text-ink-primary custom-scrollbar leading-relaxed",placeholder:"// Paste raw unstructured text here...",value:h,onChange:R=>d(R.target.value)})}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"text-[10px] text-ink-tertiary font-bold uppercase tracking-widest flex items-center gap-2",children:[A.jsx(p0,{size:12})," Neural Processing Enabled"]}),A.jsxs("button",{onClick:q,disabled:!h.trim()||f,className:"px-8 py-4 bg-ink-primary text-white rounded-2xl text-xs font-bold uppercase tracking-widest hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center gap-3 disabled:opacity-50",children:[A.jsx($r,{size:14})," Initiate Analysis"]})]})]})]})]})]}),u===2&&A.jsxs("div",{className:"flex-1 flex flex-col gap-8 animate-in slide-in-from-bottom-4 duration-500",children:[A.jsx("div",{className:"bg-surface border border-border-subtle rounded-3xl overflow-hidden shadow-card flex-1 overflow-x-auto relative",children:A.jsxs("table",{className:"w-full text-left",children:[A.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:A.jsx("tr",{children:I.map(R=>A.jsx("th",{className:`px-8 py-6 text-[10px] font-bold uppercase tracking-widest ${["name","email","role"].includes(R.toLowerCase())?"text-ink-primary":"text-ink-tertiary"}`,children:R},R))})}),A.jsx("tbody",{className:"divide-y divide-border-subtle",children:x.slice(0,10).map((R,k)=>A.jsx("tr",{className:"hover:bg-subtle/30 transition-colors",children:R.map((v,_)=>A.jsx("td",{className:"px-8 py-4 text-xs text-ink-secondary font-medium whitespace-nowrap max-w-[250px] truncate",children:Array.isArray(v)?v.join(", "):String(v)},_))},k))})]})}),A.jsxs("div",{className:"flex justify-end gap-4",children:[A.jsx("button",{onClick:()=>{a(1),c(null),d(""),O(null)},className:"px-6 py-3 text-ink-secondary hover:text-ink-primary font-bold uppercase tracking-wide hover:bg-subtle rounded-xl text-xs transition-colors",children:"Abort"}),A.jsxs("button",{onClick:()=>a(3),className:"px-8 py-3 bg-ink-primary text-white font-bold rounded-xl text-xs uppercase tracking-widest hover:bg-black shadow-lg flex items-center gap-3",children:["Review Impact ",A.jsx(Wa,{size:14})]})]})]}),u===3&&A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center animate-in slide-in-from-bottom-8 duration-500",children:[A.jsxs("div",{className:"w-full max-w-3xl grid grid-cols-3 gap-8 mb-12",children:[A.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center",children:[A.jsx("div",{className:"w-12 h-12 rounded-2xl bg-state-success-bg text-state-success flex items-center justify-center mb-4",children:A.jsx(Qs,{size:24})}),A.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"12"}),A.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"New Records"})]}),A.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center",children:[A.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center mb-4",children:A.jsx(ba,{size:24})}),A.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"4"}),A.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Updates"})]}),A.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center opacity-50",children:[A.jsx("div",{className:"w-12 h-12 rounded-2xl bg-state-danger-bg text-state-danger flex items-center justify-center mb-4",children:A.jsx(Ga,{size:24})}),A.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"0"}),A.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Conflicts"})]})]}),A.jsxs("button",{onClick:E,disabled:f,className:"w-full max-w-md px-8 py-5 bg-ink-primary text-white font-bold rounded-2xl text-sm uppercase tracking-widest hover:bg-black shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center justify-center gap-3 disabled:opacity-70",children:[f?A.jsx(_n,{className:"animate-spin"}):A.jsx(ya,{size:20}),f?"Committing Transaction...":"Execute Commit"]})]}),u===4&&A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center animate-in zoom-in-95 duration-500",children:[A.jsx("div",{className:"w-24 h-24 bg-state-success-bg rounded-3xl text-state-success flex items-center justify-center mb-8 shadow-lg shadow-state-success/20",children:A.jsx(ya,{size:48,strokeWidth:3})}),A.jsx("h2",{className:"text-4xl font-display font-bold text-ink-primary mb-4 tracking-tighter",children:"Ingestion Complete"}),A.jsxs("p",{className:"text-ink-secondary mb-12 text-sm font-medium max-w-md leading-relaxed",children:["Data has been successfully synchronized to the Master Node.",z&&A.jsxs("span",{className:"block mt-4 text-[10px] uppercase tracking-widest font-bold text-edge-teal font-mono",children:["Job ID: ",z]})]}),A.jsxs("div",{className:"flex gap-6",children:[A.jsx("button",{onClick:()=>{a(1),c(null),d(""),O(null)},className:"px-8 py-4 bg-surface border border-border-subtle text-ink-primary font-bold hover:border-ink-tertiary transition-all rounded-2xl text-xs uppercase tracking-widest shadow-sm",children:"New Stream"}),A.jsx(yn,{to:r==="freelancer"?"/freelancers":"/projects",className:"px-8 py-4 bg-ink-primary text-white font-bold hover:bg-black transition-all rounded-2xl text-xs uppercase tracking-widest shadow-lg",children:"View Roster"})]})]})]})},P6=({projects:t,assignments:n,freelancers:e})=>{const{token:r}=Dc(),[l,o]=ae.useState(!0),[s,u]=ae.useState(void 0),[a,i]=ae.useState({assignments:[],freelancers:[]});if(ae.useEffect(()=>{const b=t.length===0&&!!r;(async()=>{try{if(b){console.log("Guest Access: Loading Public Data...");const[p,g,m]=await Promise.all([it.projects.list(),it.assignments.list(),it.freelancers.list()]),x=p.data.find(C=>C.shareToken===r);x&&(u(x),i({assignments:g.data,freelancers:m.data}))}else{const p=t.find(g=>g.shareToken===r);p&&(u(p),i({assignments:n,freelancers:e}))}}catch(p){console.error("Failed to load project data",p)}finally{o(!1)}})()},[r,t.length]),l)return A.jsx("div",{className:"min-h-screen bg-[#F5F5F7] flex items-center justify-center font-sans",children:A.jsxs("div",{className:"flex flex-col items-center gap-4 text-pencil",children:[A.jsx(_n,{size:32,className:"animate-spin text-indigo-500"}),A.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Verifying Secure Link..."})]})});if(!s||s.shareTokenRevokedAt)return A.jsx("div",{className:"min-h-screen bg-[#F4F4F0] flex items-center justify-center font-sans",children:A.jsxs("div",{className:"bg-white p-16 border border-mist text-center max-w-lg rounded-3xl shadow-soft",children:[A.jsx("div",{className:"w-16 h-16 bg-gray-50 text-pencil border border-mist flex items-center justify-center mx-auto mb-8 rounded-2xl",children:A.jsx(pf,{size:24})}),A.jsx("h2",{className:"text-2xl font-semibold text-ink mb-3 tracking-tight",children:"Access Revoked"}),A.jsxs("p",{className:"text-pencil text-xs font-bold uppercase tracking-widest leading-relaxed",children:["This secure link has expired or is invalid.",A.jsx("br",{}),"Please contact the studio administrator."]})]})});const c=a.assignments.filter(b=>b.projectId===s.id),h=c.length,d=s.roleRequirements.reduce((b,y)=>b+y.count,0),f=d>0?Math.round(h/d*100):0;return A.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] font-sans text-ink",children:[A.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-mist sticky top-0 z-10",children:A.jsxs("div",{className:"max-w-5xl mx-auto px-10 h-24 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Studio."}),A.jsx("div",{className:"w-10 h-10 bg-ink flex items-center justify-center text-white font-bold text-lg rounded-xl shadow-sm",children:A.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]}),A.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-pencil font-bold uppercase tracking-widest border border-mist px-4 py-1.5 bg-gray-50 rounded-full",children:[A.jsx(pf,{size:12})," External View"]})]})}),A.jsxs("div",{className:"max-w-5xl mx-auto px-10 py-20 animate-in fade-in duration-700",children:[A.jsxs("div",{className:"bg-white border border-mist mb-16 rounded-3xl shadow-soft overflow-hidden",children:[A.jsx("div",{className:"p-12 border-b border-mist bg-white",children:A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-10",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-pencil font-bold mb-4 uppercase tracking-widest text-[10px]",children:s.clientName||"Client Confidential"}),A.jsx("h1",{className:"text-6xl font-semibold mb-6 text-ink leading-[0.9] tracking-tighter",children:s.name}),A.jsxs("div",{className:"flex items-center gap-4 text-sm mt-8",children:[A.jsx("span",{className:"bg-ink text-white px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest rounded-lg shadow-sm",children:s.status}),s.dueDate&&A.jsxs("span",{className:"flex items-center gap-2 font-mono text-xs font-bold text-ink bg-gray-50 px-3 py-1.5 rounded-lg border border-mist",children:[A.jsx(Ka,{size:12})," Due ",new Date(s.dueDate).toLocaleDateString()]})]})]}),A.jsxs("div",{className:"text-right hidden md:block",children:[A.jsxs("div",{className:"text-7xl font-light text-ink tracking-tighter",children:[f,"%"]}),A.jsx("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest mt-2",children:"Staffing Complete"})]})]})}),A.jsxs("div",{className:"p-12",children:[A.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-10 border-b border-mist pb-4",children:"Roster Assignment"}),A.jsx("div",{className:"space-y-10",children:s.roleRequirements.map(b=>{const y=c.filter(p=>p.role===b.role);return A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-5",children:[A.jsx("h4",{className:"text-xl font-semibold text-ink tracking-tight",children:b.role}),A.jsxs("span",{className:"text-xs font-mono font-bold text-pencil bg-canvas px-2 py-1 rounded border border-mist",children:[y.length," / ",b.count," Filled"]})]}),y.length>0?A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(p=>{const g=a.freelancers.find(m=>m.id===p.freelancerId);return A.jsxs("div",{className:"flex items-center gap-5 p-5 bg-white border border-mist rounded-2xl shadow-sm",children:[(g==null?void 0:g.avatar)&&A.jsx("img",{src:g.avatar,className:"w-12 h-12 border border-mist object-cover grayscale rounded-full"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold text-ink text-sm tracking-tight mb-1",children:(g==null?void 0:g.name)||"Unknown"}),A.jsxs("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-wide",children:[new Date(p.startDate).toLocaleDateString(),"  ",new Date(p.endDate).toLocaleDateString()]})]})]},p.id)})}):A.jsx("div",{className:"p-6 border border-dashed border-mist text-center text-xs text-pencil font-bold uppercase tracking-widest bg-gray-50/30 rounded-2xl",children:"Pending Assignment"})]},b.id)})})]})]}),A.jsx("div",{className:"text-center text-pencil/50 text-[10px] font-bold uppercase tracking-widest",children:"Studio Roster OS  2025"})]})]})},D6=({projects:t,freelancers:n,assignments:e,onSaveScript:r})=>{var w;const[l,o]=jb(),s=l.get("project"),[u,a]=ae.useState(""),[i,c]=ae.useState(""),[h,d]=ae.useState(""),[f,b]=ae.useState(""),[y,p]=ae.useState(!0),[g,m]=ae.useState(!1),[x,C]=ae.useState([]),[I,D]=ae.useState([]),[z,O]=ae.useState(!1),[B,V]=ae.useState(!1),q=t.find(S=>S.id===i),H=((w=q==null?void 0:q.knowledgeBase)==null?void 0:w.map(S=>`[${S.category}] ${S.title}: ${S.content.substring(0,500)}...`).join(`

`))||"";ae.useEffect(()=>{s&&s!==i&&c(s)},[s]),ae.useEffect(()=>{var S,N;if(q){const j=[];(S=q.knowledgeBase)==null||S.forEach(U=>{const G={General:"url",Research:"wiki",Technical:"file",Brand:"text"};j.push({id:U.id,type:G[U.category]||"text",title:U.title,originalContent:U.content,summary:`Project Context (${U.category})`,status:"indexed",chunks:[],createdAt:U.updatedAt})}),(N=q.toneAttributes)!=null&&N.length&&j.push({id:"tone-1",type:"text",title:"Tone & Mood",originalContent:q.toneAttributes.join(", "),summary:"Creative Direction",status:"indexed",chunks:[],createdAt:new Date().toISOString()}),q.brandGuidelines&&j.push({id:"brand-1",type:"text",title:"Brand Guidelines",originalContent:`DO: ${q.brandGuidelines.dos.join(", ")}. DONT: ${q.brandGuidelines.donts.join(", ")}`,summary:"Brand Rules",status:"indexed",chunks:[],createdAt:new Date().toISOString()}),C(j)}},[q==null?void 0:q.id,q==null?void 0:q.updatedAt]);const E=async(S,N)=>{if(S==="update_script"){const j=N.content;return a(U=>N.mode==="replace"?j:U?U+`
`+j:j),setTimeout(()=>R(j),1e3),{status:"success",message:"Editor updated"}}if(S==="generate_rag_content"&&q)try{return{status:"success",content:await _6.generate(N.prompt,x,q)}}catch{return{status:"error",message:"RAG Generation failed"}}return{status:"error",message:"Unknown tool"}},R=async S=>{var U,G,W;if(!q||!S)return;O(!0);const N=[...q.tags||[],"Maintain consistent voice",...q.toneAttributes||[],...(((U=q.brandGuidelines)==null?void 0:U.dos)||[]).map(J=>`Do: ${J}`),...(((G=q.brandGuidelines)==null?void 0:G.donts)||[]).map(J=>`Don't: ${J}`),...((W=q.knowledgeBase)==null?void 0:W.map(J=>J.content.slice(0,50)))||[]],j=await w6.validate(S,N);D(j.violations),O(!1)},k=async()=>{if(u.trim()){V(!0);try{const S=new Gr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),N=`Refine and structure this creative writing. Use markdown headers and bullet points. Content: ${u}`,j=await Wr(S,{model:"gemini-2.5-flash",contents:N});j.text&&(a(j.text),setTimeout(()=>R(j.text),500))}catch(S){console.error(S)}finally{V(!1)}}},v=async()=>{if(r){const S=await r({id:f||`scr-${Date.now()}`,title:h||"Untitled Script",content:u,version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),projectId:i});b(S.id),o(N=>(N.set("script",S.id),N))}},_=async S=>{if(S.preventDefault(),S.stopPropagation(),m(!1),S.dataTransfer.files&&S.dataTransfer.files[0]){const N=S.dataTransfer.files[0];try{const j=await K0.ingestFile(N);a(U=>U?U+`

`+j.originalContent:j.originalContent)}catch(j){console.error(j),alert("Could not read file.")}}};return A.jsxs("div",{className:"flex h-[calc(100vh-64px)] min-h-[600px] bg-[#F5F5F7] font-sans text-gray-900 overflow-hidden",children:[A.jsxs("div",{className:"flex-1 flex flex-col relative bg-white shadow-soft z-10 mx-6 my-6 rounded-2xl border border-gray-100 overflow-hidden",onDragOver:S=>{S.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:_,children:[g&&A.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-md flex flex-col items-center justify-center border-2 border-indigo-500 border-dashed m-3 rounded-xl transition-all duration-300",children:[A.jsx(Wi,{size:48,className:"text-indigo-600 mb-3 animate-bounce"}),A.jsx("h3",{className:"text-xl font-bold text-indigo-900 tracking-tight",children:"Drop to Import"}),A.jsx("p",{className:"text-sm text-indigo-700 font-medium",children:"Appends file content to editor"})]}),A.jsxs("div",{className:"h-16 border-b border-gray-100 bg-white/80 backdrop-blur-sm flex items-center justify-between px-6 sticky top-0 z-30",children:[A.jsx("div",{className:"flex items-center gap-4",children:A.jsxs("select",{value:i,onChange:S=>{c(S.target.value),o(N=>(N.set("project",S.target.value),N))},className:"bg-transparent text-xs font-bold text-gray-700 focus:outline-none cursor-pointer hover:bg-gray-50 px-3 py-2 rounded-lg transition-colors border border-transparent hover:border-gray-100 uppercase tracking-wide",children:[A.jsx("option",{value:"",children:"Select Context..."}),t.map(S=>A.jsx("option",{value:S.id,children:S.name},S.id))]})}),A.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 hidden md:flex items-center gap-2",children:A.jsx("input",{type:"text",value:h,onChange:S=>d(S.target.value),placeholder:"Untitled Script",className:"text-center text-sm font-semibold text-gray-900 focus:outline-none placeholder-gray-300 hover:bg-gray-50 rounded-lg px-4 py-1.5 transition-colors tracking-tight"})}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("button",{onClick:k,disabled:B,className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-50",children:B?A.jsx(_n,{size:18,className:"animate-spin"}):A.jsx($r,{size:18})}),A.jsxs("button",{onClick:v,className:"bg-gray-900 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-black transition-all flex items-center gap-2 shadow-sm uppercase tracking-widest",children:[A.jsx(mv,{size:14})," Save"]}),A.jsx("div",{className:"h-6 w-px bg-gray-100 mx-1"}),A.jsx("button",{onClick:()=>p(!y),className:`p-2 rounded-lg transition-colors ${y?"bg-indigo-50 text-indigo-600":"text-gray-400 hover:text-gray-900 hover:bg-gray-50"}`,children:A.jsx(hv,{size:20})})]})]}),A.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[!i&&A.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50/50 z-20 pointer-events-none backdrop-blur-[2px]",children:A.jsx("p",{className:"text-sm text-gray-400 font-medium tracking-wide",children:"Select a project to enable AI tools"})}),A.jsx("textarea",{className:"absolute inset-0 w-full h-full p-10 resize-none focus:outline-none font-mono text-sm leading-8 text-gray-800 z-10 bg-transparent custom-scrollbar",value:u,onChange:S=>a(S.target.value),spellCheck:!1,placeholder:"Start writing or drop a text file here..."})]}),A.jsxs("div",{className:"h-10 border-t border-gray-100 bg-gray-50/50 flex items-center justify-between px-6 text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:[A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsxs("span",{children:[u.length," chars"]}),A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(Qs,{size:12,className:"text-gray-400"})," ",x.length," active sources"]})]}),A.jsx("div",{children:z?A.jsxs("span",{className:"text-amber-500 flex items-center gap-2",children:[A.jsx(vv,{size:14})," Scanning Content..."]}):I.length>0?A.jsxs("span",{className:"text-rose-500 flex items-center gap-2",children:[A.jsx(Ga,{size:14})," ",I.length," Issues Detected"]}):A.jsxs("span",{className:"text-emerald-600 flex items-center gap-2",children:[A.jsx(Gb,{size:14})," Guard Active"]})})]})]}),A.jsx("div",{className:`flex-shrink-0 border-l border-gray-100 bg-white z-20 transition-all duration-500 cubic-bezier(0.2,0.8,0.2,1) ${y?"w-[420px] translate-x-0":"w-0 translate-x-full opacity-0 overflow-hidden"}`,children:A.jsx("div",{className:"w-[420px] h-full",children:A.jsx(q0,{freelancers:n,projects:t,assignments:e,onCallAction:E,agentMode:!0,customTitle:"Creative Assistant",contextData:H},i||"default")})})]})},j6=t=>{const n=Zi();return A.jsx(h6,{...t,onCallAction:(e,r)=>t.onAgentAction(e,r,n)})},L6=()=>{const[t,n]=ae.useState(!1),[e,r]=ae.useState(!0),[l,o]=ae.useState(()=>ar("freelancers",[])),[s,u]=ae.useState(()=>ar("projects",[])),[a,i]=ae.useState(()=>ar("assignments",[])),[c,h]=ae.useState(()=>ar("scripts",[])),[d,f]=ae.useState([]),b=async()=>{try{const[E,R,k,v]=await Promise.all([it.freelancers.list({limit:1e3}),it.projects.list({limit:1e3}),it.assignments.list({limit:5e3}),it.scripts.list({limit:1e3})]);o(E.data||[]),u(R.data||[]),i(k.data||[]),h(v.data||[])}catch(E){console.error("Failed to fetch data",E)}finally{r(!1)}};ae.useEffect(()=>{localStorage.getItem("studio_roster_v1_auth_token")?(n(!0),b()):r(!1)},[]);const y=(E,R)=>{const k={id:`log-${Date.now()}`,action:E,details:R,timestamp:"Just now",user:"You"};f(v=>[k,...v])},p=async(E,R)=>{r(!0);try{if(E==="freelancer"){const k=await it.freelancers.importBatch(R);y("Import Completed",`Imported/Updated ${k.data.created+k.data.updated} freelancers.`)}else{const k=await it.projects.importBatch(R);y("Import Completed",`Imported/Updated ${k.data.created+k.data.updated} projects.`)}await b()}catch{alert("Import Failed")}finally{r(!1)}},g=async E=>{const R=await it.freelancers.update(E);o(k=>k.map(v=>v.id===R.data.id?R.data:v)),y("Freelancer Updated",`Updated profile for ${R.data.name}`)},m=async E=>{await it.freelancers.delete(E),o(R=>R.filter(k=>k.id!==E)),i(R=>R.filter(k=>k.freelancerId!==E)),y("Freelancer Deleted","Removed freelancer from roster")},x=async E=>{const R=await it.projects.update(E);u(k=>k.map(v=>v.id===R.data.id?R.data:v))},C=async E=>{await it.projects.delete(E),u(R=>R.filter(k=>k.id!==E)),i(R=>R.filter(k=>k.projectId!==E)),y("Project Deleted","Deleted project and associated assignments")},I=async E=>{window.confirm(`Are you sure you want to delete ${E.length} projects? This action cannot be undone.`)&&(await it.projects.deleteBatch(E),u(R=>R.filter(k=>!E.includes(k.id))),i(R=>R.filter(k=>!E.includes(k.projectId))),y("Batch Delete",`Deleted ${E.length} projects`))},D=(E,R,k,v)=>{const _=new Date(R),w=new Date(k);return a.find(S=>{if(S.freelancerId!==E||v&&S.id===v)return!1;const N=new Date(S.startDate),j=new Date(S.endDate);return N<=w&&j>=_})},z=async E=>{var R,k;try{const v=a.find(w=>w.id===E.id);let _;if(v)_=await it.assignments.update(E),i(w=>w.map(S=>S.id===E.id?_.data:S)),y("Assignment Updated","Updated assignment details");else{_=await it.assignments.create(E),i(j=>[...j,_.data]);const w=((R=l.find(j=>j.id===_.data.freelancerId))==null?void 0:R.name)||"Unknown",S=((k=s.find(j=>j.id===_.data.projectId))==null?void 0:k.name)||"Unknown";y("Assignment Confirmed",`${w} assigned to ${S}`);const N=await it.projects.list({limit:1e3});u(N.data)}}catch(v){v.message==="CONFLICT_DETECTED"&&alert("Server Conflict: Assignment overlaps with existing booking.")}},O=async E=>{const R={id:`p-${Date.now()}`,name:(E==null?void 0:E.name)||"New Project",clientName:E==null?void 0:E.clientName,status:(E==null?void 0:E.status)||Sn.PLANNED,priority:(E==null?void 0:E.priority)||Pn.NORMAL,description:E==null?void 0:E.description,category:E==null?void 0:E.category,startDate:E==null?void 0:E.startDate,dueDate:E==null?void 0:E.dueDate,roleRequirements:(E==null?void 0:E.roleRequirements)||[],tags:E==null?void 0:E.tags,notes:E==null?void 0:E.notes,createdAt:new Date().toISOString()},k=await it.projects.create(R);return u(v=>[...v,k.data]),y("Project Created",`Created new project: ${R.name}`),k.data},B=async E=>{const R={id:`f-${Date.now()}`,name:(E==null?void 0:E.name)||"New Talent",role:(E==null?void 0:E.role)||"Generalist",skills:[],rate:(E==null?void 0:E.rate)||0,currency:"USD",timezone:"UTC",status:Xn.ACTIVE,contactInfo:(E==null?void 0:E.contactInfo)||"email@example.com",utilization:0,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent((E==null?void 0:E.name)||"New Talent")}&background=random`},k=await it.freelancers.create(R);return o(v=>[...v,k.data]),y("Talent Added",`Added new freelancer: ${R.name}`),k.data},V=async E=>{var v;const R=await it.scripts.create(E);h(_=>_.find(S=>S.id===E.id)?_.map(S=>S.id===E.id?R.data:S):[..._,R.data]);const k=((v=s.find(_=>_.id===E.projectId))==null?void 0:v.name)||"Unknown Project";return y("Script Saved",`Saved "${E.title}" to ${k}`),R.data},q=async E=>{try{await it.auth.login(E),n(!0)}catch(R){throw console.error("Auth Error:",R),R}},H=async(E,R,k)=>{var v,_,w;switch(E){case"create_project":return await O(R);case"update_project":const S=s.find(j=>j.id===R.id);if(S){const j={...S,...R};return await x(j),j}throw new Error("Project not found");case"create_freelancer":return await B(R);case"assign_freelancer":const N={id:`asn-${Date.now()}`,projectId:R.projectId,freelancerId:R.freelancerId,role:R.role||"Contributor",startDate:R.startDate||new Date().toISOString(),endDate:R.endDate||new Date(Date.now()+864e5*7).toISOString(),allocation:100,status:"Confirmed"};return await z(N),{status:"Assigned"};case"navigate":return k(R.path),{status:"Navigated"};case"get_storage_info":try{const j=await it.storage.getInfo();return{bucket:((v=j.data)==null?void 0:v.bucket)||"Unknown",project:((_=j.data)==null?void 0:_.projectId)||"Unknown",status:(w=j.data)!=null&&w.configured?"Connected":"Not Configured"}}catch{return{error:"Failed to retrieve storage info"}}default:return{error:"Unknown action"}}};return e?A.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F6F6FA]",children:A.jsx(ba,{className:"animate-spin text-gray-400"})}):t?A.jsx(Ab,{children:A.jsxs(xb,{children:[A.jsxs(vn,{path:"/",element:A.jsx(Ev,{}),children:[A.jsx(vn,{index:!0,element:A.jsx(j6,{projects:s,freelancers:l,assignments:a,onAgentAction:H})}),A.jsx(vn,{path:"projects",element:A.jsx(m6,{projects:s,onCreate:O,onUpdate:x,onDelete:C,onBulkDelete:I})}),A.jsx(vn,{path:"projects/:id",element:A.jsx(E6,{projects:s,freelancers:l,assignments:a,onAssign:z,checkConflict:D,onUpdateProject:x})}),A.jsx(vn,{path:"freelancers",element:A.jsx(g6,{freelancers:l,assignments:a,onCreate:()=>B()})}),A.jsx(vn,{path:"freelancers/:id",element:A.jsx(b6,{freelancers:l,projects:s,assignments:a,onUpdate:g,onDelete:m})}),A.jsx(vn,{path:"assignments",element:A.jsx(N6,{freelancers:l,projects:s,assignments:a,onAssign:z,checkConflict:D})}),A.jsx(vn,{path:"studio",element:A.jsx(D6,{projects:s,freelancers:l,assignments:a,onSaveScript:V})}),A.jsx(vn,{path:"moodboard",element:A.jsx(Y0,{})}),A.jsx(vn,{path:"imports",element:A.jsx(R6,{onImport:p})})]}),A.jsx(vn,{path:"/public/projects/:token",element:A.jsx(P6,{projects:s,assignments:a,freelancers:l})}),A.jsx(vn,{path:"*",element:A.jsx(yb,{to:"/",replace:!0})})]})}):A.jsx(Nv,{onLogin:q})},X0=document.getElementById("root");if(!X0)throw new Error("Could not find root element to mount to");const O6=Ml.createRoot(X0);O6.render(A.jsx(zu.StrictMode,{children:A.jsx(L6,{})}));
