function g1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var em={exports:{}},fl={},tm={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=Symbol.for("react.element"),v1=Symbol.for("react.portal"),b1=Symbol.for("react.fragment"),x1=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),_1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),k1=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),T1=Symbol.for("react.memo"),E1=Symbol.for("react.lazy"),$d=Symbol.iterator;function N1(n){return n===null||typeof n!="object"?null:(n=$d&&n[$d]||n["@@iterator"],typeof n=="function"?n:null)}var nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rm=Object.assign,im={};function Ss(n,e,t){this.props=n,this.context=e,this.refs=im,this.updater=t||nm}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ss.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function sm(){}sm.prototype=Ss.prototype;function Mc(n,e,t){this.props=n,this.context=e,this.refs=im,this.updater=t||nm}var Rc=Mc.prototype=new sm;Rc.constructor=Mc;rm(Rc,Ss.prototype);Rc.isPureReactComponent=!0;var Hd=Array.isArray,om=Object.prototype.hasOwnProperty,Pc={current:null},am={key:!0,ref:!0,__self:!0,__source:!0};function lm(n,e,t){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)om.call(e,r)&&!am.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=t;else if(1<u){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+2];o.children=l}if(n&&n.defaultProps)for(r in u=n.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Eo,type:n,key:i,ref:a,props:o,_owner:Pc.current}}function A1(n,e){return{$$typeof:Eo,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function jc(n){return typeof n=="object"&&n!==null&&n.$$typeof===Eo}function I1(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var qd=/\/+/g;function Hl(n,e){return typeof n=="object"&&n!==null&&n.key!=null?I1(""+n.key):e.toString(36)}function la(n,e,t,r,o){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Eo:case v1:a=!0}}if(a)return a=n,o=o(a),n=r===""?"."+Hl(a,0):r,Hd(o)?(t="",n!=null&&(t=n.replace(qd,"$&/")+"/"),la(o,e,t,"",function(s){return s})):o!=null&&(jc(o)&&(o=A1(o,t+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(qd,"$&/")+"/")+n)),e.push(o)),1;if(a=0,r=r===""?".":r+":",Hd(n))for(var u=0;u<n.length;u++){i=n[u];var l=r+Hl(i,u);a+=la(i,e,t,l,o)}else if(l=N1(n),typeof l=="function")for(n=l.call(n),u=0;!(i=n.next()).done;)i=i.value,l=r+Hl(i,u++),a+=la(i,e,t,l,o);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vo(n,e,t){if(n==null)return n;var r=[],o=0;return la(n,r,"","",function(i){return e.call(t,i,o++)}),r}function M1(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var _n={current:null},ua={transition:null},R1={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:ua,ReactCurrentOwner:Pc};function um(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Vo,forEach:function(n,e,t){Vo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Vo(n,function(){e++}),e},toArray:function(n){return Vo(n,function(e){return e})||[]},only:function(n){if(!jc(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ft.Component=Ss;ft.Fragment=b1;ft.Profiler=w1;ft.PureComponent=Mc;ft.StrictMode=x1;ft.Suspense=C1;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R1;ft.act=um;ft.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=rm({},n.props),o=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Pc.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(l in e)om.call(e,l)&&!am.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){u=Array(l);for(var s=0;s<l;s++)u[s]=arguments[s+2];r.children=u}return{$$typeof:Eo,type:n.type,key:o,ref:i,props:r,_owner:a}};ft.createContext=function(n){return n={$$typeof:S1,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:_1,_context:n},n.Consumer=n};ft.createElement=lm;ft.createFactory=function(n){var e=lm.bind(null,n);return e.type=n,e};ft.createRef=function(){return{current:null}};ft.forwardRef=function(n){return{$$typeof:k1,render:n}};ft.isValidElement=jc;ft.lazy=function(n){return{$$typeof:E1,_payload:{_status:-1,_result:n},_init:M1}};ft.memo=function(n,e){return{$$typeof:T1,type:n,compare:e===void 0?null:e}};ft.startTransition=function(n){var e=ua.transition;ua.transition={};try{n()}finally{ua.transition=e}};ft.unstable_act=um;ft.useCallback=function(n,e){return _n.current.useCallback(n,e)};ft.useContext=function(n){return _n.current.useContext(n)};ft.useDebugValue=function(){};ft.useDeferredValue=function(n){return _n.current.useDeferredValue(n)};ft.useEffect=function(n,e){return _n.current.useEffect(n,e)};ft.useId=function(){return _n.current.useId()};ft.useImperativeHandle=function(n,e,t){return _n.current.useImperativeHandle(n,e,t)};ft.useInsertionEffect=function(n,e){return _n.current.useInsertionEffect(n,e)};ft.useLayoutEffect=function(n,e){return _n.current.useLayoutEffect(n,e)};ft.useMemo=function(n,e){return _n.current.useMemo(n,e)};ft.useReducer=function(n,e,t){return _n.current.useReducer(n,e,t)};ft.useRef=function(n){return _n.current.useRef(n)};ft.useState=function(n){return _n.current.useState(n)};ft.useSyncExternalStore=function(n,e,t){return _n.current.useSyncExternalStore(n,e,t)};ft.useTransition=function(){return _n.current.useTransition()};ft.version="18.3.1";tm.exports=ft;var oe=tm.exports;const hl=y1(oe),P1=g1({__proto__:null,default:hl},[oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=oe,D1=Symbol.for("react.element"),O1=Symbol.for("react.fragment"),L1=Object.prototype.hasOwnProperty,F1=j1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B1={key:!0,ref:!0,__self:!0,__source:!0};function cm(n,e,t){var r,o={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)L1.call(e,r)&&!B1.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:D1,type:n,key:i,ref:a,props:o,_owner:F1.current}}fl.Fragment=O1;fl.jsx=cm;fl.jsxs=cm;em.exports=fl;var E=em.exports,xu={},dm={exports:{}},Bn={},fm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(w,S){var N=w.length;w.push(S);e:for(;0<N;){var O=N-1>>>1,U=w[O];if(0<o(U,S))w[O]=S,w[N]=U,N=O;else break e}}function t(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var S=w[0],N=w.pop();if(N!==S){w[0]=N;e:for(var O=0,U=w.length,G=U>>>1;O<G;){var W=2*(O+1)-1,J=w[W],F=W+1,Y=w[F];if(0>o(J,N))F<U&&0>o(Y,J)?(w[O]=Y,w[F]=N,O=F):(w[O]=J,w[W]=N,O=W);else if(F<U&&0>o(Y,N))w[O]=Y,w[F]=N,O=F;else break e}}return S}function o(w,S){var N=w.sortIndex-S.sortIndex;return N!==0?N:w.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var l=[],s=[],c=1,h=null,d=3,f=!1,g=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(w){for(var S=t(s);S!==null;){if(S.callback===null)r(s);else if(S.startTime<=w)r(s),S.sortIndex=S.expirationTime,e(l,S);else break;S=t(s)}}function k(w){if(y=!1,x(w),!g)if(t(l)!==null)g=!0,b(I);else{var S=t(s);S!==null&&_(k,S.startTime-w)}}function I(w,S){g=!1,y&&(y=!1,v(L),L=-1),f=!0;var N=d;try{for(x(S),h=t(l);h!==null&&(!(h.expirationTime>S)||w&&!H());){var O=h.callback;if(typeof O=="function"){h.callback=null,d=h.priorityLevel;var U=O(h.expirationTime<=S);S=n.unstable_now(),typeof U=="function"?h.callback=U:h===t(l)&&r(l),x(S)}else r(l);h=t(l)}if(h!==null)var G=!0;else{var W=t(s);W!==null&&_(k,W.startTime-S),G=!1}return G}finally{h=null,d=N,f=!1}}var D=!1,V=null,L=-1,z=5,B=-1;function H(){return!(n.unstable_now()-B<z)}function $(){if(V!==null){var w=n.unstable_now();B=w;var S=!0;try{S=V(!0,w)}finally{S?A():(D=!1,V=null)}}else D=!1}var A;if(typeof m=="function")A=function(){m($)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,C=P.port2;P.port1.onmessage=$,A=function(){C.postMessage(null)}}else A=function(){p($,0)};function b(w){V=w,D||(D=!0,A())}function _(w,S){L=p(function(){w(n.unstable_now())},S)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(w){w.callback=null},n.unstable_continueExecution=function(){g||f||(g=!0,b(I))},n.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<w?Math.floor(1e3/w):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(w){switch(d){case 1:case 2:case 3:var S=3;break;default:S=d}var N=d;d=S;try{return w()}finally{d=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(w,S){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var N=d;d=w;try{return S()}finally{d=N}},n.unstable_scheduleCallback=function(w,S,N){var O=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?O+N:O):N=O,w){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,w={id:c++,callback:S,priorityLevel:w,startTime:N,expirationTime:U,sortIndex:-1},N>O?(w.sortIndex=N,e(s,w),t(l)===null&&w===t(s)&&(y?(v(L),L=-1):y=!0,_(k,N-O))):(w.sortIndex=U,e(l,w),g||f||(g=!0,b(I))),w},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(w){var S=d;return function(){var N=d;d=S;try{return w.apply(this,arguments)}finally{d=N}}}})(hm);fm.exports=hm;var U1=fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1=oe,Ln=U1;function be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pm=new Set,ro={};function Ai(n,e){us(n,e),us(n+"Capture",e)}function us(n,e){for(ro[n]=e,n=0;n<e.length;n++)pm.add(e[n])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=Object.prototype.hasOwnProperty,V1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gd={},Wd={};function $1(n){return wu.call(Wd,n)?!0:wu.call(Gd,n)?!1:V1.test(n)?Wd[n]=!0:(Gd[n]=!0,!1)}function H1(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function q1(n,e,t,r){if(e===null||typeof e>"u"||H1(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(n,e,t,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fn[n]=new Sn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fn[e]=new Sn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fn[n]=new Sn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fn[n]=new Sn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fn[n]=new Sn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fn[n]=new Sn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fn[n]=new Sn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fn[n]=new Sn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fn[n]=new Sn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Dc=/[\-:]([a-z])/g;function Oc(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Dc,Oc);fn[e]=new Sn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Dc,Oc);fn[e]=new Sn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Dc,Oc);fn[e]=new Sn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fn[n]=new Sn(n,1,!1,n.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fn[n]=new Sn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Lc(n,e,t,r){var o=fn.hasOwnProperty(e)?fn[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q1(e,t,o,r)&&(t=null),r||o===null?$1(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):o.mustUseProperty?n[o.propertyName]=t===null?o.type===3?!1:"":t:(e=o.attributeName,r=o.attributeNamespace,t===null?n.removeAttribute(e):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Mr=z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Fc=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),Bc=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),ym=Symbol.for("react.offscreen"),Yd=Symbol.iterator;function Ps(n){return n===null||typeof n!="object"?null:(n=Yd&&n[Yd]||n["@@iterator"],typeof n=="function"?n:null)}var qt=Object.assign,ql;function Vs(n){if(ql===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ql=e&&e[1]||""}return`
`+ql+n}var Gl=!1;function Wl(n,e){if(!n||Gl)return"";Gl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(s){var r=s}Reflect.construct(n,[],e)}else{try{e.call()}catch(s){r=s}n.call(e.prototype)}else{try{throw Error()}catch(s){r=s}n()}}catch(s){if(s&&r&&typeof s.stack=="string"){for(var o=s.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,u=i.length-1;1<=a&&0<=u&&o[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==i[u]){if(a!==1||u!==1)do if(a--,u--,0>u||o[a]!==i[u]){var l=`
`+o[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=u);break}}}finally{Gl=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Vs(n):""}function G1(n){switch(n.tag){case 5:return Vs(n.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 2:case 15:return n=Wl(n.type,!1),n;case 11:return n=Wl(n.type.render,!1),n;case 1:return n=Wl(n.type,!0),n;default:return""}}function Cu(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Vi:return"Fragment";case zi:return"Portal";case _u:return"Profiler";case Fc:return"StrictMode";case Su:return"Suspense";case ku:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case gm:return(n.displayName||"Context")+".Consumer";case mm:return(n._context.displayName||"Context")+".Provider";case Bc:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Uc:return e=n.displayName||null,e!==null?e:Cu(n.type)||"Memo";case Ur:e=n._payload,n=n._init;try{return Cu(n(e))}catch{}}return null}function W1(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(e);case 8:return e===Fc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vm(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y1(n){var e=vm(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ho(n){n._valueTracker||(n._valueTracker=Y1(n))}function bm(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=vm(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function ka(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Tu(n,e){var t=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Kd(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=oi(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xm(n,e){e=e.checked,e!=null&&Lc(n,"checked",e,!1)}function Eu(n,e){xm(n,e);var t=oi(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Nu(n,e.type,t):e.hasOwnProperty("defaultValue")&&Nu(n,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Jd(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Nu(n,e,t){(e!=="number"||ka(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var $s=Array.isArray;function es(n,e,t,r){if(n=n.options,e){e={};for(var o=0;o<t.length;o++)e["$"+t[o]]=!0;for(t=0;t<n.length;t++)o=e.hasOwnProperty("$"+n[t].value),n[t].selected!==o&&(n[t].selected=o),o&&r&&(n[t].defaultSelected=!0)}else{for(t=""+oi(t),e=null,o=0;o<n.length;o++){if(n[o].value===t){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function Au(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Xd(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(be(92));if($s(t)){if(1<t.length)throw Error(be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:oi(t)}}function wm(n,e){var t=oi(e.value),r=oi(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Zd(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function _m(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?_m(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qo,Sm=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function io(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K1=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(n){K1.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ws[e]=Ws[n]})});function km(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ws.hasOwnProperty(n)&&Ws[n]?(""+e).trim():e+"px"}function Cm(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,o=km(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,o):n[t]=o}}var J1=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mu(n,e){if(e){if(J1[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function Ru(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function zc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ju=null,ts=null,ns=null;function Qd(n){if(n=Io(n)){if(typeof ju!="function")throw Error(be(280));var e=n.stateNode;e&&(e=vl(e),ju(n.stateNode,n.type,e))}}function Tm(n){ts?ns?ns.push(n):ns=[n]:ts=n}function Em(){if(ts){var n=ts,e=ns;if(ns=ts=null,Qd(n),e)for(n=0;n<e.length;n++)Qd(e[n])}}function Nm(n,e){return n(e)}function Am(){}var Yl=!1;function Im(n,e,t){if(Yl)return n(e,t);Yl=!0;try{return Nm(n,e,t)}finally{Yl=!1,(ts!==null||ns!==null)&&(Am(),Em())}}function so(n,e){var t=n.stateNode;if(t===null)return null;var r=vl(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(be(231,e,typeof t));return t}var Du=!1;if(kr)try{var js={};Object.defineProperty(js,"passive",{get:function(){Du=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Du=!1}function X1(n,e,t,r,o,i,a,u,l){var s=Array.prototype.slice.call(arguments,3);try{e.apply(t,s)}catch(c){this.onError(c)}}var Ys=!1,Ca=null,Ta=!1,Ou=null,Z1={onError:function(n){Ys=!0,Ca=n}};function Q1(n,e,t,r,o,i,a,u,l){Ys=!1,Ca=null,X1.apply(Z1,arguments)}function ey(n,e,t,r,o,i,a,u,l){if(Q1.apply(this,arguments),Ys){if(Ys){var s=Ca;Ys=!1,Ca=null}else throw Error(be(198));Ta||(Ta=!0,Ou=s)}}function Ii(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Mm(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ef(n){if(Ii(n)!==n)throw Error(be(188))}function ty(n){var e=n.alternate;if(!e){if(e=Ii(n),e===null)throw Error(be(188));return e!==n?null:n}for(var t=n,r=e;;){var o=t.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return ef(o),n;if(i===r)return ef(o),e;i=i.sibling}throw Error(be(188))}if(t.return!==r.return)t=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===t){a=!0,t=o,r=i;break}if(u===r){a=!0,r=o,t=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===t){a=!0,t=i,r=o;break}if(u===r){a=!0,r=i,t=o;break}u=u.sibling}if(!a)throw Error(be(189))}}if(t.alternate!==r)throw Error(be(190))}if(t.tag!==3)throw Error(be(188));return t.stateNode.current===t?n:e}function Rm(n){return n=ty(n),n!==null?Pm(n):null}function Pm(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Pm(n);if(e!==null)return e;n=n.sibling}return null}var jm=Ln.unstable_scheduleCallback,tf=Ln.unstable_cancelCallback,ny=Ln.unstable_shouldYield,ry=Ln.unstable_requestPaint,Jt=Ln.unstable_now,iy=Ln.unstable_getCurrentPriorityLevel,Vc=Ln.unstable_ImmediatePriority,Dm=Ln.unstable_UserBlockingPriority,Ea=Ln.unstable_NormalPriority,sy=Ln.unstable_LowPriority,Om=Ln.unstable_IdlePriority,pl=null,hr=null;function oy(n){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(pl,n,void 0,(n.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:uy,ay=Math.log,ly=Math.LN2;function uy(n){return n>>>=0,n===0?32:31-(ay(n)/ly|0)|0}var Go=64,Wo=4194304;function Hs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Na(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,o=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var u=a&~o;u!==0?r=Hs(u):(i&=a,i!==0&&(r=Hs(i)))}else a=t&~o,a!==0?r=Hs(a):i!==0&&(r=Hs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-rr(e),o=1<<t,r|=n[t],e&=~o;return r}function cy(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dy(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-rr(i),u=1<<a,l=o[a];l===-1?(!(u&t)||u&r)&&(o[a]=cy(u,e)):l<=e&&(n.expiredLanes|=u),i&=~u}}function Lu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Lm(){var n=Go;return Go<<=1,!(Go&4194240)&&(Go=64),n}function Kl(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function No(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-rr(e),n[e]=t}function fy(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var o=31-rr(t),i=1<<o;e[o]=0,r[o]=-1,n[o]=-1,t&=~i}}function $c(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-rr(t),o=1<<r;o&e|n[r]&e&&(n[r]|=e),t&=~o}}var Mt=0;function Fm(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Bm,Hc,Um,zm,Vm,Fu=!1,Yo=[],Kr=null,Jr=null,Xr=null,oo=new Map,ao=new Map,$r=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(n,e){switch(n){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":oo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(e.pointerId)}}function Ds(n,e,t,r,o,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Io(e),e!==null&&Hc(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function py(n,e,t,r,o){switch(e){case"focusin":return Kr=Ds(Kr,n,e,t,r,o),!0;case"dragenter":return Jr=Ds(Jr,n,e,t,r,o),!0;case"mouseover":return Xr=Ds(Xr,n,e,t,r,o),!0;case"pointerover":var i=o.pointerId;return oo.set(i,Ds(oo.get(i)||null,n,e,t,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ao.set(i,Ds(ao.get(i)||null,n,e,t,r,o)),!0}return!1}function $m(n){var e=vi(n.target);if(e!==null){var t=Ii(e);if(t!==null){if(e=t.tag,e===13){if(e=Mm(t),e!==null){n.blockedOn=e,Vm(n.priority,function(){Um(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ca(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Bu(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Pu=r,t.target.dispatchEvent(r),Pu=null}else return e=Io(t),e!==null&&Hc(e),n.blockedOn=t,!1;e.shift()}return!0}function rf(n,e,t){ca(n)&&t.delete(e)}function my(){Fu=!1,Kr!==null&&ca(Kr)&&(Kr=null),Jr!==null&&ca(Jr)&&(Jr=null),Xr!==null&&ca(Xr)&&(Xr=null),oo.forEach(rf),ao.forEach(rf)}function Os(n,e){n.blockedOn===e&&(n.blockedOn=null,Fu||(Fu=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,my)))}function lo(n){function e(o){return Os(o,n)}if(0<Yo.length){Os(Yo[0],n);for(var t=1;t<Yo.length;t++){var r=Yo[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Kr!==null&&Os(Kr,n),Jr!==null&&Os(Jr,n),Xr!==null&&Os(Xr,n),oo.forEach(e),ao.forEach(e),t=0;t<$r.length;t++)r=$r[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<$r.length&&(t=$r[0],t.blockedOn===null);)$m(t),t.blockedOn===null&&$r.shift()}var rs=Mr.ReactCurrentBatchConfig,Aa=!0;function gy(n,e,t,r){var o=Mt,i=rs.transition;rs.transition=null;try{Mt=1,qc(n,e,t,r)}finally{Mt=o,rs.transition=i}}function yy(n,e,t,r){var o=Mt,i=rs.transition;rs.transition=null;try{Mt=4,qc(n,e,t,r)}finally{Mt=o,rs.transition=i}}function qc(n,e,t,r){if(Aa){var o=Bu(n,e,t,r);if(o===null)su(n,e,r,Ia,t),nf(n,r);else if(py(o,n,e,t,r))r.stopPropagation();else if(nf(n,r),e&4&&-1<hy.indexOf(n)){for(;o!==null;){var i=Io(o);if(i!==null&&Bm(i),i=Bu(n,e,t,r),i===null&&su(n,e,r,Ia,t),i===o)break;o=i}o!==null&&r.stopPropagation()}else su(n,e,r,null,t)}}var Ia=null;function Bu(n,e,t,r){if(Ia=null,n=zc(r),n=vi(n),n!==null)if(e=Ii(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Mm(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ia=n,null}function Hm(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iy()){case Vc:return 1;case Dm:return 4;case Ea:case sy:return 16;case Om:return 536870912;default:return 16}default:return 16}}var qr=null,Gc=null,da=null;function qm(){if(da)return da;var n,e=Gc,t=e.length,r,o="value"in qr?qr.value:qr.textContent,i=o.length;for(n=0;n<t&&e[n]===o[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===o[i-r];r++);return da=o.slice(n,1<r?1-r:void 0)}function fa(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ko(){return!0}function sf(){return!1}function Un(n){function e(t,r,o,i,a){this._reactName=t,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ko:sf,this.isPropagationStopped=sf,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),e}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=Un(ks),Ao=qt({},ks,{view:0,detail:0}),vy=Un(Ao),Jl,Xl,Ls,ml=qt({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ls&&(Ls&&n.type==="mousemove"?(Jl=n.screenX-Ls.screenX,Xl=n.screenY-Ls.screenY):Xl=Jl=0,Ls=n),Jl)},movementY:function(n){return"movementY"in n?n.movementY:Xl}}),of=Un(ml),by=qt({},ml,{dataTransfer:0}),xy=Un(by),wy=qt({},Ao,{relatedTarget:0}),Zl=Un(wy),_y=qt({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Sy=Un(_y),ky=qt({},ks,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Cy=Un(ky),Ty=qt({},ks,{data:0}),af=Un(Ty),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ny={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Ay[n])?!!e[n]:!1}function Yc(){return Iy}var My=qt({},Ao,{key:function(n){if(n.key){var e=Ey[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=fa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ny[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(n){return n.type==="keypress"?fa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ry=Un(My),Py=qt({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=Un(Py),jy=qt({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),Dy=Un(jy),Oy=qt({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ly=Un(Oy),Fy=qt({},ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),By=Un(Fy),Uy=[9,13,27,32],Kc=kr&&"CompositionEvent"in window,Ks=null;kr&&"documentMode"in document&&(Ks=document.documentMode);var zy=kr&&"TextEvent"in window&&!Ks,Gm=kr&&(!Kc||Ks&&8<Ks&&11>=Ks),uf=String.fromCharCode(32),cf=!1;function Wm(n,e){switch(n){case"keyup":return Uy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $i=!1;function Vy(n,e){switch(n){case"compositionend":return Ym(e);case"keypress":return e.which!==32?null:(cf=!0,uf);case"textInput":return n=e.data,n===uf&&cf?null:n;default:return null}}function $y(n,e){if($i)return n==="compositionend"||!Kc&&Wm(n,e)?(n=qm(),da=Gc=qr=null,$i=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gm&&e.locale!=="ko"?null:e.data;default:return null}}var Hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Hy[n.type]:e==="textarea"}function Km(n,e,t,r){Tm(r),e=Ma(e,"onChange"),0<e.length&&(t=new Wc("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Js=null,uo=null;function qy(n){o0(n,0)}function gl(n){var e=Gi(n);if(bm(e))return n}function Gy(n,e){if(n==="change")return e}var Jm=!1;if(kr){var Ql;if(kr){var eu="oninput"in document;if(!eu){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),eu=typeof ff.oninput=="function"}Ql=eu}else Ql=!1;Jm=Ql&&(!document.documentMode||9<document.documentMode)}function hf(){Js&&(Js.detachEvent("onpropertychange",Xm),uo=Js=null)}function Xm(n){if(n.propertyName==="value"&&gl(uo)){var e=[];Km(e,uo,n,zc(n)),Im(qy,e)}}function Wy(n,e,t){n==="focusin"?(hf(),Js=e,uo=t,Js.attachEvent("onpropertychange",Xm)):n==="focusout"&&hf()}function Yy(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gl(uo)}function Ky(n,e){if(n==="click")return gl(e)}function Jy(n,e){if(n==="input"||n==="change")return gl(e)}function Xy(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var or=typeof Object.is=="function"?Object.is:Xy;function co(n,e){if(or(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!wu.call(e,o)||!or(n[o],e[o]))return!1}return!0}function pf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mf(n,e){var t=pf(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=pf(t)}}function Zm(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Zm(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Qm(){for(var n=window,e=ka();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=ka(n.document)}return e}function Jc(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Zy(n){var e=Qm(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Zm(t.ownerDocument.documentElement,t)){if(r!==null&&Jc(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=mf(t,i);var a=mf(t,r);o&&a&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Qy=kr&&"documentMode"in document&&11>=document.documentMode,Hi=null,Uu=null,Xs=null,zu=!1;function gf(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;zu||Hi==null||Hi!==ka(r)||(r=Hi,"selectionStart"in r&&Jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xs&&co(Xs,r)||(Xs=r,r=Ma(Uu,"onSelect"),0<r.length&&(e=new Wc("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Hi)))}function Jo(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var qi={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},tu={},e0={};kr&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function yl(n){if(tu[n])return tu[n];if(!qi[n])return n;var e=qi[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in e0)return tu[n]=e[t];return n}var t0=yl("animationend"),n0=yl("animationiteration"),r0=yl("animationstart"),i0=yl("transitionend"),s0=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(n,e){s0.set(n,e),Ai(e,[n])}for(var nu=0;nu<yf.length;nu++){var ru=yf[nu],ev=ru.toLowerCase(),tv=ru[0].toUpperCase()+ru.slice(1);di(ev,"on"+tv)}di(t0,"onAnimationEnd");di(n0,"onAnimationIteration");di(r0,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(i0,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function vf(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,ey(r,e,void 0,n),n.currentTarget=null}function o0(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],l=u.instance,s=u.currentTarget;if(u=u.listener,l!==i&&o.isPropagationStopped())break e;vf(o,u,s),i=l}else for(a=0;a<r.length;a++){if(u=r[a],l=u.instance,s=u.currentTarget,u=u.listener,l!==i&&o.isPropagationStopped())break e;vf(o,u,s),i=l}}}if(Ta)throw n=Ou,Ta=!1,Ou=null,n}function Ot(n,e){var t=e[Gu];t===void 0&&(t=e[Gu]=new Set);var r=n+"__bubble";t.has(r)||(a0(e,n,2,!1),t.add(r))}function iu(n,e,t){var r=0;e&&(r|=4),a0(t,n,r,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function fo(n){if(!n[Xo]){n[Xo]=!0,pm.forEach(function(t){t!=="selectionchange"&&(nv.has(t)||iu(t,!1,n),iu(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,iu("selectionchange",!1,e))}}function a0(n,e,t,r){switch(Hm(e)){case 1:var o=gy;break;case 4:o=yy;break;default:o=qc}t=o.bind(null,e,t,n),o=void 0,!Du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,t,{capture:!0,passive:o}):n.addEventListener(e,t,!0):o!==void 0?n.addEventListener(e,t,{passive:o}):n.addEventListener(e,t,!1)}function su(n,e,t,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;u!==null;){if(a=vi(u),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}u=u.parentNode}}r=r.return}Im(function(){var s=i,c=zc(t),h=[];e:{var d=s0.get(n);if(d!==void 0){var f=Wc,g=n;switch(n){case"keypress":if(fa(t)===0)break e;case"keydown":case"keyup":f=Ry;break;case"focusin":g="focus",f=Zl;break;case"focusout":g="blur",f=Zl;break;case"beforeblur":case"afterblur":f=Zl;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Dy;break;case t0:case n0:case r0:f=Sy;break;case i0:f=Ly;break;case"scroll":f=vy;break;case"wheel":f=By;break;case"copy":case"cut":case"paste":f=Cy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=lf}var y=(e&4)!==0,p=!y&&n==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var m=s,x;m!==null;){x=m;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,v!==null&&(k=so(m,v),k!=null&&y.push(ho(m,k,x)))),p)break;m=m.return}0<y.length&&(d=new f(d,g,null,t,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==Pu&&(g=t.relatedTarget||t.fromElement)&&(vi(g)||g[Cr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=t.relatedTarget||t.toElement,f=s,g=g?vi(g):null,g!==null&&(p=Ii(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=s),f!==g)){if(y=of,k="onMouseLeave",v="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(y=lf,k="onPointerLeave",v="onPointerEnter",m="pointer"),p=f==null?d:Gi(f),x=g==null?d:Gi(g),d=new y(k,m+"leave",f,t,c),d.target=p,d.relatedTarget=x,k=null,vi(c)===s&&(y=new y(v,m+"enter",g,t,c),y.target=x,y.relatedTarget=p,k=y),p=k,f&&g)t:{for(y=f,v=g,m=0,x=y;x;x=Bi(x))m++;for(x=0,k=v;k;k=Bi(k))x++;for(;0<m-x;)y=Bi(y),m--;for(;0<x-m;)v=Bi(v),x--;for(;m--;){if(y===v||v!==null&&y===v.alternate)break t;y=Bi(y),v=Bi(v)}y=null}else y=null;f!==null&&bf(h,d,f,y,!1),g!==null&&p!==null&&bf(h,p,g,y,!0)}}e:{if(d=s?Gi(s):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=Gy;else if(df(d))if(Jm)I=Jy;else{I=Yy;var D=Wy}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=Ky);if(I&&(I=I(n,s))){Km(h,I,t,c);break e}D&&D(n,d,s),n==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&Nu(d,"number",d.value)}switch(D=s?Gi(s):window,n){case"focusin":(df(D)||D.contentEditable==="true")&&(Hi=D,Uu=s,Xs=null);break;case"focusout":Xs=Uu=Hi=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,gf(h,t,c);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":gf(h,t,c)}var V;if(Kc)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else $i?Wm(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(Gm&&t.locale!=="ko"&&($i||L!=="onCompositionStart"?L==="onCompositionEnd"&&$i&&(V=qm()):(qr=c,Gc="value"in qr?qr.value:qr.textContent,$i=!0)),D=Ma(s,L),0<D.length&&(L=new af(L,n,null,t,c),h.push({event:L,listeners:D}),V?L.data=V:(V=Ym(t),V!==null&&(L.data=V)))),(V=zy?Vy(n,t):$y(n,t))&&(s=Ma(s,"onBeforeInput"),0<s.length&&(c=new af("onBeforeInput","beforeinput",null,t,c),h.push({event:c,listeners:s}),c.data=V))}o0(h,e)})}function ho(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ma(n,e){for(var t=e+"Capture",r=[];n!==null;){var o=n,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=so(n,t),i!=null&&r.unshift(ho(n,i,o)),i=so(n,e),i!=null&&r.push(ho(n,i,o))),n=n.return}return r}function Bi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bf(n,e,t,r,o){for(var i=e._reactName,a=[];t!==null&&t!==r;){var u=t,l=u.alternate,s=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&s!==null&&(u=s,o?(l=so(t,i),l!=null&&a.unshift(ho(t,l,u))):o||(l=so(t,i),l!=null&&a.push(ho(t,l,u)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var rv=/\r\n?/g,iv=/\u0000|\uFFFD/g;function xf(n){return(typeof n=="string"?n:""+n).replace(rv,`
`).replace(iv,"")}function Zo(n,e,t){if(e=xf(e),xf(n)!==e&&t)throw Error(be(425))}function Ra(){}var Vu=null,$u=null;function Hu(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,sv=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,ov=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(n){return wf.resolve(null).then(n).catch(av)}:qu;function av(n){setTimeout(function(){throw n})}function ou(n,e){var t=e,r=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(r===0){n.removeChild(o),lo(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=o}while(t);lo(e)}function Zr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function _f(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),dr="__reactFiber$"+Cs,po="__reactProps$"+Cs,Cr="__reactContainer$"+Cs,Gu="__reactEvents$"+Cs,lv="__reactListeners$"+Cs,uv="__reactHandles$"+Cs;function vi(n){var e=n[dr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Cr]||t[dr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=_f(n);n!==null;){if(t=n[dr])return t;n=_f(n)}return e}n=t,t=n.parentNode}return null}function Io(n){return n=n[dr]||n[Cr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Gi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(be(33))}function vl(n){return n[po]||null}var Wu=[],Wi=-1;function fi(n){return{current:n}}function Ft(n){0>Wi||(n.current=Wu[Wi],Wu[Wi]=null,Wi--)}function jt(n,e){Wi++,Wu[Wi]=n.current,n.current=e}var ai={},vn=fi(ai),Nn=fi(!1),Si=ai;function cs(n,e){var t=n.type.contextTypes;if(!t)return ai;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in t)o[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function An(n){return n=n.childContextTypes,n!=null}function Pa(){Ft(Nn),Ft(vn)}function Sf(n,e,t){if(vn.current!==ai)throw Error(be(168));jt(vn,e),jt(Nn,t)}function l0(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(be(108,W1(n)||"Unknown",o));return qt({},t,r)}function ja(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ai,Si=vn.current,jt(vn,n),jt(Nn,Nn.current),!0}function kf(n,e,t){var r=n.stateNode;if(!r)throw Error(be(169));t?(n=l0(n,e,Si),r.__reactInternalMemoizedMergedChildContext=n,Ft(Nn),Ft(vn),jt(vn,n)):Ft(Nn),jt(Nn,t)}var xr=null,bl=!1,au=!1;function u0(n){xr===null?xr=[n]:xr.push(n)}function cv(n){bl=!0,u0(n)}function hi(){if(!au&&xr!==null){au=!0;var n=0,e=Mt;try{var t=xr;for(Mt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}xr=null,bl=!1}catch(o){throw xr!==null&&(xr=xr.slice(n+1)),jm(Vc,hi),o}finally{Mt=e,au=!1}}return null}var Yi=[],Ki=0,Da=null,Oa=0,zn=[],Vn=0,ki=null,wr=1,_r="";function gi(n,e){Yi[Ki++]=Oa,Yi[Ki++]=Da,Da=n,Oa=e}function c0(n,e,t){zn[Vn++]=wr,zn[Vn++]=_r,zn[Vn++]=ki,ki=n;var r=wr;n=_r;var o=32-rr(r)-1;r&=~(1<<o),t+=1;var i=32-rr(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,wr=1<<32-rr(e)+o|t<<o|r,_r=i+n}else wr=1<<i|t<<o|r,_r=n}function Xc(n){n.return!==null&&(gi(n,1),c0(n,1,0))}function Zc(n){for(;n===Da;)Da=Yi[--Ki],Yi[Ki]=null,Oa=Yi[--Ki],Yi[Ki]=null;for(;n===ki;)ki=zn[--Vn],zn[Vn]=null,_r=zn[--Vn],zn[Vn]=null,wr=zn[--Vn],zn[Vn]=null}var On=null,Dn=null,zt=!1,tr=null;function d0(n,e){var t=$n(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Cf(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,On=n,Dn=Zr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,On=n,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ki!==null?{id:wr,overflow:_r}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=$n(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,On=n,Dn=null,!0):!1;default:return!1}}function Yu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ku(n){if(zt){var e=Dn;if(e){var t=e;if(!Cf(n,e)){if(Yu(n))throw Error(be(418));e=Zr(t.nextSibling);var r=On;e&&Cf(n,e)?d0(r,t):(n.flags=n.flags&-4097|2,zt=!1,On=n)}}else{if(Yu(n))throw Error(be(418));n.flags=n.flags&-4097|2,zt=!1,On=n}}}function Tf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;On=n}function Qo(n){if(n!==On)return!1;if(!zt)return Tf(n),zt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Hu(n.type,n.memoizedProps)),e&&(e=Dn)){if(Yu(n))throw f0(),Error(be(418));for(;e;)d0(n,e),e=Zr(e.nextSibling)}if(Tf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Dn=Zr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Dn=null}}else Dn=On?Zr(n.stateNode.nextSibling):null;return!0}function f0(){for(var n=Dn;n;)n=Zr(n.nextSibling)}function ds(){Dn=On=null,zt=!1}function Qc(n){tr===null?tr=[n]:tr.push(n)}var dv=Mr.ReactCurrentBatchConfig;function Fs(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(be(309));var r=t.stateNode}if(!r)throw Error(be(147,n));var o=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var u=o.refs;a===null?delete u[i]:u[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(be(284));if(!t._owner)throw Error(be(290,n))}return n}function ea(n,e){throw n=Object.prototype.toString.call(e),Error(be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Ef(n){var e=n._init;return e(n._payload)}function h0(n){function e(v,m){if(n){var x=v.deletions;x===null?(v.deletions=[m],v.flags|=16):x.push(m)}}function t(v,m){if(!n)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function o(v,m){return v=ni(v,m),v.index=0,v.sibling=null,v}function i(v,m,x){return v.index=x,n?(x=v.alternate,x!==null?(x=x.index,x<m?(v.flags|=2,m):x):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function u(v,m,x,k){return m===null||m.tag!==6?(m=pu(x,v.mode,k),m.return=v,m):(m=o(m,x),m.return=v,m)}function l(v,m,x,k){var I=x.type;return I===Vi?c(v,m,x.props.children,k,x.key):m!==null&&(m.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ur&&Ef(I)===m.type)?(k=o(m,x.props),k.ref=Fs(v,m,x),k.return=v,k):(k=ba(x.type,x.key,x.props,null,v.mode,k),k.ref=Fs(v,m,x),k.return=v,k)}function s(v,m,x,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=mu(x,v.mode,k),m.return=v,m):(m=o(m,x.children||[]),m.return=v,m)}function c(v,m,x,k,I){return m===null||m.tag!==7?(m=_i(x,v.mode,k,I),m.return=v,m):(m=o(m,x),m.return=v,m)}function h(v,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=pu(""+m,v.mode,x),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $o:return x=ba(m.type,m.key,m.props,null,v.mode,x),x.ref=Fs(v,null,m),x.return=v,x;case zi:return m=mu(m,v.mode,x),m.return=v,m;case Ur:var k=m._init;return h(v,k(m._payload),x)}if($s(m)||Ps(m))return m=_i(m,v.mode,x,null),m.return=v,m;ea(v,m)}return null}function d(v,m,x,k){var I=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:u(v,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $o:return x.key===I?l(v,m,x,k):null;case zi:return x.key===I?s(v,m,x,k):null;case Ur:return I=x._init,d(v,m,I(x._payload),k)}if($s(x)||Ps(x))return I!==null?null:c(v,m,x,k,null);ea(v,x)}return null}function f(v,m,x,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(x)||null,u(m,v,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $o:return v=v.get(k.key===null?x:k.key)||null,l(m,v,k,I);case zi:return v=v.get(k.key===null?x:k.key)||null,s(m,v,k,I);case Ur:var D=k._init;return f(v,m,x,D(k._payload),I)}if($s(k)||Ps(k))return v=v.get(x)||null,c(m,v,k,I,null);ea(m,k)}return null}function g(v,m,x,k){for(var I=null,D=null,V=m,L=m=0,z=null;V!==null&&L<x.length;L++){V.index>L?(z=V,V=null):z=V.sibling;var B=d(v,V,x[L],k);if(B===null){V===null&&(V=z);break}n&&V&&B.alternate===null&&e(v,V),m=i(B,m,L),D===null?I=B:D.sibling=B,D=B,V=z}if(L===x.length)return t(v,V),zt&&gi(v,L),I;if(V===null){for(;L<x.length;L++)V=h(v,x[L],k),V!==null&&(m=i(V,m,L),D===null?I=V:D.sibling=V,D=V);return zt&&gi(v,L),I}for(V=r(v,V);L<x.length;L++)z=f(V,v,L,x[L],k),z!==null&&(n&&z.alternate!==null&&V.delete(z.key===null?L:z.key),m=i(z,m,L),D===null?I=z:D.sibling=z,D=z);return n&&V.forEach(function(H){return e(v,H)}),zt&&gi(v,L),I}function y(v,m,x,k){var I=Ps(x);if(typeof I!="function")throw Error(be(150));if(x=I.call(x),x==null)throw Error(be(151));for(var D=I=null,V=m,L=m=0,z=null,B=x.next();V!==null&&!B.done;L++,B=x.next()){V.index>L?(z=V,V=null):z=V.sibling;var H=d(v,V,B.value,k);if(H===null){V===null&&(V=z);break}n&&V&&H.alternate===null&&e(v,V),m=i(H,m,L),D===null?I=H:D.sibling=H,D=H,V=z}if(B.done)return t(v,V),zt&&gi(v,L),I;if(V===null){for(;!B.done;L++,B=x.next())B=h(v,B.value,k),B!==null&&(m=i(B,m,L),D===null?I=B:D.sibling=B,D=B);return zt&&gi(v,L),I}for(V=r(v,V);!B.done;L++,B=x.next())B=f(V,v,L,B.value,k),B!==null&&(n&&B.alternate!==null&&V.delete(B.key===null?L:B.key),m=i(B,m,L),D===null?I=B:D.sibling=B,D=B);return n&&V.forEach(function($){return e(v,$)}),zt&&gi(v,L),I}function p(v,m,x,k){if(typeof x=="object"&&x!==null&&x.type===Vi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $o:e:{for(var I=x.key,D=m;D!==null;){if(D.key===I){if(I=x.type,I===Vi){if(D.tag===7){t(v,D.sibling),m=o(D,x.props.children),m.return=v,v=m;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ur&&Ef(I)===D.type){t(v,D.sibling),m=o(D,x.props),m.ref=Fs(v,D,x),m.return=v,v=m;break e}t(v,D);break}else e(v,D);D=D.sibling}x.type===Vi?(m=_i(x.props.children,v.mode,k,x.key),m.return=v,v=m):(k=ba(x.type,x.key,x.props,null,v.mode,k),k.ref=Fs(v,m,x),k.return=v,v=k)}return a(v);case zi:e:{for(D=x.key;m!==null;){if(m.key===D)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){t(v,m.sibling),m=o(m,x.children||[]),m.return=v,v=m;break e}else{t(v,m);break}else e(v,m);m=m.sibling}m=mu(x,v.mode,k),m.return=v,v=m}return a(v);case Ur:return D=x._init,p(v,m,D(x._payload),k)}if($s(x))return g(v,m,x,k);if(Ps(x))return y(v,m,x,k);ea(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(t(v,m.sibling),m=o(m,x),m.return=v,v=m):(t(v,m),m=pu(x,v.mode,k),m.return=v,v=m),a(v)):t(v,m)}return p}var fs=h0(!0),p0=h0(!1),La=fi(null),Fa=null,Ji=null,ed=null;function td(){ed=Ji=Fa=null}function nd(n){var e=La.current;Ft(La),n._currentValue=e}function Ju(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function is(n,e){Fa=n,ed=Ji=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(En=!0),n.firstContext=null)}function Yn(n){var e=n._currentValue;if(ed!==n)if(n={context:n,memoizedValue:e,next:null},Ji===null){if(Fa===null)throw Error(be(308));Ji=n,Fa.dependencies={lanes:0,firstContext:n}}else Ji=Ji.next=n;return e}var bi=null;function rd(n){bi===null?bi=[n]:bi.push(n)}function m0(n,e,t,r){var o=e.interleaved;return o===null?(t.next=t,rd(e)):(t.next=o.next,o.next=t),e.interleaved=t,Tr(n,r)}function Tr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var zr=!1;function id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g0(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Sr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Tr(n,t)}return o=r.interleaved,o===null?(e.next=e,rd(r)):(e.next=o.next,o.next=e),r.interleaved=e,Tr(n,t)}function ha(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$c(n,t)}}function Nf(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var o=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?o=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?o=i=e:i=i.next=e}else o=i=e;t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ba(n,e,t,r){var o=n.updateQueue;zr=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var l=u,s=l.next;l.next=null,a===null?i=s:a.next=s,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==a&&(u===null?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=l))}if(i!==null){var h=o.baseState;a=0,c=s=l=null,u=i;do{var d=u.lane,f=u.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var g=n,y=u;switch(d=e,f=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=qt({},h,d);break e;case 2:zr=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,d=o.effects,d===null?o.effects=[u]:d.push(u))}else f={eventTime:f,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(s=c=f,l=h):c=c.next=f,a|=d;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;d=u,u=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(1);if(c===null&&(l=h),o.baseState=l,o.firstBaseUpdate=s,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Ti|=a,n.lanes=a,n.memoizedState=h}}function Af(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=t,typeof o!="function")throw Error(be(191,o));o.call(r)}}}var Mo={},pr=fi(Mo),mo=fi(Mo),go=fi(Mo);function xi(n){if(n===Mo)throw Error(be(174));return n}function sd(n,e){switch(jt(go,e),jt(mo,n),jt(pr,Mo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Iu(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Iu(e,n)}Ft(pr),jt(pr,e)}function hs(){Ft(pr),Ft(mo),Ft(go)}function y0(n){xi(go.current);var e=xi(pr.current),t=Iu(e,n.type);e!==t&&(jt(mo,n),jt(pr,t))}function od(n){mo.current===n&&(Ft(pr),Ft(mo))}var Vt=fi(0);function Ua(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lu=[];function ad(){for(var n=0;n<lu.length;n++)lu[n]._workInProgressVersionPrimary=null;lu.length=0}var pa=Mr.ReactCurrentDispatcher,uu=Mr.ReactCurrentBatchConfig,Ci=0,$t=null,nn=null,sn=null,za=!1,Zs=!1,yo=0,fv=0;function pn(){throw Error(be(321))}function ld(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!or(n[t],e[t]))return!1;return!0}function ud(n,e,t,r,o,i){if(Ci=i,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pa.current=n===null||n.memoizedState===null?gv:yv,n=t(r,o),Zs){i=0;do{if(Zs=!1,yo=0,25<=i)throw Error(be(301));i+=1,sn=nn=null,e.updateQueue=null,pa.current=vv,n=t(r,o)}while(Zs)}if(pa.current=Va,e=nn!==null&&nn.next!==null,Ci=0,sn=nn=$t=null,za=!1,e)throw Error(be(300));return n}function cd(){var n=yo!==0;return yo=0,n}function cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?$t.memoizedState=sn=n:sn=sn.next=n,sn}function Kn(){if(nn===null){var n=$t.alternate;n=n!==null?n.memoizedState:null}else n=nn.next;var e=sn===null?$t.memoizedState:sn.next;if(e!==null)sn=e,nn=n;else{if(n===null)throw Error(be(310));nn=n,n={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},sn===null?$t.memoizedState=sn=n:sn=sn.next=n}return sn}function vo(n,e){return typeof e=="function"?e(n):e}function cu(n){var e=Kn(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var r=nn,o=r.baseQueue,i=t.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,t.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=a=null,l=null,s=i;do{var c=s.lane;if((Ci&c)===c)l!==null&&(l=l.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:n(r,s.action);else{var h={lane:c,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};l===null?(u=l=h,a=r):l=l.next=h,$t.lanes|=c,Ti|=c}s=s.next}while(s!==null&&s!==i);l===null?a=r:l.next=u,or(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){o=n;do i=o.lane,$t.lanes|=i,Ti|=i,o=o.next;while(o!==n)}else o===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function du(n){var e=Kn(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var r=t.dispatch,o=t.pending,i=e.memoizedState;if(o!==null){t.pending=null;var a=o=o.next;do i=n(i,a.action),a=a.next;while(a!==o);or(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function v0(){}function b0(n,e){var t=$t,r=Kn(),o=e(),i=!or(r.memoizedState,o);if(i&&(r.memoizedState=o,En=!0),r=r.queue,dd(_0.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||sn!==null&&sn.memoizedState.tag&1){if(t.flags|=2048,bo(9,w0.bind(null,t,r,o,e),void 0,null),on===null)throw Error(be(349));Ci&30||x0(t,e,o)}return o}function x0(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function w0(n,e,t,r){e.value=t,e.getSnapshot=r,S0(e)&&k0(n)}function _0(n,e,t){return t(function(){S0(e)&&k0(n)})}function S0(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!or(n,t)}catch{return!0}}function k0(n){var e=Tr(n,1);e!==null&&ir(e,n,1,-1)}function If(n){var e=cr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:n},e.queue=n,n=n.dispatch=mv.bind(null,$t,n),[e.memoizedState,n]}function bo(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function C0(){return Kn().memoizedState}function ma(n,e,t,r){var o=cr();$t.flags|=n,o.memoizedState=bo(1|e,t,void 0,r===void 0?null:r)}function xl(n,e,t,r){var o=Kn();r=r===void 0?null:r;var i=void 0;if(nn!==null){var a=nn.memoizedState;if(i=a.destroy,r!==null&&ld(r,a.deps)){o.memoizedState=bo(e,t,i,r);return}}$t.flags|=n,o.memoizedState=bo(1|e,t,i,r)}function Mf(n,e){return ma(8390656,8,n,e)}function dd(n,e){return xl(2048,8,n,e)}function T0(n,e){return xl(4,2,n,e)}function E0(n,e){return xl(4,4,n,e)}function N0(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function A0(n,e,t){return t=t!=null?t.concat([n]):null,xl(4,4,N0.bind(null,e,n),t)}function fd(){}function I0(n,e){var t=Kn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function M0(n,e){var t=Kn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&ld(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function R0(n,e,t){return Ci&21?(or(t,e)||(t=Lm(),$t.lanes|=t,Ti|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,En=!0),n.memoizedState=t)}function hv(n,e){var t=Mt;Mt=t!==0&&4>t?t:4,n(!0);var r=uu.transition;uu.transition={};try{n(!1),e()}finally{Mt=t,uu.transition=r}}function P0(){return Kn().memoizedState}function pv(n,e,t){var r=ti(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},j0(n))D0(e,t);else if(t=m0(n,e,t,r),t!==null){var o=xn();ir(t,n,r,o),O0(t,e,r)}}function mv(n,e,t){var r=ti(n),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(j0(n))D0(e,o);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,u=i(a,t);if(o.hasEagerState=!0,o.eagerState=u,or(u,a)){var l=e.interleaved;l===null?(o.next=o,rd(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}t=m0(n,e,o,r),t!==null&&(o=xn(),ir(t,n,r,o),O0(t,e,r))}}function j0(n){var e=n.alternate;return n===$t||e!==null&&e===$t}function D0(n,e){Zs=za=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function O0(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$c(n,t)}}var Va={readContext:Yn,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},gv={readContext:Yn,useCallback:function(n,e){return cr().memoizedState=[n,e===void 0?null:e],n},useContext:Yn,useEffect:Mf,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ma(4194308,4,N0.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ma(4194308,4,n,e)},useInsertionEffect:function(n,e){return ma(4,2,n,e)},useMemo:function(n,e){var t=cr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=cr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=pv.bind(null,$t,n),[r.memoizedState,n]},useRef:function(n){var e=cr();return n={current:n},e.memoizedState=n},useState:If,useDebugValue:fd,useDeferredValue:function(n){return cr().memoizedState=n},useTransition:function(){var n=If(!1),e=n[0];return n=hv.bind(null,n[1]),cr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=$t,o=cr();if(zt){if(t===void 0)throw Error(be(407));t=t()}else{if(t=e(),on===null)throw Error(be(349));Ci&30||x0(r,e,t)}o.memoizedState=t;var i={value:t,getSnapshot:e};return o.queue=i,Mf(_0.bind(null,r,i,n),[n]),r.flags|=2048,bo(9,w0.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=cr(),e=on.identifierPrefix;if(zt){var t=_r,r=wr;t=(r&~(1<<32-rr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=yo++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=fv++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},yv={readContext:Yn,useCallback:I0,useContext:Yn,useEffect:dd,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:E0,useMemo:M0,useReducer:cu,useRef:C0,useState:function(){return cu(vo)},useDebugValue:fd,useDeferredValue:function(n){var e=Kn();return R0(e,nn.memoizedState,n)},useTransition:function(){var n=cu(vo)[0],e=Kn().memoizedState;return[n,e]},useMutableSource:v0,useSyncExternalStore:b0,useId:P0,unstable_isNewReconciler:!1},vv={readContext:Yn,useCallback:I0,useContext:Yn,useEffect:dd,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:E0,useMemo:M0,useReducer:du,useRef:C0,useState:function(){return du(vo)},useDebugValue:fd,useDeferredValue:function(n){var e=Kn();return nn===null?e.memoizedState=n:R0(e,nn.memoizedState,n)},useTransition:function(){var n=du(vo)[0],e=Kn().memoizedState;return[n,e]},useMutableSource:v0,useSyncExternalStore:b0,useId:P0,unstable_isNewReconciler:!1};function Qn(n,e){if(n&&n.defaultProps){e=qt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Xu(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:qt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var wl={isMounted:function(n){return(n=n._reactInternals)?Ii(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=xn(),o=ti(n),i=Sr(r,o);i.payload=e,t!=null&&(i.callback=t),e=Qr(n,i,o),e!==null&&(ir(e,n,o,r),ha(e,n,o))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=xn(),o=ti(n),i=Sr(r,o);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Qr(n,i,o),e!==null&&(ir(e,n,o,r),ha(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=xn(),r=ti(n),o=Sr(t,r);o.tag=2,e!=null&&(o.callback=e),e=Qr(n,o,r),e!==null&&(ir(e,n,r,t),ha(e,n,r))}};function Rf(n,e,t,r,o,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!co(t,r)||!co(o,i):!0}function L0(n,e,t){var r=!1,o=ai,i=e.contextType;return typeof i=="object"&&i!==null?i=Yn(i):(o=An(e)?Si:vn.current,r=e.contextTypes,i=(r=r!=null)?cs(n,o):ai),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wl,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=i),e}function Pf(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&wl.enqueueReplaceState(e,e.state,null)}function Zu(n,e,t,r){var o=n.stateNode;o.props=t,o.state=n.memoizedState,o.refs={},id(n);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Yn(i):(i=An(e)?Si:vn.current,o.context=cs(n,i)),o.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xu(n,e,i,t),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&wl.enqueueReplaceState(o,o.state,null),Ba(n,t,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function ps(n,e){try{var t="",r=e;do t+=G1(r),r=r.return;while(r);var o=t}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:o,digest:null}}function fu(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Qu(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var bv=typeof WeakMap=="function"?WeakMap:Map;function F0(n,e,t){t=Sr(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ha||(Ha=!0,uc=r),Qu(n,e)},t}function B0(n,e,t){t=Sr(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;t.payload=function(){return r(o)},t.callback=function(){Qu(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Qu(n,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function jf(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new bv;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(t)||(o.add(t),n=Pv.bind(null,n,e,t),e.then(n,n))}function Df(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Of(n,e,t,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Sr(-1,1),e.tag=2,Qr(t,e,1))),t.lanes|=1),n)}var xv=Mr.ReactCurrentOwner,En=!1;function bn(n,e,t,r){e.child=n===null?p0(e,null,t,r):fs(e,n.child,t,r)}function Lf(n,e,t,r,o){t=t.render;var i=e.ref;return is(e,o),r=ud(n,e,t,r,i,o),t=cd(),n!==null&&!En?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Er(n,e,o)):(zt&&t&&Xc(e),e.flags|=1,bn(n,e,r,o),e.child)}function Ff(n,e,t,r,o){if(n===null){var i=t.type;return typeof i=="function"&&!xd(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,U0(n,e,i,r,o)):(n=ba(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&o)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:co,t(a,r)&&n.ref===e.ref)return Er(n,e,o)}return e.flags|=1,n=ni(i,r),n.ref=e.ref,n.return=e,e.child=n}function U0(n,e,t,r,o){if(n!==null){var i=n.memoizedProps;if(co(i,r)&&n.ref===e.ref)if(En=!1,e.pendingProps=r=i,(n.lanes&o)!==0)n.flags&131072&&(En=!0);else return e.lanes=n.lanes,Er(n,e,o)}return ec(n,e,t,r,o)}function z0(n,e,t){var r=e.pendingProps,o=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Zi,jn),jn|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,jt(Zi,jn),jn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,jt(Zi,jn),jn|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,jt(Zi,jn),jn|=r;return bn(n,e,o,t),e.child}function V0(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function ec(n,e,t,r,o){var i=An(t)?Si:vn.current;return i=cs(e,i),is(e,o),t=ud(n,e,t,r,i,o),r=cd(),n!==null&&!En?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Er(n,e,o)):(zt&&r&&Xc(e),e.flags|=1,bn(n,e,t,o),e.child)}function Bf(n,e,t,r,o){if(An(t)){var i=!0;ja(e)}else i=!1;if(is(e,o),e.stateNode===null)ga(n,e),L0(e,t,r),Zu(e,t,r,o),r=!0;else if(n===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var l=a.context,s=t.contextType;typeof s=="object"&&s!==null?s=Yn(s):(s=An(t)?Si:vn.current,s=cs(e,s));var c=t.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||l!==s)&&Pf(e,a,r,s),zr=!1;var d=e.memoizedState;a.state=d,Ba(e,r,a,o),l=e.memoizedState,u!==r||d!==l||Nn.current||zr?(typeof c=="function"&&(Xu(e,t,c,r),l=e.memoizedState),(u=zr||Rf(e,t,u,r,d,l,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=s,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,g0(n,e),u=e.memoizedProps,s=e.type===e.elementType?u:Qn(e.type,u),a.props=s,h=e.pendingProps,d=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=An(t)?Si:vn.current,l=cs(e,l));var f=t.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==h||d!==l)&&Pf(e,a,r,l),zr=!1,d=e.memoizedState,a.state=d,Ba(e,r,a,o);var g=e.memoizedState;u!==h||d!==g||Nn.current||zr?(typeof f=="function"&&(Xu(e,t,f,r),g=e.memoizedState),(s=zr||Rf(e,t,s,r,d,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=s):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return tc(n,e,t,r,i,o)}function tc(n,e,t,r,o,i){V0(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&kf(e,t,!1),Er(n,e,i);r=e.stateNode,xv.current=e;var u=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=fs(e,n.child,null,i),e.child=fs(e,null,u,i)):bn(n,e,u,i),e.memoizedState=r.state,o&&kf(e,t,!0),e.child}function $0(n){var e=n.stateNode;e.pendingContext?Sf(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Sf(n,e.context,!1),sd(n,e.containerInfo)}function Uf(n,e,t,r,o){return ds(),Qc(o),e.flags|=256,bn(n,e,t,r),e.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(n){return{baseLanes:n,cachePool:null,transitions:null}}function H0(n,e,t){var r=e.pendingProps,o=Vt.current,i=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=n!==null&&n.memoizedState===null?!1:(o&2)!==0),u?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),jt(Vt,o&1),n===null)return Ku(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=kl(a,r,0,null),n=_i(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=rc(t),e.memoizedState=nc,n):hd(e,a));if(o=n.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return wv(n,e,a,r,u,o,t);if(i){i=r.fallback,a=e.mode,o=n.child,u=o.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ni(o,l),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=ni(u,i):(i=_i(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?rc(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=nc,r}return i=n.child,n=i.sibling,r=ni(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function hd(n,e){return e=kl({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ta(n,e,t,r){return r!==null&&Qc(r),fs(e,n.child,null,t),n=hd(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function wv(n,e,t,r,o,i,a){if(t)return e.flags&256?(e.flags&=-257,r=fu(Error(be(422))),ta(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=kl({mode:"visible",children:r.children},o,0,null),i=_i(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fs(e,n.child,null,a),e.child.memoizedState=rc(a),e.memoizedState=nc,i);if(!(e.mode&1))return ta(n,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(be(419)),r=fu(i,r,void 0),ta(n,e,a,r)}if(u=(a&n.childLanes)!==0,En||u){if(r=on,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Tr(n,o),ir(r,n,o,-1))}return bd(),r=fu(Error(be(421))),ta(n,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=jv.bind(null,n),o._reactRetry=e,null):(n=i.treeContext,Dn=Zr(o.nextSibling),On=e,zt=!0,tr=null,n!==null&&(zn[Vn++]=wr,zn[Vn++]=_r,zn[Vn++]=ki,wr=n.id,_r=n.overflow,ki=e),e=hd(e,r.children),e.flags|=4096,e)}function zf(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Ju(n.return,e,t)}function hu(n,e,t,r,o){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=o)}function q0(n,e,t){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(bn(n,e,r.children,t),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zf(n,t,e);else if(n.tag===19)zf(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(jt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(t=e.child,o=null;t!==null;)n=t.alternate,n!==null&&Ua(n)===null&&(o=t),t=t.sibling;t=o,t===null?(o=e.child,e.child=null):(o=t.sibling,t.sibling=null),hu(e,!1,o,t,i);break;case"backwards":for(t=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&Ua(n)===null){e.child=o;break}n=o.sibling,o.sibling=t,t=o,o=n}hu(e,!0,t,null,i);break;case"together":hu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ga(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Er(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ti|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(be(153));if(e.child!==null){for(n=e.child,t=ni(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ni(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function _v(n,e,t){switch(e.tag){case 3:$0(e),ds();break;case 5:y0(e);break;case 1:An(e.type)&&ja(e);break;case 4:sd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;jt(La,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(Vt,Vt.current&1),e.flags|=128,null):t&e.child.childLanes?H0(n,e,t):(jt(Vt,Vt.current&1),n=Er(n,e,t),n!==null?n.sibling:null);jt(Vt,Vt.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return q0(n,e,t);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),jt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,z0(n,e,t)}return Er(n,e,t)}var G0,ic,W0,Y0;G0=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ic=function(){};W0=function(n,e,t,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,xi(pr.current);var i=null;switch(t){case"input":o=Tu(n,o),r=Tu(n,r),i=[];break;case"select":o=qt({},o,{value:void 0}),r=qt({},r,{value:void 0}),i=[];break;case"textarea":o=Au(n,o),r=Au(n,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ra)}Mu(t,r);var a;t=null;for(s in o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&o[s]!=null)if(s==="style"){var u=o[s];for(a in u)u.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ro.hasOwnProperty(s)?i||(i=[]):(i=i||[]).push(s,null));for(s in r){var l=r[s];if(u=o!=null?o[s]:void 0,r.hasOwnProperty(s)&&l!==u&&(l!=null||u!=null))if(s==="style")if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(s,t)),t=l;else s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(i=i||[]).push(s,l)):s==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(s,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(ro.hasOwnProperty(s)?(l!=null&&s==="onScroll"&&Ot("scroll",n),i||u===l||(i=[])):(i=i||[]).push(s,l))}t&&(i=i||[]).push("style",t);var s=i;(e.updateQueue=s)&&(e.flags|=4)}};Y0=function(n,e,t,r){t!==r&&(e.flags|=4)};function Bs(n,e){if(!zt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function mn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Sv(n,e,t){var r=e.pendingProps;switch(Zc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return An(e.type)&&Pa(),mn(e),null;case 3:return r=e.stateNode,hs(),Ft(Nn),Ft(vn),ad(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Qo(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(fc(tr),tr=null))),ic(n,e),mn(e),null;case 5:od(e);var o=xi(go.current);if(t=e.type,n!==null&&e.stateNode!=null)W0(n,e,t,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return mn(e),null}if(n=xi(pr.current),Qo(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[dr]=e,r[po]=i,n=(e.mode&1)!==0,t){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<qs.length;o++)Ot(qs[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Kd(r,i),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",r);break;case"textarea":Xd(r,i),Ot("invalid",r)}Mu(t,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Zo(r.textContent,u,n),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Zo(r.textContent,u,n),o=["children",""+u]):ro.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ot("scroll",r)}switch(t){case"input":Ho(r),Jd(r,i,!0);break;case"textarea":Ho(r),Zd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ra)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_m(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[dr]=e,n[po]=r,G0(n,e,!1,!1),e.stateNode=n;e:{switch(a=Ru(t,r),t){case"dialog":Ot("cancel",n),Ot("close",n),o=r;break;case"iframe":case"object":case"embed":Ot("load",n),o=r;break;case"video":case"audio":for(o=0;o<qs.length;o++)Ot(qs[o],n);o=r;break;case"source":Ot("error",n),o=r;break;case"img":case"image":case"link":Ot("error",n),Ot("load",n),o=r;break;case"details":Ot("toggle",n),o=r;break;case"input":Kd(n,r),o=Tu(n,r),Ot("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=qt({},r,{value:void 0}),Ot("invalid",n);break;case"textarea":Xd(n,r),o=Au(n,r),Ot("invalid",n);break;default:o=r}Mu(t,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var l=u[i];i==="style"?Cm(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sm(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&io(n,l):typeof l=="number"&&io(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ro.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ot("scroll",n):l!=null&&Lc(n,i,l,a))}switch(t){case"input":Ho(n),Jd(n,r,!1);break;case"textarea":Ho(n),Zd(n);break;case"option":r.value!=null&&n.setAttribute("value",""+oi(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?es(n,!!r.multiple,i,!1):r.defaultValue!=null&&es(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=Ra)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(n&&e.stateNode!=null)Y0(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(t=xi(go.current),xi(pr.current),Qo(e)){if(r=e.stateNode,t=e.memoizedProps,r[dr]=e,(i=r.nodeValue!==t)&&(n=On,n!==null))switch(n.tag){case 3:Zo(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zo(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return mn(e),null;case 13:if(Ft(Vt),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(zt&&Dn!==null&&e.mode&1&&!(e.flags&128))f0(),ds(),e.flags|=98560,i=!1;else if(i=Qo(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(be(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[dr]=e}else ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),i=!1}else tr!==null&&(fc(tr),tr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Vt.current&1?rn===0&&(rn=3):bd())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return hs(),ic(n,e),n===null&&fo(e.stateNode.containerInfo),mn(e),null;case 10:return nd(e.type._context),mn(e),null;case 17:return An(e.type)&&Pa(),mn(e),null;case 19:if(Ft(Vt),i=e.memoizedState,i===null)return mn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Bs(i,!1);else{if(rn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Ua(n),a!==null){for(e.flags|=128,Bs(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return jt(Vt,Vt.current&1|2),e.child}n=n.sibling}i.tail!==null&&Jt()>ms&&(e.flags|=128,r=!0,Bs(i,!1),e.lanes=4194304)}else{if(!r)if(n=Ua(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!zt)return mn(e),null}else 2*Jt()-i.renderingStartTime>ms&&t!==1073741824&&(e.flags|=128,r=!0,Bs(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Jt(),e.sibling=null,t=Vt.current,jt(Vt,r?t&1|2:t&1),e):(mn(e),null);case 22:case 23:return vd(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function kv(n,e){switch(Zc(e),e.tag){case 1:return An(e.type)&&Pa(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return hs(),Ft(Nn),Ft(vn),ad(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return od(e),null;case 13:if(Ft(Vt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(be(340));ds()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ft(Vt),null;case 4:return hs(),null;case 10:return nd(e.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var na=!1,gn=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,De=null;function Xi(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Yt(n,e,r)}else t.current=null}function sc(n,e,t){try{t()}catch(r){Yt(n,e,r)}}var Vf=!1;function Tv(n,e){if(Vu=Aa,n=Qm(),Jc(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,u=-1,l=-1,s=0,c=0,h=n,d=null;t:for(;;){for(var f;h!==t||o!==0&&h.nodeType!==3||(u=a+o),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++s===o&&(u=a),d===i&&++c===r&&(l=a),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=u===-1||l===-1?null:{start:u,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for($u={focusedElem:n,selectionRange:t},Aa=!1,De=e;De!==null;)if(e=De,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,De=n;else for(;De!==null;){e=De;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,p=g.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qn(e.type,y),p);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(k){Yt(e,e.return,k)}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}return g=Vf,Vf=!1,g}function Qs(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var i=o.destroy;o.destroy=void 0,i!==void 0&&sc(e,t,i)}o=o.next}while(o!==r)}}function _l(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function oc(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function K0(n){var e=n.alternate;e!==null&&(n.alternate=null,K0(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[dr],delete e[po],delete e[Gu],delete e[lv],delete e[uv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function J0(n){return n.tag===5||n.tag===3||n.tag===4}function $f(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||J0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ac(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ra));else if(r!==4&&(n=n.child,n!==null))for(ac(n,e,t),n=n.sibling;n!==null;)ac(n,e,t),n=n.sibling}function lc(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(lc(n,e,t),n=n.sibling;n!==null;)lc(n,e,t),n=n.sibling}var un=null,er=!1;function Fr(n,e,t){for(t=t.child;t!==null;)X0(n,e,t),t=t.sibling}function X0(n,e,t){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(pl,t)}catch{}switch(t.tag){case 5:gn||Xi(t,e);case 6:var r=un,o=er;un=null,Fr(n,e,t),un=r,er=o,un!==null&&(er?(n=un,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):un.removeChild(t.stateNode));break;case 18:un!==null&&(er?(n=un,t=t.stateNode,n.nodeType===8?ou(n.parentNode,t):n.nodeType===1&&ou(n,t),lo(n)):ou(un,t.stateNode));break;case 4:r=un,o=er,un=t.stateNode.containerInfo,er=!0,Fr(n,e,t),un=r,er=o;break;case 0:case 11:case 14:case 15:if(!gn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&sc(t,e,a),o=o.next}while(o!==r)}Fr(n,e,t);break;case 1:if(!gn&&(Xi(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(u){Yt(t,e,u)}Fr(n,e,t);break;case 21:Fr(n,e,t);break;case 22:t.mode&1?(gn=(r=gn)||t.memoizedState!==null,Fr(n,e,t),gn=r):Fr(n,e,t);break;default:Fr(n,e,t)}}function Hf(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Cv),e.forEach(function(r){var o=Dv.bind(null,n,r);t.has(r)||(t.add(r),r.then(o,o))})}}function Zn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];try{var i=n,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:un=u.stateNode,er=!1;break e;case 3:un=u.stateNode.containerInfo,er=!0;break e;case 4:un=u.stateNode.containerInfo,er=!0;break e}u=u.return}if(un===null)throw Error(be(160));X0(i,a,o),un=null,er=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(s){Yt(o,e,s)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z0(e,n),e=e.sibling}function Z0(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Zn(e,n),ur(n),r&4){try{Qs(3,n,n.return),_l(3,n)}catch(y){Yt(n,n.return,y)}try{Qs(5,n,n.return)}catch(y){Yt(n,n.return,y)}}break;case 1:Zn(e,n),ur(n),r&512&&t!==null&&Xi(t,t.return);break;case 5:if(Zn(e,n),ur(n),r&512&&t!==null&&Xi(t,t.return),n.flags&32){var o=n.stateNode;try{io(o,"")}catch(y){Yt(n,n.return,y)}}if(r&4&&(o=n.stateNode,o!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,u=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&xm(o,i),Ru(u,a);var s=Ru(u,i);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?Cm(o,h):c==="dangerouslySetInnerHTML"?Sm(o,h):c==="children"?io(o,h):Lc(o,c,h,s)}switch(u){case"input":Eu(o,i);break;case"textarea":wm(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?es(o,!!i.multiple,f,!1):d!==!!i.multiple&&(i.defaultValue!=null?es(o,!!i.multiple,i.defaultValue,!0):es(o,!!i.multiple,i.multiple?[]:"",!1))}o[po]=i}catch(y){Yt(n,n.return,y)}}break;case 6:if(Zn(e,n),ur(n),r&4){if(n.stateNode===null)throw Error(be(162));o=n.stateNode,i=n.memoizedProps;try{o.nodeValue=i}catch(y){Yt(n,n.return,y)}}break;case 3:if(Zn(e,n),ur(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{lo(e.containerInfo)}catch(y){Yt(n,n.return,y)}break;case 4:Zn(e,n),ur(n);break;case 13:Zn(e,n),ur(n),o=n.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(gd=Jt())),r&4&&Hf(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(gn=(s=gn)||c,Zn(e,n),gn=s):Zn(e,n),ur(n),r&8192){if(s=n.memoizedState!==null,(n.stateNode.isHidden=s)&&!c&&n.mode&1)for(De=n,c=n.child;c!==null;){for(h=De=c;De!==null;){switch(d=De,f=d.child,d.tag){case 0:case 11:case 14:case 15:Qs(4,d,d.return);break;case 1:Xi(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Yt(r,t,y)}}break;case 5:Xi(d,d.return);break;case 22:if(d.memoizedState!==null){Gf(h);continue}}f!==null?(f.return=d,De=f):Gf(h)}c=c.sibling}e:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{o=h.stateNode,s?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=km("display",a))}catch(y){Yt(n,n.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=s?"":h.memoizedProps}catch(y){Yt(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zn(e,n),ur(n),r&4&&Hf(n);break;case 21:break;default:Zn(e,n),ur(n)}}function ur(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(J0(t)){var r=t;break e}t=t.return}throw Error(be(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(io(o,""),r.flags&=-33);var i=$f(n);lc(n,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,u=$f(n);ac(n,u,a);break;default:throw Error(be(161))}}catch(l){Yt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Ev(n,e,t){De=n,Q0(n)}function Q0(n,e,t){for(var r=(n.mode&1)!==0;De!==null;){var o=De,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||na;if(!a){var u=o.alternate,l=u!==null&&u.memoizedState!==null||gn;u=na;var s=gn;if(na=a,(gn=l)&&!s)for(De=o;De!==null;)a=De,l=a.child,a.tag===22&&a.memoizedState!==null?Wf(o):l!==null?(l.return=a,De=l):Wf(o);for(;i!==null;)De=i,Q0(i),i=i.sibling;De=o,na=u,gn=s}qf(n)}else o.subtreeFlags&8772&&i!==null?(i.return=o,De=i):qf(n)}}function qf(n){for(;De!==null;){var e=De;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||_l(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(t===null)r.componentDidMount();else{var o=e.elementType===e.type?t.memoizedProps:Qn(e.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Af(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Af(e,a,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var s=e.alternate;if(s!==null){var c=s.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&lo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}gn||e.flags&512&&oc(e)}catch(d){Yt(e,e.return,d)}}if(e===n){De=null;break}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function Gf(n){for(;De!==null;){var e=De;if(e===n){De=null;break}var t=e.sibling;if(t!==null){t.return=e.return,De=t;break}De=e.return}}function Wf(n){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{_l(4,e)}catch(l){Yt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){Yt(e,o,l)}}var i=e.return;try{oc(e)}catch(l){Yt(e,i,l)}break;case 5:var a=e.return;try{oc(e)}catch(l){Yt(e,a,l)}}}catch(l){Yt(e,e.return,l)}if(e===n){De=null;break}var u=e.sibling;if(u!==null){u.return=e.return,De=u;break}De=e.return}}var Nv=Math.ceil,$a=Mr.ReactCurrentDispatcher,pd=Mr.ReactCurrentOwner,qn=Mr.ReactCurrentBatchConfig,bt=0,on=null,Qt=null,dn=0,jn=0,Zi=fi(0),rn=0,xo=null,Ti=0,Sl=0,md=0,eo=null,Tn=null,gd=0,ms=1/0,br=null,Ha=!1,uc=null,ei=null,ra=!1,Gr=null,qa=0,to=0,cc=null,ya=-1,va=0;function xn(){return bt&6?Jt():ya!==-1?ya:ya=Jt()}function ti(n){return n.mode&1?bt&2&&dn!==0?dn&-dn:dv.transition!==null?(va===0&&(va=Lm()),va):(n=Mt,n!==0||(n=window.event,n=n===void 0?16:Hm(n.type)),n):1}function ir(n,e,t,r){if(50<to)throw to=0,cc=null,Error(be(185));No(n,t,r),(!(bt&2)||n!==on)&&(n===on&&(!(bt&2)&&(Sl|=t),rn===4&&Hr(n,dn)),In(n,r),t===1&&bt===0&&!(e.mode&1)&&(ms=Jt()+500,bl&&hi()))}function In(n,e){var t=n.callbackNode;dy(n,e);var r=Na(n,n===on?dn:0);if(r===0)t!==null&&tf(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&tf(t),e===1)n.tag===0?cv(Yf.bind(null,n)):u0(Yf.bind(null,n)),ov(function(){!(bt&6)&&hi()}),t=null;else{switch(Fm(r)){case 1:t=Vc;break;case 4:t=Dm;break;case 16:t=Ea;break;case 536870912:t=Om;break;default:t=Ea}t=ag(t,eg.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function eg(n,e){if(ya=-1,va=0,bt&6)throw Error(be(327));var t=n.callbackNode;if(ss()&&n.callbackNode!==t)return null;var r=Na(n,n===on?dn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Ga(n,r);else{e=r;var o=bt;bt|=2;var i=ng();(on!==n||dn!==e)&&(br=null,ms=Jt()+500,wi(n,e));do try{Mv();break}catch(u){tg(n,u)}while(1);td(),$a.current=i,bt=o,Qt!==null?e=0:(on=null,dn=0,e=rn)}if(e!==0){if(e===2&&(o=Lu(n),o!==0&&(r=o,e=dc(n,o))),e===1)throw t=xo,wi(n,0),Hr(n,r),In(n,Jt()),t;if(e===6)Hr(n,r);else{if(o=n.current.alternate,!(r&30)&&!Av(o)&&(e=Ga(n,r),e===2&&(i=Lu(n),i!==0&&(r=i,e=dc(n,i))),e===1))throw t=xo,wi(n,0),Hr(n,r),In(n,Jt()),t;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:yi(n,Tn,br);break;case 3:if(Hr(n,r),(r&130023424)===r&&(e=gd+500-Jt(),10<e)){if(Na(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){xn(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=qu(yi.bind(null,n,Tn,br),e);break}yi(n,Tn,br);break;case 4:if(Hr(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var a=31-rr(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nv(r/1960))-r,10<r){n.timeoutHandle=qu(yi.bind(null,n,Tn,br),r);break}yi(n,Tn,br);break;case 5:yi(n,Tn,br);break;default:throw Error(be(329))}}}return In(n,Jt()),n.callbackNode===t?eg.bind(null,n):null}function dc(n,e){var t=eo;return n.current.memoizedState.isDehydrated&&(wi(n,e).flags|=256),n=Ga(n,e),n!==2&&(e=Tn,Tn=t,e!==null&&fc(e)),n}function fc(n){Tn===null?Tn=n:Tn.push.apply(Tn,n)}function Av(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var o=t[r],i=o.getSnapshot;o=o.value;try{if(!or(i(),o))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(n,e){for(e&=~md,e&=~Sl,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-rr(e),r=1<<t;n[t]=-1,e&=~r}}function Yf(n){if(bt&6)throw Error(be(327));ss();var e=Na(n,0);if(!(e&1))return In(n,Jt()),null;var t=Ga(n,e);if(n.tag!==0&&t===2){var r=Lu(n);r!==0&&(e=r,t=dc(n,r))}if(t===1)throw t=xo,wi(n,0),Hr(n,e),In(n,Jt()),t;if(t===6)throw Error(be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,yi(n,Tn,br),In(n,Jt()),null}function yd(n,e){var t=bt;bt|=1;try{return n(e)}finally{bt=t,bt===0&&(ms=Jt()+500,bl&&hi())}}function Ei(n){Gr!==null&&Gr.tag===0&&!(bt&6)&&ss();var e=bt;bt|=1;var t=qn.transition,r=Mt;try{if(qn.transition=null,Mt=1,n)return n()}finally{Mt=r,qn.transition=t,bt=e,!(bt&6)&&hi()}}function vd(){jn=Zi.current,Ft(Zi)}function wi(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,sv(t)),Qt!==null)for(t=Qt.return;t!==null;){var r=t;switch(Zc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pa();break;case 3:hs(),Ft(Nn),Ft(vn),ad();break;case 5:od(r);break;case 4:hs();break;case 13:Ft(Vt);break;case 19:Ft(Vt);break;case 10:nd(r.type._context);break;case 22:case 23:vd()}t=t.return}if(on=n,Qt=n=ni(n.current,null),dn=jn=e,rn=0,xo=null,md=Sl=Ti=0,Tn=eo=null,bi!==null){for(e=0;e<bi.length;e++)if(t=bi[e],r=t.interleaved,r!==null){t.interleaved=null;var o=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}t.pending=r}bi=null}return n}function tg(n,e){do{var t=Qt;try{if(td(),pa.current=Va,za){for(var r=$t.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}za=!1}if(Ci=0,sn=nn=$t=null,Zs=!1,yo=0,pd.current=null,t===null||t.return===null){rn=1,xo=e,Qt=null;break}e:{var i=n,a=t.return,u=t,l=e;if(e=dn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var s=l,c=u,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Df(a);if(f!==null){f.flags&=-257,Of(f,a,u,i,e),f.mode&1&&jf(i,s,e),e=f,l=s;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){jf(i,s,e),bd();break e}l=Error(be(426))}}else if(zt&&u.mode&1){var p=Df(a);if(p!==null){!(p.flags&65536)&&(p.flags|=256),Of(p,a,u,i,e),Qc(ps(l,u));break e}}i=l=ps(l,u),rn!==4&&(rn=2),eo===null?eo=[i]:eo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=F0(i,l,e);Nf(i,v);break e;case 1:u=l;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ei===null||!ei.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=B0(i,u,e);Nf(i,k);break e}}i=i.return}while(i!==null)}ig(t)}catch(I){e=I,Qt===t&&t!==null&&(Qt=t=t.return);continue}break}while(1)}function ng(){var n=$a.current;return $a.current=Va,n===null?Va:n}function bd(){(rn===0||rn===3||rn===2)&&(rn=4),on===null||!(Ti&268435455)&&!(Sl&268435455)||Hr(on,dn)}function Ga(n,e){var t=bt;bt|=2;var r=ng();(on!==n||dn!==e)&&(br=null,wi(n,e));do try{Iv();break}catch(o){tg(n,o)}while(1);if(td(),bt=t,$a.current=r,Qt!==null)throw Error(be(261));return on=null,dn=0,rn}function Iv(){for(;Qt!==null;)rg(Qt)}function Mv(){for(;Qt!==null&&!ny();)rg(Qt)}function rg(n){var e=og(n.alternate,n,jn);n.memoizedProps=n.pendingProps,e===null?ig(n):Qt=e,pd.current=null}function ig(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=kv(t,e),t!==null){t.flags&=32767,Qt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{rn=6,Qt=null;return}}else if(t=Sv(t,e,jn),t!==null){Qt=t;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=n}while(e!==null);rn===0&&(rn=5)}function yi(n,e,t){var r=Mt,o=qn.transition;try{qn.transition=null,Mt=1,Rv(n,e,t,r)}finally{qn.transition=o,Mt=r}return null}function Rv(n,e,t,r){do ss();while(Gr!==null);if(bt&6)throw Error(be(327));t=n.finishedWork;var o=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(be(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(fy(n,i),n===on&&(Qt=on=null,dn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ra||(ra=!0,ag(Ea,function(){return ss(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=qn.transition,qn.transition=null;var a=Mt;Mt=1;var u=bt;bt|=4,pd.current=null,Tv(n,t),Z0(t,n),Zy($u),Aa=!!Vu,$u=Vu=null,n.current=t,Ev(t),ry(),bt=u,Mt=a,qn.transition=i}else n.current=t;if(ra&&(ra=!1,Gr=n,qa=o),i=n.pendingLanes,i===0&&(ei=null),oy(t.stateNode),In(n,Jt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)o=e[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ha)throw Ha=!1,n=uc,uc=null,n;return qa&1&&n.tag!==0&&ss(),i=n.pendingLanes,i&1?n===cc?to++:(to=0,cc=n):to=0,hi(),null}function ss(){if(Gr!==null){var n=Fm(qa),e=qn.transition,t=Mt;try{if(qn.transition=null,Mt=16>n?16:n,Gr===null)var r=!1;else{if(n=Gr,Gr=null,qa=0,bt&6)throw Error(be(331));var o=bt;for(bt|=4,De=n.current;De!==null;){var i=De,a=i.child;if(De.flags&16){var u=i.deletions;if(u!==null){for(var l=0;l<u.length;l++){var s=u[l];for(De=s;De!==null;){var c=De;switch(c.tag){case 0:case 11:case 15:Qs(8,c,i)}var h=c.child;if(h!==null)h.return=c,De=h;else for(;De!==null;){c=De;var d=c.sibling,f=c.return;if(K0(c),c===s){De=null;break}if(d!==null){d.return=f,De=d;break}De=f}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var p=y.sibling;y.sibling=null,y=p}while(y!==null)}}De=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,De=a;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,De=v;break e}De=i.return}}var m=n.current;for(De=m;De!==null;){a=De;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,De=x;else e:for(a=m;De!==null;){if(u=De,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:_l(9,u)}}catch(I){Yt(u,u.return,I)}if(u===a){De=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,De=k;break e}De=u.return}}if(bt=o,hi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(pl,n)}catch{}r=!0}return r}finally{Mt=t,qn.transition=e}}return!1}function Kf(n,e,t){e=ps(t,e),e=F0(n,e,1),n=Qr(n,e,1),e=xn(),n!==null&&(No(n,1,e),In(n,e))}function Yt(n,e,t){if(n.tag===3)Kf(n,n,t);else for(;e!==null;){if(e.tag===3){Kf(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){n=ps(t,n),n=B0(e,n,1),e=Qr(e,n,1),n=xn(),e!==null&&(No(e,1,n),In(e,n));break}}e=e.return}}function Pv(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=xn(),n.pingedLanes|=n.suspendedLanes&t,on===n&&(dn&t)===t&&(rn===4||rn===3&&(dn&130023424)===dn&&500>Jt()-gd?wi(n,0):md|=t),In(n,e)}function sg(n,e){e===0&&(n.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var t=xn();n=Tr(n,e),n!==null&&(No(n,e,t),In(n,t))}function jv(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),sg(n,t)}function Dv(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(t=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),sg(n,t)}var og;og=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Nn.current)En=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return En=!1,_v(n,e,t);En=!!(n.flags&131072)}else En=!1,zt&&e.flags&1048576&&c0(e,Oa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ga(n,e),n=e.pendingProps;var o=cs(e,vn.current);is(e,t),o=ud(null,e,r,n,o,t);var i=cd();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(i=!0,ja(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,id(e),o.updater=wl,e.stateNode=o,o._reactInternals=e,Zu(e,r,n,t),e=tc(null,e,r,!0,i,t)):(e.tag=0,zt&&i&&Xc(e),bn(null,e,o,t),e=e.child),e;case 16:r=e.elementType;e:{switch(ga(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Lv(r),n=Qn(r,n),o){case 0:e=ec(null,e,r,n,t);break e;case 1:e=Bf(null,e,r,n,t);break e;case 11:e=Lf(null,e,r,n,t);break e;case 14:e=Ff(null,e,r,Qn(r.type,n),t);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Qn(r,o),ec(n,e,r,o,t);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Qn(r,o),Bf(n,e,r,o,t);case 3:e:{if($0(e),n===null)throw Error(be(387));r=e.pendingProps,i=e.memoizedState,o=i.element,g0(n,e),Ba(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=ps(Error(be(423)),e),e=Uf(n,e,r,t,o);break e}else if(r!==o){o=ps(Error(be(424)),e),e=Uf(n,e,r,t,o);break e}else for(Dn=Zr(e.stateNode.containerInfo.firstChild),On=e,zt=!0,tr=null,t=p0(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ds(),r===o){e=Er(n,e,t);break e}bn(n,e,r,t)}e=e.child}return e;case 5:return y0(e),n===null&&Ku(e),r=e.type,o=e.pendingProps,i=n!==null?n.memoizedProps:null,a=o.children,Hu(r,o)?a=null:i!==null&&Hu(r,i)&&(e.flags|=32),V0(n,e),bn(n,e,a,t),e.child;case 6:return n===null&&Ku(e),null;case 13:return H0(n,e,t);case 4:return sd(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=fs(e,null,r,t):bn(n,e,r,t),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Qn(r,o),Lf(n,e,r,o,t);case 7:return bn(n,e,e.pendingProps,t),e.child;case 8:return bn(n,e,e.pendingProps.children,t),e.child;case 12:return bn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,jt(La,r._currentValue),r._currentValue=a,i!==null)if(or(i.value,a)){if(i.children===o.children&&!Nn.current){e=Er(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){a=i.child;for(var l=u.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Sr(-1,t&-t),l.tag=2;var s=i.updateQueue;if(s!==null){s=s.shared;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Ju(i.return,t,e),u.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(be(341));a.lanes|=t,u=a.alternate,u!==null&&(u.lanes|=t),Ju(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}bn(n,e,o.children,t),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,is(e,t),o=Yn(o),r=r(o),e.flags|=1,bn(n,e,r,t),e.child;case 14:return r=e.type,o=Qn(r,e.pendingProps),o=Qn(r.type,o),Ff(n,e,r,o,t);case 15:return U0(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Qn(r,o),ga(n,e),e.tag=1,An(r)?(n=!0,ja(e)):n=!1,is(e,t),L0(e,r,o),Zu(e,r,o,t),tc(null,e,r,!0,n,t);case 19:return q0(n,e,t);case 22:return z0(n,e,t)}throw Error(be(156,e.tag))};function ag(n,e){return jm(n,e)}function Ov(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,e,t,r){return new Ov(n,e,t,r)}function xd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Lv(n){if(typeof n=="function")return xd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Bc)return 11;if(n===Uc)return 14}return 2}function ni(n,e){var t=n.alternate;return t===null?(t=$n(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ba(n,e,t,r,o,i){var a=2;if(r=n,typeof n=="function")xd(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Vi:return _i(t.children,o,i,e);case Fc:a=8,o|=8;break;case _u:return n=$n(12,t,e,o|2),n.elementType=_u,n.lanes=i,n;case Su:return n=$n(13,t,e,o),n.elementType=Su,n.lanes=i,n;case ku:return n=$n(19,t,e,o),n.elementType=ku,n.lanes=i,n;case ym:return kl(t,o,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case mm:a=10;break e;case gm:a=9;break e;case Bc:a=11;break e;case Uc:a=14;break e;case Ur:a=16,r=null;break e}throw Error(be(130,n==null?n:typeof n,""))}return e=$n(a,t,e,o),e.elementType=n,e.type=r,e.lanes=i,e}function _i(n,e,t,r){return n=$n(7,n,r,e),n.lanes=t,n}function kl(n,e,t,r){return n=$n(22,n,r,e),n.elementType=ym,n.lanes=t,n.stateNode={isHidden:!1},n}function pu(n,e,t){return n=$n(6,n,null,e),n.lanes=t,n}function mu(n,e,t){return e=$n(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Fv(n,e,t,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wd(n,e,t,r,o,i,a,u,l){return n=new Fv(n,e,t,u,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$n(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(i),n}function Bv(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function lg(n){if(!n)return ai;n=n._reactInternals;e:{if(Ii(n)!==n||n.tag!==1)throw Error(be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(n.tag===1){var t=n.type;if(An(t))return l0(n,t,e)}return e}function ug(n,e,t,r,o,i,a,u,l){return n=wd(t,r,!0,n,o,i,a,u,l),n.context=lg(null),t=n.current,r=xn(),o=ti(t),i=Sr(r,o),i.callback=e??null,Qr(t,i,o),n.current.lanes=o,No(n,o,r),In(n,r),n}function Cl(n,e,t,r){var o=e.current,i=xn(),a=ti(o);return t=lg(t),e.context===null?e.context=t:e.pendingContext=t,e=Sr(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Qr(o,e,a),n!==null&&(ir(n,o,a,i),ha(n,o,a)),a}function Wa(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Jf(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function _d(n,e){Jf(n,e),(n=n.alternate)&&Jf(n,e)}function Uv(){return null}var cg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sd(n){this._internalRoot=n}Tl.prototype.render=Sd.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(be(409));Cl(n,e,null,null)};Tl.prototype.unmount=Sd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ei(function(){Cl(null,n,null,null)}),e[Cr]=null}};function Tl(n){this._internalRoot=n}Tl.prototype.unstable_scheduleHydration=function(n){if(n){var e=zm();n={blockedOn:null,target:n,priority:e};for(var t=0;t<$r.length&&e!==0&&e<$r[t].priority;t++);$r.splice(t,0,n),t===0&&$m(n)}};function kd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function El(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Xf(){}function zv(n,e,t,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var s=Wa(a);i.call(s)}}var a=ug(e,r,n,0,null,!1,!1,"",Xf);return n._reactRootContainer=a,n[Cr]=a.current,fo(n.nodeType===8?n.parentNode:n),Ei(),a}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var s=Wa(l);u.call(s)}}var l=wd(n,0,!1,null,null,!1,!1,"",Xf);return n._reactRootContainer=l,n[Cr]=l.current,fo(n.nodeType===8?n.parentNode:n),Ei(function(){Cl(e,l,t,r)}),l}function Nl(n,e,t,r,o){var i=t._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var u=o;o=function(){var l=Wa(a);u.call(l)}}Cl(e,a,n,o)}else a=zv(t,e,n,o,r);return Wa(a)}Bm=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Hs(e.pendingLanes);t!==0&&($c(e,t|1),In(e,Jt()),!(bt&6)&&(ms=Jt()+500,hi()))}break;case 13:Ei(function(){var r=Tr(n,1);if(r!==null){var o=xn();ir(r,n,1,o)}}),_d(n,1)}};Hc=function(n){if(n.tag===13){var e=Tr(n,134217728);if(e!==null){var t=xn();ir(e,n,134217728,t)}_d(n,134217728)}};Um=function(n){if(n.tag===13){var e=ti(n),t=Tr(n,e);if(t!==null){var r=xn();ir(t,n,e,r)}_d(n,e)}};zm=function(){return Mt};Vm=function(n,e){var t=Mt;try{return Mt=n,e()}finally{Mt=t}};ju=function(n,e,t){switch(e){case"input":if(Eu(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var o=vl(r);if(!o)throw Error(be(90));bm(r),Eu(r,o)}}}break;case"textarea":wm(n,t);break;case"select":e=t.value,e!=null&&es(n,!!t.multiple,e,!1)}};Nm=yd;Am=Ei;var Vv={usingClientEntryPoint:!1,Events:[Io,Gi,vl,Tm,Em,yd]},Us={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$v={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Rm(n),n===null?null:n.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{pl=ia.inject($v),hr=ia}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vv;Bn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kd(e))throw Error(be(200));return Bv(n,e,null,t)};Bn.createRoot=function(n,e){if(!kd(n))throw Error(be(299));var t=!1,r="",o=cg;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=wd(n,1,!1,null,null,t,!1,r,o),n[Cr]=e.current,fo(n.nodeType===8?n.parentNode:n),new Sd(e)};Bn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(be(188)):(n=Object.keys(n).join(","),Error(be(268,n)));return n=Rm(e),n=n===null?null:n.stateNode,n};Bn.flushSync=function(n){return Ei(n)};Bn.hydrate=function(n,e,t){if(!El(e))throw Error(be(200));return Nl(null,n,e,!0,t)};Bn.hydrateRoot=function(n,e,t){if(!kd(n))throw Error(be(405));var r=t!=null&&t.hydratedSources||null,o=!1,i="",a=cg;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=ug(e,null,n,1,t??null,o,!1,i,a),n[Cr]=e.current,fo(n),r)for(n=0;n<r.length;n++)t=r[n],o=t._getVersion,o=o(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o);return new Tl(e)};Bn.render=function(n,e,t){if(!El(e))throw Error(be(200));return Nl(null,n,e,!1,t)};Bn.unmountComponentAtNode=function(n){if(!El(n))throw Error(be(40));return n._reactRootContainer?(Ei(function(){Nl(null,null,n,!1,function(){n._reactRootContainer=null,n[Cr]=null})}),!0):!1};Bn.unstable_batchedUpdates=yd;Bn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!El(t))throw Error(be(200));if(n==null||n._reactInternals===void 0)throw Error(be(38));return Nl(n,e,t,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function dg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dg)}catch(n){console.error(n)}}dg(),dm.exports=Bn;var Hv=dm.exports,Zf=Hv;xu.createRoot=Zf.createRoot,xu.hydrateRoot=Zf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wo.apply(this,arguments)}var Wr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Wr||(Wr={}));const Qf="popstate";function qv(n){n===void 0&&(n={});function e(o,i){let{pathname:a="/",search:u="",hash:l=""}=Mi(o.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),hc("",{pathname:a,search:u,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(o,i){let a=o.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let l=o.location.href,s=l.indexOf("#");u=s===-1?l:l.slice(0,s)}return u+"#"+(typeof i=="string"?i:Ya(i))}function r(o,i){Al(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Wv(e,t,r,n)}function Ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Al(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gv(){return Math.random().toString(36).substr(2,8)}function eh(n,e){return{usr:n.state,key:n.key,idx:e}}function hc(n,e,t,r){return t===void 0&&(t=null),wo({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Mi(e):e,{state:t,key:e&&e.key||r||Gv()})}function Ya(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Wv(n,e,t,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,u=Wr.Pop,l=null,s=c();s==null&&(s=0,a.replaceState(wo({},a.state,{idx:s}),""));function c(){return(a.state||{idx:null}).idx}function h(){u=Wr.Pop;let p=c(),v=p==null?null:p-s;s=p,l&&l({action:u,location:y.location,delta:v})}function d(p,v){u=Wr.Push;let m=hc(y.location,p,v);t&&t(m,p),s=c()+1;let x=eh(m,s),k=y.createHref(m);try{a.pushState(x,"",k)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(k)}i&&l&&l({action:u,location:y.location,delta:1})}function f(p,v){u=Wr.Replace;let m=hc(y.location,p,v);t&&t(m,p),s=c();let x=eh(m,s),k=y.createHref(m);a.replaceState(x,"",k),i&&l&&l({action:u,location:y.location,delta:0})}function g(p){let v=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof p=="string"?p:Ya(p);return m=m.replace(/ $/,"%20"),Ht(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let y={get action(){return u},get location(){return n(o,a)},listen(p){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Qf,h),l=p,()=>{o.removeEventListener(Qf,h),l=null}},createHref(p){return e(o,p)},createURL:g,encodeLocation(p){let v=g(p);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:f,go(p){return a.go(p)}};return y}var th;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(th||(th={}));function Yv(n,e,t){return t===void 0&&(t="/"),Kv(n,e,t,!1)}function Kv(n,e,t,r){let o=typeof e=="string"?Mi(e):e,i=gs(o.pathname||"/",t);if(i==null)return null;let a=fg(n);Jv(a);let u=null;for(let l=0;u==null&&l<a.length;++l){let s=ab(i);u=sb(a[l],s,r)}return u}function fg(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let o=(i,a,u)=>{let l={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let s=ri([r,l.relativePath]),c=t.concat(l);i.children&&i.children.length>0&&(Ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+s+'".')),fg(i.children,e,c,s)),!(i.path==null&&!i.index)&&e.push({path:s,score:rb(s,i.index),routesMeta:c})};return n.forEach((i,a)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))o(i,a);else for(let l of hg(i.path))o(i,a,l)}),e}function hg(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=hg(r.join("/")),u=[];return u.push(...a.map(l=>l===""?i:[i,l].join("/"))),o&&u.push(...a),u.map(l=>n.startsWith("/")&&l===""?"/":l)}function Jv(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ib(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Xv=/^:[\w-]+$/,Zv=3,Qv=2,eb=1,tb=10,nb=-2,nh=n=>n==="*";function rb(n,e){let t=n.split("/"),r=t.length;return t.some(nh)&&(r+=nb),e&&(r+=Qv),t.filter(o=>!nh(o)).reduce((o,i)=>o+(Xv.test(i)?Zv:i===""?eb:tb),r)}function ib(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function sb(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,o={},i="/",a=[];for(let u=0;u<r.length;++u){let l=r[u],s=u===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=Ka({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},c),d=l.route;if(!h&&s&&t&&!r[r.length-1].route.index&&(h=Ka({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(o,h.params),a.push({params:o,pathname:ri([i,h.pathname]),pathnameBase:fb(ri([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=ri([i,h.pathnameBase]))}return a}function Ka(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ob(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((s,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let y=u[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=u[h];return f&&!g?s[d]=void 0:s[d]=(g||"").replace(/%2F/g,"/"),s},{}),pathname:i,pathnameBase:a,pattern:n}}function ob(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Al(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,l)=>(r.push({paramName:u,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function ab(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Al(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ub=n=>lb.test(n);function cb(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Mi(n):n,i;if(t)if(ub(t))i=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Al(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?i=rh(t.substring(1),"/"):i=rh(t,e)}else i=e;return{pathname:i,search:hb(r),hash:pb(o)}}function rh(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gu(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function db(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cd(n,e){let t=db(n);return e?t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Td(n,e,t,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=Mi(n):(o=wo({},n),Ht(!o.pathname||!o.pathname.includes("?"),gu("?","pathname","search",o)),Ht(!o.pathname||!o.pathname.includes("#"),gu("#","pathname","hash",o)),Ht(!o.search||!o.search.includes("#"),gu("#","search","hash",o)));let i=n===""||o.pathname==="",a=i?"/":o.pathname,u;if(a==null)u=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),h-=1;o.pathname=d.join("/")}u=h>=0?e[h]:"/"}let l=cb(o,u),s=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(s||c)&&(l.pathname+="/"),l}const ri=n=>n.join("/").replace(/\/\/+/g,"/"),fb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function mb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const pg=["post","put","patch","delete"];new Set(pg);const gb=["get",...pg];new Set(gb);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_o.apply(this,arguments)}const Il=oe.createContext(null),mg=oe.createContext(null),Rr=oe.createContext(null),Ml=oe.createContext(null),gr=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),gg=oe.createContext(null);function yb(n,e){let{relative:t}=e===void 0?{}:e;Ts()||Ht(!1);let{basename:r,navigator:o}=oe.useContext(Rr),{hash:i,pathname:a,search:u}=Rl(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:ri([r,a])),o.createHref({pathname:l,search:u,hash:i})}function Ts(){return oe.useContext(Ml)!=null}function Ri(){return Ts()||Ht(!1),oe.useContext(Ml).location}function yg(n){oe.useContext(Rr).static||oe.useLayoutEffect(n)}function Es(){let{isDataRoute:n}=oe.useContext(gr);return n?Rb():vb()}function vb(){Ts()||Ht(!1);let n=oe.useContext(Il),{basename:e,future:t,navigator:r}=oe.useContext(Rr),{matches:o}=oe.useContext(gr),{pathname:i}=Ri(),a=JSON.stringify(Cd(o,t.v7_relativeSplatPath)),u=oe.useRef(!1);return yg(()=>{u.current=!0}),oe.useCallback(function(s,c){if(c===void 0&&(c={}),!u.current)return;if(typeof s=="number"){r.go(s);return}let h=Td(s,JSON.parse(a),i,c.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ri([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,a,i,n])}const bb=oe.createContext(null);function xb(n){let e=oe.useContext(gr).outlet;return e&&oe.createElement(bb.Provider,{value:n},e)}function Ed(){let{matches:n}=oe.useContext(gr),e=n[n.length-1];return e?e.params:{}}function Rl(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=oe.useContext(Rr),{matches:o}=oe.useContext(gr),{pathname:i}=Ri(),a=JSON.stringify(Cd(o,r.v7_relativeSplatPath));return oe.useMemo(()=>Td(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function wb(n,e){return _b(n,e)}function _b(n,e,t,r){Ts()||Ht(!1);let{navigator:o}=oe.useContext(Rr),{matches:i}=oe.useContext(gr),a=i[i.length-1],u=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let s=Ri(),c;if(e){var h;let p=typeof e=="string"?Mi(e):e;l==="/"||(h=p.pathname)!=null&&h.startsWith(l)||Ht(!1),c=p}else c=s;let d=c.pathname||"/",f=d;if(l!=="/"){let p=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=Yv(n,{pathname:f}),y=Eb(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:ri([l,o.encodeLocation?o.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:ri([l,o.encodeLocation?o.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,t,r);return e&&y?oe.createElement(Ml.Provider,{value:{location:_o({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wr.Pop}},y):y}function Sb(){let n=Mb(),e=mb(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:o},t):null,i)}const kb=oe.createElement(Sb,null);class Cb extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?oe.createElement(gr.Provider,{value:this.props.routeContext},oe.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tb(n){let{routeContext:e,match:t,children:r}=n,o=oe.useContext(Il);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),oe.createElement(gr.Provider,{value:e},r)}function Eb(n,e,t,r){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=(o=t)==null?void 0:o.errors;if(u!=null){let c=a.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);c>=0||Ht(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,s=-1;if(t&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(s=c),h.route.id){let{loaderData:d,errors:f}=t,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((c,h,d)=>{let f,g=!1,y=null,p=null;t&&(f=u&&h.route.id?u[h.route.id]:void 0,y=h.route.errorElement||kb,l&&(s<0&&d===0?(Pb("route-fallback",!1),g=!0,p=null):s===d&&(g=!0,p=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,d+1)),m=()=>{let x;return f?x=y:g?x=p:h.route.Component?x=oe.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,oe.createElement(Tb,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?oe.createElement(Cb,{location:t.location,revalidation:t.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var vg=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(vg||{}),Ja=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Ja||{});function Nb(n){let e=oe.useContext(Il);return e||Ht(!1),e}function Ab(n){let e=oe.useContext(mg);return e||Ht(!1),e}function Ib(n){let e=oe.useContext(gr);return e||Ht(!1),e}function bg(n){let e=Ib(),t=e.matches[e.matches.length-1];return t.route.id||Ht(!1),t.route.id}function Mb(){var n;let e=oe.useContext(gg),t=Ab(Ja.UseRouteError),r=bg(Ja.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Rb(){let{router:n}=Nb(vg.UseNavigateStable),e=bg(Ja.UseNavigateStable),t=oe.useRef(!1);return yg(()=>{t.current=!0}),oe.useCallback(function(o,i){i===void 0&&(i={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,_o({fromRouteId:e},i)))},[n,e])}const ih={};function Pb(n,e,t){!e&&!ih[n]&&(ih[n]=!0)}function jb(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Db(n){let{to:e,replace:t,state:r,relative:o}=n;Ts()||Ht(!1);let{future:i,static:a}=oe.useContext(Rr),{matches:u}=oe.useContext(gr),{pathname:l}=Ri(),s=Es(),c=Td(e,Cd(u,i.v7_relativeSplatPath),l,o==="path"),h=JSON.stringify(c);return oe.useEffect(()=>s(JSON.parse(h),{replace:t,state:r,relative:o}),[s,h,o,t,r]),null}function Ob(n){return xb(n.context)}function Pn(n){Ht(!1)}function Lb(n){let{basename:e="/",children:t=null,location:r,navigationType:o=Wr.Pop,navigator:i,static:a=!1,future:u}=n;Ts()&&Ht(!1);let l=e.replace(/^\/*/,"/"),s=oe.useMemo(()=>({basename:l,navigator:i,static:a,future:_o({v7_relativeSplatPath:!1},u)}),[l,u,i,a]);typeof r=="string"&&(r=Mi(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:g="default"}=r,y=oe.useMemo(()=>{let p=gs(c,l);return p==null?null:{location:{pathname:p,search:h,hash:d,state:f,key:g},navigationType:o}},[l,c,h,d,f,g,o]);return y==null?null:oe.createElement(Rr.Provider,{value:s},oe.createElement(Ml.Provider,{children:t,value:y}))}function Fb(n){let{children:e,location:t}=n;return wb(pc(e),t)}new Promise(()=>{});function pc(n,e){e===void 0&&(e=[]);let t=[];return oe.Children.forEach(n,(r,o)=>{if(!oe.isValidElement(r))return;let i=[...e,o];if(r.type===oe.Fragment){t.push.apply(t,pc(r.props.children,i));return}r.type!==Pn&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=pc(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xa.apply(this,arguments)}function xg(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Bb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ub(n,e){return n.button===0&&(!e||e==="_self")&&!Bb(n)}function mc(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function zb(n,e){let t=mc(n);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(i=>{t.append(o,i)})}),t}const Vb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$b=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Hb="6";try{window.__reactRouterVersion=Hb}catch{}const qb=oe.createContext({isTransitioning:!1}),Gb="startTransition",sh=P1[Gb];function Wb(n){let{basename:e,children:t,future:r,window:o}=n,i=oe.useRef();i.current==null&&(i.current=qv({window:o,v5Compat:!0}));let a=i.current,[u,l]=oe.useState({action:a.action,location:a.location}),{v7_startTransition:s}=r||{},c=oe.useCallback(h=>{s&&sh?sh(()=>l(h)):l(h)},[l,s]);return oe.useLayoutEffect(()=>a.listen(c),[a,c]),oe.useEffect(()=>jb(r),[r]),oe.createElement(Lb,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a,future:r})}const Yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=oe.forwardRef(function(e,t){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:u,target:l,to:s,preventScrollReset:c,viewTransition:h}=e,d=xg(e,Vb),{basename:f}=oe.useContext(Rr),g,y=!1;if(typeof s=="string"&&Kb.test(s)&&(g=s,Yb))try{let x=new URL(window.location.href),k=s.startsWith("//")?new URL(x.protocol+s):new URL(s),I=gs(k.pathname,f);k.origin===x.origin&&I!=null?s=I+k.search+k.hash:y=!0}catch{}let p=yb(s,{relative:o}),v=Zb(s,{replace:a,state:u,target:l,preventScrollReset:c,relative:o,viewTransition:h});function m(x){r&&r(x),x.defaultPrevented||v(x)}return oe.createElement("a",Xa({},d,{href:g||p,onClick:y||i?r:m,ref:t,target:l}))}),Jb=oe.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:a=!1,style:u,to:l,viewTransition:s,children:c}=e,h=xg(e,$b),d=Rl(l,{relative:h.relative}),f=Ri(),g=oe.useContext(mg),{navigator:y,basename:p}=oe.useContext(Rr),v=g!=null&&e2(d)&&s===!0,m=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,x=f.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(x=x.toLowerCase(),k=k?k.toLowerCase():null,m=m.toLowerCase()),k&&p&&(k=gs(k,p)||k);const I=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let D=x===m||!a&&x.startsWith(m)&&x.charAt(I)==="/",V=k!=null&&(k===m||!a&&k.startsWith(m)&&k.charAt(m.length)==="/"),L={isActive:D,isPending:V,isTransitioning:v},z=D?r:void 0,B;typeof i=="function"?B=i(L):B=[i,D?"active":null,V?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(L):u;return oe.createElement(wn,Xa({},h,{"aria-current":z,className:B,ref:t,style:H,to:l,viewTransition:s}),typeof c=="function"?c(L):c)});var gc;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(gc||(gc={}));var oh;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(oh||(oh={}));function Xb(n){let e=oe.useContext(Il);return e||Ht(!1),e}function Zb(n,e){let{target:t,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:u}=e===void 0?{}:e,l=Es(),s=Ri(),c=Rl(n,{relative:a});return oe.useCallback(h=>{if(Ub(h,t)){h.preventDefault();let d=r!==void 0?r:Ya(s)===Ya(c);l(n,{replace:d,state:o,preventScrollReset:i,relative:a,viewTransition:u})}},[s,l,c,r,o,t,n,i,a,u])}function Qb(n){let e=oe.useRef(mc(n)),t=oe.useRef(!1),r=Ri(),o=oe.useMemo(()=>zb(r.search,t.current?null:e.current),[r.search]),i=Es(),a=oe.useCallback((u,l)=>{const s=mc(typeof u=="function"?u(o):u);t.current=!0,i("?"+s,l)},[i,o]);return[o,a]}function e2(n,e){e===void 0&&(e={});let t=oe.useContext(qb);t==null&&Ht(!1);let{basename:r}=Xb(gc.useViewTransitionState),o=Rl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let i=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ka(o.pathname,a)!=null||Ka(o.pathname,i)!=null}var t2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=(n,e)=>{const t=oe.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:u,...l},s)=>oe.createElement("svg",{ref:s,...t2,width:o,height:o,stroke:r,strokeWidth:a?Number(i)*24/Number(o):i,className:`lucide lucide-${n2(n)}`,...l},[...e.map(([c,h])=>oe.createElement(c,h)),...(Array.isArray(u)?u:[u])||[]]));return t.displayName=`${n}`,t},wg=Ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),_g=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ro=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),r2=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Pl=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Sg=Ee("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),i2=Ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),yu=Ee("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),Nd=Ee("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),kg=Ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),s2=Ee("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),jl=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),o2=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),a2=Ee("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Cg=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ah=Ee("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Za=Ee("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Tg=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),l2=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u2=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Eg=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),c2=Ee("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]),d2=Ee("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),f2=Ee("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),lh=Ee("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),h2=Ee("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Po=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),p2=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m2=Ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),g2=Ee("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),li=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),So=Ee("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),y2=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),v2=Ee("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Ng=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),b2=Ee("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),x2=Ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),w2=Ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Dl=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),_2=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),S2=Ee("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),k2=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Ad=Ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),C2=Ee("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Ag=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),T2=Ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Hn=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),E2=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),N2=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Id=Ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),A2=Ee("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),I2=Ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),M2=Ee("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Gn=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qa=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),R2=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),P2=Ee("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),Ol=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),j2=Ee("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),D2=Ee("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),el=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),O2=Ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),uh=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Nr=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),ch=Ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),L2=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),tl=Ee("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),F2=Ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),B2=Ee("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),U2=Ee("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Ll=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),z2=Ee("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),ys=Ee("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),ko=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Md=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ig=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),V2=Ee("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Mn=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$2=Ee("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),H2=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),q2=()=>{const n=[{icon:Ad,label:"Dashboard",path:"/"},{icon:kg,label:"Projects",path:"/projects"},{icon:Nr,label:"Studio",path:"/studio"},{icon:Id,label:"Moodboard",path:"/moodboard"},{icon:Ig,label:"Roster",path:"/freelancers"},{icon:jl,label:"Schedule",path:"/assignments"},{icon:ko,label:"Import",path:"/imports"}];return E.jsxs("div",{className:"flex h-screen bg-app font-sans text-ink-primary overflow-hidden selection:bg-primary selection:text-white",children:[E.jsxs("aside",{className:"w-64 flex-shrink-0 hidden md:flex flex-col h-full border-r border-border-subtle bg-surface/80 backdrop-blur-xl z-50 relative transition-all duration-300",children:[E.jsx("div",{className:"h-20 flex flex-col justify-center px-6",children:E.jsxs("div",{className:"flex items-center gap-3 group cursor-default",children:[E.jsxs("div",{className:"relative w-8 h-8 bg-ink-primary text-white rounded-lg flex items-center justify-center shadow-card group-hover:shadow-glow transition-all duration-500 ease-out group-hover:-translate-y-0.5 flex-shrink-0",children:[E.jsx("div",{className:"absolute inset-0 bg-rival-gradient opacity-0 group-hover:opacity-20 rounded-lg transition-opacity duration-500"}),E.jsx("div",{className:"w-2 h-2 bg-white rounded-full shadow-sm relative z-10"})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-display font-bold text-lg tracking-tight text-ink-primary leading-none",children:"Studio."}),E.jsx("span",{className:"font-mono font-medium text-[9px] text-ink-tertiary uppercase tracking-widest mt-0.5",children:"Pro v.2.0"})]})]})}),E.jsxs("div",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto custom-scrollbar",children:[E.jsx("div",{className:"px-4 mb-4 text-xs font-semibold text-ink-tertiary uppercase tracking-wide opacity-60",children:"Operations"}),n.map(e=>E.jsx(Jb,{to:e.path,className:({isActive:t})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative ${t?"bg-white shadow-sm text-ink-primary ring-1 ring-black/5":"text-ink-secondary hover:bg-subtle/60 hover:text-ink-primary"}`,children:({isActive:t})=>E.jsxs(E.Fragment,{children:[t&&E.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-8 w-1 rounded-r-full bg-ink-primary"}),E.jsx(e.icon,{size:20,strokeWidth:t?2.5:2,className:`transition-colors duration-200 ${t?"text-ink-primary":"text-ink-tertiary group-hover:text-ink-primary"}`}),E.jsx("span",{className:"relative z-10",children:e.label})]})},e.path))]}),E.jsxs("div",{className:"p-6 mx-2 mb-2 border-t border-border-subtle/50 space-y-2",children:[E.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-ink-secondary hover:text-ink-primary hover:bg-subtle/50 transition-all duration-200 active:scale-[0.98]",children:[E.jsx(el,{size:20,strokeWidth:2}),"System Config"]}),E.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-ink-secondary hover:text-state-danger hover:bg-state-danger-bg/30 transition-all duration-200 active:scale-[0.98]",children:[E.jsx(N2,{size:20,strokeWidth:2}),"Disconnect"]})]})]}),E.jsxs("div",{className:"md:hidden fixed top-0 w-full bg-surface/90 backdrop-blur-xl border-b border-border-subtle h-16 z-50 flex items-center px-6 justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-display font-bold text-lg tracking-tight text-ink-primary",children:"Studio."}),E.jsx("div",{className:"w-8 h-8 bg-ink-primary text-white rounded-lg flex items-center justify-center shadow-sm",children:E.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),E.jsx("button",{className:"p-2 text-ink-tertiary",children:E.jsx(el,{size:20})})]}),E.jsx("main",{className:"flex-1 h-full overflow-y-auto overflow-x-hidden relative scroll-smooth",children:E.jsx("div",{className:"min-h-full pb-24 md:pb-12 pt-20 md:pt-0",children:E.jsx(Ob,{})})})]})},G2=({onLogin:n})=>{const[e,t]=oe.useState(!1),[r,o]=oe.useState(!1);oe.useEffect(()=>{if(!e)return;const a=window.setTimeout(()=>{o(!0)},5e3);return()=>window.clearTimeout(a)},[e]);const i=async(a=!1)=>{t(!0),o(!1);try{await n(a?"FORCE_OFFLINE":"alice@studio.com")}catch{t(!1),setTimeout(()=>o(!0),200)}};return E.jsxs("div",{className:"min-h-screen bg-canvas flex flex-col justify-center items-center relative overflow-hidden font-sans selection:bg-ink selection:text-white",children:[E.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#E2E8F0_1px,transparent_1px)] [background-size:32px_32px] opacity-40 pointer-events-none"}),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-white rounded-full blur-3xl opacity-60 pointer-events-none"}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-enter",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-16",children:[E.jsx("h1",{className:"text-6xl font-semibold tracking-tighter text-ink",children:"Studio."}),E.jsx("div",{className:"w-20 h-20 bg-ink text-white rounded-3xl flex items-center justify-center shadow-elevation transition-transform duration-500 hover:scale-105 cursor-default",children:E.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow-sm"})})]}),E.jsx("button",{onClick:()=>i(!1),disabled:e,className:"group relative px-12 py-4 bg-ink text-white rounded-xl text-xs font-bold uppercase tracking-wide shadow-lg hover:shadow-xl hover:-translate-y-[2px] transition-all duration-200 disabled:opacity-70 disabled:translate-y-0 disabled:shadow-none min-w-[200px] active:scale-[0.98]",children:E.jsx("span",{className:"flex items-center justify-center gap-3",children:e?E.jsx("span",{className:"animate-pulse",children:"Authenticating..."}):E.jsxs(E.Fragment,{children:["Enter ",E.jsx(Pl,{size:16,className:"opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-200 -ml-2 group-hover:ml-0"})]})})}),r&&E.jsxs("button",{onClick:()=>i(!0),className:"mt-6 flex items-center gap-2 text-xs text-rose-600 hover:text-rose-800 bg-rose-50 hover:bg-rose-100 px-4 py-2 rounded-lg transition-colors font-medium animate-in fade-in slide-in-from-top-2",children:[E.jsx(_g,{size:14})," Force Offline Entry"]})]}),E.jsxs("div",{className:"absolute bottom-12 flex flex-col items-center gap-2 opacity-30",children:[E.jsx("div",{className:"h-8 w-px bg-ink"}),E.jsx("span",{className:"text-[9px] font-bold text-ink uppercase tracking-widest",children:"System Ready"})]})]})};var nr=(n=>(n.PLANNED="Planned",n.IN_PROGRESS="In Progress",n.REVIEW="Review",n.DELIVERED="Delivered",n.ARCHIVED="Archived",n))(nr||{}),sr=(n=>(n.LOW="Low",n.NORMAL="Normal",n.HIGH="High",n.URGENT="Urgent",n))(sr||{}),fr=(n=>(n.ACTIVE="Active",n.INACTIVE="Inactive",n.ARCHIVED="Archived",n))(fr||{});const W2=({text:n})=>{const e=n.split(/(```[\s\S]*?```)/g);return E.jsx("div",{className:"text-sm leading-relaxed text-gray-700 space-y-2",children:e.map((t,r)=>{if(t.startsWith("```")){const o=t.slice(3,-3);return E.jsx("div",{className:"bg-gray-900 text-gray-100 p-3 rounded-md font-mono text-xs my-2 overflow-x-auto custom-scrollbar",children:E.jsx("pre",{children:o})},r)}return E.jsx("p",{className:"whitespace-pre-wrap",children:t},r)})})},Mg=({freelancers:n,projects:e,assignments:t,contextData:r,agentMode:o,customTitle:i})=>{const[a,u]=oe.useState([]),[l,s]=oe.useState(""),[c,h]=oe.useState(!1),[d,f]=oe.useState([]),g=oe.useRef(null),y=oe.useRef(null);oe.useEffect(()=>{var x;(x=g.current)==null||x.scrollIntoView({behavior:"smooth"})},[a]);const p=x=>{x.target.files&&f(k=>[...k,...Array.from(x.target.files||[])])},v=x=>{f(k=>k.filter((I,D)=>D!==x))},m=async()=>{if(!l.trim()&&d.length===0||c)return;const x={role:"user",parts:[{text:l}],files:d.map(D=>D.name)};u(D=>[...D,x]),s(""),h(!0);const k=new FormData;k.append("message",l);const I={freelancers:n,projects:e,assignments:t,additionalContext:r};k.append("context",JSON.stringify(I)),d.forEach(D=>{k.append("files",D)}),f([]);try{const D=await fetch("/api/ai/chat",{method:"POST",body:k});if(!D.ok)throw new Error("Failed to fetch response");const V=await D.json();V.toolCalls,u(L=>[...L,{role:"model",parts:[{text:V.response}]}])}catch(D){console.error(D);const V=D instanceof Error?D.message:"I'm having trouble connecting right now.";u(L=>[...L,{role:"model",parts:[{text:`Error: ${V}`}]}])}finally{h(!1)}};return E.jsxs("div",{className:`flex flex-col h-full bg-white ${o?"":"rounded-2xl border border-border-subtle shadow-sm"}`,children:[E.jsxs("div",{className:"px-6 py-4 border-b border-border-subtle flex justify-between items-center bg-subtle/30",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-primary-tint/20 text-primary rounded-lg flex items-center justify-center",children:E.jsx(yu,{size:18})}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-bold text-ink-primary",children:i||"Studio Intelligence"}),E.jsxs("div",{className:"text-[10px] text-ink-secondary font-medium flex items-center gap-1",children:[E.jsx(Nr,{size:10,className:"text-edge-teal"})," Gemini 2.0 Flash"]})]})]}),o&&E.jsx("button",{className:"text-ink-tertiary hover:text-ink-primary transition-colors",children:E.jsx(F2,{size:16})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-app/30",children:[a.length===0&&E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[E.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-card flex items-center justify-center mb-6 text-primary",children:E.jsx(Nr,{size:32,strokeWidth:1.5})}),E.jsx("h3",{className:"text-lg font-display font-bold text-ink-primary mb-2",children:"Studio Intelligence"}),E.jsx("p",{className:"text-sm text-ink-secondary max-w-xs mb-8 leading-relaxed",children:"I can help analyze project data, draft communications, or find the perfect freelancer for your next campaign."}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-md",children:["Draft a project brief","Find available designers","Summarize active campaigns","Check production timeline"].map((x,k)=>E.jsx("button",{onClick:()=>s(x),className:"text-xs font-medium text-ink-secondary bg-white border border-border-subtle px-4 py-3 rounded-xl hover:border-primary hover:text-primary hover:shadow-sm transition-all text-left",children:x},k))})]}),a.map((x,k)=>E.jsxs("div",{className:`flex gap-4 ${x.role==="user"?"flex-row-reverse":""} animate-enter`,children:[E.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm ${x.role==="user"?"bg-ink-primary text-white":"bg-white border border-border-subtle text-primary"}`,children:x.role==="user"?E.jsx(Md,{size:14}):E.jsx(yu,{size:14})}),E.jsxs("div",{className:"max-w-[80%] space-y-2",children:[E.jsx("div",{className:`rounded-2xl p-5 text-sm leading-relaxed shadow-sm ${x.role==="user"?"bg-ink-primary text-white rounded-tr-sm":"bg-white border border-border-subtle text-ink-primary rounded-tl-sm"}`,children:E.jsx(W2,{text:x.parts[0].text||""})}),x.files&&x.files.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:x.files.map((I,D)=>E.jsxs("div",{className:"text-[10px] bg-subtle text-ink-secondary px-2 py-1 rounded-md flex items-center gap-1 border border-border-subtle font-medium",children:[E.jsx(li,{size:10})," ",I]},D))})]})]},k)),c&&E.jsxs("div",{className:"flex gap-4 animate-enter",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-white border border-border-subtle text-primary flex items-center justify-center flex-shrink-0 shadow-sm",children:E.jsx(yu,{size:14})}),E.jsxs("div",{className:"bg-white border border-border-subtle rounded-2xl rounded-tl-sm p-4 flex items-center gap-3 shadow-sm",children:[E.jsxs("div",{className:"flex gap-1",children:[E.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),E.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),E.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce"})]}),E.jsx("span",{className:"text-xs font-medium text-ink-tertiary uppercase tracking-wide",children:"Analyzing"})]})]}),E.jsx("div",{ref:g})]}),E.jsxs("div",{className:"p-4 border-t border-border-subtle bg-white",children:[d.length>0&&E.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-1 custom-scrollbar",children:d.map((x,k)=>E.jsxs("div",{className:"flex items-center gap-2 bg-primary-tint/20 text-primary px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap border border-primary/20",children:[E.jsx(li,{size:12}),E.jsx("span",{className:"max-w-[100px] truncate",children:x.name}),E.jsx("button",{onClick:()=>v(k),className:"hover:text-ink-primary transition-colors",children:E.jsx(Mn,{size:12})})]},k))}),E.jsxs("div",{className:"relative flex gap-3 items-end",children:[E.jsx("button",{onClick:()=>{var x;return(x=y.current)==null?void 0:x.click()},className:"p-3 text-ink-tertiary hover:text-primary hover:bg-subtle rounded-xl transition-all h-[46px] w-[46px] flex items-center justify-center",children:E.jsx(I2,{size:20})}),E.jsx("input",{type:"file",multiple:!0,ref:y,className:"hidden",onChange:p}),E.jsxs("div",{className:"relative flex-1 group",children:[E.jsx("div",{className:"absolute inset-0 bg-primary/5 rounded-xl scale-95 opacity-0 group-focus-within:scale-100 group-focus-within:opacity-100 transition-all duration-300 -z-10"}),E.jsx("input",{className:"w-full pl-4 pr-12 py-3 bg-app/50 border border-border-subtle rounded-xl text-sm focus:outline-none focus:border-primary focus:bg-white transition-all shadow-sm placeholder-ink-tertiary text-ink-primary",placeholder:"Ask anything...",value:l,onChange:x=>s(x.target.value),onKeyDown:x=>x.key==="Enter"&&m()}),E.jsx("button",{onClick:m,disabled:!l.trim()&&d.length===0||c,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-primary text-white rounded-lg hover:bg-primary-hover disabled:opacity-50 disabled:hover:bg-primary transition-all shadow-sm hover:shadow-glow hover:-translate-y-0.5",children:E.jsx(j2,{size:14})})]})]})]})]})},Y2=n=>new Promise(e=>setTimeout(e,n)),Ns=async(n,e,t=3)=>{try{return await n.models.generateContent(e)}catch(r){if(t>0)return await Y2(1e3),Ns(n,e,t-1);throw r}},Rg="studio_roster_v1_",ii=(n,e)=>{try{const t=localStorage.getItem(Rg+n);return t?JSON.parse(t):e}catch(t){return console.error(`Failed to load ${n}`,t),e}},Ut=(n,e)=>{try{localStorage.setItem(Rg+n,JSON.stringify(e))}catch(t){console.error(`Failed to save ${n}`,t)}};let an=ii("freelancers",[]),Zt=ii("projects",[]),Cn=ii("assignments",[]),Br=ii("scripts",[]),vr=ii("assets",[]);const K2=async(n,e={},t=15e3)=>{const r=new AbortController,{signal:o}=r,i=fetch(n,{...e,signal:o}),a=new Promise((u,l)=>{setTimeout(()=>{r.abort(),l(new Error("Request timed out"))},t)});return Promise.race([i,a])};async function Nt(n,e){try{const t={...(e==null?void 0:e.headers)||{},"Cache-Control":"no-store, no-cache, must-revalidate",Pragma:"no-cache"},r=(e==null?void 0:e.timeout)||3e4,o=await K2(n,{...e,headers:t},r);if(o.status===401)throw console.warn("Session expired or unauthorized. Redirecting..."),new Error("Unauthorized");const i=o.headers.get("content-type");if(i&&i.includes("text/html"))throw new Error("Backend unavailable (Received HTML fallback)");if(o.status===404)throw new Error(`Endpoint not found: ${n}`);if(o.status===502||o.status===503||o.status===504)throw new Error("Backend unavailable (Gateway Error)");let a=null;try{a=await o.json()}catch{if(o.ok&&o.status===204)return{success:!0};if(o.ok)return{success:!0,data:{}};throw new Error("Invalid JSON response")}if(!o.ok){const u=a==null?void 0:a.error,l=(u==null?void 0:u.message)||o.statusText||"Unknown Error";throw new Error(l)}return a.data===void 0&&(Array.isArray(a)||a.id||a.email||a.name||a.bucket)?{data:a,success:!0}:a}catch(t){throw t}}const J2=async(n,e)=>{var i;const t=new FormData;t.append("file",n),e&&t.append("projectId",e);const o=(await Nt("/api/assets/upload",{method:"POST",body:t,timeout:6e5})).data;if(!o.url&&!o.publicUrl)try{const a=await Nt(`/api/assets/${o.id}/url`);o.url=(i=a.data)==null?void 0:i.url}catch{console.warn("Could not sign URL for asset",o.id)}else o.publicUrl&&(o.url=o.publicUrl);return o},dt={auth:{login:async n=>{const e={id:"u1",name:"Studio Admin",contactInfo:n,role:"Admin",avatar:"https://ui-avatars.com/api/?name=Admin&background=random"};return localStorage.setItem("studio_roster_v1_auth_token","mock-jwt"),localStorage.setItem("studio_roster_v1_auth_user",JSON.stringify(e)),{data:{accessToken:"mock-jwt",user:e},success:!0}}},assets:{list:async()=>{try{const n=await Nt("/api/assets");return vr=n.data||[],Ut("assets",vr),n}catch(n){return console.error("Assets API Error:",n),{data:vr,success:!0,message:"Offline Mode (Cached)"}}},upload:async(n,e)=>{try{const t=await J2(n,e);return vr=[t,...vr],Ut("assets",vr),{data:t,success:!0}}catch(t){throw console.error("Upload failed:",t.message||t),t}},delete:async n=>{try{await Nt(`/api/assets/${n}`,{method:"DELETE"})}catch{console.warn("Delete failed online, removing locally")}return vr=vr.filter(e=>e.id!==n),Ut("assets",vr),{data:!0,success:!0}}},storage:{getInfo:async()=>{try{return await Nt("/api/storage/info")}catch{return{data:{bucket:"Unknown",configured:!1,projectId:""},success:!1}}}},freelancers:{list:async n=>{try{const e=await Nt("/api/freelancers");return an=e.data||[],Ut("freelancers",an),e}catch{return{data:an,success:!0,message:"Offline Mode (Cached)"}}},create:async n=>{try{const e=await Nt("/api/freelancers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return an=[...an,e.data],Ut("freelancers",an),e}catch{return an.push(n),Ut("freelancers",an),{data:n,success:!0}}},update:async n=>{try{const e=await Nt(`/api/freelancers/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return an=an.map(t=>t.id===n.id?e.data:t),Ut("freelancers",an),e}catch{return an=an.map(t=>t.id===n.id?n:t),Ut("freelancers",an),{data:n,success:!0}}},delete:async n=>{try{await Nt(`/api/freelancers/${n}`,{method:"DELETE"})}catch{}return an=an.filter(e=>e.id!==n),Ut("freelancers",an),{data:!0,success:!0}},importBatch:async n=>{try{return await Nt("/api/freelancers/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch{return{data:{created:0,updated:0,errors:[]},success:!1}}}},projects:{list:async n=>{try{const e=await Nt("/api/projects");return Zt=e.data||[],Ut("projects",Zt),e}catch{return{data:Zt,success:!0,message:"Offline Mode (Cached)"}}},create:async n=>{try{const e=await Nt("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return Zt=[...Zt,e.data],Ut("projects",Zt),e}catch{return Zt.push(n),Ut("projects",Zt),{data:n,success:!0}}},update:async n=>{try{const e=await Nt(`/api/projects/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return Zt=Zt.map(t=>t.id===n.id?e.data:t),Ut("projects",Zt),e}catch{return Zt=Zt.map(t=>t.id===n.id?n:t),Ut("projects",Zt),{data:n,success:!0}}},delete:async n=>{try{await Nt(`/api/projects/${n}`,{method:"DELETE"})}catch{}return Zt=Zt.filter(e=>e.id!==n),Ut("projects",Zt),{data:!0,success:!0}},deleteBatch:async n=>{try{await Nt("/api/projects/batch-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch{}return Zt=Zt.filter(e=>!n.includes(e.id)),Ut("projects",Zt),{data:!0,success:!0}},importBatch:async n=>{try{return await Nt("/api/projects/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch{return{data:{created:0,updated:0},success:!1}}}},assignments:{list:async n=>{try{const e=await Nt("/api/assignments");return Cn=e.data||[],Ut("assignments",Cn),e}catch{return{data:Cn,success:!0}}},create:async n=>{try{const e=await Nt("/api/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return Cn=[...Cn,e.data],Ut("assignments",Cn),e}catch{return Cn.push(n),Ut("assignments",Cn),{data:n,success:!0}}},update:async n=>{try{const e=await Nt(`/api/assignments/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return Cn=Cn.map(t=>t.id===n.id?e.data:t),Ut("assignments",Cn),e}catch{return Cn=Cn.map(t=>t.id===n.id?n:t),Ut("assignments",Cn),{data:n,success:!0}}}},scripts:{list:async n=>{try{const e=await Nt("/api/scripts");return Br=e.data||[],Ut("scripts",Br),e}catch{return{data:Br,success:!0}}},create:async n=>{try{const e=await Nt("/api/scripts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return Br=[...Br,e.data],Ut("scripts",Br),e}catch{return Br.push(n),Ut("scripts",Br),{data:n,success:!0}}},findByProject:async n=>{try{return await Nt(`/api/scripts/project/${n}`)}catch{return{data:[],success:!0}}}},drive:{listTeamAssets:async()=>{try{return await Nt("/api/google/drive/team-assets")}catch{}return{data:[],success:!0}}},moodboard:{list:async n=>{try{if(n)return await Nt(`/api/moodboard/${n}`)}catch{}return{data:[],success:!0}},linkAsset:async(n,e)=>await Nt(`/api/moodboard/${n}/link-asset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:e})}),create:async n=>await Nt(`/api/moodboard/${n.projectId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),update:async n=>{try{return await Nt(`/api/moodboard/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch{return{data:n,success:!0}}},delete:async n=>{try{await Nt(`/api/moodboard/${n}`,{method:"DELETE"})}catch{}return{data:!0,success:!0}}},knowledge:{createFromAsset:async(n,e,t)=>await Nt("/api/knowledge/create-from-asset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:n,assetId:e})}),delete:async n=>{try{await Nt(`/api/knowledge/${n}`,{method:"DELETE"})}catch{}return{data:!0,success:!0}}},suggestions:{get:async()=>[]}},X2=()=>{const[n,e]=oe.useState([]),[t,r]=oe.useState(!1),[o,i]=oe.useState(!1),[a,u]=oe.useState(!1),[l,s]=oe.useState("connected"),[c,h]=oe.useState(""),d=oe.useCallback(async()=>{u(!0);try{const[v,m]=await Promise.all([dt.assets.list(),dt.storage.getInfo()]);if(m.success&&m.data&&h(m.data.bucket),v.success&&v.data){const x=localStorage.getItem("local_asset_logic"),k=x?JSON.parse(x):{},I=v.data.map(D=>({id:D.id,name:D.fileName,mimeType:D.mimeType,size:D.sizeBytes,url:D.url||"",publicUrl:D.publicUrl,modifiedTime:D.createdAt?new Date(D.createdAt).toISOString():new Date().toISOString(),logic:k[D.id]||[],synced:!0}));e(I),v.message==="Offline Mode"?s("offline"):s("connected")}}catch(v){s("offline"),console.error("Failed to fetch assets",v)}finally{u(!1)}},[]);oe.useEffect(()=>{d()},[d]);const f=oe.useCallback(async(v,m)=>{e(x=>{const k=x.find(L=>L.id===v);if(!k)return x;const I=m(k),D=x.map(L=>L.id===v?I:L),V=D.reduce((L,z)=>({...L,[z.id]:z.logic}),{});return localStorage.setItem("local_asset_logic",JSON.stringify(V)),D})},[]),g=oe.useCallback(async v=>{if(!v)return;i(!0);const m=Array.from(v).map(async I=>{try{const V=(await dt.assets.upload(I)).data;if(V)return{id:V.id,name:V.fileName,mimeType:V.mimeType,size:V.sizeBytes,url:V.url||"",publicUrl:V.publicUrl,modifiedTime:V.createdAt?new Date(V.createdAt).toISOString():new Date().toISOString(),logic:[],synced:!0}}catch(D){console.error("Upload failed",D),alert(`Upload failed for ${I.name}: ${D.message}`)}return null}),k=(await Promise.all(m)).filter(Boolean);e(I=>[...k,...I]),i(!1)},[]),y=oe.useCallback(async v=>{try{await dt.assets.delete(v),e(m=>m.filter(x=>x.id!==v))}catch(m){console.error("Delete failed",m),alert("Failed to delete asset from cloud storage.")}},[]),p=oe.useCallback(()=>{const v="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),m=document.createElement("a");m.setAttribute("href",v),m.setAttribute("download",`assets_export_${new Date().toISOString()}.json`),document.body.appendChild(m),m.click(),m.remove()},[n]);return{files:n,isDragging:t,setIsDragging:r,isUploading:o,isSyncing:a,updateFile:f,handleImport:g,handleExport:p,handleDelete:y,connectionStatus:l,bucketName:c,refresh:d}},Pg=({type:n,value:e})=>{const t={script:"bg-emerald-50 text-emerald-700 border-emerald-100",trigger:"bg-amber-50 text-amber-700 border-amber-100",tag:"bg-indigo-50 text-indigo-700 border-indigo-100"},r={script:E.jsx(f2,{size:10}),trigger:E.jsx(el,{size:10}),tag:E.jsx(tl,{size:10})};return E.jsxs("span",{className:`flex items-center gap-1 text-[9px] px-1.5 py-0.5 rounded border ${t[n]||t.tag} font-bold uppercase tracking-wider`,children:[r[n]||E.jsx(tl,{size:10})," ",e]})},Z2=hl.memo(({file:n,viewMode:e,onSelect:t,isSelected:r,compact:o})=>{const i=e==="list",a=!n.publicUrl,u=l=>l.includes("image")?E.jsx(Dl,{className:"text-purple-500",size:o?16:20}):l.includes("video")?E.jsx(So,{className:"text-rose-500",size:o?16:20}):l.includes("pdf")?E.jsx(li,{className:"text-red-500",size:o?16:20}):E.jsx(v2,{className:"text-indigo-400",size:o?16:20});return E.jsxs("div",{onClick:()=>t(n),draggable:"true",onDragStart:l=>{const s=n.mimeType.startsWith("image/")?`![${n.name}](${n.url})`:`[${n.name}](${n.url})`;l.dataTransfer.setData("text/plain",s),l.dataTransfer.setData("application/json",JSON.stringify(n)),l.dataTransfer.effectAllowed="copy"},className:`
        group relative cursor-grab active:cursor-grabbing transition-all border select-none bg-white hover:-translate-y-0.5 hover:shadow-card
        ${r?"border-indigo-500 shadow-md ring-1 ring-indigo-500/20 z-10":"border-gray-100 hover:border-gray-200"}
        ${i?"flex items-center gap-3 p-2 rounded-lg":`rounded-xl ${o?"p-2":"p-3"} flex flex-col ${o?"gap-2":"gap-3"}`}
      `,children:[E.jsxs("div",{className:`${i?"w-8 h-8":"aspect-square"} flex items-center justify-center bg-gray-50 rounded-lg overflow-hidden relative border border-gray-50 group-hover:border-gray-100 transition-colors`,children:[n.mimeType.includes("image")&&n.url?E.jsx("img",{src:n.url,className:"w-full h-full object-cover",loading:"lazy"}):null,E.jsx("div",{className:`absolute inset-0 flex items-center justify-center -z-10 bg-gray-50 ${n.mimeType.includes("image")?"opacity-0 group-hover:opacity-10":""}`,children:u(n.mimeType)}),E.jsx("div",{className:"absolute top-1 left-1",children:a?E.jsx("div",{className:"bg-black/20 backdrop-blur-md rounded-full p-0.5 text-white",title:"Private (Signed URL)",children:E.jsx(E2,{size:8})}):E.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-indigo-500/80 backdrop-blur-md rounded-full p-0.5 text-white",title:"Public Access",children:E.jsx(Ng,{size:8})})}),n.logic.length>0&&!o&&E.jsx("div",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-indigo-500 rounded-full shadow-sm ring-1 ring-white"})]}),E.jsxs("div",{className:`flex-1 min-w-0 ${!i&&"text-center"}`,children:[E.jsx("div",{className:`font-display font-semibold text-gray-900 truncate ${o?"text-[10px] tracking-tight":"text-xs"}`,children:n.name}),!o&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5 justify-center min-h-[1rem]",children:n.logic.slice(0,i?5:2).map(l=>E.jsx(Pg,{type:l.type,value:l.value},l.id))}),!i&&E.jsxs("div",{className:"text-[9px] text-gray-400 mt-1.5 font-mono flex items-center justify-center gap-1 uppercase tracking-wide",children:[(Number(n.size||0)/1024).toFixed(1)," KB"]})]})]})]})}),Q2=({file:n,onClose:e,onUpdate:t,onDelete:r})=>{const[o,i]=oe.useState(""),[a,u]=oe.useState("tag"),l=()=>{o&&(t(n.id,s=>({...s,logic:[...s.logic,{id:`logic-${Date.now()}`,type:a,value:o}]})),i(""))};return E.jsxs("div",{className:"w-72 border-l border-gray-100 bg-white h-full flex flex-col shadow-xl absolute right-0 top-0 z-20 animate-in slide-in-from-right duration-300",children:[E.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white/80 backdrop-blur-xl",children:[E.jsxs("h3",{className:"font-bold text-[10px] uppercase tracking-widest text-gray-500 flex items-center gap-2",children:[E.jsx(el,{size:12})," Metadata"]}),E.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-50 rounded-full text-gray-400 hover:text-gray-900 transition-colors",children:E.jsx(Mn,{size:14})})]}),E.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[E.jsx("div",{className:"mb-6",children:E.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[E.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100",children:E.jsx(li,{className:"text-indigo-500",size:16})}),E.jsxs("div",{className:"min-w-0",children:[E.jsx("div",{className:"text-xs font-bold text-gray-900 truncate",children:n.name}),E.jsx("div",{className:"text-[9px] text-gray-400 font-mono uppercase tracking-wide mt-0.5",children:n.mimeType.split("/")[1]})]})]})}),E.jsxs("div",{className:"mb-6",children:[E.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Smart Tags"}),E.jsxs("div",{className:"space-y-2",children:[n.logic.map(s=>E.jsxs("div",{className:"flex items-center justify-between p-2 bg-white border border-gray-100 rounded-lg shadow-sm group hover:border-indigo-100 transition-colors",children:[E.jsx(Pg,{type:s.type,value:s.value}),E.jsx("button",{onClick:()=>t(n.id,c=>({...c,logic:c.logic.filter(h=>h.id!==s.id)})),className:"text-gray-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx(Mn,{size:12})})]},s.id)),n.logic.length===0&&E.jsx("div",{className:"text-[10px] text-gray-300 italic text-center py-4 border border-dashed border-gray-100 rounded-lg",children:"No tags attached."})]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:o,onChange:s=>i(s.target.value),placeholder:"Add tag...",className:"flex-1 px-3 py-2 text-[10px] font-medium border border-gray-200 rounded-lg outline-none focus:border-indigo-500 bg-white transition-colors placeholder-gray-300",onKeyDown:s=>s.key==="Enter"&&l()}),E.jsx("button",{onClick:l,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm transition-all",children:E.jsx(Gn,{size:14})})]}),E.jsx("div",{className:"pt-6 border-t border-gray-100 mt-6",children:E.jsxs("button",{onClick:()=>{r(n.id),e()},className:"w-full py-2.5 text-[10px] font-bold text-rose-600 bg-rose-50 hover:bg-rose-100 rounded-xl transition-colors uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx(Mn,{size:12})," Delete Asset"]})})]})]})},ex=({onSelect:n,compact:e=!1})=>{const{files:t,isDragging:r,setIsDragging:o,isUploading:i,isSyncing:a,updateFile:u,handleImport:l,handleExport:s,handleDelete:c,connectionStatus:h,bucketName:d,refresh:f}=X2(),[g,y]=oe.useState(null),[p,v]=oe.useState(e?"list":"grid"),[m,x]=oe.useState(""),k=oe.useRef(null),I=t.filter(D=>D.name.toLowerCase().includes(m.toLowerCase()));return E.jsxs("div",{className:"h-full flex flex-col bg-white relative overflow-hidden",onDragOver:D=>{D.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:D=>{D.preventDefault(),o(!1),l(D.dataTransfer.files)},children:[r&&E.jsx("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-sm border-2 border-dashed border-indigo-500 m-4 rounded-2xl flex items-center justify-center animate-in fade-in duration-300",children:E.jsxs("div",{className:"flex flex-col items-center gap-3 animate-bounce",children:[E.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center shadow-sm",children:E.jsx(ys,{size:32})}),E.jsx("h3",{className:"text-xs font-bold text-indigo-900 uppercase tracking-widest",children:"Drop to Import"})]})}),E.jsxs("div",{className:`border-b border-gray-100 bg-white/80 backdrop-blur-xl z-10 ${e?"p-3":"px-6 py-4"}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("div",{children:E.jsxs("h1",{className:`font-display font-bold text-gray-900 flex items-center gap-2 ${e?"text-xs uppercase tracking-widest":"text-lg tracking-tight"}`,children:[E.jsx(w2,{className:"text-indigo-600",size:e?14:18}),e?"Local Assets":"Asset Repository"]})}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("button",{onClick:f,className:"p-2 text-gray-400 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",title:"Sync with Cloud",children:E.jsx(Qa,{size:16,className:a||i?"animate-spin":""})}),!e&&E.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",title:"Export",children:E.jsx(p2,{size:16})}),E.jsxs("button",{onClick:()=>{var D;return(D=k.current)==null?void 0:D.click()},disabled:i,className:`flex items-center justify-center gap-2 font-bold text-white bg-gray-900 hover:bg-black rounded-lg shadow-sm transition-all disabled:opacity-70 ${e?"w-6 h-6":"px-3 py-1.5 text-xs uppercase tracking-wide"}`,children:[i?E.jsx(Qa,{size:12,className:"animate-spin"}):E.jsx(Gn,{size:12})," ",!e&&(i?"Syncing...":"Import")]}),E.jsx("input",{type:"file",multiple:!0,ref:k,className:"hidden",onChange:D=>l(D.target.files)})]})]}),E.jsxs("div",{className:"relative group",children:[E.jsx(Ol,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors"}),E.jsx("input",{type:"text",placeholder:"Filter assets...",value:m,onChange:D=>x(D.target.value),className:"w-full pl-9 pr-3 py-2 text-xs bg-gray-50/50 border border-gray-100 hover:border-gray-200 focus:border-indigo-500 focus:bg-white rounded-xl outline-none transition-all placeholder-gray-400 font-medium"})]})]}),E.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[E.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${e?"p-3":"p-6"}`,children:t.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 gap-3 opacity-60",children:[E.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-2xl flex items-center justify-center border border-gray-100",children:E.jsx(d2,{size:20,className:"text-gray-300"})}),E.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"No Assets Found"})]}):E.jsx("div",{className:p==="grid"?`grid ${e?"grid-cols-2":"grid-cols-4"} gap-3`:"space-y-2",children:I.map(D=>E.jsx(Z2,{file:D,viewMode:p,onSelect:V=>{y(V),n&&n(V)},isSelected:(g==null?void 0:g.id)===D.id,compact:e},D.id))})}),g&&!e&&E.jsx("div",{className:"relative w-72",children:E.jsx(Q2,{file:g,onClose:()=>y(null),onUpdate:u,onDelete:c})})]}),!e&&E.jsxs("div",{className:"px-6 py-2 border-t border-gray-100 bg-white text-[10px] text-gray-400 flex justify-between items-center font-medium uppercase tracking-wider",children:[E.jsxs("span",{children:[t.length," Items ",d&&E.jsxs("span",{className:"text-indigo-400 ml-2",children:["@ ",d]})]}),E.jsxs("span",{className:`flex items-center gap-1.5 ${h==="connected"?"text-emerald-500":"text-gray-400"}`,children:[h==="connected"?E.jsx(c2,{size:10}):E.jsx(V2,{size:10})," ",h==="connected"?"Cloud Synced":"Local Mode"]})]})]})},sa=({label:n,value:e,trend:t,icon:r,active:o=!1,delay:i=0})=>E.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border transition-all duration-200 ${o?"bg-ink text-white border-ink shadow-lg scale-[1.02]":"bg-white text-ink border-mist"}`,style:{animationDelay:`${i}ms`},children:[o&&E.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500 blur-[60px] rounded-full mix-blend-overlay animate-pulse"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-purple-500 blur-[50px] rounded-full mix-blend-overlay"})]}),E.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:`p-2.5 rounded-xl ${o?"bg-white/10 text-white":"bg-canvas text-pencil"} transition-colors duration-200`,children:E.jsx(r,{size:20,strokeWidth:2})}),t&&E.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-lg uppercase tracking-wider ${t.startsWith("+")?o?"bg-emerald-500/20 text-emerald-300":"bg-emerald-50 text-emerald-600":o?"bg-rose-500/20 text-rose-300":"bg-rose-50 text-rose-600"}`,children:t})]}),E.jsxs("div",{children:[E.jsx("h3",{className:`text-3xl font-bold tracking-tight mb-1 ${o?"text-white":"text-ink"}`,children:e}),E.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide ${o?"text-white/70":"text-pencil"}`,children:n})]})]})]}),tx=({urgentCount:n,assignments:e})=>{const t=()=>{const r=new Date().getHours();return r<12?"Good Morning":r<18?"Good Afternoon":"Good Evening"};return E.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white border border-mist p-8 shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200 group",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/50 via-white to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),E.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"p-2 bg-amber-100/50 text-amber-600 rounded-xl",children:E.jsx(L2,{size:18,strokeWidth:2.5})}),E.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-pencil",children:"Daily Briefing"})]}),E.jsxs("h2",{className:"text-3xl font-semibold text-ink mb-3 tracking-tight",children:[t(),", Sergey."]}),E.jsxs("p",{className:"text-ink-secondary font-medium max-w-md leading-relaxed text-sm",children:["You have ",E.jsxs("span",{className:"text-ink font-semibold",children:[n," urgent"]})," projects requiring attention today. Team utilization is at ",E.jsx("span",{className:"text-ink font-semibold",children:"85%"})," across ",e," active assignments."]})]}),E.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-ink text-white rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-black hover:shadow-lg hover:-translate-y-[1px] transition-all duration-200 shadow-sm active:scale-[0.98]",children:["View Schedule ",E.jsx(Sg,{size:14})]})]})]})},nx=({projects:n})=>{const e=n.filter(t=>t.priority===sr.URGENT||t.priority===sr.HIGH).slice(0,5);return E.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-6 shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200 h-full flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-xs font-semibold text-pencil uppercase tracking-wide flex items-center gap-2",children:[E.jsx(H2,{size:16,className:"text-amber-500 fill-amber-500"})," Critical Path"]}),E.jsxs(wn,{to:"/projects?filter=urgent",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800 flex items-center gap-1 transition-colors group",children:["View All ",E.jsx(Sg,{size:14,className:"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform duration-200"})]})]}),E.jsx("div",{className:"flex-1 space-y-3",children:e.length===0?E.jsx("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 bg-canvas/30 rounded-xl border border-dashed border-mist",children:E.jsx("span",{className:"text-sm text-pencil font-medium",children:"All systems normal. No critical items."})}):e.map((t,r)=>E.jsxs(wn,{to:`/projects/${t.id}`,className:"flex items-center justify-between p-4 rounded-xl bg-white border border-mist hover:border-indigo-200 hover:shadow-md hover:-translate-y-[1px] transition-all duration-200 group",style:{animationDelay:`${r*50}ms`},children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${t.priority===sr.URGENT?"bg-rose-500":"bg-amber-500"}`}),E.jsxs("div",{children:[E.jsx("div",{className:"font-semibold text-sm text-ink group-hover:text-indigo-600 transition-colors duration-200",children:t.name}),E.jsx("div",{className:"text-xs text-pencil mt-0.5",children:t.clientName})]})]}),E.jsx("div",{className:"text-xs font-medium text-ink bg-canvas px-2.5 py-1 rounded-lg border border-mist group-hover:border-indigo-100 transition-colors duration-200",children:t.dueDate?new Date(t.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"ASAP"})]},t.id))})]})},Kt=({className:n="",width:e,height:t,variant:r="text",count:o=1})=>{const i="animate-pulse bg-subtle",a={text:"rounded",circular:"rounded-full",rectangular:"rounded-md",rounded:"rounded-xl"},u={width:e,height:t};return r!=="card"&&r!=="tableRow"&&r!=="avatar"&&r!=="overlay"?E.jsx("div",{className:`${i} ${a[r]} ${n}`,style:u}):r==="card"?E.jsx("div",{className:`p-6 bg-surface rounded-2xl border border-border-subtle ${n}`,children:E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:`${i} h-6 w-2/3 rounded-lg`}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:`${i} h-4 w-full rounded-lg`}),E.jsx("div",{className:`${i} h-4 w-5/6 rounded-lg`}),E.jsx("div",{className:`${i} h-4 w-4/6 rounded-lg`})]})]})}):r==="tableRow"?E.jsxs("tr",{className:`animate-pulse ${n}`,children:[E.jsx("td",{className:"px-6 py-5",children:E.jsx("div",{className:`${i} h-4 w-20 rounded-lg`})}),E.jsx("td",{className:"px-6 py-5",children:E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:`${i} h-4 w-40 rounded-lg`}),E.jsx("div",{className:`${i} h-3 w-24 rounded-lg`})]})}),E.jsx("td",{className:"px-6 py-5",children:E.jsx("div",{className:`${i} h-6 w-20 rounded-lg`})}),E.jsx("td",{className:"px-6 py-5",children:E.jsx("div",{className:`${i} h-4 w-32 rounded-lg`})}),E.jsx("td",{className:"px-6 py-5",children:E.jsx("div",{className:`${i} h-4 w-16 rounded-lg`})})]}):r==="avatar"?E.jsx("div",{className:`${i} rounded-full ${n}`,style:{width:e||64,height:t||64}}):r==="overlay"?E.jsx("div",{className:`fixed inset-0 z-40 flex items-center justify-center bg-black/10 backdrop-blur-sm ${n}`,children:E.jsx("div",{className:"bg-surface rounded-2xl p-8 shadow-lg border border-border-subtle",children:E.jsxs("div",{className:"flex flex-col items-center gap-4",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx("div",{className:`${i} w-full h-full rounded-full`}),E.jsx("div",{className:"absolute inset-0 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})]}),E.jsx("div",{className:`${i} h-4 w-32 rounded-lg`})]})})}):null},rx=({projects:n,freelancers:e,assignments:t,onCallAction:r,isLoading:o=!1})=>{const i=n.filter(s=>s.status===nr.IN_PROGRESS).length,a=n.filter(s=>s.priority===sr.URGENT).length,u=t.filter(s=>s.status==="Confirmed").length,l=Math.round(u/(e.length||1)*100);return E.jsxs("div",{className:"h-full flex flex-col bg-canvas font-sans text-ink overflow-hidden",children:[E.jsxs("header",{className:"flex-shrink-0 px-8 py-8 flex justify-between items-end bg-gradient-to-b from-white to-white/50 backdrop-blur-sm border-b border-mist sticky top-0 z-20",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"text-4xl font-semibold tracking-tight text-ink flex items-center gap-3",children:[E.jsx(Ad,{size:28,className:"text-indigo-600"})," Command Center"]}),E.jsx("p",{className:"text-sm text-pencil font-medium mt-2 tracking-wide",children:"Agency Overview & Intelligence"})]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("div",{className:"flex items-center gap-3",children:E.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-xl border border-mist shadow-sm",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-amber-500":"bg-emerald-500"} animate-pulse`}),E.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-ink",children:o?"Syncing...":"System Online"})]})})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8",children:E.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsx("div",{className:"lg:col-span-2 animate-in fade-in slide-in-from-bottom-4 duration-700",children:o?E.jsxs("div",{className:"h-full p-6 bg-white rounded-2xl border border-mist shadow-sm flex flex-col gap-4",children:[E.jsx(Kt,{width:"40%",height:32}),E.jsx(Kt,{width:"60%",height:20}),E.jsxs("div",{className:"flex gap-4 mt-4",children:[E.jsx(Kt,{width:100,height:80}),E.jsx(Kt,{width:100,height:80}),E.jsx(Kt,{width:100,height:80})]})]}):E.jsx(tx,{projectCount:i,urgentCount:a,assignments:u})}),E.jsx("div",{className:"lg:col-span-1 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",children:o?E.jsxs("div",{className:"h-full p-6 bg-white rounded-2xl border border-mist shadow-sm flex flex-col gap-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx(Kt,{width:120,height:20}),E.jsx(Kt,{width:24,height:24,variant:"circular"})]}),E.jsx(Kt,{height:60}),E.jsx(Kt,{height:60}),E.jsx(Kt,{height:60})]}):E.jsx(nx,{projects:n})})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:o?E.jsx(E.Fragment,{children:[...Array(4)].map((s,c)=>E.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-sm",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx(Kt,{width:80,height:16}),E.jsx(Kt,{width:20,height:20,variant:"circular"})]}),E.jsx(Kt,{width:"60%",height:32}),E.jsx(Kt,{width:"40%",height:16,className:"mt-2"})]},c))}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:E.jsx(sa,{label:"Active Projects",value:i,trend:"+12%",icon:wg,active:!0,delay:0})}),E.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:E.jsx(sa,{label:"Team Utilization",value:`${l}%`,trend:"+5%",icon:s2,delay:100})}),E.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:E.jsx(sa,{label:"Tasks Completed",value:142,trend:"+18%",icon:a2,delay:200})}),E.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:E.jsx(sa,{label:"AI Operations",value:"2.4k",trend:"+32%",icon:lh,delay:300})})]})}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[600px] animate-in fade-in slide-in-from-bottom-12 duration-1000 delay-300",children:[E.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-mist shadow-sm overflow-hidden flex flex-col",children:[E.jsx("div",{className:"p-4 border-b border-mist bg-canvas/30 flex justify-between items-center",children:E.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest flex items-center gap-2",children:[E.jsx(lh,{size:14})," Neural Interface"]})}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:E.jsx(Mg,{freelancers:e,projects:n,assignments:t,onCallAction:r,agentMode:!0,customTitle:" "})})]}),E.jsxs("div",{className:"lg:col-span-1 bg-white rounded-2xl border border-mist shadow-sm overflow-hidden flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-mist bg-canvas/30 flex justify-between items-center",children:[E.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest flex items-center gap-2",children:[E.jsx(Po,{size:14})," Knowledge Base"]}),E.jsx(wn,{to:"/files",className:"text-[10px] font-bold text-indigo-600 hover:text-indigo-800 uppercase tracking-wide",children:"View All"})]}),E.jsx("div",{className:"flex-1 overflow-hidden p-4",children:E.jsx(ex,{onSelect:()=>{}})})]})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ix,sx;function ox(){return{geminiUrl:ix,vertexUrl:sx}}function ax(n,e,t,r){var o,i;if(!(n!=null&&n.baseUrl)){const a=ox();return e?(o=a.vertexUrl)!==null&&o!==void 0?o:t:(i=a.geminiUrl)!==null&&i!==void 0?i:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pr{}function Re(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function M(n,e,t){for(let i=0;i<e.length-1;i++){const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const l=n[u];if(Array.isArray(t))for(let s=0;s<l.length;s++){const c=l[s];M(c,e.slice(i+1),t[s])}else for(const s of l)M(s,e.slice(i+1),t)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const l=n[u];M(l[0],e.slice(i+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],o=n[r];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function T(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const o=e[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const a=n[i];return Array.isArray(a)?a.map(u=>T(u,e.slice(r+1),t)):t}else return t}else n=n[o]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function lx(n,e){for(const[t,r]of Object.entries(e)){const o=t.split("."),i=r.split("."),a=new Set;let u=-1;for(let l=0;l<o.length;l++)if(o[l]==="*"){u=l;break}if(u!==-1&&i.length>u)for(let l=u;l<i.length;l++){const s=i[l];s!=="*"&&!s.endsWith("[]")&&!s.endsWith("[0]")&&a.add(s)}yc(n,o,i,0,a)}}function yc(n,e,t,r,o){if(r>=e.length||typeof n!="object"||n===null)return;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2),u=n;if(a in u&&Array.isArray(u[a]))for(const l of u[a])yc(l,e,t,r+1,o)}else if(i==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,u=Object.keys(a).filter(s=>!s.startsWith("_")&&!o.has(s)),l={};for(const s of u)l[s]=a[s];for(const[s,c]of Object.entries(l)){const h=[];for(const d of t.slice(r))d==="*"?h.push(s):h.push(d);M(a,h,c)}for(const s of u)delete a[s]}}else{const a=n;i in a&&yc(a[i],e,t,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rd(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ux(n){const e={},t=T(n,["operationName"]);t!=null&&M(e,["operationName"],t);const r=T(n,["resourceName"]);return r!=null&&M(e,["_url","resourceName"],r),e}function cx(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata"]);r!=null&&M(e,["metadata"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["response","generateVideoResponse"]);return a!=null&&M(e,["response"],fx(a)),e}function dx(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata"]);r!=null&&M(e,["metadata"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["response"]);return a!=null&&M(e,["response"],hx(a)),e}function fx(n){const e={},t=T(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>px(a))),M(e,["generatedVideos"],i)}const r=T(n,["raiMediaFilteredCount"]);r!=null&&M(e,["raiMediaFilteredCount"],r);const o=T(n,["raiMediaFilteredReasons"]);return o!=null&&M(e,["raiMediaFilteredReasons"],o),e}function hx(n){const e={},t=T(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>mx(a))),M(e,["generatedVideos"],i)}const r=T(n,["raiMediaFilteredCount"]);r!=null&&M(e,["raiMediaFilteredCount"],r);const o=T(n,["raiMediaFilteredReasons"]);return o!=null&&M(e,["raiMediaFilteredReasons"],o),e}function px(n){const e={},t=T(n,["video"]);return t!=null&&M(e,["video"],wx(t)),e}function mx(n){const e={},t=T(n,["_self"]);return t!=null&&M(e,["video"],_x(t)),e}function gx(n){const e={},t=T(n,["operationName"]);return t!=null&&M(e,["_url","operationName"],t),e}function yx(n){const e={},t=T(n,["operationName"]);return t!=null&&M(e,["_url","operationName"],t),e}function vx(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata"]);r!=null&&M(e,["metadata"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["response"]);return a!=null&&M(e,["response"],bx(a)),e}function bx(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["parent"]);r!=null&&M(e,["parent"],r);const o=T(n,["documentName"]);return o!=null&&M(e,["documentName"],o),e}function jg(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata"]);r!=null&&M(e,["metadata"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["response"]);return a!=null&&M(e,["response"],xx(a)),e}function xx(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["parent"]);r!=null&&M(e,["parent"],r);const o=T(n,["documentName"]);return o!=null&&M(e,["documentName"],o),e}function wx(n){const e={},t=T(n,["uri"]);t!=null&&M(e,["uri"],t);const r=T(n,["encodedVideo"]);r!=null&&M(e,["videoBytes"],Rd(r));const o=T(n,["encoding"]);return o!=null&&M(e,["mimeType"],o),e}function _x(n){const e={},t=T(n,["gcsUri"]);t!=null&&M(e,["uri"],t);const r=T(n,["bytesBase64Encoded"]);r!=null&&M(e,["videoBytes"],Rd(r));const o=T(n,["mimeType"]);return o!=null&&M(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dh;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dh||(dh={}));var fh;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(fh||(fh={}));var hh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(hh||(hh={}));var _t;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(_t||(_t={}));var ph;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ph||(ph={}));var mh;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mh||(mh={}));var gh;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(gh||(gh={}));var yh;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yh||(yh={}));var vh;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(vh||(vh={}));var bh;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(bh||(bh={}));var xh;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xh||(xh={}));var wh;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(wh||(wh={}));var _h;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(_h||(_h={}));var Sh;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Sh||(Sh={}));var kh;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(kh||(kh={}));var Ch;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ch||(Ch={}));var Th;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Th||(Th={}));var Eh;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Eh||(Eh={}));var Nh;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Nh||(Nh={}));var nl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(nl||(nl={}));var Ah;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ah||(Ah={}));var Ih;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ih||(Ih={}));var Mh;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Mh||(Mh={}));var vc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vc||(vc={}));var Rh;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rh||(Rh={}));var Ph;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ph||(Ph={}));var jh;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(jh||(jh={}));var Dh;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Dh||(Dh={}));var Oh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Oh||(Oh={}));var Lh;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Lh||(Lh={}));var Fh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Fh||(Fh={}));var Bh;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Bh||(Bh={}));var Uh;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Uh||(Uh={}));var zh;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(zh||(zh={}));var Vh;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vh||(Vh={}));var $h;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($h||($h={}));var Hh;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hh||(Hh={}));var qh;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qh||(qh={}));var Gh;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Gh||(Gh={}));var Wh;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Wh||(Wh={}));var Yh;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Yh||(Yh={}));var Kh;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Kh||(Kh={}));var Jh;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jh||(Jh={}));var Xh;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Xh||(Xh={}));var Zh;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Zh||(Zh={}));var Qh;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Qh||(Qh={}));var ep;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ep||(ep={}));var tp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(tp||(tp={}));var np;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(np||(np={}));var rp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rp||(rp={}));var ip;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ip||(ip={}));var sp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sp||(sp={}));var op;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(op||(op={}));var ap;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ap||(ap={}));var Qi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Qi||(Qi={}));class bc{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class zs{get text(){var e,t,r,o,i,a,u,l;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",c=!1;const h=[];for(const d of(l=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&l!==void 0?l:[]){for(const[f,g]of Object.entries(d))f!=="text"&&f!=="thought"&&f!=="thoughtSignature"&&(g!==null||g!==void 0)&&h.push(f);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;c=!0,s+=d.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,t,r,o,i,a,u,l;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const c=[];for(const h of(l=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&l!==void 0?l:[]){for(const[d,f]of Object.entries(h))d!=="inlineData"&&(f!==null||f!==void 0)&&c.push(d);h.inlineData&&typeof h.inlineData.data=="string"&&(s+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,r,o,i,a,u,l;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=(l=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((s==null?void 0:s.length)!==0)return s}get executableCode(){var e,t,r,o,i,a,u,l,s;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return(s=c==null?void 0:c[0])===null||s===void 0?void 0:s.code}get codeExecutionResult(){var e,t,r,o,i,a,u,l,s;if(((o=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(u=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return(s=c==null?void 0:c[0])===null||s===void 0?void 0:s.output}}class lp{}class up{}class Sx{}class kx{}class Cx{}class Tx{}class cp{}class dp{}class fp{}class Ex{}class rl{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new rl;let o;const i=e;return t?o=dx(i):o=cx(i),Object.assign(r,o),r}}class hp{}class pp{}class mp{}class Nx{}class Ax{}class Ix{}class Pd{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new Pd,i=vx(e);return Object.assign(r,i),r}}class Mx{}class Rx{}class Px{}class gp{}class jx{get text(){var e,t,r;let o="",i=!1;const a=[];for(const u of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[l,s]of Object.entries(u))l!=="text"&&l!=="thought"&&s!==null&&a.push(l);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,o+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var e,t,r;let o="";const i=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[u,l]of Object.entries(a))u!=="inlineData"&&l!==null&&i.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(o+=atob(a.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class Dx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class jd{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new jd,i=jg(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Dg(n,e){const t=kt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Og(n){return Array.isArray(n)?n.map(e=>il(e)):[il(n)]}function il(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Lg(n){const e=il(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fg(n){const e=il(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Bg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>yp(e)):[yp(n)]}function xc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function vp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function bp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function yn(n){if(n==null)throw new Error("ContentUnion is required");return xc(n)?n:{role:"user",parts:Bg(n)}}function Dd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=yn(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=yn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>yn(t)):[yn(e)]}function Wn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(vp(n)||bp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yn(n)]}const e=[],t=[],r=xc(n[0]);for(const o of n){const i=xc(o);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(o);else{if(vp(o)||bp(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(o)}}return r||e.push({role:"user",parts:Bg(t)}),e}function Ox(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(_t).includes(t[0].toUpperCase())?t[0].toUpperCase():_t.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(_t).includes(r.toUpperCase())?r.toUpperCase():_t.TYPE_UNSPECIFIED})}}function os(n){const e={},t=["items"],r=["anyOf"],o=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=n.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,n=i[1]):i[1].type==="null"&&(e.nullable=!0,n=i[0])),n.type instanceof Array&&Ox(n.type,e);for(const[a,u]of Object.entries(n))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(_t).includes(u.toUpperCase())?u.toUpperCase():_t.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=os(u);else if(r.includes(a)){const l=[];for(const s of u){if(s.type=="null"){e.nullable=!0;continue}l.push(os(s))}e[a]=l}else if(o.includes(a)){const l={};for(const[s,c]of Object.entries(u))l[s]=os(c);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=u}return e}function Od(n){return os(n)}function Ld(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Fd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function As(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=os(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=os(e.response));return n}function Is(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function Lx(n,e,t,r=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:o?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function jr(n,e){if(typeof e!="string")throw new Error("name must be a string");return Lx(n,e,"cachedContents")}function Ug(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function pi(n){return Rd(n)}function Fx(n){return n!=null&&typeof n=="object"&&"name"in n}function Bx(n){return n!=null&&typeof n=="object"&&"video"in n}function Ux(n){return n!=null&&typeof n=="object"&&"uri"in n}function zg(n){var e;let t;if(Fx(n)&&(t=n.name),!(Ux(n)&&(t=n.uri,t===void 0))&&!(Bx(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const o=t.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${t}`);t=o[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function Vg(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function $g(n){for(const e of["models","tunedModels","publisherModels"])if(zx(n,e))return n[e];return[]}function zx(n,e){return n!==null&&typeof n=="object"&&e in n}function Vx(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function $x(n,e={}){const t=[],r=new Set;for(const o of n){const i=o.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const a=Vx(o,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function Hg(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,o=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Hx(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qg(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const o=t.inlinedResponses;if(!Array.isArray(o)||o.length===0)return n;let i=!1;for(const a of o){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ms(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function Gg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(n){const e={},t=T(n,["responsesFile"]);t!=null&&M(e,["fileName"],t);const r=T(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Cw(a))),M(e,["inlinedResponses"],i)}const o=T(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["inlinedEmbedContentResponses"],i)}return e}function Gx(n){const e={},t=T(n,["predictionsFormat"]);t!=null&&M(e,["format"],t);const r=T(n,["gcsDestination","outputUriPrefix"]);r!=null&&M(e,["gcsUri"],r);const o=T(n,["bigqueryDestination","outputUri"]);return o!=null&&M(e,["bigqueryUri"],o),e}function Wx(n){const e={},t=T(n,["format"]);t!=null&&M(e,["predictionsFormat"],t);const r=T(n,["gcsUri"]);r!=null&&M(e,["gcsDestination","outputUriPrefix"],r);const o=T(n,["bigqueryUri"]);if(o!=null&&M(e,["bigqueryDestination","outputUri"],o),T(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function xa(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata","displayName"]);r!=null&&M(e,["displayName"],r);const o=T(n,["metadata","state"]);o!=null&&M(e,["state"],Gg(o));const i=T(n,["metadata","createTime"]);i!=null&&M(e,["createTime"],i);const a=T(n,["metadata","endTime"]);a!=null&&M(e,["endTime"],a);const u=T(n,["metadata","updateTime"]);u!=null&&M(e,["updateTime"],u);const l=T(n,["metadata","model"]);l!=null&&M(e,["model"],l);const s=T(n,["metadata","output"]);return s!=null&&M(e,["dest"],qx(qg(s))),e}function wc(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["displayName"]);r!=null&&M(e,["displayName"],r);const o=T(n,["state"]);o!=null&&M(e,["state"],Gg(o));const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["createTime"]);a!=null&&M(e,["createTime"],a);const u=T(n,["startTime"]);u!=null&&M(e,["startTime"],u);const l=T(n,["endTime"]);l!=null&&M(e,["endTime"],l);const s=T(n,["updateTime"]);s!=null&&M(e,["updateTime"],s);const c=T(n,["model"]);c!=null&&M(e,["model"],c);const h=T(n,["inputConfig"]);h!=null&&M(e,["src"],Yx(h));const d=T(n,["outputConfig"]);d!=null&&M(e,["dest"],Gx(qg(d)));const f=T(n,["completionStats"]);return f!=null&&M(e,["completionStats"],f),e}function Yx(n){const e={},t=T(n,["instancesFormat"]);t!=null&&M(e,["format"],t);const r=T(n,["gcsSource","uris"]);r!=null&&M(e,["gcsUri"],r);const o=T(n,["bigquerySource","inputUri"]);return o!=null&&M(e,["bigqueryUri"],o),e}function Kx(n,e){const t={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&M(t,["fileName"],r);const o=T(e,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>kw(n,a))),M(t,["requests","requests"],i)}return t}function Jx(n){const e={},t=T(n,["format"]);t!=null&&M(e,["instancesFormat"],t);const r=T(n,["gcsUri"]);r!=null&&M(e,["gcsSource","uris"],r);const o=T(n,["bigqueryUri"]);if(o!=null&&M(e,["bigquerySource","inputUri"],o),T(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Xx(n){const e={},t=T(n,["data"]);if(t!=null&&M(e,["data"],t),T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function Zx(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],Ms(n,r)),t}function Qx(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],Ms(n,r)),t}function ew(n){const e={},t=T(n,["content"]);t!=null&&M(e,["content"],t);const r=T(n,["citationMetadata"]);r!=null&&M(e,["citationMetadata"],tw(r));const o=T(n,["tokenCount"]);o!=null&&M(e,["tokenCount"],o);const i=T(n,["finishReason"]);i!=null&&M(e,["finishReason"],i);const a=T(n,["avgLogprobs"]);a!=null&&M(e,["avgLogprobs"],a);const u=T(n,["groundingMetadata"]);u!=null&&M(e,["groundingMetadata"],u);const l=T(n,["index"]);l!=null&&M(e,["index"],l);const s=T(n,["logprobsResult"]);s!=null&&M(e,["logprobsResult"],s);const c=T(n,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),M(e,["safetyRatings"],d)}const h=T(n,["urlContextMetadata"]);return h!=null&&M(e,["urlContextMetadata"],h),e}function tw(n){const e={},t=T(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>o)),M(e,["citations"],r)}return e}function Wg(n){const e={},t=T(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Rw(i))),M(e,["parts"],o)}const r=T(n,["role"]);return r!=null&&M(e,["role"],r),e}function nw(n,e){const t={},r=T(n,["displayName"]);if(e!==void 0&&r!=null&&M(e,["batch","displayName"],r),T(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function rw(n,e){const t={},r=T(n,["displayName"]);e!==void 0&&r!=null&&M(e,["displayName"],r);const o=T(n,["dest"]);return e!==void 0&&o!=null&&M(e,["outputConfig"],Wx(Hx(o))),t}function xp(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["src"]);o!=null&&M(t,["batch","inputConfig"],Kx(n,Hg(n,o)));const i=T(e,["config"]);return i!=null&&nw(i,t),t}function iw(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["model"],kt(n,r));const o=T(e,["src"]);o!=null&&M(t,["inputConfig"],Jx(Hg(n,o)));const i=T(e,["config"]);return i!=null&&rw(i,t),t}function sw(n,e){const t={},r=T(n,["displayName"]);return e!==void 0&&r!=null&&M(e,["batch","displayName"],r),t}function ow(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["src"]);o!=null&&M(t,["batch","inputConfig"],hw(n,o));const i=T(e,["config"]);return i!=null&&sw(i,t),t}function aw(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],Ms(n,r)),t}function lw(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],Ms(n,r)),t}function uw(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["name"]);r!=null&&M(e,["name"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);return i!=null&&M(e,["error"],i),e}function cw(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["name"]);r!=null&&M(e,["name"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);return i!=null&&M(e,["error"],i),e}function dw(n,e){const t={},r=T(e,["contents"]);if(r!=null){let i=Dd(n,r);Array.isArray(i)&&(i=i.map(a=>a)),M(t,["requests[]","request","content"],i)}const o=T(e,["config"]);return o!=null&&(M(t,["_self"],fw(o,t)),lx(t,{"requests[].*":"requests[].request.*"})),t}function fw(n,e){const t={},r=T(n,["taskType"]);e!==void 0&&r!=null&&M(e,["requests[]","taskType"],r);const o=T(n,["title"]);e!==void 0&&o!=null&&M(e,["requests[]","title"],o);const i=T(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&M(e,["requests[]","outputDimensionality"],i),T(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function hw(n,e){const t={},r=T(e,["fileName"]);r!=null&&M(t,["file_name"],r);const o=T(e,["inlinedRequests"]);return o!=null&&M(t,["requests"],dw(n,o)),t}function pw(n){const e={};if(T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=T(n,["fileUri"]);t!=null&&M(e,["fileUri"],t);const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function mw(n){const e={},t=T(n,["id"]);t!=null&&M(e,["id"],t);const r=T(n,["args"]);r!=null&&M(e,["args"],r);const o=T(n,["name"]);if(o!=null&&M(e,["name"],o),T(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gw(n){const e={},t=T(n,["mode"]);t!=null&&M(e,["mode"],t);const r=T(n,["allowedFunctionNames"]);if(r!=null&&M(e,["allowedFunctionNames"],r),T(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yw(n,e,t){const r={},o=T(e,["systemInstruction"]);t!==void 0&&o!=null&&M(t,["systemInstruction"],Wg(yn(o)));const i=T(e,["temperature"]);i!=null&&M(r,["temperature"],i);const a=T(e,["topP"]);a!=null&&M(r,["topP"],a);const u=T(e,["topK"]);u!=null&&M(r,["topK"],u);const l=T(e,["candidateCount"]);l!=null&&M(r,["candidateCount"],l);const s=T(e,["maxOutputTokens"]);s!=null&&M(r,["maxOutputTokens"],s);const c=T(e,["stopSequences"]);c!=null&&M(r,["stopSequences"],c);const h=T(e,["responseLogprobs"]);h!=null&&M(r,["responseLogprobs"],h);const d=T(e,["logprobs"]);d!=null&&M(r,["logprobs"],d);const f=T(e,["presencePenalty"]);f!=null&&M(r,["presencePenalty"],f);const g=T(e,["frequencyPenalty"]);g!=null&&M(r,["frequencyPenalty"],g);const y=T(e,["seed"]);y!=null&&M(r,["seed"],y);const p=T(e,["responseMimeType"]);p!=null&&M(r,["responseMimeType"],p);const v=T(e,["responseSchema"]);v!=null&&M(r,["responseSchema"],Od(v));const m=T(e,["responseJsonSchema"]);if(m!=null&&M(r,["responseJsonSchema"],m),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=T(e,["safetySettings"]);if(t!==void 0&&x!=null){let $=x;Array.isArray($)&&($=$.map(A=>Pw(A))),M(t,["safetySettings"],$)}const k=T(e,["tools"]);if(t!==void 0&&k!=null){let $=Is(k);Array.isArray($)&&($=$.map(A=>Dw(As(A)))),M(t,["tools"],$)}const I=T(e,["toolConfig"]);if(t!==void 0&&I!=null&&M(t,["toolConfig"],jw(I)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=T(e,["cachedContent"]);t!==void 0&&D!=null&&M(t,["cachedContent"],jr(n,D));const V=T(e,["responseModalities"]);V!=null&&M(r,["responseModalities"],V);const L=T(e,["mediaResolution"]);L!=null&&M(r,["mediaResolution"],L);const z=T(e,["speechConfig"]);if(z!=null&&M(r,["speechConfig"],Ld(z)),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=T(e,["thinkingConfig"]);B!=null&&M(r,["thinkingConfig"],B);const H=T(e,["imageConfig"]);return H!=null&&M(r,["imageConfig"],Sw(H)),r}function vw(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>ew(s))),M(e,["candidates"],l)}const o=T(n,["modelVersion"]);o!=null&&M(e,["modelVersion"],o);const i=T(n,["promptFeedback"]);i!=null&&M(e,["promptFeedback"],i);const a=T(n,["responseId"]);a!=null&&M(e,["responseId"],a);const u=T(n,["usageMetadata"]);return u!=null&&M(e,["usageMetadata"],u),e}function bw(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],Ms(n,r)),t}function xw(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],Ms(n,r)),t}function ww(n){const e={};if(T(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=T(n,["enableWidget"]);return t!=null&&M(e,["enableWidget"],t),e}function _w(n){const e={};if(T(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=T(n,["timeRangeFilter"]);return t!=null&&M(e,["timeRangeFilter"],t),e}function Sw(n){const e={},t=T(n,["aspectRatio"]);t!=null&&M(e,["aspectRatio"],t);const r=T(n,["imageSize"]);if(r!=null&&M(e,["imageSize"],r),T(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(T(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kw(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["request","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let u=Wn(o);Array.isArray(u)&&(u=u.map(l=>Wg(l))),M(t,["request","contents"],u)}const i=T(e,["metadata"]);i!=null&&M(t,["metadata"],i);const a=T(e,["config"]);return a!=null&&M(t,["request","generationConfig"],yw(n,a,T(t,["request"],{}))),t}function Cw(n){const e={},t=T(n,["response"]);t!=null&&M(e,["response"],vw(t));const r=T(n,["error"]);return r!=null&&M(e,["error"],r),e}function Tw(n,e){const t={},r=T(n,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const o=T(n,["pageToken"]);if(e!==void 0&&o!=null&&M(e,["_query","pageToken"],o),T(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Ew(n,e){const t={},r=T(n,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const o=T(n,["pageToken"]);e!==void 0&&o!=null&&M(e,["_query","pageToken"],o);const i=T(n,["filter"]);return e!==void 0&&i!=null&&M(e,["_query","filter"],i),t}function Nw(n){const e={},t=T(n,["config"]);return t!=null&&Tw(t,e),e}function Aw(n){const e={},t=T(n,["config"]);return t!=null&&Ew(t,e),e}function Iw(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>xa(a))),M(e,["batchJobs"],i)}return e}function Mw(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>wc(a))),M(e,["batchJobs"],i)}return e}function Rw(n){const e={},t=T(n,["mediaResolution"]);t!=null&&M(e,["mediaResolution"],t);const r=T(n,["codeExecutionResult"]);r!=null&&M(e,["codeExecutionResult"],r);const o=T(n,["executableCode"]);o!=null&&M(e,["executableCode"],o);const i=T(n,["fileData"]);i!=null&&M(e,["fileData"],pw(i));const a=T(n,["functionCall"]);a!=null&&M(e,["functionCall"],mw(a));const u=T(n,["functionResponse"]);u!=null&&M(e,["functionResponse"],u);const l=T(n,["inlineData"]);l!=null&&M(e,["inlineData"],Xx(l));const s=T(n,["text"]);s!=null&&M(e,["text"],s);const c=T(n,["thought"]);c!=null&&M(e,["thought"],c);const h=T(n,["thoughtSignature"]);h!=null&&M(e,["thoughtSignature"],h);const d=T(n,["videoMetadata"]);return d!=null&&M(e,["videoMetadata"],d),e}function Pw(n){const e={},t=T(n,["category"]);if(t!=null&&M(e,["category"],t),T(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=T(n,["threshold"]);return r!=null&&M(e,["threshold"],r),e}function jw(n){const e={},t=T(n,["functionCallingConfig"]);t!=null&&M(e,["functionCallingConfig"],gw(t));const r=T(n,["retrievalConfig"]);return r!=null&&M(e,["retrievalConfig"],r),e}function Dw(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),M(e,["functionDeclarations"],c)}if(T(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(n,["googleSearchRetrieval"]);r!=null&&M(e,["googleSearchRetrieval"],r);const o=T(n,["computerUse"]);o!=null&&M(e,["computerUse"],o);const i=T(n,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const a=T(n,["codeExecution"]);if(a!=null&&M(e,["codeExecution"],a),T(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(n,["googleMaps"]);u!=null&&M(e,["googleMaps"],ww(u));const l=T(n,["googleSearch"]);l!=null&&M(e,["googleSearch"],_w(l));const s=T(n,["urlContext"]);return s!=null&&M(e,["urlContext"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ar;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ar||(Ar={}));class Pi{constructor(e,t,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,o)}init(e,t,r){var o,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(i=(o=a.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ow extends Pr{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new Pi(Ar.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=xp(this.apiClient,e),r=t._url,o=Re("{model}:batchGenerateContent",r),u=t.batch.inputConfig.requests,l=u.requests,s=[];for(const c of l){const h=Object.assign({},c);if(h.systemInstruction){const d=h.systemInstruction;delete h.systemInstruction;const f=h.request;f.systemInstruction=d,h.request=f}s.push(h)}return u.requests=s,delete t.config,delete t._url,delete t._query,{path:o,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const i=this.getGcsUri(e),a=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${o}`;else if(a)r.dest=`${a}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=iw(this.apiClient,e);return u=Re("batchPredictionJobs",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>wc(c))}else{const s=xp(this.apiClient,e);return u=Re("{model}:batchGenerateContent",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>xa(c))}}async createEmbeddingsInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ow(this.apiClient,e);return i=Re("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>xa(l))}}async get(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=xw(this.apiClient,e);return u=Re("batchPredictionJobs/{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>wc(c))}else{const s=bw(this.apiClient,e);return u=Re("batches/{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>xa(c))}}async cancel(e){var t,r,o,i;let a="",u={};if(this.apiClient.isVertexAI()){const l=Qx(this.apiClient,e);a=Re("batchPredictionJobs/{name}:cancel",l._url),u=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Zx(this.apiClient,e);a=Re("batches/{name}:cancel",l._url),u=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=Aw(e);return u=Re("batchPredictionJobs",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=Mw(c),d=new gp;return Object.assign(d,h),d})}else{const s=Nw(e);return u=Re("batches",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=Iw(c),d=new gp;return Object.assign(d,h),d})}}async delete(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=lw(this.apiClient,e);return u=Re("batchPredictionJobs/{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>cw(c))}else{const s=aw(this.apiClient,e);return u=Re("batches/{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>uw(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lw(n){const e={},t=T(n,["data"]);if(t!=null&&M(e,["data"],t),T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function wp(n){const e={},t=T(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>o_(i))),M(e,["parts"],o)}const r=T(n,["role"]);return r!=null&&M(e,["role"],r),e}function Fw(n,e){const t={},r=T(n,["ttl"]);e!==void 0&&r!=null&&M(e,["ttl"],r);const o=T(n,["expireTime"]);e!==void 0&&o!=null&&M(e,["expireTime"],o);const i=T(n,["displayName"]);e!==void 0&&i!=null&&M(e,["displayName"],i);const a=T(n,["contents"]);if(e!==void 0&&a!=null){let c=Wn(a);Array.isArray(c)&&(c=c.map(h=>wp(h))),M(e,["contents"],c)}const u=T(n,["systemInstruction"]);e!==void 0&&u!=null&&M(e,["systemInstruction"],wp(yn(u)));const l=T(n,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>l_(h))),M(e,["tools"],c)}const s=T(n,["toolConfig"]);if(e!==void 0&&s!=null&&M(e,["toolConfig"],a_(s)),T(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Bw(n,e){const t={},r=T(n,["ttl"]);e!==void 0&&r!=null&&M(e,["ttl"],r);const o=T(n,["expireTime"]);e!==void 0&&o!=null&&M(e,["expireTime"],o);const i=T(n,["displayName"]);e!==void 0&&i!=null&&M(e,["displayName"],i);const a=T(n,["contents"]);if(e!==void 0&&a!=null){let h=Wn(a);Array.isArray(h)&&(h=h.map(d=>d)),M(e,["contents"],h)}const u=T(n,["systemInstruction"]);e!==void 0&&u!=null&&M(e,["systemInstruction"],yn(u));const l=T(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(d=>u_(d))),M(e,["tools"],h)}const s=T(n,["toolConfig"]);e!==void 0&&s!=null&&M(e,["toolConfig"],s);const c=T(n,["kmsKeyName"]);return e!==void 0&&c!=null&&M(e,["encryption_spec","kmsKeyName"],c),t}function Uw(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["model"],Dg(n,r));const o=T(e,["config"]);return o!=null&&Fw(o,t),t}function zw(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["model"],Dg(n,r));const o=T(e,["config"]);return o!=null&&Bw(o,t),t}function Vw(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],jr(n,r)),t}function $w(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],jr(n,r)),t}function Hw(n){const e={},t=T(n,["sdkHttpResponse"]);return t!=null&&M(e,["sdkHttpResponse"],t),e}function qw(n){const e={},t=T(n,["sdkHttpResponse"]);return t!=null&&M(e,["sdkHttpResponse"],t),e}function Gw(n){const e={};if(T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=T(n,["fileUri"]);t!=null&&M(e,["fileUri"],t);const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function Ww(n){const e={},t=T(n,["id"]);t!=null&&M(e,["id"],t);const r=T(n,["args"]);r!=null&&M(e,["args"],r);const o=T(n,["name"]);if(o!=null&&M(e,["name"],o),T(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yw(n){const e={},t=T(n,["mode"]);t!=null&&M(e,["mode"],t);const r=T(n,["allowedFunctionNames"]);if(r!=null&&M(e,["allowedFunctionNames"],r),T(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kw(n){const e={};if(T(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=T(n,["description"]);t!=null&&M(e,["description"],t);const r=T(n,["name"]);r!=null&&M(e,["name"],r);const o=T(n,["parameters"]);o!=null&&M(e,["parameters"],o);const i=T(n,["parametersJsonSchema"]);i!=null&&M(e,["parametersJsonSchema"],i);const a=T(n,["response"]);a!=null&&M(e,["response"],a);const u=T(n,["responseJsonSchema"]);return u!=null&&M(e,["responseJsonSchema"],u),e}function Jw(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],jr(n,r)),t}function Xw(n,e){const t={},r=T(e,["name"]);return r!=null&&M(t,["_url","name"],jr(n,r)),t}function Zw(n){const e={};if(T(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=T(n,["enableWidget"]);return t!=null&&M(e,["enableWidget"],t),e}function Qw(n){const e={};if(T(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=T(n,["timeRangeFilter"]);return t!=null&&M(e,["timeRangeFilter"],t),e}function e_(n,e){const t={},r=T(n,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const o=T(n,["pageToken"]);return e!==void 0&&o!=null&&M(e,["_query","pageToken"],o),t}function t_(n,e){const t={},r=T(n,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const o=T(n,["pageToken"]);return e!==void 0&&o!=null&&M(e,["_query","pageToken"],o),t}function n_(n){const e={},t=T(n,["config"]);return t!=null&&e_(t,e),e}function r_(n){const e={},t=T(n,["config"]);return t!=null&&t_(t,e),e}function i_(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["cachedContents"],i)}return e}function s_(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["cachedContents"],i)}return e}function o_(n){const e={},t=T(n,["mediaResolution"]);t!=null&&M(e,["mediaResolution"],t);const r=T(n,["codeExecutionResult"]);r!=null&&M(e,["codeExecutionResult"],r);const o=T(n,["executableCode"]);o!=null&&M(e,["executableCode"],o);const i=T(n,["fileData"]);i!=null&&M(e,["fileData"],Gw(i));const a=T(n,["functionCall"]);a!=null&&M(e,["functionCall"],Ww(a));const u=T(n,["functionResponse"]);u!=null&&M(e,["functionResponse"],u);const l=T(n,["inlineData"]);l!=null&&M(e,["inlineData"],Lw(l));const s=T(n,["text"]);s!=null&&M(e,["text"],s);const c=T(n,["thought"]);c!=null&&M(e,["thought"],c);const h=T(n,["thoughtSignature"]);h!=null&&M(e,["thoughtSignature"],h);const d=T(n,["videoMetadata"]);return d!=null&&M(e,["videoMetadata"],d),e}function a_(n){const e={},t=T(n,["functionCallingConfig"]);t!=null&&M(e,["functionCallingConfig"],Yw(t));const r=T(n,["retrievalConfig"]);return r!=null&&M(e,["retrievalConfig"],r),e}function l_(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),M(e,["functionDeclarations"],c)}if(T(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(n,["googleSearchRetrieval"]);r!=null&&M(e,["googleSearchRetrieval"],r);const o=T(n,["computerUse"]);o!=null&&M(e,["computerUse"],o);const i=T(n,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const a=T(n,["codeExecution"]);if(a!=null&&M(e,["codeExecution"],a),T(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(n,["googleMaps"]);u!=null&&M(e,["googleMaps"],Zw(u));const l=T(n,["googleSearch"]);l!=null&&M(e,["googleSearch"],Qw(l));const s=T(n,["urlContext"]);return s!=null&&M(e,["urlContext"],s),e}function u_(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(d=>Kw(d))),M(e,["functionDeclarations"],h)}const r=T(n,["retrieval"]);r!=null&&M(e,["retrieval"],r);const o=T(n,["googleSearchRetrieval"]);o!=null&&M(e,["googleSearchRetrieval"],o);const i=T(n,["computerUse"]);if(i!=null&&M(e,["computerUse"],i),T(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=T(n,["codeExecution"]);a!=null&&M(e,["codeExecution"],a);const u=T(n,["enterpriseWebSearch"]);u!=null&&M(e,["enterpriseWebSearch"],u);const l=T(n,["googleMaps"]);l!=null&&M(e,["googleMaps"],l);const s=T(n,["googleSearch"]);s!=null&&M(e,["googleSearch"],s);const c=T(n,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}function c_(n,e){const t={},r=T(n,["ttl"]);e!==void 0&&r!=null&&M(e,["ttl"],r);const o=T(n,["expireTime"]);return e!==void 0&&o!=null&&M(e,["expireTime"],o),t}function d_(n,e){const t={},r=T(n,["ttl"]);e!==void 0&&r!=null&&M(e,["ttl"],r);const o=T(n,["expireTime"]);return e!==void 0&&o!=null&&M(e,["expireTime"],o),t}function f_(n,e){const t={},r=T(e,["name"]);r!=null&&M(t,["_url","name"],jr(n,r));const o=T(e,["config"]);return o!=null&&c_(o,t),t}function h_(n,e){const t={},r=T(e,["name"]);r!=null&&M(t,["_url","name"],jr(n,r));const o=T(e,["config"]);return o!=null&&d_(o,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p_ extends Pr{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pi(Ar.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=zw(this.apiClient,e);return u=Re("cachedContents",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const s=Uw(this.apiClient,e);return u=Re("cachedContents",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=Xw(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const s=Jw(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=$w(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=qw(c),d=new pp;return Object.assign(d,h),d})}else{const s=Vw(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=Hw(c),d=new pp;return Object.assign(d,h),d})}}async update(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=h_(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const s=f_(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=r_(e);return u=Re("cachedContents",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=s_(c),d=new mp;return Object.assign(d,h),d})}else{const s=n_(e);return u=Re("cachedContents",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=i_(c),d=new mp;return Object.assign(d,h),d})}}}function _p(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lt(n){return this instanceof Lt?(this.v=n,this):new Lt(n)}function as(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(f){return function(g){return Promise.resolve(g).then(f,h)}}function u(f,g){r[f]&&(o[f]=function(y){return new Promise(function(p,v){i.push([f,y,p,v])>1||l(f,y)})},g&&(o[f]=g(o[f])))}function l(f,g){try{s(r[f](g))}catch(y){d(i[0][3],y)}}function s(f){f.value instanceof Lt?Promise.resolve(f.value.v).then(c,h):d(i[0][2],f)}function c(f){l("next",f)}function h(f){l("throw",f)}function d(f,g){f(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function no(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof _p=="function"?_p(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(a){return new Promise(function(u,l){a=n[i](a),o(u,l,a.done,a.value)})}}function o(i,a,u,l){Promise.resolve(l).then(function(s){i({value:s,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Yg(t)}function Yg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function g_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Sp(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const o=[];let i=!0;for(;r<t&&n[r].role==="model";)o.push(n[r]),i&&!Yg(n[r])&&(i=!1),r++;i?e.push(...o):e.pop()}return e}class y_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new v_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class v_{constructor(e,t,r,o={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),g_(i)}async sendMessage(e){var t;await this.sendPromise;const r=yn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var i,a,u;const l=await o,s=(a=(i=l.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let d=[];c!=null&&(d=(u=c.slice(h))!==null&&u!==void 0?u:[]);const f=s?[s]:[];this.recordHistory(r,f,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const r=yn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(e=!1){const t=e?Sp(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,o;return as(this,arguments,function*(){var a,u,l,s;const c=[];try{for(var h=!0,d=no(e),f;f=yield Lt(d.next()),a=f.done,!a;h=!0){s=f.value,h=!1;const g=s;if(m_(g)){const y=(o=(r=g.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;y!==void 0&&c.push(y)}yield yield Lt(g)}}catch(g){u={error:g}}finally{try{!h&&!a&&(l=d.return)&&(yield Lt(l.call(d)))}finally{if(u)throw u.error}}this.recordHistory(t,c)})}recordHistory(e,t,r){let o=[];t.length>0&&t.every(i=>i.role!==void 0)?o=t:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Sp(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Fl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b_(n){const e={},t=T(n,["file"]);return t!=null&&M(e,["file"],t),e}function x_(n){const e={},t=T(n,["sdkHttpResponse"]);return t!=null&&M(e,["sdkHttpResponse"],t),e}function w_(n){const e={},t=T(n,["name"]);return t!=null&&M(e,["_url","file"],zg(t)),e}function __(n){const e={},t=T(n,["sdkHttpResponse"]);return t!=null&&M(e,["sdkHttpResponse"],t),e}function S_(n){const e={},t=T(n,["name"]);return t!=null&&M(e,["_url","file"],zg(t)),e}function k_(n,e){const t={},r=T(n,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const o=T(n,["pageToken"]);return e!==void 0&&o!=null&&M(e,["_query","pageToken"],o),t}function C_(n){const e={},t=T(n,["config"]);return t!=null&&k_(t,e),e}function T_(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E_ extends Pr{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pi(Ar.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=C_(e);return i=Re("files",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(s=>{const c=s;return c.sdkHttpResponse={headers:l.headers},c})),o.then(l=>{const s=T_(l),c=new Mx;return Object.assign(c,s),c})}}async createInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b_(e);return i=Re("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const s=x_(l),c=new Rx;return Object.assign(c,s),c})}}async get(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=S_(e);return i=Re("files/{file}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>l)}}async delete(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=w_(e);return i=Re("files/{file}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(s=>{const c=s;return c.sdkHttpResponse={headers:l.headers},c})),o.then(l=>{const s=__(l),c=new Px;return Object.assign(c,s),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wa(n){const e={},t=T(n,["data"]);if(t!=null&&M(e,["data"],t),T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function N_(n){const e={},t=T(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>H_(i))),M(e,["parts"],o)}const r=T(n,["role"]);return r!=null&&M(e,["role"],r),e}function A_(n){const e={};if(T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=T(n,["fileUri"]);t!=null&&M(e,["fileUri"],t);const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function I_(n){const e={},t=T(n,["id"]);t!=null&&M(e,["id"],t);const r=T(n,["args"]);r!=null&&M(e,["args"],r);const o=T(n,["name"]);if(o!=null&&M(e,["name"],o),T(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function M_(n){const e={};if(T(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=T(n,["description"]);t!=null&&M(e,["description"],t);const r=T(n,["name"]);r!=null&&M(e,["name"],r);const o=T(n,["parameters"]);o!=null&&M(e,["parameters"],o);const i=T(n,["parametersJsonSchema"]);i!=null&&M(e,["parametersJsonSchema"],i);const a=T(n,["response"]);a!=null&&M(e,["response"],a);const u=T(n,["responseJsonSchema"]);return u!=null&&M(e,["responseJsonSchema"],u),e}function R_(n){const e={},t=T(n,["modelSelectionConfig"]);t!=null&&M(e,["modelConfig"],t);const r=T(n,["responseJsonSchema"]);r!=null&&M(e,["responseJsonSchema"],r);const o=T(n,["audioTimestamp"]);o!=null&&M(e,["audioTimestamp"],o);const i=T(n,["candidateCount"]);i!=null&&M(e,["candidateCount"],i);const a=T(n,["enableAffectiveDialog"]);a!=null&&M(e,["enableAffectiveDialog"],a);const u=T(n,["frequencyPenalty"]);u!=null&&M(e,["frequencyPenalty"],u);const l=T(n,["logprobs"]);l!=null&&M(e,["logprobs"],l);const s=T(n,["maxOutputTokens"]);s!=null&&M(e,["maxOutputTokens"],s);const c=T(n,["mediaResolution"]);c!=null&&M(e,["mediaResolution"],c);const h=T(n,["presencePenalty"]);h!=null&&M(e,["presencePenalty"],h);const d=T(n,["responseLogprobs"]);d!=null&&M(e,["responseLogprobs"],d);const f=T(n,["responseMimeType"]);f!=null&&M(e,["responseMimeType"],f);const g=T(n,["responseModalities"]);g!=null&&M(e,["responseModalities"],g);const y=T(n,["responseSchema"]);y!=null&&M(e,["responseSchema"],y);const p=T(n,["routingConfig"]);p!=null&&M(e,["routingConfig"],p);const v=T(n,["seed"]);v!=null&&M(e,["seed"],v);const m=T(n,["speechConfig"]);m!=null&&M(e,["speechConfig"],Kg(m));const x=T(n,["stopSequences"]);x!=null&&M(e,["stopSequences"],x);const k=T(n,["temperature"]);k!=null&&M(e,["temperature"],k);const I=T(n,["thinkingConfig"]);I!=null&&M(e,["thinkingConfig"],I);const D=T(n,["topK"]);D!=null&&M(e,["topK"],D);const V=T(n,["topP"]);if(V!=null&&M(e,["topP"],V),T(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function P_(n){const e={};if(T(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=T(n,["enableWidget"]);return t!=null&&M(e,["enableWidget"],t),e}function j_(n){const e={};if(T(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=T(n,["timeRangeFilter"]);return t!=null&&M(e,["timeRangeFilter"],t),e}function D_(n,e){const t={},r=T(n,["generationConfig"]);e!==void 0&&r!=null&&M(e,["setup","generationConfig"],r);const o=T(n,["responseModalities"]);e!==void 0&&o!=null&&M(e,["setup","generationConfig","responseModalities"],o);const i=T(n,["temperature"]);e!==void 0&&i!=null&&M(e,["setup","generationConfig","temperature"],i);const a=T(n,["topP"]);e!==void 0&&a!=null&&M(e,["setup","generationConfig","topP"],a);const u=T(n,["topK"]);e!==void 0&&u!=null&&M(e,["setup","generationConfig","topK"],u);const l=T(n,["maxOutputTokens"]);e!==void 0&&l!=null&&M(e,["setup","generationConfig","maxOutputTokens"],l);const s=T(n,["mediaResolution"]);e!==void 0&&s!=null&&M(e,["setup","generationConfig","mediaResolution"],s);const c=T(n,["seed"]);e!==void 0&&c!=null&&M(e,["setup","generationConfig","seed"],c);const h=T(n,["speechConfig"]);e!==void 0&&h!=null&&M(e,["setup","generationConfig","speechConfig"],Fd(h));const d=T(n,["thinkingConfig"]);e!==void 0&&d!=null&&M(e,["setup","generationConfig","thinkingConfig"],d);const f=T(n,["enableAffectiveDialog"]);e!==void 0&&f!=null&&M(e,["setup","generationConfig","enableAffectiveDialog"],f);const g=T(n,["systemInstruction"]);e!==void 0&&g!=null&&M(e,["setup","systemInstruction"],N_(yn(g)));const y=T(n,["tools"]);if(e!==void 0&&y!=null){let D=Is(y);Array.isArray(D)&&(D=D.map(V=>G_(As(V)))),M(e,["setup","tools"],D)}const p=T(n,["sessionResumption"]);e!==void 0&&p!=null&&M(e,["setup","sessionResumption"],q_(p));const v=T(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&M(e,["setup","inputAudioTranscription"],v);const m=T(n,["outputAudioTranscription"]);e!==void 0&&m!=null&&M(e,["setup","outputAudioTranscription"],m);const x=T(n,["realtimeInputConfig"]);e!==void 0&&x!=null&&M(e,["setup","realtimeInputConfig"],x);const k=T(n,["contextWindowCompression"]);e!==void 0&&k!=null&&M(e,["setup","contextWindowCompression"],k);const I=T(n,["proactivity"]);return e!==void 0&&I!=null&&M(e,["setup","proactivity"],I),t}function O_(n,e){const t={},r=T(n,["generationConfig"]);e!==void 0&&r!=null&&M(e,["setup","generationConfig"],R_(r));const o=T(n,["responseModalities"]);e!==void 0&&o!=null&&M(e,["setup","generationConfig","responseModalities"],o);const i=T(n,["temperature"]);e!==void 0&&i!=null&&M(e,["setup","generationConfig","temperature"],i);const a=T(n,["topP"]);e!==void 0&&a!=null&&M(e,["setup","generationConfig","topP"],a);const u=T(n,["topK"]);e!==void 0&&u!=null&&M(e,["setup","generationConfig","topK"],u);const l=T(n,["maxOutputTokens"]);e!==void 0&&l!=null&&M(e,["setup","generationConfig","maxOutputTokens"],l);const s=T(n,["mediaResolution"]);e!==void 0&&s!=null&&M(e,["setup","generationConfig","mediaResolution"],s);const c=T(n,["seed"]);e!==void 0&&c!=null&&M(e,["setup","generationConfig","seed"],c);const h=T(n,["speechConfig"]);e!==void 0&&h!=null&&M(e,["setup","generationConfig","speechConfig"],Kg(Fd(h)));const d=T(n,["thinkingConfig"]);e!==void 0&&d!=null&&M(e,["setup","generationConfig","thinkingConfig"],d);const f=T(n,["enableAffectiveDialog"]);e!==void 0&&f!=null&&M(e,["setup","generationConfig","enableAffectiveDialog"],f);const g=T(n,["systemInstruction"]);e!==void 0&&g!=null&&M(e,["setup","systemInstruction"],yn(g));const y=T(n,["tools"]);if(e!==void 0&&y!=null){let D=Is(y);Array.isArray(D)&&(D=D.map(V=>W_(As(V)))),M(e,["setup","tools"],D)}const p=T(n,["sessionResumption"]);e!==void 0&&p!=null&&M(e,["setup","sessionResumption"],p);const v=T(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&M(e,["setup","inputAudioTranscription"],v);const m=T(n,["outputAudioTranscription"]);e!==void 0&&m!=null&&M(e,["setup","outputAudioTranscription"],m);const x=T(n,["realtimeInputConfig"]);e!==void 0&&x!=null&&M(e,["setup","realtimeInputConfig"],x);const k=T(n,["contextWindowCompression"]);e!==void 0&&k!=null&&M(e,["setup","contextWindowCompression"],k);const I=T(n,["proactivity"]);return e!==void 0&&I!=null&&M(e,["setup","proactivity"],I),t}function L_(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["setup","model"],kt(n,r));const o=T(e,["config"]);return o!=null&&M(t,["config"],D_(o,t)),t}function F_(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["setup","model"],kt(n,r));const o=T(e,["config"]);return o!=null&&M(t,["config"],O_(o,t)),t}function B_(n){const e={},t=T(n,["musicGenerationConfig"]);return t!=null&&M(e,["musicGenerationConfig"],t),e}function U_(n){const e={},t=T(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>o)),M(e,["weightedPrompts"],r)}return e}function z_(n){const e={},t=T(n,["media"]);if(t!=null){let s=Og(t);Array.isArray(s)&&(s=s.map(c=>wa(c))),M(e,["mediaChunks"],s)}const r=T(n,["audio"]);r!=null&&M(e,["audio"],wa(Fg(r)));const o=T(n,["audioStreamEnd"]);o!=null&&M(e,["audioStreamEnd"],o);const i=T(n,["video"]);i!=null&&M(e,["video"],wa(Lg(i)));const a=T(n,["text"]);a!=null&&M(e,["text"],a);const u=T(n,["activityStart"]);u!=null&&M(e,["activityStart"],u);const l=T(n,["activityEnd"]);return l!=null&&M(e,["activityEnd"],l),e}function V_(n){const e={},t=T(n,["media"]);if(t!=null){let s=Og(t);Array.isArray(s)&&(s=s.map(c=>c)),M(e,["mediaChunks"],s)}const r=T(n,["audio"]);r!=null&&M(e,["audio"],Fg(r));const o=T(n,["audioStreamEnd"]);o!=null&&M(e,["audioStreamEnd"],o);const i=T(n,["video"]);i!=null&&M(e,["video"],Lg(i));const a=T(n,["text"]);a!=null&&M(e,["text"],a);const u=T(n,["activityStart"]);u!=null&&M(e,["activityStart"],u);const l=T(n,["activityEnd"]);return l!=null&&M(e,["activityEnd"],l),e}function $_(n){const e={},t=T(n,["setupComplete"]);t!=null&&M(e,["setupComplete"],t);const r=T(n,["serverContent"]);r!=null&&M(e,["serverContent"],r);const o=T(n,["toolCall"]);o!=null&&M(e,["toolCall"],o);const i=T(n,["toolCallCancellation"]);i!=null&&M(e,["toolCallCancellation"],i);const a=T(n,["usageMetadata"]);a!=null&&M(e,["usageMetadata"],Y_(a));const u=T(n,["goAway"]);u!=null&&M(e,["goAway"],u);const l=T(n,["sessionResumptionUpdate"]);return l!=null&&M(e,["sessionResumptionUpdate"],l),e}function H_(n){const e={},t=T(n,["mediaResolution"]);t!=null&&M(e,["mediaResolution"],t);const r=T(n,["codeExecutionResult"]);r!=null&&M(e,["codeExecutionResult"],r);const o=T(n,["executableCode"]);o!=null&&M(e,["executableCode"],o);const i=T(n,["fileData"]);i!=null&&M(e,["fileData"],A_(i));const a=T(n,["functionCall"]);a!=null&&M(e,["functionCall"],I_(a));const u=T(n,["functionResponse"]);u!=null&&M(e,["functionResponse"],u);const l=T(n,["inlineData"]);l!=null&&M(e,["inlineData"],wa(l));const s=T(n,["text"]);s!=null&&M(e,["text"],s);const c=T(n,["thought"]);c!=null&&M(e,["thought"],c);const h=T(n,["thoughtSignature"]);h!=null&&M(e,["thoughtSignature"],h);const d=T(n,["videoMetadata"]);return d!=null&&M(e,["videoMetadata"],d),e}function q_(n){const e={},t=T(n,["handle"]);if(t!=null&&M(e,["handle"],t),T(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kg(n){const e={},t=T(n,["languageCode"]);t!=null&&M(e,["languageCode"],t);const r=T(n,["voiceConfig"]);if(r!=null&&M(e,["voiceConfig"],r),T(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function G_(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),M(e,["functionDeclarations"],c)}if(T(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(n,["googleSearchRetrieval"]);r!=null&&M(e,["googleSearchRetrieval"],r);const o=T(n,["computerUse"]);o!=null&&M(e,["computerUse"],o);const i=T(n,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const a=T(n,["codeExecution"]);if(a!=null&&M(e,["codeExecution"],a),T(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(n,["googleMaps"]);u!=null&&M(e,["googleMaps"],P_(u));const l=T(n,["googleSearch"]);l!=null&&M(e,["googleSearch"],j_(l));const s=T(n,["urlContext"]);return s!=null&&M(e,["urlContext"],s),e}function W_(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(d=>M_(d))),M(e,["functionDeclarations"],h)}const r=T(n,["retrieval"]);r!=null&&M(e,["retrieval"],r);const o=T(n,["googleSearchRetrieval"]);o!=null&&M(e,["googleSearchRetrieval"],o);const i=T(n,["computerUse"]);if(i!=null&&M(e,["computerUse"],i),T(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=T(n,["codeExecution"]);a!=null&&M(e,["codeExecution"],a);const u=T(n,["enterpriseWebSearch"]);u!=null&&M(e,["enterpriseWebSearch"],u);const l=T(n,["googleMaps"]);l!=null&&M(e,["googleMaps"],l);const s=T(n,["googleSearch"]);s!=null&&M(e,["googleSearch"],s);const c=T(n,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}function Y_(n){const e={},t=T(n,["promptTokenCount"]);t!=null&&M(e,["promptTokenCount"],t);const r=T(n,["cachedContentTokenCount"]);r!=null&&M(e,["cachedContentTokenCount"],r);const o=T(n,["candidatesTokenCount"]);o!=null&&M(e,["responseTokenCount"],o);const i=T(n,["toolUsePromptTokenCount"]);i!=null&&M(e,["toolUsePromptTokenCount"],i);const a=T(n,["thoughtsTokenCount"]);a!=null&&M(e,["thoughtsTokenCount"],a);const u=T(n,["totalTokenCount"]);u!=null&&M(e,["totalTokenCount"],u);const l=T(n,["promptTokensDetails"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>g)),M(e,["promptTokensDetails"],f)}const s=T(n,["cacheTokensDetails"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(g=>g)),M(e,["cacheTokensDetails"],f)}const c=T(n,["candidatesTokensDetails"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>g)),M(e,["responseTokensDetails"],f)}const h=T(n,["toolUsePromptTokensDetails"]);if(h!=null){let f=h;Array.isArray(f)&&(f=f.map(g=>g)),M(e,["toolUsePromptTokensDetails"],f)}const d=T(n,["trafficType"]);return d!=null&&M(e,["trafficType"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K_(n){const e={},t=T(n,["data"]);if(t!=null&&M(e,["data"],t),T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function J_(n){const e={},t=T(n,["content"]);t!=null&&M(e,["content"],t);const r=T(n,["citationMetadata"]);r!=null&&M(e,["citationMetadata"],X_(r));const o=T(n,["tokenCount"]);o!=null&&M(e,["tokenCount"],o);const i=T(n,["finishReason"]);i!=null&&M(e,["finishReason"],i);const a=T(n,["avgLogprobs"]);a!=null&&M(e,["avgLogprobs"],a);const u=T(n,["groundingMetadata"]);u!=null&&M(e,["groundingMetadata"],u);const l=T(n,["index"]);l!=null&&M(e,["index"],l);const s=T(n,["logprobsResult"]);s!=null&&M(e,["logprobsResult"],s);const c=T(n,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),M(e,["safetyRatings"],d)}const h=T(n,["urlContextMetadata"]);return h!=null&&M(e,["urlContextMetadata"],h),e}function X_(n){const e={},t=T(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>o)),M(e,["citations"],r)}return e}function Z_(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let i=Wn(o);Array.isArray(i)&&(i=i.map(a=>a)),M(t,["contents"],i)}return t}function Q_(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),M(e,["tokensInfo"],o)}return e}function e3(n){const e={},t=T(n,["values"]);t!=null&&M(e,["values"],t);const r=T(n,["statistics"]);return r!=null&&M(e,["statistics"],t3(r)),e}function t3(n){const e={},t=T(n,["truncated"]);t!=null&&M(e,["truncated"],t);const r=T(n,["token_count"]);return r!=null&&M(e,["tokenCount"],r),e}function Bl(n){const e={},t=T(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>c4(i))),M(e,["parts"],o)}const r=T(n,["role"]);return r!=null&&M(e,["role"],r),e}function n3(n){const e={},t=T(n,["controlType"]);t!=null&&M(e,["controlType"],t);const r=T(n,["enableControlImageComputation"]);return r!=null&&M(e,["computeControl"],r),e}function r3(n){const e={};if(T(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function i3(n,e){const t={},r=T(n,["systemInstruction"]);e!==void 0&&r!=null&&M(e,["systemInstruction"],yn(r));const o=T(n,["tools"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>e1(u))),M(e,["tools"],a)}const i=T(n,["generationConfig"]);return e!==void 0&&i!=null&&M(e,["generationConfig"],K3(i)),t}function s3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let a=Wn(o);Array.isArray(a)&&(a=a.map(u=>Bl(u))),M(t,["contents"],a)}const i=T(e,["config"]);return i!=null&&r3(i),t}function o3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let a=Wn(o);Array.isArray(a)&&(a=a.map(u=>u)),M(t,["contents"],a)}const i=T(e,["config"]);return i!=null&&i3(i,t),t}function a3(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["totalTokens"]);r!=null&&M(e,["totalTokens"],r);const o=T(n,["cachedContentTokenCount"]);return o!=null&&M(e,["cachedContentTokenCount"],o),e}function l3(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["totalTokens"]);return r!=null&&M(e,["totalTokens"],r),e}function u3(n,e){const t={},r=T(e,["model"]);return r!=null&&M(t,["_url","name"],kt(n,r)),t}function c3(n,e){const t={},r=T(e,["model"]);return r!=null&&M(t,["_url","name"],kt(n,r)),t}function d3(n){const e={},t=T(n,["sdkHttpResponse"]);return t!=null&&M(e,["sdkHttpResponse"],t),e}function f3(n){const e={},t=T(n,["sdkHttpResponse"]);return t!=null&&M(e,["sdkHttpResponse"],t),e}function h3(n,e){const t={},r=T(n,["outputGcsUri"]);e!==void 0&&r!=null&&M(e,["parameters","storageUri"],r);const o=T(n,["negativePrompt"]);e!==void 0&&o!=null&&M(e,["parameters","negativePrompt"],o);const i=T(n,["numberOfImages"]);e!==void 0&&i!=null&&M(e,["parameters","sampleCount"],i);const a=T(n,["aspectRatio"]);e!==void 0&&a!=null&&M(e,["parameters","aspectRatio"],a);const u=T(n,["guidanceScale"]);e!==void 0&&u!=null&&M(e,["parameters","guidanceScale"],u);const l=T(n,["seed"]);e!==void 0&&l!=null&&M(e,["parameters","seed"],l);const s=T(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&M(e,["parameters","safetySetting"],s);const c=T(n,["personGeneration"]);e!==void 0&&c!=null&&M(e,["parameters","personGeneration"],c);const h=T(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&M(e,["parameters","includeSafetyAttributes"],h);const d=T(n,["includeRaiReason"]);e!==void 0&&d!=null&&M(e,["parameters","includeRaiReason"],d);const f=T(n,["language"]);e!==void 0&&f!=null&&M(e,["parameters","language"],f);const g=T(n,["outputMimeType"]);e!==void 0&&g!=null&&M(e,["parameters","outputOptions","mimeType"],g);const y=T(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&M(e,["parameters","outputOptions","compressionQuality"],y);const p=T(n,["addWatermark"]);e!==void 0&&p!=null&&M(e,["parameters","addWatermark"],p);const v=T(n,["labels"]);e!==void 0&&v!=null&&M(e,["labels"],v);const m=T(n,["editMode"]);e!==void 0&&m!=null&&M(e,["parameters","editMode"],m);const x=T(n,["baseSteps"]);return e!==void 0&&x!=null&&M(e,["parameters","editConfig","baseSteps"],x),t}function p3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["prompt"]);o!=null&&M(t,["instances[0]","prompt"],o);const i=T(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(l=>g4(l))),M(t,["instances[0]","referenceImages"],u)}const a=T(e,["config"]);return a!=null&&h3(a,t),t}function m3(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Ul(i))),M(e,["generatedImages"],o)}return e}function g3(n,e){const t={},r=T(n,["taskType"]);e!==void 0&&r!=null&&M(e,["requests[]","taskType"],r);const o=T(n,["title"]);e!==void 0&&o!=null&&M(e,["requests[]","title"],o);const i=T(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&M(e,["requests[]","outputDimensionality"],i),T(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function y3(n,e){const t={},r=T(n,["taskType"]);e!==void 0&&r!=null&&M(e,["instances[]","task_type"],r);const o=T(n,["title"]);e!==void 0&&o!=null&&M(e,["instances[]","title"],o);const i=T(n,["outputDimensionality"]);e!==void 0&&i!=null&&M(e,["parameters","outputDimensionality"],i);const a=T(n,["mimeType"]);e!==void 0&&a!=null&&M(e,["instances[]","mimeType"],a);const u=T(n,["autoTruncate"]);return e!==void 0&&u!=null&&M(e,["parameters","autoTruncate"],u),t}function v3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let u=Dd(n,o);Array.isArray(u)&&(u=u.map(l=>l)),M(t,["requests[]","content"],u)}const i=T(e,["config"]);i!=null&&g3(i,t);const a=T(e,["model"]);return a!==void 0&&M(t,["requests[]","model"],kt(n,a)),t}function b3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let a=Dd(n,o);Array.isArray(a)&&(a=a.map(u=>u)),M(t,["instances[]","content"],a)}const i=T(e,["config"]);return i!=null&&y3(i,t),t}function x3(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["embeddings"],i)}const o=T(n,["metadata"]);return o!=null&&M(e,["metadata"],o),e}function w3(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>e3(a))),M(e,["embeddings"],i)}const o=T(n,["metadata"]);return o!=null&&M(e,["metadata"],o),e}function _3(n){const e={},t=T(n,["endpoint"]);t!=null&&M(e,["name"],t);const r=T(n,["deployedModelId"]);return r!=null&&M(e,["deployedModelId"],r),e}function S3(n){const e={};if(T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=T(n,["fileUri"]);t!=null&&M(e,["fileUri"],t);const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function k3(n){const e={},t=T(n,["id"]);t!=null&&M(e,["id"],t);const r=T(n,["args"]);r!=null&&M(e,["args"],r);const o=T(n,["name"]);if(o!=null&&M(e,["name"],o),T(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C3(n){const e={},t=T(n,["mode"]);t!=null&&M(e,["mode"],t);const r=T(n,["allowedFunctionNames"]);if(r!=null&&M(e,["allowedFunctionNames"],r),T(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function T3(n){const e={};if(T(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=T(n,["description"]);t!=null&&M(e,["description"],t);const r=T(n,["name"]);r!=null&&M(e,["name"],r);const o=T(n,["parameters"]);o!=null&&M(e,["parameters"],o);const i=T(n,["parametersJsonSchema"]);i!=null&&M(e,["parametersJsonSchema"],i);const a=T(n,["response"]);a!=null&&M(e,["response"],a);const u=T(n,["responseJsonSchema"]);return u!=null&&M(e,["responseJsonSchema"],u),e}function E3(n,e,t){const r={},o=T(e,["systemInstruction"]);t!==void 0&&o!=null&&M(t,["systemInstruction"],Bl(yn(o)));const i=T(e,["temperature"]);i!=null&&M(r,["temperature"],i);const a=T(e,["topP"]);a!=null&&M(r,["topP"],a);const u=T(e,["topK"]);u!=null&&M(r,["topK"],u);const l=T(e,["candidateCount"]);l!=null&&M(r,["candidateCount"],l);const s=T(e,["maxOutputTokens"]);s!=null&&M(r,["maxOutputTokens"],s);const c=T(e,["stopSequences"]);c!=null&&M(r,["stopSequences"],c);const h=T(e,["responseLogprobs"]);h!=null&&M(r,["responseLogprobs"],h);const d=T(e,["logprobs"]);d!=null&&M(r,["logprobs"],d);const f=T(e,["presencePenalty"]);f!=null&&M(r,["presencePenalty"],f);const g=T(e,["frequencyPenalty"]);g!=null&&M(r,["frequencyPenalty"],g);const y=T(e,["seed"]);y!=null&&M(r,["seed"],y);const p=T(e,["responseMimeType"]);p!=null&&M(r,["responseMimeType"],p);const v=T(e,["responseSchema"]);v!=null&&M(r,["responseSchema"],Od(v));const m=T(e,["responseJsonSchema"]);if(m!=null&&M(r,["responseJsonSchema"],m),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=T(e,["safetySettings"]);if(t!==void 0&&x!=null){let $=x;Array.isArray($)&&($=$.map(A=>y4(A))),M(t,["safetySettings"],$)}const k=T(e,["tools"]);if(t!==void 0&&k!=null){let $=Is(k);Array.isArray($)&&($=$.map(A=>k4(As(A)))),M(t,["tools"],$)}const I=T(e,["toolConfig"]);if(t!==void 0&&I!=null&&M(t,["toolConfig"],S4(I)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=T(e,["cachedContent"]);t!==void 0&&D!=null&&M(t,["cachedContent"],jr(n,D));const V=T(e,["responseModalities"]);V!=null&&M(r,["responseModalities"],V);const L=T(e,["mediaResolution"]);L!=null&&M(r,["mediaResolution"],L);const z=T(e,["speechConfig"]);if(z!=null&&M(r,["speechConfig"],Ld(z)),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=T(e,["thinkingConfig"]);B!=null&&M(r,["thinkingConfig"],B);const H=T(e,["imageConfig"]);return H!=null&&M(r,["imageConfig"],e4(H)),r}function N3(n,e,t){const r={},o=T(e,["systemInstruction"]);t!==void 0&&o!=null&&M(t,["systemInstruction"],yn(o));const i=T(e,["temperature"]);i!=null&&M(r,["temperature"],i);const a=T(e,["topP"]);a!=null&&M(r,["topP"],a);const u=T(e,["topK"]);u!=null&&M(r,["topK"],u);const l=T(e,["candidateCount"]);l!=null&&M(r,["candidateCount"],l);const s=T(e,["maxOutputTokens"]);s!=null&&M(r,["maxOutputTokens"],s);const c=T(e,["stopSequences"]);c!=null&&M(r,["stopSequences"],c);const h=T(e,["responseLogprobs"]);h!=null&&M(r,["responseLogprobs"],h);const d=T(e,["logprobs"]);d!=null&&M(r,["logprobs"],d);const f=T(e,["presencePenalty"]);f!=null&&M(r,["presencePenalty"],f);const g=T(e,["frequencyPenalty"]);g!=null&&M(r,["frequencyPenalty"],g);const y=T(e,["seed"]);y!=null&&M(r,["seed"],y);const p=T(e,["responseMimeType"]);p!=null&&M(r,["responseMimeType"],p);const v=T(e,["responseSchema"]);v!=null&&M(r,["responseSchema"],Od(v));const m=T(e,["responseJsonSchema"]);m!=null&&M(r,["responseJsonSchema"],m);const x=T(e,["routingConfig"]);x!=null&&M(r,["routingConfig"],x);const k=T(e,["modelSelectionConfig"]);k!=null&&M(r,["modelConfig"],k);const I=T(e,["safetySettings"]);if(t!==void 0&&I!=null){let b=I;Array.isArray(b)&&(b=b.map(_=>_)),M(t,["safetySettings"],b)}const D=T(e,["tools"]);if(t!==void 0&&D!=null){let b=Is(D);Array.isArray(b)&&(b=b.map(_=>e1(As(_)))),M(t,["tools"],b)}const V=T(e,["toolConfig"]);t!==void 0&&V!=null&&M(t,["toolConfig"],V);const L=T(e,["labels"]);t!==void 0&&L!=null&&M(t,["labels"],L);const z=T(e,["cachedContent"]);t!==void 0&&z!=null&&M(t,["cachedContent"],jr(n,z));const B=T(e,["responseModalities"]);B!=null&&M(r,["responseModalities"],B);const H=T(e,["mediaResolution"]);H!=null&&M(r,["mediaResolution"],H);const $=T(e,["speechConfig"]);$!=null&&M(r,["speechConfig"],Qg(Ld($)));const A=T(e,["audioTimestamp"]);A!=null&&M(r,["audioTimestamp"],A);const P=T(e,["thinkingConfig"]);P!=null&&M(r,["thinkingConfig"],P);const C=T(e,["imageConfig"]);return C!=null&&M(r,["imageConfig"],t4(C)),r}function kp(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let a=Wn(o);Array.isArray(a)&&(a=a.map(u=>Bl(u))),M(t,["contents"],a)}const i=T(e,["config"]);return i!=null&&M(t,["generationConfig"],E3(n,i,t)),t}function Cp(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["contents"]);if(o!=null){let a=Wn(o);Array.isArray(a)&&(a=a.map(u=>u)),M(t,["contents"],a)}const i=T(e,["config"]);return i!=null&&M(t,["generationConfig"],N3(n,i,t)),t}function Tp(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>J_(s))),M(e,["candidates"],l)}const o=T(n,["modelVersion"]);o!=null&&M(e,["modelVersion"],o);const i=T(n,["promptFeedback"]);i!=null&&M(e,["promptFeedback"],i);const a=T(n,["responseId"]);a!=null&&M(e,["responseId"],a);const u=T(n,["usageMetadata"]);return u!=null&&M(e,["usageMetadata"],u),e}function Ep(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["candidates"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),M(e,["candidates"],s)}const o=T(n,["createTime"]);o!=null&&M(e,["createTime"],o);const i=T(n,["modelVersion"]);i!=null&&M(e,["modelVersion"],i);const a=T(n,["promptFeedback"]);a!=null&&M(e,["promptFeedback"],a);const u=T(n,["responseId"]);u!=null&&M(e,["responseId"],u);const l=T(n,["usageMetadata"]);return l!=null&&M(e,["usageMetadata"],l),e}function A3(n,e){const t={};if(T(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(n,["numberOfImages"]);e!==void 0&&r!=null&&M(e,["parameters","sampleCount"],r);const o=T(n,["aspectRatio"]);e!==void 0&&o!=null&&M(e,["parameters","aspectRatio"],o);const i=T(n,["guidanceScale"]);if(e!==void 0&&i!=null&&M(e,["parameters","guidanceScale"],i),T(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&M(e,["parameters","safetySetting"],a);const u=T(n,["personGeneration"]);e!==void 0&&u!=null&&M(e,["parameters","personGeneration"],u);const l=T(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&M(e,["parameters","includeSafetyAttributes"],l);const s=T(n,["includeRaiReason"]);e!==void 0&&s!=null&&M(e,["parameters","includeRaiReason"],s);const c=T(n,["language"]);e!==void 0&&c!=null&&M(e,["parameters","language"],c);const h=T(n,["outputMimeType"]);e!==void 0&&h!=null&&M(e,["parameters","outputOptions","mimeType"],h);const d=T(n,["outputCompressionQuality"]);if(e!==void 0&&d!=null&&M(e,["parameters","outputOptions","compressionQuality"],d),T(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(T(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const f=T(n,["imageSize"]);if(e!==void 0&&f!=null&&M(e,["parameters","sampleImageSize"],f),T(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function I3(n,e){const t={},r=T(n,["outputGcsUri"]);e!==void 0&&r!=null&&M(e,["parameters","storageUri"],r);const o=T(n,["negativePrompt"]);e!==void 0&&o!=null&&M(e,["parameters","negativePrompt"],o);const i=T(n,["numberOfImages"]);e!==void 0&&i!=null&&M(e,["parameters","sampleCount"],i);const a=T(n,["aspectRatio"]);e!==void 0&&a!=null&&M(e,["parameters","aspectRatio"],a);const u=T(n,["guidanceScale"]);e!==void 0&&u!=null&&M(e,["parameters","guidanceScale"],u);const l=T(n,["seed"]);e!==void 0&&l!=null&&M(e,["parameters","seed"],l);const s=T(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&M(e,["parameters","safetySetting"],s);const c=T(n,["personGeneration"]);e!==void 0&&c!=null&&M(e,["parameters","personGeneration"],c);const h=T(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&M(e,["parameters","includeSafetyAttributes"],h);const d=T(n,["includeRaiReason"]);e!==void 0&&d!=null&&M(e,["parameters","includeRaiReason"],d);const f=T(n,["language"]);e!==void 0&&f!=null&&M(e,["parameters","language"],f);const g=T(n,["outputMimeType"]);e!==void 0&&g!=null&&M(e,["parameters","outputOptions","mimeType"],g);const y=T(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&M(e,["parameters","outputOptions","compressionQuality"],y);const p=T(n,["addWatermark"]);e!==void 0&&p!=null&&M(e,["parameters","addWatermark"],p);const v=T(n,["labels"]);e!==void 0&&v!=null&&M(e,["labels"],v);const m=T(n,["imageSize"]);e!==void 0&&m!=null&&M(e,["parameters","sampleImageSize"],m);const x=T(n,["enhancePrompt"]);return e!==void 0&&x!=null&&M(e,["parameters","enhancePrompt"],x),t}function M3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["prompt"]);o!=null&&M(t,["instances[0]","prompt"],o);const i=T(e,["config"]);return i!=null&&A3(i,t),t}function R3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["prompt"]);o!=null&&M(t,["instances[0]","prompt"],o);const i=T(e,["config"]);return i!=null&&I3(i,t),t}function P3(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>q3(a))),M(e,["generatedImages"],i)}const o=T(n,["positivePromptSafetyAttributes"]);return o!=null&&M(e,["positivePromptSafetyAttributes"],Xg(o)),e}function j3(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ul(a))),M(e,["generatedImages"],i)}const o=T(n,["positivePromptSafetyAttributes"]);return o!=null&&M(e,["positivePromptSafetyAttributes"],Zg(o)),e}function D3(n,e){const t={},r=T(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&M(e,["parameters","sampleCount"],r),T(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=T(n,["durationSeconds"]);if(e!==void 0&&o!=null&&M(e,["parameters","durationSeconds"],o),T(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=T(n,["aspectRatio"]);e!==void 0&&i!=null&&M(e,["parameters","aspectRatio"],i);const a=T(n,["resolution"]);e!==void 0&&a!=null&&M(e,["parameters","resolution"],a);const u=T(n,["personGeneration"]);if(e!==void 0&&u!=null&&M(e,["parameters","personGeneration"],u),T(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(n,["negativePrompt"]);e!==void 0&&l!=null&&M(e,["parameters","negativePrompt"],l);const s=T(n,["enhancePrompt"]);if(e!==void 0&&s!=null&&M(e,["parameters","enhancePrompt"],s),T(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=T(n,["lastFrame"]);e!==void 0&&c!=null&&M(e,["instances[0]","lastFrame"],zl(c));const h=T(n,["referenceImages"]);if(e!==void 0&&h!=null){let d=h;Array.isArray(d)&&(d=d.map(f=>L4(f))),M(e,["instances[0]","referenceImages"],d)}if(T(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function O3(n,e){const t={},r=T(n,["numberOfVideos"]);e!==void 0&&r!=null&&M(e,["parameters","sampleCount"],r);const o=T(n,["outputGcsUri"]);e!==void 0&&o!=null&&M(e,["parameters","storageUri"],o);const i=T(n,["fps"]);e!==void 0&&i!=null&&M(e,["parameters","fps"],i);const a=T(n,["durationSeconds"]);e!==void 0&&a!=null&&M(e,["parameters","durationSeconds"],a);const u=T(n,["seed"]);e!==void 0&&u!=null&&M(e,["parameters","seed"],u);const l=T(n,["aspectRatio"]);e!==void 0&&l!=null&&M(e,["parameters","aspectRatio"],l);const s=T(n,["resolution"]);e!==void 0&&s!=null&&M(e,["parameters","resolution"],s);const c=T(n,["personGeneration"]);e!==void 0&&c!=null&&M(e,["parameters","personGeneration"],c);const h=T(n,["pubsubTopic"]);e!==void 0&&h!=null&&M(e,["parameters","pubsubTopic"],h);const d=T(n,["negativePrompt"]);e!==void 0&&d!=null&&M(e,["parameters","negativePrompt"],d);const f=T(n,["enhancePrompt"]);e!==void 0&&f!=null&&M(e,["parameters","enhancePrompt"],f);const g=T(n,["generateAudio"]);e!==void 0&&g!=null&&M(e,["parameters","generateAudio"],g);const y=T(n,["lastFrame"]);e!==void 0&&y!=null&&M(e,["instances[0]","lastFrame"],ar(y));const p=T(n,["referenceImages"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(k=>F4(k))),M(e,["instances[0]","referenceImages"],x)}const v=T(n,["mask"]);e!==void 0&&v!=null&&M(e,["instances[0]","mask"],O4(v));const m=T(n,["compressionQuality"]);return e!==void 0&&m!=null&&M(e,["parameters","compressionQuality"],m),t}function L3(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata"]);r!=null&&M(e,["metadata"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["response","generateVideoResponse"]);return a!=null&&M(e,["response"],z3(a)),e}function F3(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata"]);r!=null&&M(e,["metadata"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["response"]);return a!=null&&M(e,["response"],V3(a)),e}function B3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["prompt"]);o!=null&&M(t,["instances[0]","prompt"],o);const i=T(e,["image"]);i!=null&&M(t,["instances[0]","image"],zl(i));const a=T(e,["video"]);a!=null&&M(t,["instances[0]","video"],t1(a));const u=T(e,["source"]);u!=null&&$3(u,t);const l=T(e,["config"]);return l!=null&&D3(l,t),t}function U3(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["prompt"]);o!=null&&M(t,["instances[0]","prompt"],o);const i=T(e,["image"]);i!=null&&M(t,["instances[0]","image"],ar(i));const a=T(e,["video"]);a!=null&&M(t,["instances[0]","video"],n1(a));const u=T(e,["source"]);u!=null&&H3(u,t);const l=T(e,["config"]);return l!=null&&O3(l,t),t}function z3(n){const e={},t=T(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>W3(a))),M(e,["generatedVideos"],i)}const r=T(n,["raiMediaFilteredCount"]);r!=null&&M(e,["raiMediaFilteredCount"],r);const o=T(n,["raiMediaFilteredReasons"]);return o!=null&&M(e,["raiMediaFilteredReasons"],o),e}function V3(n){const e={},t=T(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(a=>Y3(a))),M(e,["generatedVideos"],i)}const r=T(n,["raiMediaFilteredCount"]);r!=null&&M(e,["raiMediaFilteredCount"],r);const o=T(n,["raiMediaFilteredReasons"]);return o!=null&&M(e,["raiMediaFilteredReasons"],o),e}function $3(n,e){const t={},r=T(n,["prompt"]);e!==void 0&&r!=null&&M(e,["instances[0]","prompt"],r);const o=T(n,["image"]);e!==void 0&&o!=null&&M(e,["instances[0]","image"],zl(o));const i=T(n,["video"]);return e!==void 0&&i!=null&&M(e,["instances[0]","video"],t1(i)),t}function H3(n,e){const t={},r=T(n,["prompt"]);e!==void 0&&r!=null&&M(e,["instances[0]","prompt"],r);const o=T(n,["image"]);e!==void 0&&o!=null&&M(e,["instances[0]","image"],ar(o));const i=T(n,["video"]);return e!==void 0&&i!=null&&M(e,["instances[0]","video"],n1(i)),t}function q3(n){const e={},t=T(n,["_self"]);t!=null&&M(e,["image"],n4(t));const r=T(n,["raiFilteredReason"]);r!=null&&M(e,["raiFilteredReason"],r);const o=T(n,["_self"]);return o!=null&&M(e,["safetyAttributes"],Xg(o)),e}function Ul(n){const e={},t=T(n,["_self"]);t!=null&&M(e,["image"],Jg(t));const r=T(n,["raiFilteredReason"]);r!=null&&M(e,["raiFilteredReason"],r);const o=T(n,["_self"]);o!=null&&M(e,["safetyAttributes"],Zg(o));const i=T(n,["prompt"]);return i!=null&&M(e,["enhancedPrompt"],i),e}function G3(n){const e={},t=T(n,["_self"]);t!=null&&M(e,["mask"],Jg(t));const r=T(n,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),M(e,["labels"],o)}return e}function W3(n){const e={},t=T(n,["video"]);return t!=null&&M(e,["video"],j4(t)),e}function Y3(n){const e={},t=T(n,["_self"]);return t!=null&&M(e,["video"],D4(t)),e}function K3(n){const e={},t=T(n,["modelSelectionConfig"]);t!=null&&M(e,["modelConfig"],t);const r=T(n,["responseJsonSchema"]);r!=null&&M(e,["responseJsonSchema"],r);const o=T(n,["audioTimestamp"]);o!=null&&M(e,["audioTimestamp"],o);const i=T(n,["candidateCount"]);i!=null&&M(e,["candidateCount"],i);const a=T(n,["enableAffectiveDialog"]);a!=null&&M(e,["enableAffectiveDialog"],a);const u=T(n,["frequencyPenalty"]);u!=null&&M(e,["frequencyPenalty"],u);const l=T(n,["logprobs"]);l!=null&&M(e,["logprobs"],l);const s=T(n,["maxOutputTokens"]);s!=null&&M(e,["maxOutputTokens"],s);const c=T(n,["mediaResolution"]);c!=null&&M(e,["mediaResolution"],c);const h=T(n,["presencePenalty"]);h!=null&&M(e,["presencePenalty"],h);const d=T(n,["responseLogprobs"]);d!=null&&M(e,["responseLogprobs"],d);const f=T(n,["responseMimeType"]);f!=null&&M(e,["responseMimeType"],f);const g=T(n,["responseModalities"]);g!=null&&M(e,["responseModalities"],g);const y=T(n,["responseSchema"]);y!=null&&M(e,["responseSchema"],y);const p=T(n,["routingConfig"]);p!=null&&M(e,["routingConfig"],p);const v=T(n,["seed"]);v!=null&&M(e,["seed"],v);const m=T(n,["speechConfig"]);m!=null&&M(e,["speechConfig"],Qg(m));const x=T(n,["stopSequences"]);x!=null&&M(e,["stopSequences"],x);const k=T(n,["temperature"]);k!=null&&M(e,["temperature"],k);const I=T(n,["thinkingConfig"]);I!=null&&M(e,["thinkingConfig"],I);const D=T(n,["topK"]);D!=null&&M(e,["topK"],D);const V=T(n,["topP"]);if(V!=null&&M(e,["topP"],V),T(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function J3(n,e){const t={},r=T(e,["model"]);return r!=null&&M(t,["_url","name"],kt(n,r)),t}function X3(n,e){const t={},r=T(e,["model"]);return r!=null&&M(t,["_url","name"],kt(n,r)),t}function Z3(n){const e={};if(T(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=T(n,["enableWidget"]);return t!=null&&M(e,["enableWidget"],t),e}function Q3(n){const e={};if(T(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=T(n,["timeRangeFilter"]);return t!=null&&M(e,["timeRangeFilter"],t),e}function e4(n){const e={},t=T(n,["aspectRatio"]);t!=null&&M(e,["aspectRatio"],t);const r=T(n,["imageSize"]);if(r!=null&&M(e,["imageSize"],r),T(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(T(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function t4(n){const e={},t=T(n,["aspectRatio"]);t!=null&&M(e,["aspectRatio"],t);const r=T(n,["imageSize"]);r!=null&&M(e,["imageSize"],r);const o=T(n,["outputMimeType"]);o!=null&&M(e,["imageOutputOptions","mimeType"],o);const i=T(n,["outputCompressionQuality"]);return i!=null&&M(e,["imageOutputOptions","compressionQuality"],i),e}function n4(n){const e={},t=T(n,["bytesBase64Encoded"]);t!=null&&M(e,["imageBytes"],pi(t));const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function Jg(n){const e={},t=T(n,["gcsUri"]);t!=null&&M(e,["gcsUri"],t);const r=T(n,["bytesBase64Encoded"]);r!=null&&M(e,["imageBytes"],pi(r));const o=T(n,["mimeType"]);return o!=null&&M(e,["mimeType"],o),e}function zl(n){const e={};if(T(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=T(n,["imageBytes"]);t!=null&&M(e,["bytesBase64Encoded"],pi(t));const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function ar(n){const e={},t=T(n,["gcsUri"]);t!=null&&M(e,["gcsUri"],t);const r=T(n,["imageBytes"]);r!=null&&M(e,["bytesBase64Encoded"],pi(r));const o=T(n,["mimeType"]);return o!=null&&M(e,["mimeType"],o),e}function r4(n,e,t){const r={},o=T(e,["pageSize"]);t!==void 0&&o!=null&&M(t,["_query","pageSize"],o);const i=T(e,["pageToken"]);t!==void 0&&i!=null&&M(t,["_query","pageToken"],i);const a=T(e,["filter"]);t!==void 0&&a!=null&&M(t,["_query","filter"],a);const u=T(e,["queryBase"]);return t!==void 0&&u!=null&&M(t,["_url","models_url"],Vg(n,u)),r}function i4(n,e,t){const r={},o=T(e,["pageSize"]);t!==void 0&&o!=null&&M(t,["_query","pageSize"],o);const i=T(e,["pageToken"]);t!==void 0&&i!=null&&M(t,["_query","pageToken"],i);const a=T(e,["filter"]);t!==void 0&&a!=null&&M(t,["_query","filter"],a);const u=T(e,["queryBase"]);return t!==void 0&&u!=null&&M(t,["_url","models_url"],Vg(n,u)),r}function s4(n,e){const t={},r=T(e,["config"]);return r!=null&&r4(n,r,t),t}function o4(n,e){const t={},r=T(e,["config"]);return r!=null&&i4(n,r,t),t}function a4(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["_self"]);if(o!=null){let i=$g(o);Array.isArray(i)&&(i=i.map(a=>_c(a))),M(e,["models"],i)}return e}function l4(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["_self"]);if(o!=null){let i=$g(o);Array.isArray(i)&&(i=i.map(a=>Sc(a))),M(e,["models"],i)}return e}function u4(n){const e={},t=T(n,["maskMode"]);t!=null&&M(e,["maskMode"],t);const r=T(n,["segmentationClasses"]);r!=null&&M(e,["maskClasses"],r);const o=T(n,["maskDilation"]);return o!=null&&M(e,["dilation"],o),e}function _c(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["displayName"]);r!=null&&M(e,["displayName"],r);const o=T(n,["description"]);o!=null&&M(e,["description"],o);const i=T(n,["version"]);i!=null&&M(e,["version"],i);const a=T(n,["_self"]);a!=null&&M(e,["tunedModelInfo"],C4(a));const u=T(n,["inputTokenLimit"]);u!=null&&M(e,["inputTokenLimit"],u);const l=T(n,["outputTokenLimit"]);l!=null&&M(e,["outputTokenLimit"],l);const s=T(n,["supportedGenerationMethods"]);s!=null&&M(e,["supportedActions"],s);const c=T(n,["temperature"]);c!=null&&M(e,["temperature"],c);const h=T(n,["maxTemperature"]);h!=null&&M(e,["maxTemperature"],h);const d=T(n,["topP"]);d!=null&&M(e,["topP"],d);const f=T(n,["topK"]);f!=null&&M(e,["topK"],f);const g=T(n,["thinking"]);return g!=null&&M(e,["thinking"],g),e}function Sc(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["displayName"]);r!=null&&M(e,["displayName"],r);const o=T(n,["description"]);o!=null&&M(e,["description"],o);const i=T(n,["versionId"]);i!=null&&M(e,["version"],i);const a=T(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(d=>_3(d))),M(e,["endpoints"],h)}const u=T(n,["labels"]);u!=null&&M(e,["labels"],u);const l=T(n,["_self"]);l!=null&&M(e,["tunedModelInfo"],T4(l));const s=T(n,["defaultCheckpointId"]);s!=null&&M(e,["defaultCheckpointId"],s);const c=T(n,["checkpoints"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(d=>d)),M(e,["checkpoints"],h)}return e}function c4(n){const e={},t=T(n,["mediaResolution"]);t!=null&&M(e,["mediaResolution"],t);const r=T(n,["codeExecutionResult"]);r!=null&&M(e,["codeExecutionResult"],r);const o=T(n,["executableCode"]);o!=null&&M(e,["executableCode"],o);const i=T(n,["fileData"]);i!=null&&M(e,["fileData"],S3(i));const a=T(n,["functionCall"]);a!=null&&M(e,["functionCall"],k3(a));const u=T(n,["functionResponse"]);u!=null&&M(e,["functionResponse"],u);const l=T(n,["inlineData"]);l!=null&&M(e,["inlineData"],K_(l));const s=T(n,["text"]);s!=null&&M(e,["text"],s);const c=T(n,["thought"]);c!=null&&M(e,["thought"],c);const h=T(n,["thoughtSignature"]);h!=null&&M(e,["thoughtSignature"],h);const d=T(n,["videoMetadata"]);return d!=null&&M(e,["videoMetadata"],d),e}function d4(n){const e={},t=T(n,["productImage"]);return t!=null&&M(e,["image"],ar(t)),e}function f4(n,e){const t={},r=T(n,["numberOfImages"]);e!==void 0&&r!=null&&M(e,["parameters","sampleCount"],r);const o=T(n,["baseSteps"]);e!==void 0&&o!=null&&M(e,["parameters","baseSteps"],o);const i=T(n,["outputGcsUri"]);e!==void 0&&i!=null&&M(e,["parameters","storageUri"],i);const a=T(n,["seed"]);e!==void 0&&a!=null&&M(e,["parameters","seed"],a);const u=T(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&M(e,["parameters","safetySetting"],u);const l=T(n,["personGeneration"]);e!==void 0&&l!=null&&M(e,["parameters","personGeneration"],l);const s=T(n,["addWatermark"]);e!==void 0&&s!=null&&M(e,["parameters","addWatermark"],s);const c=T(n,["outputMimeType"]);e!==void 0&&c!=null&&M(e,["parameters","outputOptions","mimeType"],c);const h=T(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&M(e,["parameters","outputOptions","compressionQuality"],h);const d=T(n,["enhancePrompt"]);e!==void 0&&d!=null&&M(e,["parameters","enhancePrompt"],d);const f=T(n,["labels"]);return e!==void 0&&f!=null&&M(e,["labels"],f),t}function h4(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["source"]);o!=null&&m4(o,t);const i=T(e,["config"]);return i!=null&&f4(i,t),t}function p4(n){const e={},t=T(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>Ul(o))),M(e,["generatedImages"],r)}return e}function m4(n,e){const t={},r=T(n,["prompt"]);e!==void 0&&r!=null&&M(e,["instances[0]","prompt"],r);const o=T(n,["personImage"]);e!==void 0&&o!=null&&M(e,["instances[0]","personImage","image"],ar(o));const i=T(n,["productImages"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>d4(u))),M(e,["instances[0]","productImages"],a)}return t}function g4(n){const e={},t=T(n,["referenceImage"]);t!=null&&M(e,["referenceImage"],ar(t));const r=T(n,["referenceId"]);r!=null&&M(e,["referenceId"],r);const o=T(n,["referenceType"]);o!=null&&M(e,["referenceType"],o);const i=T(n,["maskImageConfig"]);i!=null&&M(e,["maskImageConfig"],u4(i));const a=T(n,["controlImageConfig"]);a!=null&&M(e,["controlImageConfig"],n3(a));const u=T(n,["styleImageConfig"]);u!=null&&M(e,["styleImageConfig"],u);const l=T(n,["subjectImageConfig"]);return l!=null&&M(e,["subjectImageConfig"],l),e}function Xg(n){const e={},t=T(n,["safetyAttributes","categories"]);t!=null&&M(e,["categories"],t);const r=T(n,["safetyAttributes","scores"]);r!=null&&M(e,["scores"],r);const o=T(n,["contentType"]);return o!=null&&M(e,["contentType"],o),e}function Zg(n){const e={},t=T(n,["safetyAttributes","categories"]);t!=null&&M(e,["categories"],t);const r=T(n,["safetyAttributes","scores"]);r!=null&&M(e,["scores"],r);const o=T(n,["contentType"]);return o!=null&&M(e,["contentType"],o),e}function y4(n){const e={},t=T(n,["category"]);if(t!=null&&M(e,["category"],t),T(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=T(n,["threshold"]);return r!=null&&M(e,["threshold"],r),e}function v4(n){const e={},t=T(n,["image"]);return t!=null&&M(e,["image"],ar(t)),e}function b4(n,e){const t={},r=T(n,["mode"]);e!==void 0&&r!=null&&M(e,["parameters","mode"],r);const o=T(n,["maxPredictions"]);e!==void 0&&o!=null&&M(e,["parameters","maxPredictions"],o);const i=T(n,["confidenceThreshold"]);e!==void 0&&i!=null&&M(e,["parameters","confidenceThreshold"],i);const a=T(n,["maskDilation"]);e!==void 0&&a!=null&&M(e,["parameters","maskDilation"],a);const u=T(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&M(e,["parameters","binaryColorThreshold"],u);const l=T(n,["labels"]);return e!==void 0&&l!=null&&M(e,["labels"],l),t}function x4(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["source"]);o!=null&&_4(o,t);const i=T(e,["config"]);return i!=null&&b4(i,t),t}function w4(n){const e={},t=T(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(o=>G3(o))),M(e,["generatedMasks"],r)}return e}function _4(n,e){const t={},r=T(n,["prompt"]);e!==void 0&&r!=null&&M(e,["instances[0]","prompt"],r);const o=T(n,["image"]);e!==void 0&&o!=null&&M(e,["instances[0]","image"],ar(o));const i=T(n,["scribbleImage"]);return e!==void 0&&i!=null&&M(e,["instances[0]","scribble"],v4(i)),t}function Qg(n){const e={},t=T(n,["languageCode"]);t!=null&&M(e,["languageCode"],t);const r=T(n,["voiceConfig"]);if(r!=null&&M(e,["voiceConfig"],r),T(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function S4(n){const e={},t=T(n,["functionCallingConfig"]);t!=null&&M(e,["functionCallingConfig"],C3(t));const r=T(n,["retrievalConfig"]);return r!=null&&M(e,["retrievalConfig"],r),e}function k4(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),M(e,["functionDeclarations"],c)}if(T(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(n,["googleSearchRetrieval"]);r!=null&&M(e,["googleSearchRetrieval"],r);const o=T(n,["computerUse"]);o!=null&&M(e,["computerUse"],o);const i=T(n,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const a=T(n,["codeExecution"]);if(a!=null&&M(e,["codeExecution"],a),T(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(n,["googleMaps"]);u!=null&&M(e,["googleMaps"],Z3(u));const l=T(n,["googleSearch"]);l!=null&&M(e,["googleSearch"],Q3(l));const s=T(n,["urlContext"]);return s!=null&&M(e,["urlContext"],s),e}function e1(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(d=>T3(d))),M(e,["functionDeclarations"],h)}const r=T(n,["retrieval"]);r!=null&&M(e,["retrieval"],r);const o=T(n,["googleSearchRetrieval"]);o!=null&&M(e,["googleSearchRetrieval"],o);const i=T(n,["computerUse"]);if(i!=null&&M(e,["computerUse"],i),T(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=T(n,["codeExecution"]);a!=null&&M(e,["codeExecution"],a);const u=T(n,["enterpriseWebSearch"]);u!=null&&M(e,["enterpriseWebSearch"],u);const l=T(n,["googleMaps"]);l!=null&&M(e,["googleMaps"],l);const s=T(n,["googleSearch"]);s!=null&&M(e,["googleSearch"],s);const c=T(n,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}function C4(n){const e={},t=T(n,["baseModel"]);t!=null&&M(e,["baseModel"],t);const r=T(n,["createTime"]);r!=null&&M(e,["createTime"],r);const o=T(n,["updateTime"]);return o!=null&&M(e,["updateTime"],o),e}function T4(n){const e={},t=T(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&M(e,["baseModel"],t);const r=T(n,["createTime"]);r!=null&&M(e,["createTime"],r);const o=T(n,["updateTime"]);return o!=null&&M(e,["updateTime"],o),e}function E4(n,e){const t={},r=T(n,["displayName"]);e!==void 0&&r!=null&&M(e,["displayName"],r);const o=T(n,["description"]);e!==void 0&&o!=null&&M(e,["description"],o);const i=T(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&M(e,["defaultCheckpointId"],i),t}function N4(n,e){const t={},r=T(n,["displayName"]);e!==void 0&&r!=null&&M(e,["displayName"],r);const o=T(n,["description"]);e!==void 0&&o!=null&&M(e,["description"],o);const i=T(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&M(e,["defaultCheckpointId"],i),t}function A4(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","name"],kt(n,r));const o=T(e,["config"]);return o!=null&&E4(o,t),t}function I4(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["config"]);return o!=null&&N4(o,t),t}function M4(n,e){const t={},r=T(n,["outputGcsUri"]);e!==void 0&&r!=null&&M(e,["parameters","storageUri"],r);const o=T(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&M(e,["parameters","safetySetting"],o);const i=T(n,["personGeneration"]);e!==void 0&&i!=null&&M(e,["parameters","personGeneration"],i);const a=T(n,["includeRaiReason"]);e!==void 0&&a!=null&&M(e,["parameters","includeRaiReason"],a);const u=T(n,["outputMimeType"]);e!==void 0&&u!=null&&M(e,["parameters","outputOptions","mimeType"],u);const l=T(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&M(e,["parameters","outputOptions","compressionQuality"],l);const s=T(n,["enhanceInputImage"]);e!==void 0&&s!=null&&M(e,["parameters","upscaleConfig","enhanceInputImage"],s);const c=T(n,["imagePreservationFactor"]);e!==void 0&&c!=null&&M(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const h=T(n,["labels"]);e!==void 0&&h!=null&&M(e,["labels"],h);const d=T(n,["numberOfImages"]);e!==void 0&&d!=null&&M(e,["parameters","sampleCount"],d);const f=T(n,["mode"]);return e!==void 0&&f!=null&&M(e,["parameters","mode"],f),t}function R4(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["_url","model"],kt(n,r));const o=T(e,["image"]);o!=null&&M(t,["instances[0]","image"],ar(o));const i=T(e,["upscaleFactor"]);i!=null&&M(t,["parameters","upscaleConfig","upscaleFactor"],i);const a=T(e,["config"]);return a!=null&&M4(a,t),t}function P4(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Ul(i))),M(e,["generatedImages"],o)}return e}function j4(n){const e={},t=T(n,["uri"]);t!=null&&M(e,["uri"],t);const r=T(n,["encodedVideo"]);r!=null&&M(e,["videoBytes"],pi(r));const o=T(n,["encoding"]);return o!=null&&M(e,["mimeType"],o),e}function D4(n){const e={},t=T(n,["gcsUri"]);t!=null&&M(e,["uri"],t);const r=T(n,["bytesBase64Encoded"]);r!=null&&M(e,["videoBytes"],pi(r));const o=T(n,["mimeType"]);return o!=null&&M(e,["mimeType"],o),e}function O4(n){const e={},t=T(n,["image"]);t!=null&&M(e,["_self"],ar(t));const r=T(n,["maskMode"]);return r!=null&&M(e,["maskMode"],r),e}function L4(n){const e={},t=T(n,["image"]);t!=null&&M(e,["image"],zl(t));const r=T(n,["referenceType"]);return r!=null&&M(e,["referenceType"],r),e}function F4(n){const e={},t=T(n,["image"]);t!=null&&M(e,["image"],ar(t));const r=T(n,["referenceType"]);return r!=null&&M(e,["referenceType"],r),e}function t1(n){const e={},t=T(n,["uri"]);t!=null&&M(e,["uri"],t);const r=T(n,["videoBytes"]);r!=null&&M(e,["encodedVideo"],pi(r));const o=T(n,["mimeType"]);return o!=null&&M(e,["encoding"],o),e}function n1(n){const e={},t=T(n,["uri"]);t!=null&&M(e,["gcsUri"],t);const r=T(n,["videoBytes"]);r!=null&&M(e,["bytesBase64Encoded"],pi(r));const o=T(n,["mimeType"]);return o!=null&&M(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B4="Content-Type",U4="X-Server-Timeout",z4="User-Agent",kc="x-goog-api-client",V4="1.30.0",$4=`google-genai-sdk/${V4}`,H4="v1beta1",q4="v1beta",Np=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class G4{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:H4,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:q4,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const o=[this.getRequestUrlInternal(t)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))o.searchParams.append(a,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,o.toString(),e.abortSignal),this.unaryApiCall(o,i,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[o,i]of Object.entries(t))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,o.toString(),e.abortSignal),this.streamApiCall(o,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,o){if(t&&t.timeout||o){const i=new AbortController,a=i.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>i.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=a}return t&&t.extraBody!==null&&W4(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async o=>(await Ap(o),new bc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async o=>(await Ap(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return as(this,arguments,function*(){const o=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:l}=yield Lt(o.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const s=i.decode(l,{stream:!0});try{const h=JSON.parse(s);if("error"in h){const d=JSON.parse(JSON.stringify(h.error)),f=d.status,g=d.code,y=`got status: ${f}. ${JSON.stringify(h)}`;if(g>=400&&g<600)throw new Fl({message:y,status:g})}}catch(h){if(h.name==="ApiError")throw h}a+=s;let c=a.match(Np);for(;c;){const h=c[1];try{const d=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Lt(new bc(d)),a=a.slice(c[0].length),c=a.match(Np)}catch(d){throw new Error(`exception parsing stream chunk ${h}. ${d}`)}}}}finally{o.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=$4+" "+this.clientOptions.userAgentExtra;return e[z4]=t,e[kc]=t,e[B4]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))r.append(o,i);e.timeout&&e.timeout>0&&r.append(U4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,a=await i.stat(e);o.sizeBytes=String(a.size);const u=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const l={file:o},s=this.getFileName(e),c=Re("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(c,o.sizeBytes,o.mimeType,s,l,t==null?void 0:t.httpOptions);return i.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,r){var o;const i=this.clientOptions.uploader,a=await i.stat(t),u=String(a.size),l=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const s=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(t),h={};r!=null&&r.customMetadata&&(h.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(h.chunkingConfig=r.chunkingConfig);const d=await this.fetchUploadUrl(s,u,l,c,h,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(t,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,o,i,a){var u;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const s=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:l});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(u=s==null?void 0:s.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Ap(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=JSON.stringify(r);throw t>=400&&t<600?new Fl({message:o,status:t}):new Error(o)}}function W4(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const i=JSON.parse(n.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))t=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,a){const u=Object.assign({},i);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const s=a[l],c=u[l];s&&typeof s=="object"&&!Array.isArray(s)&&c&&typeof c=="object"&&!Array.isArray(c)?u[l]=r(c,s):(c&&s&&typeof c!=typeof s&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof s}. Overwriting.`),u[l]=s)}return u}const o=r(t,e);n.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y4="mcp_used/unknown";let K4=!1;function r1(n){for(const e of n)if(J4(e)||typeof e=="object"&&"inputSchema"in e)return!0;return K4}function i1(n){var e;const t=(e=n[kc])!==null&&e!==void 0?e:"";n[kc]=(t+` ${Y4}`).trimStart()}function J4(n){return n!==null&&typeof n=="object"&&n instanceof Bd}function X4(n,e=100){return as(this,arguments,function*(){let r,o=0;for(;o<e;){const i=yield Lt(n.listTools({cursor:r}));for(const a of i.tools)yield yield Lt(a),o++;if(!i.nextCursor)break;r=i.nextCursor}})}class Bd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Bd(e,t)}async initialize(){var e,t,r,o;if(this.mcpTools.length>0)return;const i={},a=[];for(const c of this.mcpClients)try{for(var u=!0,l=(t=void 0,no(X4(c))),s;s=await l.next(),e=s.done,!e;u=!0){o=s.value,u=!1;const h=o;a.push(h);const d=h.name;if(i[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);i[d]=c}}catch(h){t={error:h}}finally{try{!u&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),$x(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const a=await o.callTool({name:r.name,arguments:r.args},void 0,i);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Z4(n,e,t){const r=new Dx;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),Object.assign(r,o),e(r)}class Q4{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),a=n6(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),l=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let s=()=>{};const c=new Promise(x=>{s=x}),h=e.callbacks,d=function(){s({})},f=this.apiClient,g={onopen:d,onmessage:x=>{Z4(f,h.onmessage,x)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(x){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(x){}},y=this.webSocketFactory.create(l,t6(a),g);y.connect(),await c;const m={setup:{model:kt(this.apiClient,e.model)}};return y.send(JSON.stringify(m)),new e6(y,this.apiClient)}}class e6{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=U_(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=B_(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Qi.PLAY)}pause(){this.sendPlaybackControl(Qi.PAUSE)}stop(){this.sendPlaybackControl(Qi.STOP)}resetContext(){this.sendPlaybackControl(Qi.RESET_CONTEXT)}close(){this.conn.close()}}function t6(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function n6(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r6="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function i6(n,e,t){const r=new jx;let o;t.data instanceof Blob?o=await t.data.text():t.data instanceof ArrayBuffer?o=new TextDecoder().decode(t.data):o=t.data;const i=JSON.parse(o);if(n.isVertexAI()){const a=$_(i);Object.assign(r,a)}else Object.assign(r,i);e(r)}class s6{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new Q4(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,o,i,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let c;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&r1(e.config.tools)&&i1(h);const d=u6(h);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c);else{const z=this.apiClient.getApiKey();let B="BidiGenerateContent",H="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),s!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",H="access_token"),c=`${l}/ws/google.ai.generativelanguage.${s}.GenerativeService.${B}?${H}=${z}`}let f=()=>{};const g=new Promise(z=>{f=z}),y=e.callbacks,p=function(){var z;(z=y==null?void 0:y.onopen)===null||z===void 0||z.call(y),f({})},v=this.apiClient,m={onopen:p,onmessage:z=>{i6(v,y.onmessage,z)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(z){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(z){}},x=this.webSocketFactory.create(c,l6(d),m);x.connect(),await g;let k=kt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const z=this.apiClient.getProject(),B=this.apiClient.getLocation();k=`projects/${z}/locations/${B}/`+k}let I={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[nl.AUDIO]}:e.config.responseModalities=[nl.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],V=[];for(const z of D)if(this.isCallableTool(z)){const B=z;V.push(await B.tool())}else V.push(z);V.length>0&&(e.config.tools=V);const L={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=F_(this.apiClient,L):I=L_(this.apiClient,L),delete I.config,x.send(JSON.stringify(I)),new a6(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const o6={turnComplete:!0};class a6{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=Wn(t.turns),e.isVertexAI()||(r=r.map(o=>Bl(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(r6)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},o6),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:V_(e)}:t={realtimeInput:z_(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function l6(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function u6(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ip=10;function Mp(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(ls(a)){o=!0;break}if(!o)return!0;const i=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ls(n){return"callTool"in n&&typeof n.callTool=="function"}function c6(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>ls(o)))!==null&&r!==void 0?r:!1}function Rp(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,o)=>{if(ls(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&t.push(o)}),t}function Pp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d6 extends Pr{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,o,i,a,u;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!c6(t)||Mp(t.config))return await this.generateContentInternal(l);const s=Rp(t);if(s.length>0){const y=s.map(p=>`tools[${p}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,h;const d=Wn(l.contents),f=(i=(o=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Ip;let g=0;for(;g<f&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,p=[];for(const v of(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(ls(v)){const x=await v.callTool(c.functionCalls);p.push(...x)}g++,h={role:"user",parts:p},l.contents=Wn(l.contents),l.contents.push(y),l.contents.push(h),Pp(l.config)&&(d.push(y),d.push(h))}return Pp(l.config)&&(c.automaticFunctionCallingHistory=d),c},this.generateContentStream=async t=>{var r,o,i,a,u;if(this.maybeMoveToResponseJsonSchem(t),Mp(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=Rp(t);if(l.length>0){const h=l.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const s=(i=(o=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,c=(u=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(s&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var o;let i;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((o=l==null?void 0:l.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=l==null?void 0:l.safetyAttributes:a.push(l);let u;return i?u={generatedImages:a,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Pi(Ar.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async t=>{var r,o,i,a,u,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((o=t.video)===null||o===void 0)&&o.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(i=t.source)===null||i===void 0?void 0:i.video)===null||a===void 0)&&a.uri&&(!((l=(u=t.source)===null||u===void 0?void 0:u.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,o;const i=(t=e.config)===null||t===void 0?void 0:t.tools;if(!i)return e;const a=await Promise.all(i.map(async l=>ls(l)?await l.tool():l)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&r1(e.config.tools)){const l=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let s=Object.assign({},l);Object.keys(s).length===0&&(s=this.apiClient.getDefaultHeaders()),i1(s),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:s})}return u}async initAfcToolsMap(e){var t,r,o;const i=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(ls(a)){const u=a,l=await u.tool();for(const s of(o=l.functionDeclarations)!==null&&o!==void 0?o:[]){if(!s.name)throw new Error("Function declaration name is required.");if(i.has(s.name))throw new Error(`Duplicate tool declaration name: ${s.name}`);i.set(s.name,u)}}return i}async processAfcStream(e){var t,r,o;const i=(o=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Ip;let a=!1,u=0;const l=await this.initAfcToolsMap(e);return function(s,c,h){var d,f;return as(this,arguments,function*(){for(var g,y,p,v;u<i;){a&&(u++,a=!1);const I=yield Lt(s.processParamsMaybeAddMcpUsage(h)),D=yield Lt(s.generateContentStreamInternal(I)),V=[],L=[];try{for(var m=!0,x=(y=void 0,no(D)),k;k=yield Lt(x.next()),g=k.done,!g;m=!0){v=k.value,m=!1;const z=v;if(yield yield Lt(z),z.candidates&&(!((d=z.candidates[0])===null||d===void 0)&&d.content)){L.push(z.candidates[0].content);for(const B of(f=z.candidates[0].content.parts)!==null&&f!==void 0?f:[])if(u<i&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(B.functionCall.name)){const H=yield Lt(c.get(B.functionCall.name).callTool([B.functionCall]));V.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(z){y={error:z}}finally{try{!m&&!g&&(p=x.return)&&(yield Lt(p.call(x)))}finally{if(y)throw y.error}}if(V.length>0){a=!0;const z=new zs;z.candidates=[{content:{role:"user",parts:V}}],yield yield Lt(z);const B=[];B.push(...L),B.push({role:"user",parts:V});const H=Wn(h.contents).concat(B);h.contents=H}else break}})}(this,l,e)}async generateContentInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=Cp(this.apiClient,e);return u=Re("{model}:generateContent",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=Ep(c),d=new zs;return Object.assign(d,h),d})}else{const s=kp(this.apiClient,e);return u=Re("{model}:generateContent",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=Tp(c),d=new zs;return Object.assign(d,h),d})}}async generateContentStreamInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=Cp(this.apiClient,e);return u=Re("{model}:streamGenerateContent?alt=sse",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.requestStream({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(h){return as(this,arguments,function*(){var d,f,g,y;try{for(var p=!0,v=no(h),m;m=yield Lt(v.next()),d=m.done,!d;p=!0){y=m.value,p=!1;const x=y,k=Ep(yield Lt(x.json()));k.sdkHttpResponse={headers:x.headers};const I=new zs;Object.assign(I,k),yield yield Lt(I)}}catch(x){f={error:x}}finally{try{!p&&!d&&(g=v.return)&&(yield Lt(g.call(v)))}finally{if(f)throw f.error}}})})}else{const s=kp(this.apiClient,e);return u=Re("{model}:streamGenerateContent?alt=sse",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.requestStream({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return as(this,arguments,function*(){var d,f,g,y;try{for(var p=!0,v=no(h),m;m=yield Lt(v.next()),d=m.done,!d;p=!0){y=m.value,p=!1;const x=y,k=Tp(yield Lt(x.json()));k.sdkHttpResponse={headers:x.headers};const I=new zs;Object.assign(I,k),yield yield Lt(I)}}catch(x){f={error:x}}finally{try{!p&&!d&&(g=v.return)&&(yield Lt(g.call(v)))}finally{if(f)throw f.error}}})})}}async embedContent(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=b3(this.apiClient,e);return u=Re("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=w3(c),d=new lp;return Object.assign(d,h),d})}else{const s=v3(this.apiClient,e);return u=Re("{model}:batchEmbedContents",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=x3(c),d=new lp;return Object.assign(d,h),d})}}async generateImagesInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=R3(this.apiClient,e);return u=Re("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=j3(c),d=new up;return Object.assign(d,h),d})}else{const s=M3(this.apiClient,e);return u=Re("{model}:predict",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=P3(c),d=new up;return Object.assign(d,h),d})}}async editImageInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const u=p3(this.apiClient,e);return i=Re("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(s=>{const c=s;return c.sdkHttpResponse={headers:l.headers},c})),o.then(l=>{const s=m3(l),c=new Sx;return Object.assign(c,s),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const u=R4(this.apiClient,e);return i=Re("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(s=>{const c=s;return c.sdkHttpResponse={headers:l.headers},c})),o.then(l=>{const s=P4(l),c=new kx;return Object.assign(c,s),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const u=h4(this.apiClient,e);return i=Re("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const s=p4(l),c=new Cx;return Object.assign(c,s),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const u=x4(this.apiClient,e);return i=Re("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const s=w4(l),c=new Tx;return Object.assign(c,s),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=X3(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Sc(c))}else{const s=J3(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>_c(c))}}async listInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=o4(this.apiClient,e);return u=Re("{models_url}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=l4(c),d=new cp;return Object.assign(d,h),d})}else{const s=s4(this.apiClient,e);return u=Re("{models_url}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=a4(c),d=new cp;return Object.assign(d,h),d})}}async update(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=I4(this.apiClient,e);return u=Re("{model}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Sc(c))}else{const s=A4(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>_c(c))}}async delete(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=c3(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=f3(c),d=new dp;return Object.assign(d,h),d})}else{const s=u3(this.apiClient,e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=d3(c),d=new dp;return Object.assign(d,h),d})}}async countTokens(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=o3(this.apiClient,e);return u=Re("{model}:countTokens",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=l3(c),d=new fp;return Object.assign(d,h),d})}else{const s=s3(this.apiClient,e);return u=Re("{model}:countTokens",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=a3(c),d=new fp;return Object.assign(d,h),d})}}async computeTokens(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const u=Z_(this.apiClient,e);return i=Re("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(s=>{const c=s;return c.sdkHttpResponse={headers:l.headers},c})),o.then(l=>{const s=Q_(l),c=new Ex;return Object.assign(c,s),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=U3(this.apiClient,e);return u=Re("{model}:predictLongRunning",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const h=F3(c),d=new rl;return Object.assign(d,h),d})}else{const s=B3(this.apiClient,e);return u=Re("{model}:predictLongRunning",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a.then(c=>{const h=L3(c),d=new rl;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f6 extends Pr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=yx(e);return u=Re("{operationName}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const s=gx(e);return u=Re("{operationName}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const u=ux(e);return i=Re("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h6(n){const e={},t=T(n,["data"]);if(t!=null&&M(e,["data"],t),T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function p6(n){const e={},t=T(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>S6(i))),M(e,["parts"],o)}const r=T(n,["role"]);return r!=null&&M(e,["role"],r),e}function m6(n,e,t){const r={},o=T(e,["expireTime"]);t!==void 0&&o!=null&&M(t,["expireTime"],o);const i=T(e,["newSessionExpireTime"]);t!==void 0&&i!=null&&M(t,["newSessionExpireTime"],i);const a=T(e,["uses"]);t!==void 0&&a!=null&&M(t,["uses"],a);const u=T(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&M(t,["bidiGenerateContentSetup"],_6(n,u));const l=T(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&M(t,["fieldMask"],l),r}function g6(n,e){const t={},r=T(e,["config"]);return r!=null&&M(t,["config"],m6(n,r,t)),t}function y6(n){const e={};if(T(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=T(n,["fileUri"]);t!=null&&M(e,["fileUri"],t);const r=T(n,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function v6(n){const e={},t=T(n,["id"]);t!=null&&M(e,["id"],t);const r=T(n,["args"]);r!=null&&M(e,["args"],r);const o=T(n,["name"]);if(o!=null&&M(e,["name"],o),T(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(T(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function b6(n){const e={};if(T(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=T(n,["enableWidget"]);return t!=null&&M(e,["enableWidget"],t),e}function x6(n){const e={};if(T(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(T(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=T(n,["timeRangeFilter"]);return t!=null&&M(e,["timeRangeFilter"],t),e}function w6(n,e){const t={},r=T(n,["generationConfig"]);e!==void 0&&r!=null&&M(e,["setup","generationConfig"],r);const o=T(n,["responseModalities"]);e!==void 0&&o!=null&&M(e,["setup","generationConfig","responseModalities"],o);const i=T(n,["temperature"]);e!==void 0&&i!=null&&M(e,["setup","generationConfig","temperature"],i);const a=T(n,["topP"]);e!==void 0&&a!=null&&M(e,["setup","generationConfig","topP"],a);const u=T(n,["topK"]);e!==void 0&&u!=null&&M(e,["setup","generationConfig","topK"],u);const l=T(n,["maxOutputTokens"]);e!==void 0&&l!=null&&M(e,["setup","generationConfig","maxOutputTokens"],l);const s=T(n,["mediaResolution"]);e!==void 0&&s!=null&&M(e,["setup","generationConfig","mediaResolution"],s);const c=T(n,["seed"]);e!==void 0&&c!=null&&M(e,["setup","generationConfig","seed"],c);const h=T(n,["speechConfig"]);e!==void 0&&h!=null&&M(e,["setup","generationConfig","speechConfig"],Fd(h));const d=T(n,["thinkingConfig"]);e!==void 0&&d!=null&&M(e,["setup","generationConfig","thinkingConfig"],d);const f=T(n,["enableAffectiveDialog"]);e!==void 0&&f!=null&&M(e,["setup","generationConfig","enableAffectiveDialog"],f);const g=T(n,["systemInstruction"]);e!==void 0&&g!=null&&M(e,["setup","systemInstruction"],p6(yn(g)));const y=T(n,["tools"]);if(e!==void 0&&y!=null){let D=Is(y);Array.isArray(D)&&(D=D.map(V=>C6(As(V)))),M(e,["setup","tools"],D)}const p=T(n,["sessionResumption"]);e!==void 0&&p!=null&&M(e,["setup","sessionResumption"],k6(p));const v=T(n,["inputAudioTranscription"]);e!==void 0&&v!=null&&M(e,["setup","inputAudioTranscription"],v);const m=T(n,["outputAudioTranscription"]);e!==void 0&&m!=null&&M(e,["setup","outputAudioTranscription"],m);const x=T(n,["realtimeInputConfig"]);e!==void 0&&x!=null&&M(e,["setup","realtimeInputConfig"],x);const k=T(n,["contextWindowCompression"]);e!==void 0&&k!=null&&M(e,["setup","contextWindowCompression"],k);const I=T(n,["proactivity"]);return e!==void 0&&I!=null&&M(e,["setup","proactivity"],I),t}function _6(n,e){const t={},r=T(e,["model"]);r!=null&&M(t,["setup","model"],kt(n,r));const o=T(e,["config"]);return o!=null&&M(t,["config"],w6(o,t)),t}function S6(n){const e={},t=T(n,["mediaResolution"]);t!=null&&M(e,["mediaResolution"],t);const r=T(n,["codeExecutionResult"]);r!=null&&M(e,["codeExecutionResult"],r);const o=T(n,["executableCode"]);o!=null&&M(e,["executableCode"],o);const i=T(n,["fileData"]);i!=null&&M(e,["fileData"],y6(i));const a=T(n,["functionCall"]);a!=null&&M(e,["functionCall"],v6(a));const u=T(n,["functionResponse"]);u!=null&&M(e,["functionResponse"],u);const l=T(n,["inlineData"]);l!=null&&M(e,["inlineData"],h6(l));const s=T(n,["text"]);s!=null&&M(e,["text"],s);const c=T(n,["thought"]);c!=null&&M(e,["thought"],c);const h=T(n,["thoughtSignature"]);h!=null&&M(e,["thoughtSignature"],h);const d=T(n,["videoMetadata"]);return d!=null&&M(e,["videoMetadata"],d),e}function k6(n){const e={},t=T(n,["handle"]);if(t!=null&&M(e,["handle"],t),T(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function C6(n){const e={},t=T(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),M(e,["functionDeclarations"],c)}if(T(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(n,["googleSearchRetrieval"]);r!=null&&M(e,["googleSearchRetrieval"],r);const o=T(n,["computerUse"]);o!=null&&M(e,["computerUse"],o);const i=T(n,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const a=T(n,["codeExecution"]);if(a!=null&&M(e,["codeExecution"],a),T(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=T(n,["googleMaps"]);u!=null&&M(e,["googleMaps"],b6(u));const l=T(n,["googleSearch"]);l!=null&&M(e,["googleSearch"],x6(l));const s=T(n,["urlContext"]);return s!=null&&M(e,["urlContext"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T6(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(i=>`${t}.${i}`);e.push(...o)}else e.push(t)}return e.join(",")}function E6(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(n.bidiGenerateContentSetup=i,t=i):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const o=n.fieldMask;if(t){const i=T6(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?n.fieldMask=i:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(s=>a.includes(s)?`generationConfig.${s}`:s));const l=[];i&&l.push(i),u.length>0&&l.push(...u),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?n.fieldMask=o.join(","):delete n.fieldMask;return n}class N6 extends Pr{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=g6(this.apiClient,e);i=Re("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const l=E6(u,e.config);return o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),o.then(s=>s)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A6(n,e){const t={},r=T(n,["displayName"]);return e!==void 0&&r!=null&&M(e,["displayName"],r),t}function I6(n){const e={},t=T(n,["config"]);return t!=null&&A6(t,e),e}function M6(n,e){const t={},r=T(n,["force"]);return e!==void 0&&r!=null&&M(e,["_query","force"],r),t}function R6(n){const e={},t=T(n,["name"]);t!=null&&M(e,["_url","name"],t);const r=T(n,["config"]);return r!=null&&M6(r,e),e}function P6(n){const e={},t=T(n,["name"]);return t!=null&&M(e,["_url","name"],t),e}function j6(n,e){const t={},r=T(n,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["customMetadata"],i)}const o=T(n,["chunkingConfig"]);return e!==void 0&&o!=null&&M(e,["chunkingConfig"],o),t}function D6(n){const e={},t=T(n,["name"]);t!=null&&M(e,["name"],t);const r=T(n,["metadata"]);r!=null&&M(e,["metadata"],r);const o=T(n,["done"]);o!=null&&M(e,["done"],o);const i=T(n,["error"]);i!=null&&M(e,["error"],i);const a=T(n,["response"]);return a!=null&&M(e,["response"],L6(a)),e}function O6(n){const e={},t=T(n,["fileSearchStoreName"]);t!=null&&M(e,["_url","file_search_store_name"],t);const r=T(n,["fileName"]);r!=null&&M(e,["fileName"],r);const o=T(n,["config"]);return o!=null&&j6(o,e),e}function L6(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["parent"]);r!=null&&M(e,["parent"],r);const o=T(n,["documentName"]);return o!=null&&M(e,["documentName"],o),e}function F6(n,e){const t={},r=T(n,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const o=T(n,["pageToken"]);return e!==void 0&&o!=null&&M(e,["_query","pageToken"],o),t}function B6(n){const e={},t=T(n,["config"]);return t!=null&&F6(t,e),e}function U6(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["fileSearchStores"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["fileSearchStores"],i)}return e}function z6(n,e){const t={},r=T(n,["mimeType"]);e!==void 0&&r!=null&&M(e,["mimeType"],r);const o=T(n,["displayName"]);e!==void 0&&o!=null&&M(e,["displayName"],o);const i=T(n,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(l=>l)),M(e,["customMetadata"],u)}const a=T(n,["chunkingConfig"]);return e!==void 0&&a!=null&&M(e,["chunkingConfig"],a),t}function V6(n){const e={},t=T(n,["fileSearchStoreName"]);t!=null&&M(e,["_url","file_search_store_name"],t);const r=T(n,["config"]);return r!=null&&z6(r,e),e}function $6(n){const e={},t=T(n,["sdkHttpResponse"]);return t!=null&&M(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H6(n,e){const t={},r=T(n,["force"]);return e!==void 0&&r!=null&&M(e,["_query","force"],r),t}function q6(n){const e={},t=T(n,["name"]);t!=null&&M(e,["_url","name"],t);const r=T(n,["config"]);return r!=null&&H6(r,e),e}function G6(n){const e={},t=T(n,["name"]);return t!=null&&M(e,["_url","name"],t),e}function W6(n,e){const t={},r=T(n,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const o=T(n,["pageToken"]);return e!==void 0&&o!=null&&M(e,["_query","pageToken"],o),t}function Y6(n){const e={},t=T(n,["parent"]);t!=null&&M(e,["_url","parent"],t);const r=T(n,["config"]);return r!=null&&W6(r,e),e}function K6(n){const e={},t=T(n,["sdkHttpResponse"]);t!=null&&M(e,["sdkHttpResponse"],t);const r=T(n,["nextPageToken"]);r!=null&&M(e,["nextPageToken"],r);const o=T(n,["documents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),M(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J6 extends Pr{constructor(e){super(),this.apiClient=e,this.list=async t=>new Pi(Ar.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=G6(e);return i=Re("{name}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>l)}}async delete(e){var t,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=q6(e);o=Re("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Y6(e);return i=Re("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const s=K6(l),c=new Nx;return Object.assign(c,s),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X6 extends Pr{constructor(e,t=new J6(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new Pi(Ar.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=I6(e);return i=Re("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>l)}}async get(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=P6(e);return i=Re("{name}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>l)}}async delete(e){var t,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=R6(e);o=Re("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=B6(e);return i=Re("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const s=U6(l),c=new Ax;return Object.assign(c,s),c})}}async uploadToFileSearchStoreInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=V6(e);return i=Re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const s=$6(l),c=new Ix;return Object.assign(c,s),c})}}async importFile(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=O6(e);return i=Re("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),o.then(l=>{const s=D6(l),c=new Pd;return Object.assign(c,s),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z6(n,e){const t={},r=T(n,["name"]);return r!=null&&M(t,["_url","name"],r),t}function Q6(n,e){const t={},r=T(n,["name"]);return r!=null&&M(t,["_url","name"],r),t}function e5(n,e,t){const r={};if(T(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=T(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&M(e,["displayName"],o),T(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(n,["epochCount"]);e!==void 0&&i!=null&&M(e,["tuningTask","hyperparameters","epochCount"],i);const a=T(n,["learningRateMultiplier"]);if(a!=null&&M(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),T(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=T(n,["batchSize"]);e!==void 0&&u!=null&&M(e,["tuningTask","hyperparameters","batchSize"],u);const l=T(n,["learningRate"]);if(e!==void 0&&l!=null&&M(e,["tuningTask","hyperparameters","learningRate"],l),T(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(T(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function t5(n,e,t){const r={};let o=T(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const f=T(n,["validationDataset"]);e!==void 0&&f!=null&&M(e,["supervisedTuningSpec"],jp(f))}else if(o==="PREFERENCE_TUNING"){const f=T(n,["validationDataset"]);e!==void 0&&f!=null&&M(e,["preferenceOptimizationSpec"],jp(f))}const i=T(n,["tunedModelDisplayName"]);e!==void 0&&i!=null&&M(e,["tunedModelDisplayName"],i);const a=T(n,["description"]);e!==void 0&&a!=null&&M(e,["description"],a);let u=T(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=T(n,["epochCount"]);e!==void 0&&f!=null&&M(e,["supervisedTuningSpec","hyperParameters","epochCount"],f)}else if(u==="PREFERENCE_TUNING"){const f=T(n,["epochCount"]);e!==void 0&&f!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],f)}let l=T(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=T(n,["learningRateMultiplier"]);e!==void 0&&f!=null&&M(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f)}else if(l==="PREFERENCE_TUNING"){const f=T(n,["learningRateMultiplier"]);e!==void 0&&f!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],f)}let s=T(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const f=T(n,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&M(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f)}else if(s==="PREFERENCE_TUNING"){const f=T(n,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&M(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],f)}let c=T(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=T(n,["adapterSize"]);e!==void 0&&f!=null&&M(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f)}else if(c==="PREFERENCE_TUNING"){const f=T(n,["adapterSize"]);e!==void 0&&f!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],f)}if(T(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=T(n,["labels"]);e!==void 0&&h!=null&&M(e,["labels"],h);const d=T(n,["beta"]);return e!==void 0&&d!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","beta"],d),r}function n5(n,e){const t={},r=T(n,["baseModel"]);r!=null&&M(t,["baseModel"],r);const o=T(n,["preTunedModel"]);o!=null&&M(t,["preTunedModel"],o);const i=T(n,["trainingDataset"]);i!=null&&h5(i);const a=T(n,["config"]);return a!=null&&e5(a,t),t}function r5(n,e){const t={},r=T(n,["baseModel"]);r!=null&&M(t,["baseModel"],r);const o=T(n,["preTunedModel"]);o!=null&&M(t,["preTunedModel"],o);const i=T(n,["trainingDataset"]);i!=null&&p5(i,t,e);const a=T(n,["config"]);return a!=null&&t5(a,t,e),t}function i5(n,e){const t={},r=T(n,["name"]);return r!=null&&M(t,["_url","name"],r),t}function s5(n,e){const t={},r=T(n,["name"]);return r!=null&&M(t,["_url","name"],r),t}function o5(n,e,t){const r={},o=T(n,["pageSize"]);e!==void 0&&o!=null&&M(e,["_query","pageSize"],o);const i=T(n,["pageToken"]);e!==void 0&&i!=null&&M(e,["_query","pageToken"],i);const a=T(n,["filter"]);return e!==void 0&&a!=null&&M(e,["_query","filter"],a),r}function a5(n,e,t){const r={},o=T(n,["pageSize"]);e!==void 0&&o!=null&&M(e,["_query","pageSize"],o);const i=T(n,["pageToken"]);e!==void 0&&i!=null&&M(e,["_query","pageToken"],i);const a=T(n,["filter"]);return e!==void 0&&a!=null&&M(e,["_query","filter"],a),r}function l5(n,e){const t={},r=T(n,["config"]);return r!=null&&o5(r,t),t}function u5(n,e){const t={},r=T(n,["config"]);return r!=null&&a5(r,t),t}function c5(n,e){const t={},r=T(n,["sdkHttpResponse"]);r!=null&&M(t,["sdkHttpResponse"],r);const o=T(n,["nextPageToken"]);o!=null&&M(t,["nextPageToken"],o);const i=T(n,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>s1(u))),M(t,["tuningJobs"],a)}return t}function d5(n,e){const t={},r=T(n,["sdkHttpResponse"]);r!=null&&M(t,["sdkHttpResponse"],r);const o=T(n,["nextPageToken"]);o!=null&&M(t,["nextPageToken"],o);const i=T(n,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Cc(u))),M(t,["tuningJobs"],a)}return t}function f5(n,e){const t={},r=T(n,["name"]);r!=null&&M(t,["model"],r);const o=T(n,["name"]);return o!=null&&M(t,["endpoint"],o),t}function h5(n,e){const t={};if(T(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=T(n,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),M(t,["examples","examples"],o)}return t}function p5(n,e,t){const r={};let o=T(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=T(n,["gcsUri"]);e!==void 0&&a!=null&&M(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=T(n,["gcsUri"]);e!==void 0&&a!=null&&M(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let i=T(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=T(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&M(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=T(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&M(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(T(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function s1(n,e){const t={},r=T(n,["sdkHttpResponse"]);r!=null&&M(t,["sdkHttpResponse"],r);const o=T(n,["name"]);o!=null&&M(t,["name"],o);const i=T(n,["state"]);i!=null&&M(t,["state"],Ug(i));const a=T(n,["createTime"]);a!=null&&M(t,["createTime"],a);const u=T(n,["tuningTask","startTime"]);u!=null&&M(t,["startTime"],u);const l=T(n,["tuningTask","completeTime"]);l!=null&&M(t,["endTime"],l);const s=T(n,["updateTime"]);s!=null&&M(t,["updateTime"],s);const c=T(n,["description"]);c!=null&&M(t,["description"],c);const h=T(n,["baseModel"]);h!=null&&M(t,["baseModel"],h);const d=T(n,["_self"]);return d!=null&&M(t,["tunedModel"],f5(d)),t}function Cc(n,e){const t={},r=T(n,["sdkHttpResponse"]);r!=null&&M(t,["sdkHttpResponse"],r);const o=T(n,["name"]);o!=null&&M(t,["name"],o);const i=T(n,["state"]);i!=null&&M(t,["state"],Ug(i));const a=T(n,["createTime"]);a!=null&&M(t,["createTime"],a);const u=T(n,["startTime"]);u!=null&&M(t,["startTime"],u);const l=T(n,["endTime"]);l!=null&&M(t,["endTime"],l);const s=T(n,["updateTime"]);s!=null&&M(t,["updateTime"],s);const c=T(n,["error"]);c!=null&&M(t,["error"],c);const h=T(n,["description"]);h!=null&&M(t,["description"],h);const d=T(n,["baseModel"]);d!=null&&M(t,["baseModel"],d);const f=T(n,["tunedModel"]);f!=null&&M(t,["tunedModel"],f);const g=T(n,["preTunedModel"]);g!=null&&M(t,["preTunedModel"],g);const y=T(n,["supervisedTuningSpec"]);y!=null&&M(t,["supervisedTuningSpec"],y);const p=T(n,["preferenceOptimizationSpec"]);p!=null&&M(t,["preferenceOptimizationSpec"],p);const v=T(n,["tuningDataStats"]);v!=null&&M(t,["tuningDataStats"],v);const m=T(n,["encryptionSpec"]);m!=null&&M(t,["encryptionSpec"],m);const x=T(n,["partnerModelTuningSpec"]);x!=null&&M(t,["partnerModelTuningSpec"],x);const k=T(n,["customBaseModel"]);k!=null&&M(t,["customBaseModel"],k);const I=T(n,["experiment"]);I!=null&&M(t,["experiment"],I);const D=T(n,["labels"]);D!=null&&M(t,["labels"],D);const V=T(n,["outputUri"]);V!=null&&M(t,["outputUri"],V);const L=T(n,["pipelineJob"]);L!=null&&M(t,["pipelineJob"],L);const z=T(n,["serviceAccount"]);z!=null&&M(t,["serviceAccount"],z);const B=T(n,["tunedModelDisplayName"]);B!=null&&M(t,["tunedModelDisplayName"],B);const H=T(n,["veoTuningSpec"]);return H!=null&&M(t,["veoTuningSpec"],H),t}function m5(n,e){const t={},r=T(n,["sdkHttpResponse"]);r!=null&&M(t,["sdkHttpResponse"],r);const o=T(n,["name"]);o!=null&&M(t,["name"],o);const i=T(n,["metadata"]);i!=null&&M(t,["metadata"],i);const a=T(n,["done"]);a!=null&&M(t,["done"],a);const u=T(n,["error"]);return u!=null&&M(t,["error"],u),t}function jp(n,e){const t={},r=T(n,["gcsUri"]);r!=null&&M(t,["validationDatasetUri"],r);const o=T(n,["vertexDatasetResource"]);return o!=null&&M(t,["validationDatasetUri"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g5 extends Pr{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Pi(Ar.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const o={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=t.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},t),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{const o=Object.assign({},t);return await this.tuneInternal(o)}else{const o=Object.assign({},t),i=await this.tuneMldevInternal(o);let a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:vc.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=s5(e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>Cc(c))}else{const s=i5(e);return u=Re("{name}",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>s1(c))}}async listInternal(e){var t,r,o,i;let a,u="",l={};if(this.apiClient.isVertexAI()){const s=u5(e);return u=Re("tuningJobs",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=d5(c),d=new hp;return Object.assign(d,h),d})}else{const s=l5(e);return u=Re("tunedModels",s._url),l=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:u,queryParams:l,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),a.then(c=>{const h=c5(c),d=new hp;return Object.assign(d,h),d})}}async cancel(e){var t,r,o,i;let a="",u={};if(this.apiClient.isVertexAI()){const l=Q6(e);a=Re("{name}:cancel",l._url),u=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Z6(e);a=Re("{name}:cancel",l._url),u=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const u=r5(e,e);return i=Re("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(s=>{const c=s;return c.sdkHttpResponse={headers:l.headers},c})),o.then(l=>Cc(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n5(e);return i=Re("tunedModels",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(s=>{const c=s;return c.sdkHttpResponse={headers:l.headers},c})),o.then(l=>m5(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y5{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const v5=1024*1024*8,b5=3,x5=1e3,w5=2,sl="x-goog-upload-status";async function _5(n,e,t){var r;const o=await o1(n,e,t),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[sl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function S5(n,e,t){var r;const o=await o1(n,e,t),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[sl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=jg(i),u=new jd;return Object.assign(u,a),u}async function o1(n,e,t){var r,o;let i=0,a=0,u=new bc(new Response),l="upload";for(i=n.size;a<i;){const s=Math.min(v5,i-a),c=n.slice(a,a+s);a+s>=i&&(l+=", finalize");let h=0,d=x5;for(;h<b5&&(u=await t.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(s)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[sl]));)h++,await C5(d),d=d*w5;if(a+=s,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[sl])!=="active")break;if(i<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function k5(n){return{size:n.size,type:n.type}}function C5(n){return new Promise(e=>setTimeout(e,n))}class T5{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _5(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await S5(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await k5(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E5{create(e,t,r){return new N5(e,t,r)}}class N5{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dp="x-goog-api-key";class A5{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Dp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Dp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I5="gl-node/";class ji{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=ax(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new A5(this.apiKey);this.apiClient=new G4({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:I5+"web",uploader:new T5,downloader:new y5}),this.models=new d6(this.apiClient),this.live=new s6(this.apiClient,o,new E5),this.batches=new Ow(this.apiClient),this.chats=new y_(this.models,this.apiClient),this.caches=new p_(this.apiClient),this.files=new E_(this.apiClient),this.operations=new f6(this.apiClient),this.authTokens=new N6(this.apiClient),this.tunings=new g5(this.apiClient),this.fileSearchStores=new X6(this.apiClient)}}const M5=({isOpen:n,onClose:e,onSave:t,initialData:r})=>{var g;const[o,i]=oe.useState({name:"",clientName:"",category:"",description:"",status:nr.PLANNED,priority:sr.NORMAL,roleRequirements:[],budget:"",startDate:"",dueDate:"",tags:[],notes:""}),[a,u]=oe.useState(""),[l,s]=oe.useState(!1),[c,h]=oe.useState("");oe.useEffect(()=>{var y;n&&(r?(i({...r}),h(((y=r.tags)==null?void 0:y.join(", "))||""),u("")):(i({name:"",clientName:"",category:"Social Media",description:"",status:nr.PLANNED,priority:sr.NORMAL,roleRequirements:[],budget:"",startDate:new Date().toISOString().split("T")[0],dueDate:"",tags:[],notes:""}),h(""),u("")))},[n,r]);const d=async()=>{if(!o.name&&!a){alert("Please enter a Project Name or provide Source Material.");return}s(!0);try{const y=new ji({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),p=`
        Role: Creative Producer AI.
        Task: Analyze the context and structure a project.
        
        CONTEXT: "${a||o.name}"
        CLIENT: ${o.clientName}

        Return JSON schema:
        {
          "narrative_brief": "String",
          "production_constraints": "String",
          "stylistic_tags": ["String"],
          "suggested_roles": [{ "role": "String", "count": Integer, "skills": ["String"] }]
        }
      `,m=(await Ns(y,{model:"gemini-2.0-flash-exp",contents:p,config:{responseMimeType:"application/json"}})).text.replace(/```json/g,"").replace(/```/g,"").trim(),x=JSON.parse(m),k=(x.suggested_roles||[]).map((I,D)=>({id:`role-${Date.now()}-${D}`,role:I.role,count:I.count||1,filled:0,skillsRequired:I.skillsRequired||[]}));i(I=>({...I,description:x.narrative_brief,notes:x.production_constraints,roleRequirements:k.length>0?k:I.roleRequirements,tags:x.stylistic_tags||[]})),h((x.stylistic_tags||[]).join(", "))}catch(y){console.error("AI Generation failed",y)}finally{s(!1)}},f=y=>{y.preventDefault();const p=c.split(",").map(v=>v.trim()).filter(Boolean);t({...o,tags:p}),e()};return n?E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/40 backdrop-blur-sm p-4 font-sans animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden border border-gray-200",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-white",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-base font-semibold text-gray-900",children:r?"Edit Project":"New Project"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Configure campaign parameters."})]}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-900 transition-colors",children:E.jsx(Mn,{size:20})})]}),E.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[E.jsxs("div",{className:"w-full lg:w-80 bg-gray-50/50 border-r border-gray-100 p-6 flex flex-col gap-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex-1 flex flex-col",children:[E.jsxs("label",{className:"text-[10px] font-bold text-indigo-900 uppercase tracking-wide mb-2 flex items-center gap-2",children:[E.jsx(Nd,{size:12,className:"text-indigo-600"})," Auto-Config"]}),E.jsx("textarea",{className:"flex-1 w-full p-3 bg-white border border-indigo-100 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-xs resize-none shadow-sm placeholder-indigo-200 text-gray-700 leading-relaxed font-mono",placeholder:"Paste messy notes, emails, or briefs here. AI will structure the project.",value:a,onChange:y=>u(y.target.value)}),E.jsxs("button",{type:"button",onClick:d,disabled:l||!a&&!o.name,className:"mt-3 bg-indigo-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-indigo-700 shadow-sm disabled:opacity-50 transition-all flex items-center justify-center gap-2 uppercase tracking-wide",children:[l?E.jsx(Hn,{size:12,className:"animate-spin"}):E.jsx(Nr,{size:12}),l?"Processing...":"Analyze & Fill"]})]}),E.jsxs("div",{className:"pt-6 border-t border-gray-200 space-y-4",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Name"}),E.jsx("input",{required:!0,className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none text-sm font-medium",value:o.name,onChange:y=>i({...o,name:y.target.value})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Client"}),E.jsx("input",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none text-sm",value:o.clientName,onChange:y=>i({...o,clientName:y.target.value})})]})]})]}),E.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:E.jsxs("form",{id:"project-form",onSubmit:f,className:"space-y-8 max-w-3xl mx-auto",children:[E.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-[11px] font-semibold text-gray-700 flex items-center gap-2",children:[E.jsx(li,{size:14,className:"text-gray-400"})," Narrative Brief"]}),E.jsx("textarea",{className:"w-full p-4 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900/5 focus:border-gray-900 outline-none text-sm leading-relaxed min-h-[120px] shadow-sm font-sans",placeholder:"Core story...",value:o.description,onChange:y=>i({...o,description:y.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-[11px] font-semibold text-gray-700 flex items-center gap-2",children:[E.jsx(Ro,{size:14,className:"text-gray-400"})," Constraints"]}),E.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900/5 focus:border-gray-900 outline-none text-xs font-mono min-h-[80px] text-gray-600",placeholder:"Tech specs...",value:o.notes,onChange:y=>i({...o,notes:y.target.value})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-5 rounded-xl border border-gray-100 bg-white shadow-sm",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Status"}),E.jsx("select",{className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:o.status,onChange:y=>i({...o,status:y.target.value}),children:Object.values(nr).map(y=>E.jsx("option",{value:y,children:y},y))})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Start"}),E.jsx("input",{type:"date",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:o.startDate?new Date(o.startDate).toISOString().split("T")[0]:"",onChange:y=>i({...o,startDate:y.target.value})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Due"}),E.jsx("input",{type:"date",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:o.dueDate?new Date(o.dueDate).toISOString().split("T")[0]:"",onChange:y=>i({...o,dueDate:y.target.value})})]}),E.jsxs("div",{className:"col-span-2 md:col-span-4 mt-2",children:[E.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide flex items-center gap-1 mb-1",children:[E.jsx(tl,{size:12})," Tags"]}),E.jsx("input",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",placeholder:"Comma separated tags...",value:c,onChange:y=>h(y.target.value)})]})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Staffing Plan"}),E.jsxs("button",{type:"button",onClick:()=>i(y=>({...y,roleRequirements:[...y.roleRequirements||[],{id:`role-${Date.now()}`,role:"New",count:1,filled:0,skillsRequired:[]}]})),className:"text-indigo-600 hover:text-indigo-700 text-[10px] font-bold flex items-center gap-1 uppercase",children:[E.jsx(Gn,{size:12})," Add Role"]})]}),E.jsx("div",{className:"space-y-2",children:(g=o.roleRequirements)==null?void 0:g.map(y=>E.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[E.jsx(Md,{size:14,className:"text-gray-400"}),E.jsx("input",{className:"w-32 bg-transparent text-xs font-bold text-gray-900 border-none focus:ring-0 p-0",value:y.role,onChange:p=>{var m;const v=(m=o.roleRequirements)==null?void 0:m.map(x=>x.id===y.id?{...x,role:p.target.value}:x);i({...o,roleRequirements:v})}}),E.jsx("div",{className:"h-4 w-px bg-gray-200"}),E.jsx("input",{type:"number",className:"w-12 bg-transparent text-xs text-gray-600 border-none focus:ring-0 p-0 text-center",value:y.count,onChange:p=>{var m;const v=(m=o.roleRequirements)==null?void 0:m.map(x=>x.id===y.id?{...x,count:parseInt(p.target.value)}:x);i({...o,roleRequirements:v})}}),E.jsx("div",{className:"h-4 w-px bg-gray-200"}),E.jsx("input",{className:"flex-1 bg-transparent text-xs text-gray-500 border-none focus:ring-0 p-0",placeholder:"Required Skills...",value:y.skillsRequired.join(", "),onChange:p=>{var m;const v=(m=o.roleRequirements)==null?void 0:m.map(x=>x.id===y.id?{...x,skillsRequired:p.target.value.split(",")}:x);i({...o,roleRequirements:v})}}),E.jsx("button",{type:"button",onClick:()=>i(p=>{var v;return{...p,roleRequirements:(v=p.roleRequirements)==null?void 0:v.filter(m=>m.id!==y.id)}}),className:"text-gray-400 hover:text-rose-500",children:E.jsx(Ll,{size:14})})]},y.id))})]})]})})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-white flex justify-end gap-3 z-10",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-md text-xs transition-colors",children:"Cancel"}),E.jsx("button",{onClick:f,className:"px-5 py-2 bg-gray-900 text-white font-medium rounded-md text-xs hover:bg-black shadow-sm transition-all",children:r?"Update Project":"Create Project"})]})]})}):null},ol=({children:n,variant:e="neutral",className:t=""})=>{const r={neutral:"bg-subtle text-ink-secondary border-transparent",success:"bg-state-success-bg text-state-success border-state-success/20",warning:"bg-state-warning-bg text-state-warning border-state-warning/20",danger:"bg-state-danger-bg text-state-danger border-state-danger/20",ai:"bg-primary-tint text-primary pl-2.5 pr-2 border-l-2 border-edge-teal"},o="inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest border";return E.jsxs("span",{className:`${o} ${r[e]} ${t}`,children:[e==="ai"&&E.jsx(Nr,{size:10,className:"text-edge-magenta"}),n]})},_a=({children:n,variant:e="primary",size:t="md",isLoading:r=!1,leftIcon:o,className:i="",disabled:a,...u})=>{const l="relative inline-flex items-center justify-center font-medium transition-all duration-200 ease-out rounded-xl disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-1 active:scale-[0.98]",s={sm:"px-3 py-1.5 text-xs tracking-wide",md:"px-5 py-2.5 text-sm",lg:"px-6 py-3.5 text-base"},c={primary:"bg-primary hover:bg-primary-hover text-ink-inverse shadow-sm hover:shadow-lg hover:-translate-y-[1px] focus:ring-primary/40 border border-transparent",secondary:"bg-surface border border-border-subtle text-ink-primary hover:bg-subtle/50 hover:border-border-hover hover:shadow-md focus:ring-border-subtle shadow-sm",ghost:"bg-transparent text-ink-secondary hover:text-ink-primary hover:bg-subtle/50 rounded-lg",danger:"bg-state-danger text-white hover:bg-red-700 shadow-sm hover:shadow-lg hover:-translate-y-[1px] focus:ring-red-500/40"};return E.jsxs("button",{className:`
        ${l}
        ${s[t]}
        ${c[e]}
        ${i}
      `,disabled:a||r,...u,children:[r&&E.jsx(Hn,{size:16,className:"animate-spin mr-2"}),!r&&o&&E.jsx("span",{className:"mr-2 opacity-90",children:o}),E.jsx("span",{className:r?"opacity-0":"opacity-100",children:n})]})},R5=({projects:n,onCreate:e,onUpdate:t,isLoading:r=!1})=>{const[o,i]=oe.useState(""),[a,u]=oe.useState(new Set),[l,s]=oe.useState(!1),[c,h]=oe.useState(void 0),[d,f]=oe.useState({status:"",priority:""}),[g]=oe.useState({key:"dueDate",direction:"asc"}),y=oe.useMemo(()=>n.filter(k=>{const I=k.name.toLowerCase().includes(o.toLowerCase())||(k.clientName||"").toLowerCase().includes(o.toLowerCase()),D=d.status?k.status===d.status:!0;return I&&D}).sort((k,I)=>{const D=new Date(k.dueDate||0).getTime(),V=new Date(I.dueDate||0).getTime();return g.direction==="asc"?D-V:V-D}),[n,o,d,g]),p=()=>{a.size===y.length&&y.length>0?u(new Set):u(new Set(y.map(k=>k.id)))},v=k=>{const I=new Set(a);I.has(k)?I.delete(k):I.add(k),u(I)},m=k=>{switch(k){case nr.DELIVERED:return"success";case nr.REVIEW:return"warning";case nr.IN_PROGRESS:return"ai";default:return"neutral"}},x=k=>{switch(k){case sr.URGENT:return"danger";case sr.HIGH:return"warning";case sr.NORMAL:return"ai";default:return"neutral"}};return E.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto space-y-8 font-sans text-ink-primary animate-enter",children:[E.jsx(M5,{isOpen:l,onClose:()=>s(!1),onSave:k=>{c&&t?t({...c,...k}):e&&e(k)},initialData:c}),E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-display font-semibold tracking-tight text-ink-primary",children:"Projects"}),E.jsx("p",{className:"text-ink-secondary mt-2 text-sm font-medium",children:"Manage active campaigns and production schedules."})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx(wn,{to:"/imports",children:E.jsx(_a,{variant:"secondary",size:"sm",leftIcon:E.jsx(ko,{size:14}),children:"Import"})}),E.jsx(_a,{variant:"primary",size:"sm",leftIcon:E.jsx(Gn,{size:14}),onClick:()=>{h(void 0),s(!0)},children:"New Project"})]})]}),E.jsxs("div",{className:"bg-surface rounded-2xl border border-border-subtle shadow-card overflow-hidden flex flex-col",children:[E.jsxs("div",{className:"p-6 border-b border-border-subtle flex items-center justify-between gap-4 bg-white",children:[E.jsxs("div",{className:"relative flex-1 max-w-md group",children:[E.jsx(Ol,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-ink-tertiary group-focus-within:text-primary transition-colors",size:16}),E.jsx("input",{className:"w-full pl-11 pr-10 py-3 bg-app/50 border border-border-subtle rounded-xl text-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 focus:bg-white transition-all placeholder-ink-tertiary font-medium text-ink-primary",placeholder:"Filter projects...",value:o,onChange:k=>i(k.target.value)}),o&&E.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-ink-tertiary hover:text-ink-primary transition-colors",children:E.jsx("div",{className:"bg-subtle rounded-full p-1 hover:bg-border-subtle transition-colors",children:E.jsx(Gn,{size:12,className:"rotate-45"})})})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"h-6 w-px bg-border-subtle"}),E.jsxs("div",{className:"relative flex items-center group",children:[E.jsx(y2,{size:14,className:"absolute left-3 text-ink-tertiary pointer-events-none group-hover:text-primary transition-colors"}),E.jsxs("select",{className:"bg-app/50 border border-border-subtle rounded-lg pl-9 pr-8 py-2 text-xs font-bold uppercase tracking-wide text-ink-secondary focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 focus:bg-white cursor-pointer hover:text-ink-primary transition-all appearance-none",value:d.status,onChange:k=>f({...d,status:k.target.value}),children:[E.jsx("option",{value:"",children:"All Status"}),Object.values(nr).map(k=>E.jsx("option",{value:k,children:k},k))]}),E.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-ink-tertiary",children:E.jsx("div",{className:"w-0 h-0 border-l-[3px] border-l-transparent border-r-[3px] border-r-transparent border-t-[4px] border-t-current opacity-60"})})]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-5 w-12 text-center",children:E.jsx("button",{onClick:p,className:"text-ink-tertiary hover:text-primary transition-colors p-1",children:a.size>0?E.jsx(ah,{size:18}):E.jsx(ch,{size:18})})}),E.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Project Name"}),E.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Status"}),E.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Owner"}),E.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Timeline"}),E.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Priority"}),E.jsx("th",{className:"px-6 py-5 text-right"})]})}),E.jsx("tbody",{className:"divide-y divide-border-subtle bg-surface",children:r?[...Array(5)].map((k,I)=>E.jsxs("tr",{className:"animate-pulse",children:[E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsx(Kt,{width:16,height:16,variant:"rectangular"})}),E.jsxs("td",{className:"px-6 py-5",children:[E.jsx(Kt,{width:180,height:20,className:"mb-2"}),E.jsx(Kt,{width:100,height:12})]}),E.jsx("td",{className:"px-6 py-5",children:E.jsx(Kt,{width:80,height:24,variant:"rounded"})}),E.jsx("td",{className:"px-6 py-5",children:E.jsx(Kt,{width:60,height:20})}),E.jsx("td",{className:"px-6 py-5",children:E.jsx(Kt,{width:100,height:20})}),E.jsx("td",{className:"px-6 py-5",children:E.jsx(Kt,{width:80,height:24,variant:"rounded"})}),E.jsx("td",{className:"px-6 py-5"})]},I)):y.map(k=>{const I=k.assignedToId?`User ${k.assignedToId.slice(0,4)}`:null,D=a.has(k.id);return E.jsxs("tr",{className:`group hover:bg-subtle/30 transition-all duration-200 relative ${D?"bg-primary-tint/30":""}`,children:[E.jsx("td",{className:"px-6 py-6 text-center",children:E.jsx("button",{onClick:()=>v(k.id),className:`transition-colors p-1 ${D?"text-primary":"text-border-hover hover:text-ink-secondary"}`,children:D?E.jsx(ah,{size:18}):E.jsx(ch,{size:18})})}),E.jsx("td",{className:"px-6 py-6",children:E.jsxs(wn,{to:`/projects/${k.id}`,className:"block",children:[E.jsx("div",{className:"font-semibold text-sm text-ink-primary group-hover:text-primary transition-colors tracking-tight",children:k.name}),E.jsx("div",{className:"text-xs text-ink-secondary font-medium mt-1",children:k.clientName})]})}),E.jsx("td",{className:"px-6 py-6",children:E.jsx(ol,{variant:m(k.status),children:k.status})}),E.jsx("td",{className:"px-6 py-6",children:I?E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-subtle flex items-center justify-center text-[9px] font-bold text-ink-secondary border border-border-subtle",children:I[0]}),E.jsx("span",{className:"text-xs text-ink-primary font-medium",children:"Owner"})]}):E.jsx("span",{className:"text-ink-tertiary text-xs",children:""})}),E.jsx("td",{className:"px-6 py-6",children:E.jsx("div",{className:"text-sm font-medium text-ink-primary",children:k.dueDate?new Date(k.dueDate).toLocaleDateString():""})}),E.jsx("td",{className:"px-6 py-6",children:E.jsx(ol,{variant:x(k.priority),children:k.priority})}),D&&E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-primary"}),E.jsx("td",{className:"px-6 py-6 text-right",children:E.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx(_a,{variant:"ghost",size:"sm",onClick:()=>{h(k),s(!0)},className:"h-8 px-2 text-[10px] uppercase font-bold",children:"Edit"}),E.jsx(wn,{to:`/projects/${k.id}`,children:E.jsx("div",{className:"p-2 text-ink-tertiary hover:text-primary hover:bg-subtle rounded-md transition-colors",children:E.jsx(Pl,{size:16})})})]})})]},k.id)})})]})})]})]})},Op=({children:n,className:e="",noPadding:t=!1,hoverable:r=!1})=>E.jsx("div",{className:`
        bg-surface 
        border border-border-subtle 
        rounded-2xl 
        shadow-card
        overflow-hidden
        transition-all duration-200
        ${r?"hover:-translate-y-[2px] hover:shadow-lg cursor-pointer":""}
        ${e}
      `,children:E.jsx("div",{className:t?"":"p-6",children:n})}),Lp=({timezone:n})=>{let e="",t=!1,r=!1;try{e=new Date().toLocaleTimeString("en-US",{timeZone:n,hour:"2-digit",minute:"2-digit",hour12:!1});const i=parseInt(e.split(":")[0]);t=i>=9&&i<18,r=i>=22||i<6}catch{e="UNK"}return E.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono font-bold tracking-tight bg-subtle/50 px-2 py-1 rounded-md border border-border-subtle",children:[E.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-state-success shadow-[0_0_6px_rgba(22,163,74,0.6)]":r?"bg-ink-tertiary":"bg-state-warning"}`}),E.jsx("span",{className:"text-ink-secondary",children:e})]})},P5=({freelancers:n,assignments:e=[],onCreate:t})=>{const[r,o]=oe.useState("grid"),[i,a]=oe.useState(""),u=oe.useMemo(()=>n.filter(l=>l.name.toLowerCase().includes(i.toLowerCase())),[n,i]);return E.jsxs("div",{className:"p-8 max-w-[2000px] mx-auto space-y-8 animate-enter pb-24 font-sans",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-display font-semibold tracking-tight text-ink-primary",children:"Roster"}),E.jsx("p",{className:"text-ink-secondary mt-2 text-sm font-medium",children:"Global talent index."})]}),E.jsx("div",{className:"flex gap-3",children:E.jsx(_a,{variant:"primary",leftIcon:E.jsx(Gn,{size:14}),onClick:t,children:"Add Talent"})})]}),E.jsxs("div",{className:"bg-surface p-3 rounded-xl flex flex-col xl:flex-row gap-4 xl:items-center justify-between sticky top-4 z-20 shadow-card border border-border-subtle backdrop-blur-md",children:[E.jsxs("div",{className:"relative w-full xl:w-96 group",children:[E.jsx(Ol,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-ink-tertiary group-focus-within:text-primary transition-colors",size:16}),E.jsx("input",{type:"text",placeholder:"Search by name or skill...",className:"w-full pl-11 pr-4 py-3 bg-subtle/30 border border-border-subtle rounded-xl focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm transition-all font-medium placeholder-ink-tertiary text-ink-primary outline-none",value:i,onChange:l=>a(l.target.value)})]}),E.jsx("div",{className:"flex items-center gap-2",children:E.jsxs("div",{className:"flex bg-subtle/50 p-1 rounded-xl border border-border-subtle",children:[E.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded-lg transition-all duration-200 ${r==="grid"?"bg-white shadow-sm text-ink-primary":"text-ink-tertiary hover:text-ink-secondary hover:bg-white/50"}`,children:E.jsx(Ad,{size:18})}),E.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded-lg transition-all duration-200 ${r==="list"?"bg-white shadow-sm text-ink-primary":"text-ink-tertiary hover:text-ink-secondary hover:bg-white/50"}`,children:E.jsx(T2,{size:18})})]})})]}),r==="grid"&&E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(l=>E.jsx(wn,{to:`/freelancers/${l.id}`,children:E.jsxs(Op,{hoverable:!0,className:"h-full flex flex-col p-6",children:[E.jsxs("div",{className:"flex justify-between items-start mb-5",children:[E.jsx("div",{className:"relative",children:E.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-sm ring-1 ring-black/5",children:E.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500"})})}),E.jsx("div",{className:"text-right flex flex-col items-end gap-1",children:E.jsx(Lp,{timezone:l.timezone})})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"font-display font-semibold text-lg text-ink-primary leading-tight hover:text-primary transition-colors tracking-tight",children:l.name}),E.jsx("p",{className:"text-xs text-ink-secondary font-medium mt-1 uppercase tracking-wide",children:l.role})]}),E.jsx("div",{className:"flex flex-wrap gap-1.5 mt-auto",children:(l.skills||[]).slice(0,3).map(s=>E.jsx("span",{className:"px-2 py-1 bg-subtle text-ink-secondary text-[9px] font-bold uppercase tracking-wider rounded border border-border-subtle",children:s},s))}),E.jsxs("div",{className:"mt-5 pt-4 border-t border-border-subtle flex justify-between items-center",children:[E.jsxs("span",{className:"text-[10px] font-mono font-semibold text-ink-primary uppercase tracking-wider",children:[l.currency==="USD"?"$":l.currency,l.rate,E.jsx("span",{className:"text-ink-tertiary text-[9px]",children:"/Day"})]}),E.jsx(ol,{variant:l.status===fr.ACTIVE?"success":"neutral",children:l.status})]})]})},l.id))}),r==="list"&&E.jsx(Op,{noPadding:!0,className:"overflow-hidden",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Talent"}),E.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Local Time"}),E.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Rate"}),E.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Status"})]})}),E.jsx("tbody",{className:"divide-y divide-border-subtle bg-surface",children:u.map(l=>E.jsxs("tr",{className:"group hover:bg-subtle/30 transition-colors",children:[E.jsx("td",{className:"px-8 py-5",children:E.jsxs(wn,{to:`/freelancers/${l.id}`,className:"flex items-center gap-4",children:[E.jsx("img",{src:l.avatar,className:"w-10 h-10 rounded-xl grayscale group-hover:grayscale-0 transition-all border border-border-subtle object-cover"}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-semibold text-ink-primary tracking-tight group-hover:text-primary transition-colors",children:l.name}),E.jsx("div",{className:"text-[10px] text-ink-secondary uppercase tracking-wide font-medium",children:l.role})]})]})}),E.jsx("td",{className:"px-8 py-5",children:E.jsx(Lp,{timezone:l.timezone})}),E.jsx("td",{className:"px-8 py-5",children:E.jsxs("div",{className:"text-xs font-mono font-medium text-ink-primary tracking-tight",children:[l.currency==="USD"?"$":l.currency,l.rate]})}),E.jsx("td",{className:"px-8 py-5",children:E.jsx(ol,{variant:l.status===fr.ACTIVE?"success":"neutral",children:l.status})})]},l.id))})]})})]})},j5=["After Effects","Premiere Pro","Figma","Photoshop","Illustrator","Cinema 4D","Blender","DaVinci Resolve","Copywriting","SEO","React","Node.js","Python","Marketing Strategy","Brand Identity"],D5=({freelancers:n,projects:e,assignments:t,onUpdate:r,onDelete:o})=>{const{id:i}=Ed(),a=Es(),u=n.find(k=>k.id===i),[l,s]=oe.useState(""),[c,h]=oe.useState(!1);if(!u)return E.jsx("div",{children:"Freelancer not found"});const d=t.filter(k=>k.freelancerId===u.id),f=d.filter(k=>new Date(k.endDate)>=new Date),g=d.filter(k=>new Date(k.endDate)<new Date),y=k=>{k.preventDefault(),l.trim()&&!u.skills.includes(l.trim())&&(r({...u,skills:[...u.skills,l.trim()]}),s(""))},p=k=>{r({...u,skills:u.skills.filter(I=>I!==k)})},v=()=>{r({...u,status:u.status===fr.ACTIVE?fr.INACTIVE:fr.ACTIVE})},m=async()=>{if(u.bio){h(!0);try{const k=new ji({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),I=await Ns(k,{model:"gemini-2.0-flash-exp",contents:`Rewrite this freelancer bio to be more professional, punchy, and highlight key strengths. Bio: "${u.bio}"`});r({...u,bio:I.text})}catch(k){console.error("Failed to polish bio",k)}finally{h(!1)}}},x=async()=>{window.confirm("Are you sure you want to delete this freelancer? This action cannot be undone.")&&(await o(u.id),a("/freelancers"))};return E.jsxs("div",{className:"p-8 max-w-6xl mx-auto animate-in fade-in duration-500 font-sans text-ink pb-24",children:[E.jsxs("div",{className:"mb-12 border-b border-mist pb-8",children:[E.jsxs(wn,{to:"/freelancers",className:"inline-flex items-center text-[10px] font-bold text-pencil hover:text-ink mb-8 transition-colors uppercase tracking-widest",children:[E.jsx(r2,{size:10,className:"mr-2"})," Roster Index"]}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-8",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("div",{className:"w-20 h-20 bg-white border border-mist p-1 rounded-2xl overflow-hidden shadow-sm",children:E.jsx("img",{src:u.avatar,className:"w-full h-full object-cover grayscale rounded-xl"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-semibold text-ink tracking-tight mb-2",children:u.name}),E.jsxs("div",{className:"flex items-center gap-3 text-sm text-pencil",children:[E.jsx("span",{className:"font-semibold text-sm",children:u.role}),E.jsx("span",{className:"text-mist",children:"/"}),E.jsx("span",{className:`px-3 py-1 border text-xs font-bold uppercase tracking-wide rounded-lg ${u.status===fr.ACTIVE?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-gray-50 text-gray-500 border-mist"}`,children:u.status})]})]})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:v,className:"px-5 py-2.5 bg-white border border-mist text-ink hover:border-ink hover:bg-gray-50 hover:shadow-md transition-all duration-200 text-xs font-bold uppercase tracking-wide rounded-xl shadow-sm active:scale-[0.98]",children:u.status===fr.ACTIVE?"Deactivate":"Activate"}),E.jsx("button",{className:"px-5 py-2.5 bg-ink text-white border border-ink hover:bg-black hover:shadow-lg hover:-translate-y-[1px] transition-all duration-200 text-xs font-bold uppercase tracking-wide rounded-xl shadow-sm active:scale-[0.98]",children:"Edit Profile"}),E.jsx("button",{onClick:x,className:"px-3.5 py-2.5 bg-white border border-rose-200 text-rose-600 hover:bg-rose-50 hover:border-rose-300 hover:shadow-md transition-all duration-200 rounded-xl shadow-sm active:scale-[0.98]",title:"Delete Freelancer",children:E.jsx(Ll,{size:16})})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[E.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 border-b border-mist pb-3",children:"Details"}),E.jsxs("div",{className:"space-y-5 text-xs font-medium",children:[E.jsxs("div",{className:"flex items-center justify-between group",children:[E.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Email"}),E.jsx("span",{className:"text-ink font-bold",children:u.contactInfo})]}),u.phone&&E.jsxs("div",{className:"flex items-center justify-between group",children:[E.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Phone"}),E.jsx("span",{className:"text-ink font-bold",children:u.phone})]}),E.jsxs("div",{className:"flex items-center justify-between group",children:[E.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Zone"}),E.jsx("span",{className:"text-ink font-bold",children:u.timezone})]}),E.jsxs("div",{className:"flex items-center justify-between group",children:[E.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Rate"}),E.jsxs("span",{className:"text-ink font-bold",children:[u.rate," ",u.currency,"/day"]})]})]})]}),E.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[E.jsxs("div",{className:"flex justify-between items-center mb-5 border-b border-mist pb-3",children:[E.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest",children:"Bio"}),u.bio&&E.jsxs("button",{onClick:m,disabled:c,className:"text-[10px] text-indigo-600 font-bold flex items-center gap-1 hover:text-indigo-800 transition-colors uppercase tracking-wide",children:[c?E.jsx(Hn,{size:12,className:"animate-spin"}):E.jsx(Nr,{size:12}),"Refine"]})]}),E.jsx("p",{className:"text-sm text-ink leading-loose font-normal",children:u.bio||E.jsx("span",{className:"text-pencil italic",children:"No bio available."})})]}),E.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[E.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-5 border-b border-mist pb-3",children:"Skills"}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.skills.map(k=>E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-canvas text-ink text-[10px] font-bold border border-mist uppercase tracking-wide rounded-lg",children:[k,E.jsx("button",{onClick:()=>p(k),className:"text-pencil hover:text-rose-500 transition-colors ml-1",children:E.jsx(Mn,{size:10})})]},k))}),E.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[E.jsxs("div",{className:"flex-1 relative",children:[E.jsx("input",{type:"text",list:"system-skills",value:l,onChange:k=>s(k.target.value),placeholder:"ADD SKILL...",className:"w-full px-4 py-2.5 text-[10px] border border-mist rounded-xl focus:border-ink outline-none transition-all bg-white placeholder-pencil font-bold uppercase tracking-wide"}),E.jsx("datalist",{id:"system-skills",children:j5.map(k=>E.jsx("option",{value:k},k))})]}),E.jsx("button",{type:"submit",disabled:!l,className:"px-3 bg-ink text-white hover:bg-black disabled:opacity-50 transition-colors rounded-xl",children:E.jsx(Gn,{size:16})})]})]})]}),E.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[E.jsxs("div",{className:"bg-white border border-mist rounded-3xl overflow-hidden shadow-sm",children:[E.jsx("div",{className:"p-8 border-b border-mist bg-canvas/30",children:E.jsx("h3",{className:"font-semibold text-ink text-lg tracking-tight",children:"Active & Upcoming"})}),f.length>0?E.jsx("div",{className:"divide-y divide-mist",children:f.map(k=>{const I=e.find(D=>D.id===k.projectId);return E.jsxs("div",{className:"p-6 hover:bg-canvas/50 transition-colors flex justify-between items-center group",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-semibold text-ink mb-1 text-base tracking-tight",children:I==null?void 0:I.name}),E.jsxs("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest",children:[I==null?void 0:I.clientName,"  ",k.role]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-xs font-bold text-ink tabular-nums font-mono mb-1",children:[new Date(k.startDate).toLocaleDateString()," - ",new Date(k.endDate).toLocaleDateString()]}),E.jsx("div",{className:"text-[10px] text-indigo-600 font-bold bg-indigo-50 inline-block px-2.5 py-0.5 border border-indigo-100 uppercase tracking-widest rounded-full",children:"100% Load"})]})]},k.id)})}):E.jsxs("div",{className:"p-16 text-center text-pencil text-sm flex flex-col items-center opacity-60",children:[E.jsx("div",{className:"w-12 h-12 bg-canvas flex items-center justify-center mb-4 border border-mist text-pencil rounded-full",children:E.jsx(jl,{size:20})}),E.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Available for booking"})]})]}),g.length>0&&E.jsxs("div",{className:"bg-white border border-mist opacity-60 hover:opacity-100 transition-opacity rounded-3xl overflow-hidden",children:[E.jsx("div",{className:"p-8 border-b border-mist bg-canvas/30",children:E.jsx("h3",{className:"font-bold text-pencil text-xs uppercase tracking-widest",children:"Archive"})}),E.jsx("div",{className:"divide-y divide-mist",children:g.map(k=>{const I=e.find(D=>D.id===k.projectId);return E.jsxs("div",{className:"p-6 flex justify-between items-center hover:bg-canvas/50 transition-colors",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-pencil group-hover:text-ink transition-colors",children:I==null?void 0:I.name}),E.jsx("div",{className:"text-[10px] text-pencil/70 uppercase tracking-wide font-medium",children:I==null?void 0:I.clientName})]}),E.jsx("div",{className:"text-[10px] text-pencil font-bold tabular-nums font-mono",children:new Date(k.endDate).toLocaleDateString()})]},k.id)})})]})]})]})]})},O5=({items:n,onAdd:e,onRemove:t})=>{const[r,o]=oe.useState(""),[i,a]=oe.useState(!1),[u,l]=oe.useState("idle"),[s,c]=oe.useState(""),h=oe.useRef(null),d=async p=>{p.preventDefault();const v=r.trim();if(v){a(!1),l("analyzing"),c("Scanning URL...");try{await e(v,"url")}finally{o(""),l("idle"),c("")}}},f=async p=>{if(p.target.files&&p.target.files[0]){const v=p.target.files[0];a(!1),l("uploading"),c(`Ingesting ${v.name}...`);const m=new FileReader;m.onload=async x=>{var I;const k=(I=x.target)==null?void 0:I.result;l("vectorizing"),c("Updating Neural Weights...");try{await e(k,"file",v)}finally{l("idle"),c("")}},m.readAsDataURL(v)}},g=p=>p.startsWith("data:image")||p.match(/\.(jpeg|jpg|gif|png|webp)$/i)?E.jsx(Dl,{size:24,className:"text-purple-500"}):p.startsWith("data:video")||p.includes("youtube")||p.includes("vimeo")||p.match(/\.(mp4|mov)$/i)?E.jsx(So,{size:24,className:"text-rose-500"}):p.startsWith("data:application/pdf")?E.jsx(li,{size:24,className:"text-red-500"}):E.jsx(Ag,{size:24,className:"text-blue-500"}),y=p=>{var v;if(p.startsWith("data:image")||p.match(/\.(jpeg|jpg|gif|png|webp)$/i))return p;if(p.includes("youtube.com/watch?v=")){const m=(v=p.split("v=")[1])==null?void 0:v.split("&")[0];if(m)return`https://img.youtube.com/vi/${m}/0.jpg`}return null};return E.jsx("div",{className:"space-y-6",children:E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[!i&&u==="idle"&&E.jsxs("button",{onClick:()=>a(!0),className:"aspect-video bg-canvas rounded-2xl border border-dashed border-mist flex flex-col items-center justify-center text-pencil hover:text-ink hover:border-pencil hover:bg-white transition-all group",children:[E.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-mist flex items-center justify-center mb-3 shadow-sm group-hover:scale-110 transition-transform duration-300",children:E.jsx(Gn,{size:18})}),E.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Add Asset"})]}),i&&E.jsxs("div",{className:"col-span-1 md:col-span-2 aspect-video bg-white rounded-2xl border border-mist shadow-sm p-6 flex flex-col justify-between animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsxs("span",{className:"text-[10px] font-bold text-ink uppercase tracking-widest flex items-center gap-2",children:[E.jsx(Po,{size:12,className:"text-indigo-600"})," Add Knowledge"]}),E.jsx("button",{onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},className:"text-[9px] bg-canvas hover:bg-mist text-ink px-3 py-1.5 rounded-lg font-bold uppercase tracking-wide transition-colors",children:"Upload File"})]}),E.jsx("input",{type:"url",placeholder:"Paste URL...",className:"w-full px-4 py-3 border border-mist rounded-xl text-xs focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all placeholder-pencil font-medium bg-canvas/30",value:r,onChange:p=>o(p.target.value),autoFocus:!0,onKeyDown:p=>p.key==="Enter"&&d(p)}),E.jsx("input",{type:"file",ref:h,className:"hidden",onChange:f}),E.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[E.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-[10px] font-bold uppercase tracking-widest text-pencil hover:text-ink",children:"Cancel"}),E.jsx("button",{onClick:d,disabled:!r,className:"px-4 py-2 bg-ink text-white rounded-lg text-[10px] font-bold uppercase tracking-widest hover:bg-black transition-colors shadow-sm disabled:opacity-50",children:"Scan"})]})]}),u!=="idle"&&E.jsxs("div",{className:"aspect-video bg-white rounded-2xl border border-indigo-100 flex flex-col items-center justify-center p-6 relative overflow-hidden shadow-sm",children:[E.jsx("div",{className:"absolute inset-0 bg-indigo-50/30 animate-pulse"}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u==="uploading"?E.jsx(ys,{size:24,className:"text-indigo-600 animate-bounce mb-3"}):E.jsx(Nd,{size:24,className:"text-indigo-600 animate-pulse mb-3"}),E.jsx("div",{className:"text-[9px] font-bold text-indigo-900 uppercase tracking-widest",children:u==="uploading"?"Ingesting":"Thinking"}),E.jsx("div",{className:"text-[9px] text-indigo-600/70 mt-1.5 text-center truncate w-full px-2 font-medium",children:s})]}),E.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-indigo-500 animate-[progress_2s_ease-in-out_infinite] w-full"})]}),n.map((p,v)=>{const m=y(p),x=p.startsWith("data:"),k=x?"Uploaded Asset":new URL(p).hostname;return E.jsxs("div",{className:"group relative aspect-video bg-white rounded-2xl overflow-hidden border border-mist shadow-sm hover:shadow-soft transition-all duration-300 transform hover:-translate-y-1",children:[E.jsxs("div",{className:"absolute top-3 left-3 z-10 flex items-center gap-1.5 bg-white/90 backdrop-blur px-2 py-1 rounded-lg border border-gray-100 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),E.jsx("span",{className:"text-[8px] font-bold text-gray-700 uppercase tracking-widest",children:"Indexed"})]}),m?E.jsx("img",{src:m,alt:"Reference",className:"w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-500"}):E.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-canvas group-hover:bg-white transition-colors relative",children:[g(p),E.jsx("span",{className:"text-[10px] text-pencil mt-3 font-medium max-w-[80%] truncate",children:k})]}),E.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors flex items-start justify-end p-3 opacity-0 group-hover:opacity-100",children:E.jsx("button",{onClick:()=>t(p),className:"p-2 bg-white text-pencil hover:text-rose-600 rounded-lg shadow-sm border border-mist transition-colors",children:E.jsx(Ll,{size:14})})}),!x&&E.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-3 right-3 p-2 bg-white/95 hover:bg-white text-pencil hover:text-indigo-600 rounded-lg shadow-sm border border-mist opacity-0 group-hover:opacity-100 transition-all text-[9px] flex items-center gap-1.5 font-bold uppercase tracking-widest",children:["Open ",E.jsx(m2,{size:10})]})]},v)})]})})};class L5{constructor(){this.chunks=[]}addChunks(e){this.chunks=[...this.chunks,...e]}async search(e,t=5){const r=e.toLowerCase().split(" ");return this.chunks.map(i=>{let a=0;const u=i.text.toLowerCase();return r.forEach(l=>{u.includes(l)&&(a+=1)}),(i.tags.includes("tone")||i.tags.includes("voice"))&&(a*=1.5),i.tags.includes("external_truth")&&(a*=1.2),i.tags.includes("lore")&&(a*=1.3),{...i,relevanceScore:a}}).filter(i=>(i.relevanceScore||0)>0).sort((i,a)=>(a.relevanceScore||0)-(i.relevanceScore||0)).slice(0,t)}clear(){this.chunks=[]}}const Sa=new L5,a1={async ingestFile(n){return n.type.startsWith("image/")?this.ingestImage(n):new Promise((e,t)=>{const r=new FileReader;r.onload=async o=>{var u;const i=(u=o.target)==null?void 0:u.result,a=this.chunkContent(i,n.name,["file","upload"]);Sa.addChunks(a),e({id:`file-${Date.now()}`,type:"file",title:n.name,url:"",originalContent:i,summary:`Imported document: ${n.name} (${Math.round(n.size/1024)} KB)`,status:"indexed",chunks:a,createdAt:new Date().toISOString()})},r.onerror=o=>t(o),r.readAsText(n)})},async ingestURL(n){let e="url";n.includes("youtube.com")||n.includes("youtu.be")?e="youtube":(n.includes("wikipedia")||n.includes("fandom.com"))&&(e="wiki");let t="",r="";if(await new Promise(a=>setTimeout(a,1500)),e==="youtube")r="Transcript: "+(n.length>30?n.slice(0,30)+"...":n),t=`[00:00] Welcome back to the channel. Today we are analyzing the core themes of this project.
[00:15] Key takeaway: The visual style must be high-contrast and neon.
[00:45] Lore Detail: The protagonist, 'Unit 734', cannot speak but communicates via radio waves.
[01:20] IMPORTANT: Never use blue light in the enemy base scenes. Only red.`;else if(e==="wiki")r="Wiki Entry: Lore Database",t=`History and Origins
The faction known as "The Silenced" emerged in 2040.
They are characterized by their lack of digital footprints.

Powers & Abilities
- Signal Jamming: Blocks all wifi within 50m.
- Stealth: Can turn invisible to thermal cameras.

Weaknesses
- Analog tech: They cannot hack mechanical devices.`;else{try{r="External Resource: "+new URL(n).hostname}catch{r="External Link"}t=`Strategic Overview extracted from ${n}:
1. Focus on speed and efficiency.
2. Target audience is Gen Z gamers.
3. Key Keywords: Glitch, Hype, Drop, Rare.
4. Avoid corporate speak.`}const o=e==="wiki"?["external_truth","lore"]:["general","context"],i=this.chunkContent(t,n,o);return Sa.addChunks(i),{id:`source-${Date.now()}-${Math.floor(Math.random()*1e3)}`,type:e,title:r,url:n,originalContent:t,summary:`AI Analysis: Extracted ${i.length} chunks from ${e}.`,status:"indexed",chunks:i,createdAt:new Date().toISOString()}},async ingestImage(n){const e=await this.fileToBase64(n),o=(await new ji({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}).models.generateContent({model:"gemini-2.0-flash-exp",contents:[{text:"Describe this image in detail. If it contains text, extract and structure it."},{inlineData:{mimeType:n.type,data:e}}]})).text||"No analysis generated.",i=this.chunkContent(o,n.name,["image","analysis"]);return Sa.addChunks(i),{id:`img-${Date.now()}`,type:"file",title:n.name,url:"",originalContent:o,summary:`AI Image Analysis of ${n.name}`,status:"indexed",chunks:i,createdAt:new Date().toISOString()}},chunkContent(n,e,t=["general"]){return n.split(`

`).flatMap(o=>o.length>500?o.match(/.{1,500}/g)||[]:[o]).map((o,i)=>({id:`chunk-${Date.now()}-${i}`,sourceId:e,text:o.trim(),tags:t})).filter(o=>o.text.length>0)},fileToBase64(n){return new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>{const i=r.result.split(",")[1];e(i)},r.onerror=o=>t(o)})}},F5={async validate(n,e){if(!n)return{hasViolation:!1,violations:[]};try{const t=new ji({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),r=`
      You are a Continuity Editor. Check the following generated text against these Constraints (Context).
      
      CONSTRAINTS / TRUTH:
      ${e.map(a=>`- ${a}`).join(`
`)}
      
      TEXT TO CHECK:
      "${n}"
      
      Task: Identify if any part of the text contradicts the constraints or established truth.
      Return valid JSON (no markdown):
      {
        "hasViolation": boolean,
        "violations": [
          { "quote": "exact substring from text", "rule": "which rule was broken", "correction": "suggestion" }
        ]
      }
      `;let i=(await Ns(t,{model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}})).text;return i?(i=i.replace(/```json/g,"").replace(/```/g,"").trim(),JSON.parse(i)):{hasViolation:!1,violations:[]}}catch(t){return console.error("Guard failed",t),{hasViolation:!1,violations:[]}}}},B5={async generate(n,e,t){const o=(await Sa.search(n,8)).map((c,h)=>`[Source ${h+1}]: ${c.text}`).join(`

`),i=e.map(c=>`[Summary of ${c.title}]: ${c.summary}`).join(`
`),u=`
    You are a Creative Assistant. Write content based on the user's prompt using the provided Source Material.
    
    CRITICAL RULES:
    1. PRIORITIZE the "Source Material" above all else.
    2. If you use a specific fact from a Source, append a citation like [[Source X]].
    3. Adhere to Tone/Style: ${(t.tags||[]).join(", ")}.
    4. Do NOT hallucinate facts not found in the source if it concerns specific Lore.
    
    SOURCE MATERIAL (RAG CONTEXT):
    ${o}
    
    HIGH-LEVEL SUMMARIES:
    ${i}
    `;return(await new ji({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}).models.generateContent({model:"gemini-2.0-flash-exp",contents:[{role:"user",parts:[{text:u+`

USER PROMPT: ${n}`}]}]})).text}};var oa,U5=new Uint8Array(16);function z5(){if(!oa&&(oa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!oa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oa(U5)}const V5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $5(n){return typeof n=="string"&&V5.test(n)}var ln=[];for(var vu=0;vu<256;++vu)ln.push((vu+256).toString(16).substr(1));function H5(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(ln[n[e+0]]+ln[n[e+1]]+ln[n[e+2]]+ln[n[e+3]]+"-"+ln[n[e+4]]+ln[n[e+5]]+"-"+ln[n[e+6]]+ln[n[e+7]]+"-"+ln[n[e+8]]+ln[n[e+9]]+"-"+ln[n[e+10]]+ln[n[e+11]]+ln[n[e+12]]+ln[n[e+13]]+ln[n[e+14]]+ln[n[e+15]]).toLowerCase();if(!$5(t))throw TypeError("Stringified UUID is invalid");return t}function q5(n,e,t){n=n||{};var r=n.random||(n.rng||z5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return H5(r)}const l1=oe.createContext(void 0),G5=({children:n})=>{const[e,t]=oe.useState([]),r=oe.useCallback(s=>{t(c=>c.filter(h=>h.id!==s))},[]),o=oe.useCallback((s,c,h=5e3)=>{const d=q5();t(f=>[...f,{id:d,message:s,type:c,duration:h}]),h>0&&setTimeout(()=>{r(d)},h)},[r]),i=oe.useCallback((s,c)=>o(s,"success",c),[o]),a=oe.useCallback((s,c)=>o(s,"error",c),[o]),u=oe.useCallback((s,c)=>o(s,"info",c),[o]),l=oe.useCallback((s,c)=>o(s,"warning",c),[o]);return E.jsx(l1.Provider,{value:{toasts:e,addToast:o,removeToast:r,success:i,error:a,info:u,warning:l},children:n})},jo=()=>{const n=oe.useContext(l1);if(!n)throw new Error("useToast must be used within a ToastProvider");return n},W5=({sources:n,onAddSource:e,onRemoveSource:t})=>{const[r,o]=oe.useState(""),[i,a]=oe.useState(!1),[u,l]=oe.useState(!1),[s,c]=oe.useState(""),h=oe.useRef(null),d=jo(),f=async v=>{if(v.preventDefault(),!!r){a(!0),c("Scanning...");try{const m=await a1.ingestURL(r);e(m),o(""),d.success("URL ingested successfully")}catch(m){console.error(m),d.error("Failed to ingest URL. Ensure it is accessible.")}finally{a(!1),c("")}}},g=async v=>{a(!0),c("Uploading...");try{const x=(await dt.assets.upload(v)).data;c("Indexing...");const k=await dt.knowledge.createFromAsset("global",x.id,x);e(k.data),d.success("File ingested and indexed")}catch(m){const x=m instanceof Error?m.message:"Unknown error";d.error(`Failed to ingest file: ${x}`),console.error(m)}finally{a(!1),c("")}},y=async v=>{v.preventDefault(),v.stopPropagation(),l(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&g(v.dataTransfer.files[0])},p=v=>{switch(v){case"youtube":return{icon:$2,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",label:"Video"};case"wiki":return{icon:i2,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",label:"Wiki"};case"file":return{icon:li,color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100",label:"Doc"};default:return{icon:C2,color:"text-sky-600",bg:"bg-sky-50",border:"border-sky-100",label:"Web"}}};return E.jsxs("div",{className:"h-full flex flex-col bg-white",children:[E.jsxs("div",{className:"p-5 border-b border-mist bg-white relative z-10",children:[E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("div",{className:"relative flex-1 group",children:[E.jsx("input",{type:"text",className:"block w-full pl-10 pr-10 py-3 bg-canvas border border-mist rounded-xl text-xs text-ink placeholder-pencil/60 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/5 transition-all outline-none font-medium",placeholder:"Feed URL to Neural Net...",value:r,onChange:v=>o(v.target.value),onKeyDown:v=>v.key==="Enter"&&f(v)}),E.jsx(Ng,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-pencil group-focus-within:text-indigo-500 transition-colors"}),r&&E.jsx("button",{onClick:f,disabled:i,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-sm disabled:opacity-50",children:i?E.jsx(Hn,{size:12,className:"animate-spin"}):E.jsx(Gn,{size:12,strokeWidth:3})})]}),E.jsx("button",{onClick:()=>{var v;return(v=h.current)==null?void 0:v.click()},onDragEnter:()=>l(!0),disabled:i,className:`px-4 rounded-xl border flex items-center justify-center transition-all gap-2 ${u?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-mist bg-canvas text-pencil hover:border-indigo-300 hover:text-indigo-600"}`,title:"Upload File",children:i?E.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-indigo-600 uppercase tracking-wide",children:[E.jsx(Hn,{size:12,className:"animate-spin"})," ",s]}):E.jsx(ys,{size:16})})]}),E.jsx("input",{type:"file",ref:h,className:"hidden",onChange:v=>{var m;return((m=v.target.files)==null?void 0:m[0])&&g(v.target.files[0])},accept:".txt,.md,.json,.csv,.js,.ts,.html,.pdf,.png,.jpg,.jpeg"}),u&&E.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/95 backdrop-blur-sm flex flex-col items-center justify-center border-2 border-indigo-500 border-dashed m-3 rounded-lg shadow-lg",onDragLeave:()=>l(!1),onDragOver:v=>v.preventDefault(),onDrop:y,children:[E.jsx(ys,{size:32,className:"text-indigo-600 mb-3 animate-bounce pointer-events-none"}),E.jsx("p",{className:"text-xs font-bold text-indigo-900 pointer-events-none uppercase tracking-widest",children:"Drop to Ingest"})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-3 bg-canvas/30",children:[n.length===0&&E.jsxs("div",{className:"text-center py-20 opacity-60",children:[E.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 border border-mist shadow-sm",children:E.jsx(Nd,{size:20,className:"text-pencil"})}),E.jsx("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest",children:"Context Empty"}),E.jsx("p",{className:"text-[10px] text-pencil/70 mt-1 max-w-[150px] mx-auto leading-relaxed font-medium",children:"System awaits intelligence input."})]}),n.map(v=>{const m=p(v.type),x=m.icon;return E.jsxs("div",{className:"group relative bg-white border border-mist p-4 rounded-2xl hover:shadow-soft hover:border-indigo-200 transition-all duration-300",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-lg border ${m.bg} ${m.border} ${m.color}`,children:[E.jsx(x,{size:12}),E.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:m.label})]}),E.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("button",{onClick:()=>t(v.id),className:"text-pencil hover:text-rose-500 transition-colors",children:E.jsx(Ll,{size:14})})})]}),E.jsx("div",{className:"font-semibold text-sm text-ink leading-tight mb-2 line-clamp-1 tracking-tight",title:v.title,children:v.title}),E.jsx("div",{className:"text-[10px] text-pencil font-medium line-clamp-2 leading-relaxed bg-canvas/50 p-2.5 rounded-xl border border-transparent group-hover:border-mist transition-colors",children:v.summary}),v.status==="indexed"&&E.jsx("div",{className:"absolute top-4 right-4 text-emerald-500",title:"Indexed",children:E.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"})})]},v.id)})]})]})},Y5=({project:n,onUpdate:e})=>{var f,g;const[t,r]=oe.useState(""),[o,i]=oe.useState(""),[a,u]=oe.useState(""),l=y=>{y.preventDefault(),t.trim()&&(e({toneAttributes:[...n.toneAttributes||[],t.trim()]}),r(""))},s=y=>{e({toneAttributes:(n.toneAttributes||[]).filter(p=>p!==y)})},c=y=>{var p,v;y.preventDefault(),o.trim()&&(e({brandGuidelines:{...n.brandGuidelines,dos:[...((p=n.brandGuidelines)==null?void 0:p.dos)||[],o.trim()],donts:((v=n.brandGuidelines)==null?void 0:v.donts)||[]}}),i(""))},h=y=>{var p,v;y.preventDefault(),a.trim()&&(e({brandGuidelines:{...n.brandGuidelines,dos:((p=n.brandGuidelines)==null?void 0:p.dos)||[],donts:[...((v=n.brandGuidelines)==null?void 0:v.donts)||[],a.trim()]}}),u(""))},d=(y,p)=>{const v=n.brandGuidelines||{dos:[],donts:[]};e({brandGuidelines:{...v,[y]:v[y].filter(m=>m!==p)}})};return E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[E.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[E.jsx(Id,{size:14,className:"text-indigo-600"})," Tone & Atmosphere"]}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[(n.toneAttributes||[]).map(y=>E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white text-ink text-xs font-semibold rounded-lg border border-mist shadow-sm",children:[y,E.jsx("button",{onClick:()=>s(y),className:"text-pencil hover:text-rose-500 transition-colors",children:E.jsx(Mn,{size:10})})]},y)),(n.toneAttributes||[]).length===0&&E.jsx("span",{className:"text-xs text-pencil italic font-medium",children:"No tone keywords defined."})]}),E.jsxs("form",{onSubmit:l,className:"relative group",children:[E.jsx("input",{type:"text",value:t,onChange:y=>r(y.target.value),placeholder:"Add keyword (e.g. 'Optimistic')",className:"w-full pl-4 pr-10 py-3 bg-canvas/50 border border-mist rounded-xl text-xs font-medium outline-none focus:border-indigo-500 focus:bg-white transition-all placeholder-pencil/60"}),E.jsx("button",{type:"submit",disabled:!t,className:"absolute right-2 top-2 p-1.5 text-pencil hover:text-indigo-600 disabled:opacity-0 transition-all",children:E.jsx(Gn,{size:14})})]})]}),E.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[E.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[E.jsx(z2,{size:14,className:"text-emerald-600"})," Brand Guardrails"]}),E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[E.jsx(U2,{size:12,className:"text-emerald-500"}),E.jsx("span",{className:"text-[10px] font-bold text-ink uppercase tracking-wide",children:"Do's"})]}),E.jsx("ul",{className:"space-y-2 mb-3",children:(((f=n.brandGuidelines)==null?void 0:f.dos)||[]).map((y,p)=>E.jsxs("li",{className:"text-xs text-ink font-medium flex items-start gap-3 group bg-emerald-50/50 p-2 rounded-lg border border-transparent hover:border-emerald-100 transition-colors",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-1.5 flex-shrink-0"}),E.jsx("span",{className:"flex-1 leading-relaxed",children:y}),E.jsx("button",{onClick:()=>d("dos",y),className:"text-pencil hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:E.jsx(Mn,{size:12})})]},p))}),E.jsxs("form",{onSubmit:c,className:"relative",children:[E.jsx("input",{type:"text",value:o,onChange:y=>i(y.target.value),placeholder:"Add a required element...",className:"w-full pl-3 pr-10 py-2 bg-canvas/50 border border-transparent hover:border-mist rounded-lg text-xs font-medium outline-none focus:border-emerald-500 focus:bg-white transition-all placeholder-pencil/50"}),E.jsx("button",{type:"submit",disabled:!o,className:"absolute right-1 top-1 p-1 text-pencil hover:text-emerald-600 disabled:opacity-0 transition-all",children:E.jsx(Gn,{size:14})})]})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[E.jsx(B2,{size:12,className:"text-rose-500"}),E.jsx("span",{className:"text-[10px] font-bold text-ink uppercase tracking-wide",children:"Don'ts"})]}),E.jsx("ul",{className:"space-y-2 mb-3",children:(((g=n.brandGuidelines)==null?void 0:g.donts)||[]).map((y,p)=>E.jsxs("li",{className:"text-xs text-ink font-medium flex items-start gap-3 group bg-rose-50/50 p-2 rounded-lg border border-transparent hover:border-rose-100 transition-colors",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-400 mt-1.5 flex-shrink-0"}),E.jsx("span",{className:"flex-1 leading-relaxed",children:y}),E.jsx("button",{onClick:()=>d("donts",y),className:"text-pencil hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:E.jsx(Mn,{size:12})})]},p))}),E.jsxs("form",{onSubmit:h,className:"relative",children:[E.jsx("input",{type:"text",value:a,onChange:y=>u(y.target.value),placeholder:"Add a restriction...",className:"w-full pl-3 pr-10 py-2 bg-canvas/50 border border-transparent hover:border-mist rounded-lg text-xs font-medium outline-none focus:border-rose-500 focus:bg-white transition-all placeholder-pencil/50"}),E.jsx("button",{type:"submit",disabled:!a,className:"absolute right-1 top-1 p-1 text-pencil hover:text-rose-600 disabled:opacity-0 transition-all",children:E.jsx(Gn,{size:14})})]})]})]})]})]})},K5=({item:n,onClose:e,onUpdate:t,onDelete:r})=>{const[o,i]=oe.useState(n),[a,u]=oe.useState(""),[l,s]=oe.useState(""),c=()=>{t(o),e()},h=f=>{f.preventDefault(),a.trim()&&(i({...o,tags:[...o.tags,a.trim()]}),u(""))},d=f=>{f.preventDefault(),l.trim()&&(i({...o,moods:[...o.moods,l.trim()]}),s(""))};return E.jsx("div",{className:"fixed inset-0 z-[60] flex justify-end bg-black/20 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"w-full max-w-xl bg-white h-full shadow-2xl flex flex-col border-l border-gray-100 animate-in slide-in-from-right duration-300",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-white/80 backdrop-blur",children:[E.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide flex items-center gap-2",children:[n.type==="video"?E.jsx(So,{size:14,className:"text-rose-500"}):E.jsx(Dl,{size:14,className:"text-indigo-500"}),"Asset Detail"]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>{r(n.id),e()},className:"p-2 text-gray-400 hover:text-rose-600 transition-colors rounded-lg hover:bg-rose-50",children:[E.jsx("span",{className:"sr-only",children:"Delete"}),E.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M3 6h18"}),E.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),E.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})]}),E.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-900 transition-colors rounded-lg hover:bg-gray-50",children:E.jsx(Mn,{size:18})})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:[E.jsx("div",{className:"bg-gray-50 rounded-2xl overflow-hidden border border-gray-100 mb-8 shadow-sm",children:n.type==="video"?E.jsx("video",{src:n.url,controls:!0,className:"w-full h-auto max-h-[400px] object-contain",autoPlay:!0,muted:!0,loop:!0}):E.jsx("img",{src:n.url,alt:"Detail",className:"w-full h-auto object-contain"})}),E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"AI Caption"}),E.jsx("textarea",{value:o.caption,onChange:f=>i({...o,caption:f.target.value}),className:"w-full p-3 bg-white border border-gray-200 rounded-xl text-sm leading-relaxed focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none resize-none shadow-sm",rows:3})]}),o.shotType&&E.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-600 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100 w-fit",children:[E.jsx(o2,{size:14,className:"text-gray-400"})," ",o.shotType]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(tl,{size:12})," Tags"]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map(f=>E.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full flex items-center gap-1 group border border-transparent hover:border-gray-200",children:[f,E.jsx("button",{onClick:()=>i({...o,tags:o.tags.filter(g=>g!==f)}),className:"text-gray-400 hover:text-rose-500",children:E.jsx(Mn,{size:10})})]},f))}),E.jsx("form",{onSubmit:h,children:E.jsx("input",{placeholder:"Add tag...",value:a,onChange:f=>u(f.target.value),className:"text-xs bg-transparent border-b border-gray-200 focus:border-indigo-500 outline-none py-1 w-full placeholder-gray-300"})})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-400"})," Moods"]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:o.moods.map(f=>E.jsxs("span",{className:"px-3 py-1 bg-rose-50 text-rose-700 text-xs font-medium rounded-full flex items-center gap-1 border border-rose-100",children:[f,E.jsx("button",{onClick:()=>i({...o,moods:o.moods.filter(g=>g!==f)}),className:"text-rose-400 hover:text-rose-600",children:E.jsx(Mn,{size:10})})]},f))}),E.jsx("form",{onSubmit:d,children:E.jsx("input",{placeholder:"Add mood...",value:l,onChange:f=>s(f.target.value),className:"text-xs bg-transparent border-b border-gray-200 focus:border-rose-500 outline-none py-1 w-full placeholder-gray-300"})})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(Id,{size:12})," Palette"]}),E.jsx("div",{className:"flex gap-3",children:o.colors.map(f=>E.jsxs("div",{className:"group relative",children:[E.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm border border-gray-100 ring-2 ring-transparent group-hover:ring-offset-1 group-hover:ring-gray-200 transition-all cursor-pointer",style:{backgroundColor:f}}),E.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-[9px] font-mono text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity bg-white px-1 rounded shadow-sm border border-gray-100",children:f})]},f))})]})]})]}),E.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-900 text-xs font-bold uppercase tracking-wide",children:"Cancel"}),E.jsxs("button",{onClick:c,className:"px-6 py-2 bg-gray-900 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-black transition-all shadow-sm flex items-center gap-2",children:[E.jsx(Za,{size:14})," Save Changes"]})]})]})})},u1=({projectId:n})=>{const[e,t]=oe.useState(n),[r,o]=oe.useState([]),[i,a]=oe.useState([]),[u,l]=oe.useState(!1),[s,c]=oe.useState(""),[h,d]=oe.useState("all"),[f,g]=oe.useState(null),[y,p]=oe.useState(!1),[v,m]=oe.useState(!1),x=oe.useRef(null),k=jo(),[I,D]=oe.useState(!1),[V,L]=oe.useState("");oe.useEffect(()=>{n?t(n):dt.projects.list().then(b=>o(b.data))},[n]),oe.useEffect(()=>{if(!e){a([]);return}l(!0);let b=!0;return dt.moodboard.list(e).then(_=>{b&&(a(_.data),l(!1))}),()=>{b=!1}},[e]);const z=async b=>{if(e){p(!0);try{const _=[];for(let w=0;w<b.length;w++){const S=b[w],O=(await dt.assets.upload(S,e)).data,U=await dt.moodboard.linkAsset(e,O.id);_.push(U.data)}a(w=>[..._,...w]),k.success(`Successfully uploaded ${b.length} items`)}catch(_){console.error(_);const w=_ instanceof Error?_.message:"Unknown error";k.error(`Upload failed: ${w}`)}finally{p(!1),x.current&&(x.current.value="")}}},B=async b=>{if(b.preventDefault(),!(!e||!V.trim())){p(!0);try{const _=await dt.moodboard.create({projectId:e,type:"image",url:V.trim(),caption:"Imported from URL"});a(w=>[_.data,...w]),L(""),D(!1),k.success("URL imported successfully")}catch(_){console.error(_),k.error("Failed to import URL")}finally{p(!1)}}},H=async b=>{b.target.files&&b.target.files.length>0&&await z(b.target.files)},$=async b=>{b.preventDefault(),b.stopPropagation(),m(!1),b.dataTransfer.files&&b.dataTransfer.files.length>0&&await z(b.dataTransfer.files)},A=async b=>{await dt.moodboard.update(b),a(_=>_.map(w=>w.id===b.id?b:w))},P=async b=>{await dt.moodboard.delete(b),a(_=>_.filter(w=>w.id!==b))},C=i.filter(b=>{const _=s===""||b.tags.some(S=>S.toLowerCase().includes(s.toLowerCase()))||b.moods.some(S=>S.toLowerCase().includes(s.toLowerCase()))||b.caption.toLowerCase().includes(s.toLowerCase()),w=h==="all"||b.type===h;return _&&w});return E.jsxs("div",{className:"flex flex-col h-full bg-[#F5F5F7] p-8 min-h-screen relative",onDragOver:b=>{b.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:$,children:[v&&e&&E.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-sm m-4 rounded-3xl border-2 border-dashed border-indigo-500 flex flex-col items-center justify-center animate-in fade-in duration-200",children:[E.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-float animate-bounce",children:E.jsx(ys,{size:48,className:"text-indigo-600 mb-2"})}),E.jsx("h3",{className:"mt-4 text-xl font-bold text-indigo-900 tracking-tight",children:"Drop to Upload"}),E.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"Add to Moodboard"})]}),E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8 sticky top-0 z-20 bg-[#F5F5F7]/95 backdrop-blur-sm py-4",children:[E.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[!n&&E.jsxs("div",{className:"relative",children:[E.jsxs("select",{value:e||"",onChange:b=>t(b.target.value),className:"appearance-none bg-white border border-gray-200 text-gray-900 text-xs font-bold uppercase tracking-widest pl-4 pr-10 py-3 rounded-2xl shadow-sm focus:outline-none focus:border-indigo-500 cursor-pointer hover:border-gray-300 transition-colors",children:[E.jsx("option",{value:"",disabled:!0,children:"Select Context..."}),r.map(b=>E.jsx("option",{value:b.id,children:b.name},b.id))]}),E.jsx(Tg,{size:14,className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),E.jsxs("div",{className:"relative flex-1 md:w-96 group",children:[E.jsx(Ol,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors"}),E.jsx("input",{type:"text",placeholder:"Search by mood, tag, or context...",value:s,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-2xl shadow-sm focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-500 outline-none text-sm font-medium transition-all"})]})]}),E.jsxs("div",{className:"flex gap-3 items-center",children:[E.jsxs("div",{className:"flex bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[E.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${h==="all"?"bg-gray-900 text-white shadow-md":"text-gray-500 hover:text-gray-900"}`,children:"All"}),E.jsx("button",{onClick:()=>d("image"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${h==="image"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-600"}`,children:"Images"}),E.jsx("button",{onClick:()=>d("video"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${h==="video"?"bg-rose-500 text-white shadow-md":"text-gray-500 hover:text-rose-500"}`,children:"Videos"})]}),e&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"relative flex items-center",children:I?E.jsxs("form",{onSubmit:B,className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl p-1 shadow-sm absolute right-0 min-w-[300px] animate-in slide-in-from-right-5 fade-in z-30",children:[E.jsx("input",{autoFocus:!0,type:"url",placeholder:"https://...",value:V,onChange:b=>L(b.target.value),className:"flex-1 pl-3 text-xs outline-none bg-transparent h-8"}),E.jsx("button",{type:"submit",disabled:y,className:"p-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:y?E.jsx(Hn,{size:12,className:"animate-spin"}):E.jsx(Za,{size:12})}),E.jsx("button",{type:"button",onClick:()=>D(!1),className:"p-1.5 text-gray-400 hover:text-gray-600",children:E.jsx(ko,{size:12,className:"rotate-45"})})]}):E.jsxs("button",{onClick:()=>D(!0),className:"px-4 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl text-xs font-bold uppercase tracking-widest hover:border-indigo-300 hover:text-indigo-600 transition-all shadow-sm flex items-center gap-2",children:[E.jsx(Ag,{size:14})," Import URL"]})}),E.jsxs("button",{onClick:()=>{var b;return(b=x.current)==null?void 0:b.click()},disabled:y,className:"px-6 py-3 bg-gray-900 text-white rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-black transition-all shadow-lg shadow-gray-300/50 flex items-center gap-2 disabled:opacity-70",children:[y?E.jsx(Hn,{size:16,className:"animate-spin"}):E.jsx(ko,{size:16}),"Upload"]}),E.jsx("input",{type:"file",multiple:!0,ref:x,className:"hidden",accept:"image/*,video/*",onChange:H})]})]})]}),e?u?E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsx(Hn,{size:32,className:"animate-spin text-gray-300"})}):C.length===0?E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[E.jsx("div",{onClick:()=>{var b;return(b=x.current)==null?void 0:b.click()},className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6 cursor-pointer hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:E.jsx(M2,{size:32,className:"opacity-50"})}),E.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Board is empty"}),E.jsx("p",{className:"text-xs mt-2 text-gray-400 max-w-xs text-center leading-relaxed",children:"Upload images or paste a URL to start building your visual moodboard."})]}):E.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-6 space-y-6 pb-20",children:C.map(b=>E.jsxs("div",{onClick:()=>g(b),className:"break-inside-avoid bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-zoom-in group relative border border-gray-100",children:[E.jsxs("div",{className:"relative",children:[b.type==="video"?E.jsx("video",{src:b.url,className:"w-full h-auto object-cover",muted:!0,loop:!0,onMouseOver:_=>_.currentTarget.play(),onMouseOut:_=>_.currentTarget.pause()}):E.jsx("img",{src:b.url,alt:"Moodboard",className:"w-full h-auto object-cover"}),E.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:[E.jsx("div",{className:"text-white font-medium text-xs line-clamp-2 leading-relaxed mb-2 drop-shadow-md",children:b.status==="processing"?E.jsxs("span",{className:"flex items-center gap-2 text-indigo-200",children:[E.jsx(Hn,{size:12,className:"animate-spin"})," Analyzing visual data..."]}):b.caption||"No caption"}),b.status==="ready"&&E.jsx("div",{className:"flex flex-wrap gap-1",children:b.moods.slice(0,3).map(_=>E.jsx("span",{className:"px-2 py-0.5 bg-white/20 backdrop-blur-md text-white text-[9px] font-bold rounded-md uppercase tracking-wide border border-white/30",children:_},_))})]}),E.jsx("div",{className:"absolute top-3 right-3 bg-black/20 backdrop-blur-md p-1.5 rounded-lg text-white opacity-0 group-hover:opacity-100 transition-opacity",children:b.type==="video"?E.jsx(So,{size:12}):E.jsx(Dl,{size:12})})]}),b.colors.length>0&&E.jsx("div",{className:"h-1.5 flex w-full",children:b.colors.map(_=>E.jsx("div",{style:{backgroundColor:_},className:"flex-1"},_))})]},b.id))}):E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 opacity-60",children:[E.jsx(So,{size:48,className:"mb-4 opacity-50"}),E.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Select a project to enable uploads"})]}),f&&E.jsx(K5,{item:f,onClose:()=>g(null),onUpdate:A,onDelete:P})]})},J5=({dueDate:n})=>{if(!n)return E.jsx("span",{className:"text-pencil text-xs font-medium tracking-wide",children:"No Date"});const e=new Date(n),t=new Date,r=e.getTime()-t.getTime(),o=Math.ceil(r/(1e3*60*60*24));let i="bg-emerald-50 text-emerald-700 border-emerald-100",a=E.jsx(Eg,{size:12}),u=`${o} days left`;return o<0?(i="bg-rose-50 text-rose-700 border-rose-100",a=E.jsx(Ro,{size:12}),u=`Overdue (${Math.abs(o)}d)`):o<3&&(i="bg-amber-50 text-amber-700 border-amber-100",u=`Due in ${o} days`),E.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border ${i}`,children:[a," ",u]})},X5=({projects:n,freelancers:e,assignments:t,onUpdateProject:r})=>{const{id:o}=Ed(),i=Es(),a=n.find(m=>m.id===o),[u,l]=oe.useState("overview"),[s,c]=oe.useState([]),[h,d]=oe.useState([]),f=a==null?void 0:a.id;oe.useEffect(()=>{f&&dt.scripts.findByProject(f).then(m=>c(m.data)).catch(console.error)},[f]);const g=async m=>{if(!a)return;d(D=>[...D,m]);let x="General";m.type==="file"?x="Technical":m.type==="wiki"||m.type==="youtube"?x="Research":m.type==="text"&&(x="Brand");const k={id:m.id,title:m.title,content:m.originalContent||m.summary||"",category:x,updatedAt:new Date().toISOString()},I=[...a.knowledgeBase||[],k];r({...a,knowledgeBase:I})},y=async m=>{if(!a)return;d(k=>k.filter(I=>I.id!==m));const x=(a.knowledgeBase||[]).filter(k=>k.id!==m);r({...a,knowledgeBase:x})},p=m=>{a&&r({...a,...m})};if(!a)return E.jsx("div",{className:"p-12 text-center text-pencil text-sm font-medium",children:"Project not found"});const v=t.filter(m=>m.projectId===a.id).map(m=>e.find(x=>x.id===m.freelancerId)).filter(Boolean);return E.jsxs("div",{className:"h-full min-h-screen flex flex-col bg-canvas font-sans text-ink",children:[E.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-xl border-b border-mist px-8 py-6 flex flex-col gap-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("button",{onClick:()=>i("/projects"),className:"p-2 -ml-2 hover:bg-mist/50 rounded-xl text-pencil transition-all duration-200 active:scale-95",children:E.jsx(Tg,{size:20,className:"rotate-90",strokeWidth:2})}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx("span",{className:"text-xs font-medium text-pencil",children:a.category||"Campaign"}),E.jsx("span",{className:"text-mist text-xs",children:"/"}),E.jsx("span",{className:"text-xs font-medium text-pencil",children:a.clientName})]}),E.jsx("h1",{className:"text-3xl font-semibold text-ink leading-none tracking-tight",children:a.name})]})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx(J5,{dueDate:a.dueDate}),E.jsx("button",{className:"bg-ink text-white px-5 py-2.5 rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-black hover:shadow-lg hover:-translate-y-[1px] transition-all duration-200 shadow-sm active:scale-[0.98]",children:"Edit Project"})]})]}),E.jsxs("div",{className:"flex gap-8 border-t border-mist/50 pt-3",children:[E.jsxs("button",{onClick:()=>l("overview"),className:`pb-3 text-sm font-semibold border-b-3 transition-all duration-200 flex items-center gap-2 ${u==="overview"?"border-ink text-ink bg-subtle/20":"border-transparent text-pencil hover:text-ink"} px-4 -mx-4 rounded-t-lg`,children:[E.jsx(k2,{size:16})," Brief & Specs"]}),E.jsxs("button",{onClick:()=>l("moodboard"),className:`pb-3 text-sm font-semibold border-b-3 transition-all duration-200 flex items-center gap-2 ${u==="moodboard"?"border-indigo-600 text-indigo-600 bg-indigo-50/30":"border-transparent text-pencil hover:text-indigo-600"} px-4 -mx-4 rounded-t-lg`,children:[E.jsx(b2,{size:16})," Visual Moodboard"]})]})]}),u==="moodboard"?E.jsx("div",{className:"flex-1",children:E.jsx(u1,{projectId:a.id})}):E.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden max-w-[1800px] mx-auto w-full p-8 gap-10 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[E.jsxs("main",{className:"flex-1 flex flex-col gap-12 overflow-y-auto custom-scrollbar pr-2 pb-24",children:[E.jsxs("section",{children:[E.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[E.jsx(li,{size:14,className:"opacity-70"})," Brief & Constraints"]}),E.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-10 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[E.jsx("div",{className:"prose prose-sm max-w-none text-ink leading-loose font-sans font-medium text-base/7",children:a.description||E.jsx("span",{className:"text-pencil italic font-normal",children:"No brief provided."})}),a.notes&&E.jsxs("div",{className:"mt-10 pt-8 border-t border-mist/60",children:[E.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 opacity-70",children:"Technical Notes"}),E.jsx("div",{className:"bg-canvas/50 p-6 rounded-xl border border-mist/60",children:E.jsx("p",{className:"text-xs text-ink font-mono leading-relaxed",children:a.notes})})]})]})]}),E.jsxs("section",{children:[E.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[E.jsx(S2,{size:14,className:"opacity-70"})," Quick References"]}),E.jsx(O5,{items:a.references||[],onAdd:async m=>{const x=[...a.references||[],m];r({...a,references:x})},onRemove:m=>{const x=(a.references||[]).filter(k=>k!==m);r({...a,references:x})}})]}),E.jsxs("section",{children:[E.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[E.jsx(Nr,{size:14,className:"opacity-70"})," Creative Direction"]}),E.jsx(Y5,{project:a,onUpdate:p})]}),E.jsxs("section",{children:[E.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[E.jsx(Po,{size:14,className:"opacity-70"})," Project Intelligence"]}),E.jsx("div",{className:"bg-white rounded-2xl border border-mist overflow-hidden h-[460px] shadow-sm hover:shadow-soft transition-shadow duration-500",children:E.jsx(W5,{sources:h,onAddSource:g,onRemoveSource:y})})]})]}),E.jsxs("aside",{className:"w-full lg:w-96 flex flex-col gap-8 flex-shrink-0",children:[E.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm",children:[E.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[E.jsx(Md,{size:14})," Team Assignment"]}),E.jsxs("div",{className:"space-y-5",children:[v.length===0?E.jsx("div",{className:"text-center py-8 border border-dashed border-mist rounded-xl bg-canvas/30",children:E.jsx("span",{className:"text-xs text-pencil font-medium",children:"No active assignments"})}):v.map(m=>E.jsxs("div",{className:"flex items-center gap-4 group cursor-default",children:[E.jsx("img",{src:m.avatar,className:"w-10 h-10 rounded-full bg-mist object-cover border border-mist group-hover:border-ink transition-colors"}),E.jsxs("div",{className:"min-w-0",children:[E.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:m.name}),E.jsx("div",{className:"text-[10px] text-pencil font-medium truncate uppercase tracking-wide mt-0.5",children:m.role})]})]},m.id)),E.jsx("button",{className:"w-full mt-4 py-3 text-[10px] font-bold text-ink bg-white hover:bg-canvas rounded-xl border border-mist transition-colors uppercase tracking-widest shadow-sm",children:"Manage Roster"})]})]}),E.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm",children:[E.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6",children:"Specifications"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[E.jsx("span",{className:"text-xs text-pencil font-medium",children:"Format"}),E.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:a.format||""})]}),E.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[E.jsx("span",{className:"text-xs text-pencil font-medium",children:"Duration"}),E.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:a.length||""})]}),E.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[E.jsx("span",{className:"text-xs text-pencil font-medium",children:"Budget"}),E.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:a.budget||""})]})]})]}),E.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm flex flex-col h-96",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest flex items-center gap-2",children:[E.jsx(P2,{size:14})," Scripts"]}),E.jsxs(wn,{to:`/studio?project=${a.id}`,className:"text-[10px] font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1 transition-colors uppercase tracking-wide",children:["Open Studio ",E.jsx(Pl,{size:12})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:s.length===0?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 bg-canvas/30 rounded-xl border border-dashed border-mist",children:[E.jsx("span",{className:"text-xs text-pencil font-medium mb-3",children:"No drafts initialized."}),E.jsx(wn,{to:`/studio?project=${a.id}`,className:"px-4 py-2 bg-white border border-mist rounded-lg text-[10px] font-bold text-ink uppercase tracking-wide shadow-sm hover:border-ink transition-colors",children:"Start Writing"})]}):s.map(m=>E.jsxs(wn,{to:`/studio?project=${a.id}&script=${m.id}`,className:"block p-4 hover:bg-canvas rounded-xl border border-mist hover:border-indigo-200 transition-all group shadow-sm hover:shadow-md",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("span",{className:"font-semibold text-xs text-ink group-hover:text-indigo-600 transition-colors truncate",children:m.title}),E.jsxs("span",{className:"text-[9px] font-mono font-bold text-pencil bg-canvas px-1.5 py-0.5 rounded border border-mist/50 group-hover:border-indigo-100 group-hover:text-indigo-500 transition-colors",children:["v",m.version]})]}),E.jsxs("div",{className:"text-[10px] text-pencil line-clamp-2 leading-relaxed font-medium",children:[m.content.substring(0,80),"..."]})]},m.id))})]})]})]})]})},Z5=({freelancers:n,projects:e,assignments:t,onAssign:r,checkConflict:o})=>{const[i,a]=oe.useState(new Date("2023-10-01")),u=21,l=54,c=(()=>{const p=[];return e.forEach(v=>{v.roleRequirements.forEach(m=>{const x=t.filter(k=>k.projectId===v.id&&k.role===m.role).length;x<m.count&&p.push({project:v,roleId:m.id,roleName:m.role,count:m.count-x})})}),p})(),h=(p,v)=>{p.dataTransfer.setData("application/json",JSON.stringify(v)),p.dataTransfer.effectAllowed="copy"},d=(p,v)=>{p.preventDefault();try{const m=p.dataTransfer.getData("application/json");if(!m)return;const x=JSON.parse(m);if(!x.projectId||!x.roleName)return;const k=e.find(I=>I.id===x.projectId);if(k){if(k.startDate&&k.dueDate&&new Date(k.startDate)>new Date(k.dueDate)){alert("Cannot assign: Project start date is after due date.");return}const I=new Date(i).toISOString(),D=new Date(i.getTime()+14*24*60*60*1e3).toISOString(),V=k.startDate||I,L=k.dueDate||D;if(o&&o(v,V,L)&&!window.confirm("Scheduling Conflict detected. Create overlap?"))return;const z={id:`asn-${Date.now()}`,projectId:k.id,freelancerId:v,role:x.roleName,startDate:V,endDate:L,allocation:100,status:"Tentative",notes:""};r(z)}}catch(m){console.error("Drop failed",m)}},f=p=>{p.preventDefault(),p.dataTransfer.dropEffect="copy"},g=[];for(let p=0;p<u;p++){const v=new Date(i);v.setDate(v.getDate()+p),g.push(v)}const y=(p,v)=>{const m=new Date(p),x=new Date(v),k=i,I=Math.abs(x.getTime()-m.getTime()),D=Math.ceil(I/(1e3*60*60*24))+1,V=m.getTime()-k.getTime(),L=Math.ceil(V/(1e3*60*60*24));if(L+D<0||L>u)return null;const z=Math.max(0,L*l),B=Math.min(D*l,u*l-z);return{left:`${z}px`,width:`${B}px`}};return E.jsxs("div",{className:"p-8 max-w-[2000px] mx-auto space-y-8 animate-enter pb-24 font-sans text-ink",children:[E.jsxs("div",{className:"flex justify-between items-end",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-ink",children:"Schedule"}),E.jsx("p",{className:"text-pencil mt-2 text-sm font-medium",children:"Allocation timeline."})]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 border border-mist rounded-xl shadow-sm",children:[E.jsx("button",{onClick:()=>{const p=new Date(i);p.setDate(p.getDate()-7),a(p)},className:"p-2 hover:bg-subtle rounded-lg text-pencil hover:text-ink transition-all duration-200 active:scale-95",children:E.jsx(l2,{size:18})}),E.jsxs("div",{className:"flex items-center gap-2 px-6 min-w-[200px] justify-center font-semibold text-ink text-sm",children:[E.jsx(jl,{size:16,className:"text-pencil"}),i.toLocaleDateString(void 0,{month:"long",year:"numeric"})]}),E.jsx("button",{onClick:()=>{const p=new Date(i);p.setDate(p.getDate()+7),a(p)},className:"p-2 hover:bg-subtle rounded-lg text-pencil hover:text-ink transition-all duration-200 active:scale-95",children:E.jsx(u2,{size:18})})]})})]}),E.jsxs("div",{className:"flex flex-col xl:flex-row gap-8 pb-4 h-[700px]",children:[E.jsxs("div",{className:"w-full xl:w-80 flex-shrink-0 bg-white border border-mist flex flex-col h-full rounded-2xl overflow-hidden shadow-card",children:[E.jsx("div",{className:"p-6 border-b border-mist bg-canvas/30",children:E.jsx("h3",{className:"text-xs font-bold text-pencil uppercase tracking-wide",children:"Unassigned Roles"})}),E.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-3 custom-scrollbar bg-white",children:c.length===0?E.jsxs("div",{className:"text-center py-16 text-pencil text-xs flex flex-col items-center opacity-60",children:[E.jsx("div",{className:"mb-3 p-3 bg-canvas rounded-xl border border-mist",children:E.jsx(Eg,{size:20})}),E.jsx("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:"All roles filled"})]}):c.map((p,v)=>E.jsxs("div",{draggable:!0,onDragStart:m=>h(m,{projectId:p.project.id,roleName:p.roleName}),className:"bg-white border border-mist p-4 hover:border-ink cursor-grab active:cursor-grabbing transition-all duration-200 group relative rounded-xl hover:shadow-lg hover:-translate-y-[1px]",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("span",{className:"text-[9px] font-bold text-white bg-ink px-2 py-0.5 uppercase tracking-wide rounded-md shadow-sm",children:p.roleName}),E.jsx(x2,{size:14,className:"text-mist group-hover:text-ink transition-colors"})]}),E.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:p.project.name}),E.jsxs("div",{className:"text-[10px] text-pencil mt-1.5 flex items-center gap-1.5 font-medium",children:[E.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),p.project.startDate?new Date(p.project.startDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"TBD"]})]},`${p.project.id}-${p.roleId}-${v}`))})]}),E.jsxs("div",{className:"flex-1 bg-white border border-mist flex flex-col overflow-hidden rounded-2xl shadow-sm",children:[E.jsxs("div",{className:"flex border-b border-mist bg-canvas/30 overflow-x-hidden",children:[E.jsx("div",{className:"w-72 flex-shrink-0 p-5 border-r border-mist font-bold text-[10px] text-pencil uppercase tracking-widest flex items-center bg-canvas/30 z-20 sticky left-0",children:"Freelancer"}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:E.jsx("div",{className:"flex",style:{width:`${u*l}px`},children:g.map((p,v)=>{const m=p.toDateString()===new Date().toDateString();return E.jsxs("div",{className:`flex-shrink-0 text-center border-r border-mist/50 last:border-r-0 ${m?"bg-indigo-50/20":""}`,style:{width:`${l}px`},children:[E.jsx("div",{className:"text-[9px] text-pencil uppercase py-3 font-bold tracking-wider",children:p.toLocaleDateString("en-US",{weekday:"narrow"})}),E.jsx("div",{className:`text-xs font-bold pb-3 font-mono ${m?"text-indigo-600":"text-ink"}`,children:p.getDate()})]},v)})})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:n.map(p=>{const v=t.filter(m=>m.freelancerId===p.id);return E.jsxs("div",{className:"flex border-b border-mist min-h-[80px] hover:bg-canvas/30 transition-colors group/row",onDragOver:f,onDrop:m=>d(m,p.id),children:[E.jsxs("div",{className:"w-72 flex-shrink-0 p-5 border-r border-mist flex items-center gap-4 bg-white z-10 sticky left-0 group-hover/row:bg-gray-50/50 transition-colors",children:[E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:p.avatar,className:"w-10 h-10 rounded-xl border border-mist object-cover"}),p.utilization>0&&E.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 border-2 border-white flex items-center justify-center rounded-full ${p.utilization>100?"bg-rose-500":"bg-emerald-500"}`})]}),E.jsxs("div",{className:"min-w-0",children:[E.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:p.name}),E.jsx("div",{className:"text-[10px] text-pencil truncate font-medium uppercase tracking-widest mt-0.5",children:p.role})]})]}),E.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 flex pointer-events-none",children:[...Array(u)].map((m,x)=>E.jsx("div",{className:"border-r border-mist/30 h-full",style:{width:`${l}px`}},x))}),v.map(m=>{const x=y(m.startDate,m.endDate);if(!x)return null;const k=e.find(I=>I.id===m.projectId);return E.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-12 border border-ink bg-white overflow-hidden cursor-pointer hover:bg-ink group z-10 transition-colors rounded shadow-sm",style:{...x},title:`${k==null?void 0:k.name} - ${m.role}`,children:E.jsx("div",{className:"pl-3 pr-3 h-full flex flex-col justify-center",children:E.jsx("span",{className:"text-[10px] font-bold text-ink group-hover:text-white truncate uppercase tracking-widest",children:k==null?void 0:k.name})})},m.id)}),v.length===0&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none transition-opacity duration-300",children:E.jsx("span",{className:"text-[9px] text-pencil font-bold uppercase tracking-widest border border-dashed border-mist px-3 py-1.5 bg-white rounded-lg shadow-sm",children:"Drop to assign"})})]})]},p.id)})})]})]})]})};function aa(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var c1={exports:{}};/*! ExcelJS 19-10-2023 */(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,o,i){function a(s,c){if(!o[s]){if(!r[s]){var h=typeof aa=="function"&&aa;if(!c&&h)return h(s,!0);if(u)return u(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=o[s]={exports:{}};r[s][0].call(f.exports,function(g){return a(r[s][1][g]||g)},f,f.exports,t,r,o,i)}return o[s].exports}for(var u=typeof aa=="function"&&aa,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(t,r,o){const i=t("fs"),a=t("fast-csv"),u=t("dayjs/plugin/customParseFormat"),l=t("dayjs/plugin/utc"),s=t("dayjs").extend(u).extend(l),c=t("../utils/stream-buf"),{fs:{exists:h}}=t("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};r.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,g){if(g=g||{},!await h(f))throw new Error("File not found: "+f);const y=i.createReadStream(f),p=await this.read(y,g);return y.close(),p}read(f,g){return g=g||{},new Promise((y,p)=>{const v=this.workbook.addWorksheet(g.sheetName),m=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=g.map||function(I){if(I==="")return null;const D=Number(I);if(!Number.isNaN(D)&&D!==1/0)return D;const V=m.reduce((z,B)=>{if(z)return z;const H=s(I,B,!0);return H.isValid()?H:null},null);if(V)return new Date(V.valueOf());const L=d[I];return L!==void 0?L:I},k=a.parse(g.parserOptions).on("data",I=>{v.addRow(I.map(x))}).on("end",()=>{k.emit("worksheet",v)});k.on("worksheet",y).on("error",p),f.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,g){return new Promise((y,p)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),m=a.format(g.formatterOptions);f.on("finish",()=>{y()}),m.on("error",p),m.pipe(f);const{dateFormat:x,dateUTC:k}=g,I=g.map||(L=>{if(L){if(L.text||L.hyperlink)return L.hyperlink||L.text||"";if(L.formula||L.result)return L.result||"";if(L instanceof Date)return x?k?s.utc(L).format(x):s(L).format(x):k?s.utc(L).format():s(L).format();if(L.error)return L.error;if(typeof L=="object")return JSON.stringify(L)}return L}),D=g.includeEmptyRows===void 0||g.includeEmptyRows;let V=1;v&&v.eachRow((L,z)=>{if(D)for(;V++<z-1;)m.write([]);const{values:B}=L;B.shift(),m.write(B.map(I)),V=z}),m.end()})}writeFile(f,g){const y={encoding:(g=g||{}).encoding||"utf8"},p=i.createWriteStream(f,y);return this.write(p,g)}async writeBuffer(f){const g=new c;return await this.write(g,f),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,r,o){const i=t("../utils/col-cache");class a{constructor(l,s){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,s)if(typeof s=="string"){const h=i.decodeAddress(s);this.nativeCol=h.col+c,this.nativeColOff=0,this.nativeRow=h.row+c,this.nativeRowOff=0}else s.nativeCol!==void 0?(this.nativeCol=s.nativeCol||0,this.nativeColOff=s.nativeColOff||0,this.nativeRow=s.nativeRow||0,this.nativeRowOff=s.nativeRowOff||0):s.col!==void 0?(this.col=s.col+c,this.row=s.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof a||l==null?l:new a(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}r.exports=a},{"../utils/col-cache":19}],3:[function(t,r,o){const i=t("../utils/col-cache"),a=t("../utils/under-dash"),u=t("./enums"),{slideFormula:l}=t("../utils/shared-formula"),s=t("./note");class c{constructor(f,g,y){if(!f||!g)throw new Error("A Cell needs a Row");this._row=f,this._column=g,i.validateAddress(y),this._address=y,this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(f.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,g,y){const p=f&&f.numFmt||g&&g.numFmt;p&&(y.numFmt=p);const v=f&&f.font||g&&g.font;v&&(y.font=v);const m=f&&f.alignment||g&&g.alignment;m&&(y.alignment=m);const x=f&&f.border||g&&g.border;x&&(y.border=x);const k=f&&f.fill||g&&g.fill;k&&(y.fill=k);const I=f&&f.protection||g&&g.protection;return I&&(y.protection=I),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(f,g){this._value.release(),this._value=h.create(c.Types.Merge,this,f),g||(this.style=f.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===c.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==c.Types.Merge?(this._value.release(),this._value=h.create(h.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new s(f)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===c.Types.String&&(this._value=h.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),f.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=h.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=s.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}c.Types=u.ValueType;const h={getType:d=>d==null?c.Types.Null:d instanceof String||typeof d=="string"?c.Types.String:typeof d=="number"?c.Types.Number:typeof d=="boolean"?c.Types.Boolean:d instanceof Date?c.Types.Date:d.text&&d.hyperlink?c.Types.Hyperlink:d.formula||d.sharedFormula?c.Types.Formula:d.richText?c.Types.RichText:d.sharedString?c.Types.SharedString:d.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(d){this.model={address:d.address,type:c.Types.Null}}get value(){return null}set value(d){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Number,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.String,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Date,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(d,f){this.cell=d,this.model={address:d.address,type:c.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(d){const f={},g=y=>{const p=d[y];p&&(f[y]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(h.getType(d)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?u.FormulaType.Master:this.model.sharedFormula?u.FormulaType.Shared:u.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return c.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?u.ValueType.Null:d instanceof String||typeof d=="string"?u.ValueType.String:typeof d=="number"?u.ValueType.Number:d instanceof Date?u.ValueType.Date:d.text&&d.hyperlink?u.ValueType.Hyperlink:d.formula?u.ValueType.Formula:u.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,f=d.findCell(this.model.sharedFormula);this._translatedFormula=f&&l(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof c?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.SharedString,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.String,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Boolean,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(d,f){this.model={address:d.address,type:c.Types.Error,value:f}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,f)=>(d[f.t]=f.f,d),[]),create(d,f,g){const y=this.types[d];if(!y)throw new Error("Could not create Value of type "+d);return new y(f,g)}};r.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,r,o){const i=t("../utils/under-dash"),a=t("./enums"),u=t("../utils/col-cache");class l{constructor(c,h,d){this._worksheet=c,this._number=h,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return u.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((h,d)=>{this._worksheet.getCell(d+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&i.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,h){const d=this.number;h||(h=c,c=null),this._worksheet.eachRow(c,(f,g)=>{h(f.getCell(d),g)})}get values(){const c=[];return this.eachCell((h,d)=>{h&&h.type!==a.ValueType.Null&&(c[d]=h.value)}),c}set values(c){if(!c)return;const h=this.number;let d=0;c.hasOwnProperty("0")&&(d=1),c.forEach((f,g)=>{this._worksheet.getCell(g+d,h).value=f})}_applyStyle(c,h){return this.style[c]=h,this.eachCell(d=>{d[c]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const h=[];let d=null;return c&&c.forEach((f,g)=>{f.isDefault?d&&(d=null):d&&f.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},h.push(d))}),h.length?h:void 0}static fromModel(c,h){const d=[];let f=1,g=0;for(h=(h=h||[]).sort(function(y,p){return y.min-p.min});g<h.length;){const y=h[g++];for(;f<y.min;)d.push(new l(c,f++));for(;f<=y.max;)d.push(new l(c,f++,y))}return d.length?d:null}}r.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,r,o){r.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(t,r,o){const i=t("../utils/under-dash"),a=t("../utils/col-cache"),u=t("../utils/cell-matrix"),l=t("./range"),s=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;r.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new u)}add(c,h){const d=a.decodeEx(c);this.addEx(d,h)}addEx(c,h){const d=this.getMatrix(h);if(c.top)for(let f=c.left;f<=c.right;f++)for(let g=c.top;g<=c.bottom;g++){const y={sheetName:c.sheetName,address:a.n2l(f)+g,row:g,col:f};d.addCellEx(y)}else d.addCellEx(c)}remove(c,h){const d=a.decodeEx(c);this.removeEx(d,h)}removeEx(c,h){this.getMatrix(h).removeCellEx(c)}removeAllNames(c){i.each(this.matrixMap,h=>{h.removeCellEx(c)})}forEach(c){i.each(this.matrixMap,(h,d)=>{h.forEach(f=>{c(d,f)})})}getNames(c){return this.getNamesEx(a.decodeEx(c))}getNamesEx(c){return i.map(this.matrixMap,(h,d)=>h.findCellEx(c)&&d).filter(Boolean)}_explore(c,h){h.mark=!1;const{sheetName:d}=h,f=new l(h.row,h.col,h.row,h.col,d);let g,y;function p(m,x){const k=c.findCellAt(d,m,h.col);return!(!k||!k.mark)&&(f[x]=m,k.mark=!1,!0)}for(y=h.row-1;p(y,"top");y--);for(y=h.row+1;p(y,"bottom");y++);function v(m,x){const k=[];for(y=f.top;y<=f.bottom;y++){const I=c.findCellAt(d,y,m);if(!I||!I.mark)return!1;k.push(I)}f[x]=m;for(let I=0;I<k.length;I++)k[I].mark=!1;return!0}for(g=h.col-1;v(g,"left");g--);for(g=h.col+1;v(g,"right");g++);return f}getRanges(c,h){return(h=h||this.matrixMap[c])?(h.forEach(d=>{d.mark=!0}),{name:c,ranges:h.map(d=>d.mark&&this._explore(h,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,h){c.forEachInSheet(h,(d,f,g)=>{d&&(d.row===f&&d.col===g||(d.row=f,d.col=g,d.address=a.n2l(g)+f))})}spliceRows(c,h,d,f){i.each(this.matrixMap,g=>{g.spliceRows(c,h,d,f),this.normaliseMatrix(g,c)})}spliceColumns(c,h,d,f){i.each(this.matrixMap,g=>{g.spliceColumns(c,h,d,f),this.normaliseMatrix(g,c)})}get model(){return i.map(this.matrixMap,(c,h)=>this.getRanges(h,c)).filter(c=>c.ranges.length)}set model(c){const h=this.matrixMap={};c.forEach(d=>{const f=h[d.name]=new u;d.ranges.forEach(g=>{s.test(g.split("!").pop()||"")&&f.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,r,o){r.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,r,o){const i=t("../utils/col-cache"),a=t("./anchor");r.exports=class{constructor(u,l){this.worksheet=u,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(u){let{type:l,imageId:s,range:c,hyperlinks:h}=u;if(this.type=l,this.imageId=s,l==="image")if(typeof c=="string"){const d=i.decode(c);this.range={tl:new a(this.worksheet,{col:d.left,row:d.top},-1),br:new a(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,c.tl,0),br:c.br&&new a(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:h||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,r,o){const i=t("../utils/under-dash");class a{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,l)}set model(l){const{note:s}=l,{texts:c}=s;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=s}static fromModel(l){const s=new a;return s.model=l,s}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},r.exports=a},{"../utils/under-dash":26}],10:[function(t,r,o){const i=t("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(l,s,c,h,d){if(arguments.length<4){const f=i.decodeAddress(l),g=i.decodeAddress(s);this.model={top:Math.min(f.row,g.row),left:Math.min(f.col,g.col),bottom:Math.max(f.row,g.row),right:Math.max(f.col,g.col),sheetName:c},this.setTLBR(f.row,f.col,g.row,g.col,d)}else this.model={top:Math.min(l,c),left:Math.min(s,h),bottom:Math.max(l,c),right:Math.max(s,h),sheetName:d}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const s=l[0];if(s instanceof a)this.model={top:s.model.top,left:s.model.left,bottom:s.model.bottom,right:s.model.right,sheetName:s.sheetName};else if(s instanceof Array)this.decode(s);else if(s.top&&s.left&&s.bottom&&s.right)this.model={top:s.top,left:s.left,bottom:s.bottom,right:s.right,sheetName:s.sheetName};else{const c=i.decodeEx(s);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,s,c,h){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||s<this.left)&&(this.left=s),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(l){if(l){const{dimensions:s,number:c}=l;s&&this.expand(c,s.min,c,s.max)}}expandToAddress(l){const s=i.decodeEx(l);this.expand(s.row,s.col,s.row,s.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const s=i.decodeEx(l);return this.containsEx(s)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let s=this.left;s<=this.right;s++)for(let c=this.top;c<=this.bottom;c++)l(i.encodeAddress(c,s),c,s)}}r.exports=a},{"../utils/col-cache":19}],11:[function(t,r,o){const i=t("../utils/under-dash"),a=t("./enums"),u=t("../utils/col-cache"),l=t("./cell");r.exports=class{constructor(s,c){this._worksheet=s,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(s){return this._cells[s-1]}getCellEx(s){let c=this._cells[s.col-1];if(!c){const h=this._worksheet.getColumn(s.col);c=new l(this,h,s.address),this._cells[s.col-1]=c}return c}getCell(s){if(typeof s=="string"){const c=this._worksheet.getColumnKey(s);s=c?c.number:u.l2n(s)}return this._cells[s-1]||this.getCellEx({address:u.encodeAddress(this._number,s),row:this._number,col:s})}splice(s,c){const h=s+c;for(var d=arguments.length,f=new Array(d>2?d-2:0),g=2;g<d;g++)f[g-2]=arguments[g];const y=f.length-c,p=this._cells.length;let v,m,x;if(y<0)for(v=s+f.length;v<=p;v++)x=this._cells[v-1],m=this._cells[v-y-1],m?(x=this.getCell(v),x.value=m.value,x.style=m.style,x._comment=m._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(y>0)for(v=p;v>=h;v--)m=this._cells[v-1],m?(x=this.getCell(v+y),x.value=m.value,x.style=m.style,x._comment=m._comment):this._cells[v+y-1]=void 0;for(v=0;v<f.length;v++)x=this.getCell(s+v),x.value=f[v],x.style={},x._comment=void 0}eachCell(s,c){if(c||(c=s,s=null),s&&s.includeEmpty){const h=this._cells.length;for(let d=1;d<=h;d++)c(this.getCell(d),d)}else this._cells.forEach((h,d)=>{h&&h.type!==a.ValueType.Null&&c(h,d+1)})}addPageBreak(s,c){const h=this._worksheet,d=Math.max(0,s-1)||0,f=Math.max(0,c-1)||16838,g={id:this._number,max:f,man:1};d&&(g.min=d),h.rowBreaks.push(g)}get values(){const s=[];return this._cells.forEach(c=>{c&&c.type!==a.ValueType.Null&&(s[c.col]=c.value)}),s}set values(s){if(this._cells=[],s)if(s instanceof Array){let c=0;s.hasOwnProperty("0")&&(c=1),s.forEach((h,d)=>{h!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,d+c),row:this._number,col:d+c}).value=h)})}else this._worksheet.eachColumnKey((c,h)=>{s[h]!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=s[h])})}get hasValues(){return i.some(this._cells,s=>s&&s.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let s=0;return this.eachCell(()=>{s++}),s}get dimensions(){let s=0,c=0;return this._cells.forEach(h=>{h&&h.type!==a.ValueType.Null&&((!s||s>h.col)&&(s=h.col),c<h.col&&(c=h.col))}),s>0?{min:s,max:c}:null}_applyStyle(s,c){return this.style[s]=c,this._cells.forEach(h=>{h&&(h[s]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(s){this._applyStyle("numFmt",s)}get font(){return this.style.font}set font(s){this._applyStyle("font",s)}get alignment(){return this.style.alignment}set alignment(s){this._applyStyle("alignment",s)}get protection(){return this.style.protection}set protection(s){this._applyStyle("protection",s)}get border(){return this.style.border}set border(s){this._applyStyle("border",s)}get fill(){return this.style.fill}set fill(s){this._applyStyle("fill",s)}get hidden(){return!!this._hidden}set hidden(s){this._hidden=s}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(s){this._outlineLevel=s}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const s=[];let c=0,h=0;return this._cells.forEach(d=>{if(d){const f=d.model;f&&((!c||c>d.col)&&(c=d.col),h<d.col&&(h=d.col),s.push(f))}}),this.height||s.length?{cells:s,number:this.number,min:c,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(s){if(s.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],s.cells.forEach(h=>{switch(h.type){case l.Types.Merge:break;default:{let d;if(h.address)d=u.decodeAddress(h.address);else if(c){const{row:f}=c,g=c.col+1;d={row:f,col:g,address:u.encodeAddress(f,g),$col$row:`$${u.n2l(g)}$${f}`}}c=d,this.getCellEx(d).model=h;break}}}),s.height?this.height=s.height:delete this.height,this.hidden=s.hidden,this.outlineLevel=s.outlineLevel||0,this.style=s.style&&JSON.parse(JSON.stringify(s.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,r,o){const i=t("../utils/col-cache");class a{constructor(l,s,c){this.table=l,this.column=s,this.index=c}_set(l,s){this.table.cacheState(),this.column[l]=s}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}r.exports=class{constructor(u,l){this.worksheet=u,l&&(this.table=l,this.validate(),this.store())}getFormula(u){switch(u.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${u.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${u.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${u.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${u.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${u.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${u.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${u.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${u.name}])`;case"custom":return u.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+u.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:u}=this,l=(y,p,v)=>{y[p]===void 0&&(y[p]=v)};l(u,"headerRow",!0),l(u,"totalsRow",!1),l(u,"style",{}),l(u.style,"theme","TableStyleMedium2"),l(u.style,"showFirstColumn",!1),l(u.style,"showLastColumn",!1),l(u.style,"showRowStripes",!1),l(u.style,"showColumnStripes",!1);const s=(y,p)=>{if(!y)throw new Error(p)};s(u.ref,"Table must have ref"),s(u.columns,"Table must have column definitions"),s(u.rows,"Table must have row definitions"),u.tl=i.decodeAddress(u.ref);const{row:c,col:h}=u.tl;s(c>0,"Table must be on valid row"),s(h>0,"Table must be on valid col");const{width:d,filterHeight:f,tableHeight:g}=this;u.autoFilterRef=i.encode(c,h,c+f-1,h+d-1),u.tableRef=i.encode(c,h,c+g-1,h+d-1),u.columns.forEach((y,p)=>{s(y.name,`Column ${p} must have a name`),p===0?l(y,"totalsRowLabel","Total"):(l(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const u=(f,g)=>{g&&Object.keys(g).forEach(y=>{f[y]=g[y]})},{worksheet:l,table:s}=this,{row:c,col:h}=s.tl;let d=0;if(s.headerRow){const f=l.getRow(c+d++);s.columns.forEach((g,y)=>{const{style:p,name:v}=g,m=f.getCell(h+y);m.value=v,u(m,p)})}if(s.rows.forEach(f=>{const g=l.getRow(c+d++);f.forEach((y,p)=>{const v=g.getCell(h+p);v.value=y,u(v,s.columns[p].style)})}),s.totalsRow){const f=l.getRow(c+d++);s.columns.forEach((g,y)=>{const p=f.getCell(h+y);if(y===0)p.value=g.totalsRowLabel;else{const v=this.getFormula(g);p.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}u(p,g.style)})}}load(u){const{table:l}=this,{row:s,col:c}=l.tl;let h=0;if(l.headerRow){const d=u.getRow(s+h++);l.columns.forEach((f,g)=>{d.getCell(c+g).value=f.name})}if(l.rows.forEach(d=>{const f=u.getRow(s+h++);d.forEach((g,y)=>{f.getCell(c+y).value=g})}),l.totalsRow){const d=u.getRow(s+h++);l.columns.forEach((f,g)=>{const y=d.getCell(c+g);g===0?y.value=f.totalsRowLabel:this.getFormula(f)&&(y.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(u){this.table=u}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const u=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const s=this.worksheet.getRow(u.row+l);for(let c=0;c<this._cache.width;c++)s.getCell(u.col+c).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const s=this.worksheet.getRow(u.row+l);for(let c=0;c<this._cache.width;c++)s.getCell(u.col+c).value=null}for(let l=0;l<this.tableHeight;l++){const s=this.worksheet.getRow(u.row+l);for(let c=this.width;c<this._cache.width;c++)s.getCell(u.col+c).value=null}}this.store()}addRow(u,l){this.cacheState(),l===void 0?this.table.rows.push(u):this.table.rows.splice(l,0,u)}removeRows(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(u,l)}getColumn(u){const l=this.table.columns[u];return new a(this,l,u)}addColumn(u,l,s){this.cacheState(),s===void 0?(this.table.columns.push(u),this.table.rows.forEach((c,h)=>{c.push(l[h])})):(this.table.columns.splice(s,0,u),this.table.rows.forEach((c,h)=>{c.splice(s,0,l[h])}))}removeColumns(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(u,l),this.table.rows.forEach(s=>{s.splice(u,l)})}_assign(u,l,s){this.cacheState(),u[l]=s}get ref(){return this.table.ref}set ref(u){this._assign(this.table,"ref",u)}get name(){return this.table.name}set name(u){this.table.name=u}get displayName(){return this.table.displyName||this.table.name}set displayNamename(u){this.table.displayName=u}get headerRow(){return this.table.headerRow}set headerRow(u){this._assign(this.table,"headerRow",u)}get totalsRow(){return this.table.totalsRow}set totalsRow(u){this._assign(this.table,"totalsRow",u)}get theme(){return this.table.style.name}set theme(u){this.table.style.name=u}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(u){this.table.style.showFirstColumn=u}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(u){this.table.style.showLastColumn=u}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(u){this.table.style.showRowStripes=u}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(u){this.table.style.showColumnStripes=u}}},{"../utils/col-cache":19}],13:[function(t,r,o){const i=t("./worksheet"),a=t("./defined-names"),u=t("../xlsx/xlsx"),l=t("../csv/csv");r.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new u(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let s=1;s<this._worksheets.length;s++)if(!this._worksheets[s])return s;return this._worksheets.length||1}addWorksheet(s,c){const h=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const d=this._worksheets.reduce((y,p)=>(p&&p.orderNo)>y?p.orderNo:y,0),f=Object.assign({},c,{id:h,name:s,orderNo:d+1,workbook:this}),g=new i(f);return this._worksheets[h]=g,g}removeWorksheetEx(s){delete this._worksheets[s.id]}removeWorksheet(s){const c=this.getWorksheet(s);c&&c.destroy()}getWorksheet(s){return s===void 0?this._worksheets.find(Boolean):typeof s=="number"?this._worksheets[s]:typeof s=="string"?this._worksheets.find(c=>c&&c.name===s):void 0}get worksheets(){return this._worksheets.slice(1).sort((s,c)=>s.orderNo-c.orderNo).filter(Boolean)}eachSheet(s){this.worksheets.forEach(c=>{s(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(s){const c=this.media.length;return this.media.push(Object.assign({},s,{type:"image"})),c}getImage(s){return this.media[s]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(s=>s.model),sheets:this.worksheets.map(s=>s.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(s){this.creator=s.creator,this.lastModifiedBy=s.lastModifiedBy,this.lastPrinted=s.lastPrinted,this.created=s.created,this.modified=s.modified,this.company=s.company,this.manager=s.manager,this.title=s.title,this.subject=s.subject,this.keywords=s.keywords,this.category=s.category,this.description=s.description,this.language=s.language,this.revision=s.revision,this.contentStatus=s.contentStatus,this.properties=s.properties,this.calcProperties=s.calcProperties,this._worksheets=[],s.worksheets.forEach(c=>{const{id:h,name:d,state:f}=c,g=s.sheets&&s.sheets.findIndex(y=>y.id===h);(this._worksheets[h]=new i({id:h,name:d,orderNo:g,state:f,workbook:this})).model=c}),this._definedNames.model=s.definedNames,this.views=s.views,this._themes=s.themes,this.media=s.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,r,o){const i=t("../utils/under-dash"),a=t("../utils/col-cache"),u=t("./range"),l=t("./row"),s=t("./column"),c=t("./enums"),h=t("./image"),d=t("./table"),f=t("./data-validations"),g=t("../utils/encryptor"),{copyStyle:y}=t("../utils/copy-style");r.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new f,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new u;return this._rows.forEach(v=>{if(v){const m=v.dimensions;m&&p.expand(v.number,m.min,v.number,m.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((x,k)=>{const I=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(x,I)},0);let v=1;const m=this._columns=[];p.forEach(x=>{const k=new s(this,v++,!1);m.push(k),k.defn=x})}getColumnKey(p){return this._keys[p]}setColumnKey(p,v){this._keys[p]=v}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){i.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const v=this._keys[p];if(v)return v;p=a.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let v=this._columns.length+1;for(;v<=p;)this._columns.push(new s(this,v++))}return this._columns[p-1]}spliceColumns(p,v){const m=this._rows.length;for(var x=arguments.length,k=new Array(x>2?x-2:0),I=2;I<x;I++)k[I-2]=arguments[I];if(k.length>0)for(let z=0;z<m;z++){const B=[p,v];k.forEach($=>{B.push($[z]||null)});const H=this.getRow(z+1);H.splice.apply(H,B)}else this._rows.forEach(z=>{z&&z.splice(p,v)});const D=k.length-v,V=p+v,L=this._columns.length;if(D<0)for(let z=p+k.length;z<=L;z++)this.getColumn(z).defn=this.getColumn(z-D).defn;else if(D>0)for(let z=L;z>=V;z--)this.getColumn(z+D).defn=this.getColumn(z).defn;for(let z=p;z<p+k.length;z++)this.getColumn(z).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,v,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(v=>{p=Math.max(p,v.cellCount)}),p}get actualColumnCount(){const p=[];let v=0;return this.eachRow(m=>{m.eachCell(x=>{let{col:k}=x;p[k]||(p[k]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const p=this._rows;let v=p.length;for(;v>0&&p[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,v){return this._rows.slice(p-1,p-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let v=this._rows[p-1];return v||(v=this._rows[p-1]=new l(this,p)),v}getRows(p,v){if(v<1)return;const m=[];for(let x=p;x<p+v;x++)m.push(this.getRow(x));return m}addRow(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=this._nextRow,x=this.getRow(m);return x.values=p,this._setStyleOption(m,v[0]==="i"?v:"n"),x}addRows(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=[];return p.forEach(x=>{m.push(this.addRow(x,v))}),m}insertRow(p,v){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,v),this._setStyleOption(p,m),this.getRow(p)}insertRows(p,v){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...v),m!=="n")for(let x=0;x<v.length;x++)m[0]==="o"&&this.findRow(v.length+p+x)!==void 0?this._copyStyle(v.length+p+x,p+x,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+x,m[1]==="+");return this.getRows(p,v.length)}_setStyleOption(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,v[1]==="+"):v[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,v[1]==="+")}_copyStyle(p,v){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(p),k=this.getRow(v);k.style=y(x.style),x.eachCell({includeEmpty:m},(I,D)=>{k.getCell(D).style=y(I.style)}),k.height=x.height}duplicateRow(p,v){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[p-1],k=new Array(v).fill(x.values);this.spliceRows(p+1,m?0:v,...k);for(let I=0;I<v;I++){const D=this._rows[p+I];D.style=x.style,D.height=x.height,x.eachCell({includeEmpty:!0},(V,L)=>{D.getCell(L).style=V.style})}}spliceRows(p,v){const m=p+v;for(var x=arguments.length,k=new Array(x>2?x-2:0),I=2;I<x;I++)k[I-2]=arguments[I];const D=k.length,V=D-v,L=this._rows.length;let z,B;if(V<0)for(p===L&&(this._rows[L-1]=void 0),z=m;z<=L;z++)if(B=this._rows[z-1],B){const H=this.getRow(z+V);H.values=B.values,H.style=B.style,H.height=B.height,B.eachCell({includeEmpty:!0},($,A)=>{H.getCell(A).style=$.style}),this._rows[z-1]=void 0}else this._rows[z+V-1]=void 0;else if(V>0)for(z=L;z>=m;z--)if(B=this._rows[z-1],B){const H=this.getRow(z+V);H.values=B.values,H.style=B.style,H.height=B.height,B.eachCell({includeEmpty:!0},($,A)=>{if(H.getCell(A).style=$.style,$._value.constructor.name==="MergeValue"){const P=this.getRow($._row._number+D).getCell(A),C=$._value._master,b=this.getRow(C._row._number+D).getCell(C._column._number);P.merge(b)}})}else this._rows[z+V-1]=void 0;for(z=0;z<D;z++){const H=this.getRow(p+z);H.style={},H.values=k[z]}this.workbook.definedNames.spliceRows(this.name,p,v,D)}eachRow(p,v){if(v||(v=p,p=void 0),p&&p.includeEmpty){const m=this._rows.length;for(let x=1;x<=m;x++)v(this.getRow(x),x)}else this._rows.forEach(m=>{m&&m.hasValues&&v(m,m.number)})}getSheetValues(){const p=[];return this._rows.forEach(v=>{v&&(p[v.number]=v.values)}),p}findCell(p,v){const m=a.getAddress(p,v),x=this._rows[m.row-1];return x?x.findCell(m.col):void 0}getCell(p,v){const m=a.getAddress(p,v);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];const x=new u(v);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];const x=new u(v);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(p,v){i.each(this._merges,x=>{if(x.intersects(p))throw new Error("Cannot merge already merged cells")});const m=this.getCell(p.top,p.left);for(let x=p.top;x<=p.bottom;x++)for(let k=p.left;k<=p.right;k++)(x>p.top||k>p.left)&&this.getCell(x,k).merge(m,v);this._merges[m.address]=p}_unMergeMaster(p){const v=this._merges[p.address];if(v){for(let m=v.top;m<=v.bottom;m++)for(let x=v.left;x<=v.right;x++)this.getCell(m,x).unmerge();delete this._merges[p.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];const x=new u(v);for(let k=x.top;k<=x.bottom;k++)for(let I=x.left;I<=x.right;I++){const D=this.findCell(k,I);D&&(D.type===c.ValueType.Merge?this._unMergeMaster(D.master):this._merges[D.address]&&this._unMergeMaster(D))}}fillFormula(p,v,m){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=a.decode(p),{top:I,left:D,bottom:V,right:L}=k,z=L-D+1,B=a.encodeAddress(I,D),H=x==="shared";let $;$=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(P,C)=>m[P-I][C-D]:(P,C)=>m[(P-I)*z+(C-D)]:()=>{};let A=!0;for(let P=I;P<=V;P++)for(let C=D;C<=L;C++)A?(this.getCell(P,C).value={shareType:x,formula:v,ref:p,result:$(P,C)},A=!1):this.getCell(P,C).value=H?{sharedFormula:B,result:$(P,C)}:$(P,C)}addImage(p,v){const m={type:"image",imageId:p,range:v};this._media.push(new h(this,m))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const v={type:"background",imageId:p};this._media.push(new h(this,v))}getBackgroundImageId(){const p=this._media.find(v=>v.type==="background");return p&&p.imageId}protect(p,v){return new Promise(m=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!p&&"spinCount"in v&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(p){const v=new d(this,p);return this.tables[p.name]=v,v}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};p.cols=s.toModel(this.columns);const v=p.rows=[],m=p.dimensions=new u;return this._rows.forEach(x=>{const k=x&&x.model;k&&(m.expand(k.number,k.min,k.number,k.max),v.push(k))}),p.merges=[],i.each(this._merges,x=>{p.merges.push(x.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(v=>{const m=new l(this,v.number);this._rows[m.number-1]=m,m.model=v})}_parseMergeCells(p){i.each(p.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(p){this.name=p.name,this._columns=s.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new f(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(v=>new h(this,v)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((v,m)=>{const x=new d;return x.model=m,v[m.name]=x,v},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,r,o){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const i={Workbook:t("./doc/workbook")},a=t("./doc/enums");Object.keys(a).forEach(u=>{i[u]=a[u]}),r.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,r,o){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");o.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(t,r,o){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=t("buffer");o.stringToBuffer=function(u){return typeof u!="string"?u:i?a.from(i.encode(u).buffer):a.from(u)}},{buffer:220}],18:[function(t,r,o){const i=t("./under-dash"),a=t("./col-cache");r.exports=class{constructor(u){this.template=u,this.sheets={}}addCell(u){this.addCellEx(a.decodeEx(u))}getCell(u){return this.findCellEx(a.decodeEx(u),!0)}findCell(u){return this.findCellEx(a.decodeEx(u),!1)}findCellAt(u,l,s){const c=this.sheets[u],h=c&&c[l];return h&&h[s]}addCellEx(u){if(u.top)for(let l=u.top;l<=u.bottom;l++)for(let s=u.left;s<=u.right;s++)this.getCellAt(u.sheetName,l,s);else this.findCellEx(u,!0)}getCellEx(u){return this.findCellEx(u,!0)}findCellEx(u,l){const s=this.findSheet(u,l),c=this.findSheetRow(s,u,l);return this.findRowCell(c,u,l)}getCellAt(u,l,s){const c=this.sheets[u]||(this.sheets[u]=[]),h=c[l]||(c[l]=[]);return h[s]||(h[s]={sheetName:u,address:a.n2l(s)+l,row:l,col:s})}removeCellEx(u){const l=this.findSheet(u);if(!l)return;const s=this.findSheetRow(l,u);s&&delete s[u.col]}forEachInSheet(u,l){const s=this.sheets[u];s&&s.forEach((c,h)=>{c&&c.forEach((d,f)=>{d&&l(d,h,f)})})}forEach(u){i.each(this.sheets,(l,s)=>{this.forEachInSheet(s,u)})}map(u){const l=[];return this.forEach(s=>{l.push(u(s))}),l}findSheet(u,l){const s=u.sheetName;return this.sheets[s]?this.sheets[s]:l?this.sheets[s]=[]:void 0}findSheetRow(u,l,s){const{row:c}=l;return u&&u[c]?u[c]:s?u[c]=[]:void 0}findRowCell(u,l,s){const{col:c}=l;return u&&u[c]?u[c]:s?u[c]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(u,l,s,c){const h=this.sheets[u];if(h){const d=[];for(let f=0;f<c;f++)d.push([]);h.splice(l,s,...d)}}spliceColumns(u,l,s,c){const h=this.sheets[u];if(h){const d=[];for(let f=0;f<c;f++)d.push(null);i.each(h,f=>{f.splice(l,s,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,r,o){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:u=>u<=26?1:u<=676?2:3,_fill(u){let l,s,c,h,d,f=1;if(u>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&u>=1){for(;f<=26;)l=this._dictionary[f-1],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&u>=2){for(f=27;f<=702;)s=f-27,c=s%26,h=Math.floor(s/26),l=this._dictionary[h]+this._dictionary[c],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&u>=3){for(f=703;f<=16384;)s=f-703,c=s%26,h=Math.floor(s/26)%26,d=Math.floor(s/676),l=this._dictionary[d]+this._dictionary[h]+this._dictionary[c],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=3}},l2n(u){if(this._l2n[u]||this._fill(u.length),!this._l2n[u])throw new Error("Out of bounds. Invalid column letter: "+u);return this._l2n[u]},n2l(u){if(u<1||u>16384)throw new Error(u+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[u]||this._fill(this._level(u)),this._n2l[u]},_hash:{},validateAddress(u){if(!i.test(u))throw new Error("Invalid Address: "+u);return!0},decodeAddress(u){const l=u.length<5&&this._hash[u];if(l)return l;let s=!1,c="",h=0,d=!1,f="",g=0;for(let p,v=0;v<u.length;v++)if(p=u.charCodeAt(v),!d&&p>=65&&p<=90)s=!0,c+=u[v],h=26*h+p-64;else if(p>=48&&p<=57)d=!0,f+=u[v],g=10*g+p-48;else if(d&&s&&p!==36)break;if(s){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else h=void 0;d||(g=void 0);const y={address:u=c+f,col:h,row:g,$col$row:`$${c}$${f}`};return h<=100&&g<=100&&(this._hash[u]=y,this._hash[y.$col$row]=y),y},getAddress(u,l){if(l){const s=this.n2l(l)+u;return this.decodeAddress(s)}return this.decodeAddress(u)},decode(u){const l=u.split(":");if(l.length===2){const s=this.decodeAddress(l[0]),c=this.decodeAddress(l[1]),h={top:Math.min(s.row,c.row),left:Math.min(s.col,c.col),bottom:Math.max(s.row,c.row),right:Math.max(s.col,c.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(u)},decodeEx(u){const l=u.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),s=l[1]||l[2],c=l[3],h=c.split(":");if(h.length>1){let f=this.decodeAddress(h[0]),g=this.decodeAddress(h[1]);const y=Math.min(f.row,g.row),p=Math.min(f.col,g.col),v=Math.max(f.row,g.row),m=Math.max(f.col,g.col);return f=this.n2l(p)+y,g=this.n2l(m)+v,{top:y,left:p,bottom:v,right:m,sheetName:s,tl:{address:f,col:p,row:y,$col$row:`$${this.n2l(p)}$${y}`,sheetName:s},br:{address:g,col:m,row:v,$col$row:`$${this.n2l(m)}$${v}`,sheetName:s},dimensions:`${f}:${g}`}}if(c.startsWith("#"))return s?{sheetName:s,error:c}:{error:c};const d=this.decodeAddress(c);return s?{sheetName:s,...d}:d},encodeAddress:(u,l)=>a.n2l(l)+u,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(u,l){const[s,c,,h,d]=u,[f,g]=l;return f>=s&&f<=h&&g>=c&&g<=d}};r.exports=a},{}],20:[function(t,r,o){const i=(u,l)=>({...u,...l.reduce((s,c)=>(u[c]&&(s[c]={...u[c]}),s),{})}),a=function(u,l,s){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];u[s]&&(l[s]=i(u[s],c))};o.copyStyle=u=>{if(!u)return u;if(l=u,Object.keys(l).length===0)return{};var l;const s={...u};return a(u,s,"font",["color"]),a(u,s,"alignment"),a(u,s,"protection"),u.border&&(a(u,s,"border"),a(u.border,s.border,"top",["color"]),a(u.border,s.border,"left",["color"]),a(u.border,s.border,"bottom",["color"]),a(u.border,s.border,"right",["color"]),a(u.border,s.border,"diagonal",["color"])),u.fill&&(a(u,s,"fill",["fgColor","bgColor","center"]),u.fill.stops&&(s.fill.stops=u.fill.stops.map(c=>i(c,["color"])))),s}},{}],21:[function(t,r,o){(function(i){(function(){const a=t("crypto"),u={hash(l){const s=a.createHash(l);for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];return s.update(i.concat(h)),s.digest()},convertPasswordToHash(l,s,c,h){if(s=s.toLowerCase(),a.getHashes().indexOf(s)<0)throw new Error(`Hash algorithm '${s}' not supported!`);const d=i.from(l,"utf16le");let f=this.hash(s,i.from(c,"base64"),d);for(let g=0;g<h;g++){const y=i.alloc(4);y.writeUInt32LE(g,0),f=this.hash(s,f,y)}return f.toString("base64")},randomBytes:l=>a.randomBytes(l)};r.exports=u}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,r,o){const{SaxesParser:i}=t("saxes"),{PassThrough:a}=t("readable-stream"),{bufferToString:u}=t("./browser-buffer-decode");r.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new a));const s=new i;let c;s.on("error",d=>{c=d});let h=[];s.on("opentag",d=>h.push({eventType:"opentag",value:d})),s.on("text",d=>h.push({eventType:"text",value:d})),s.on("closetag",d=>h.push({eventType:"closetag",value:d}));for await(const d of l){if(s.write(u(d)),c)throw c;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,r,o){const i=t("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,u=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;r.exports={slideFormula:function(l,s,c){const h=i.decode(s),d=i.decode(c);return l.replace(a,(f,g,y,p,v)=>{if(v)return f;const m=u.exec(p);if(m){const x=m[1],k=m[2].toUpperCase(),I=m[3],D=m[4];if(k.length>3||k.length===3&&k>"XFD")return f;let V=i.l2n(k),L=parseInt(D,10);return x||(V+=d.col-h.col),I||(L+=d.row-h.row),(g||"")+(x||"")+i.n2l(V)+(I||"")+L}return f})}}},{"./col-cache":19}],24:[function(t,r,o){(function(i,a){(function(){const u=t("readable-stream"),l=t("./utils"),s=t("./string-buf");class c{constructor(p,v){this._data=p,this._encoding=v}get length(){return this.toBuffer().length}copy(p,v,m,x){return this.toBuffer().copy(p,v,m,x)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,v,m,x){return this._data._buf.copy(p,v,m,x)}toBuffer(){return this._data.toBuffer()}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,v,m,x){this._data.copy(p,v,m,x)}toBuffer(){return this._data}}class f{constructor(p){this.size=p,this.buffer=a.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let v;return p===0?null:p===void 0||p>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(p),this.buffer.copy(v,0,this.iRead,p),this.iRead+=p,v)}write(p,v,m){const x=Math.min(m,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,v,v+x),this.iWrite+=x,x}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(g,u.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const y=new f(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map(function(p){return new Promise(v=>{p.write(y.toBuffer(),()=>{v()})})}))},_writeToBuffers(y){let p=0;const v=y.length;for(;p<v;)p+=this._getWritableBuffer().write(y,p,v-p)},async write(y,p,v){let m;if(p instanceof Function&&(v=p,p="utf8"),v=v||l.nop,y instanceof s)m=new h(y);else if(y instanceof a)m=new d(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new c(y,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),i.nextTick(v)):(await this._pipe(m),v());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,p,v){const m=x=>{x?v(x):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};y?this.write(y,p,m):m()},read(y){let p;if(y){for(p=[];y&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],m=v.read(y);y-=m.length,p.push(m),v.eod&&v.full&&this.buffers.shift()}return a.concat(p)}return p=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(p)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(p=>p!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),r.exports=g}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,r,o){(function(i){(function(){r.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let u=2*this._buf.length;for(;u<a;)u*=2;const l=i.alloc(u);this._buf.copy(l,0),this._buf=l}addText(a){this._buffer=void 0;let u=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;u>=this._buf.length-4;)this._grow(this._inPos+a.length),u=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=u}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,r,o){const{toString:i}=Object.prototype,a=/["&<>]/,u={each:function(l,s){l&&(Array.isArray(l)?l.forEach(s):Object.keys(l).forEach(c=>{s(l[c],c)}))},some:function(l,s){return!!l&&(Array.isArray(l)?l.some(s):Object.keys(l).some(c=>s(l[c],c)))},every:function(l,s){return!l||(Array.isArray(l)?l.every(s):Object.keys(l).every(c=>s(l[c],c)))},map:function(l,s){return l?Array.isArray(l)?l.map(s):Object.keys(l).map(c=>s(l[c],c)):[]},keyBy:(l,s)=>l.reduce((c,h)=>(c[h[s]]=h,c),{}),isEqual:function(l,s){const c=typeof l,h=typeof s,d=Array.isArray(l),f=Array.isArray(s);let g;if(c!==h)return!1;switch(typeof l){case"object":if(d||f)return!(!d||!f)&&l.length===s.length&&l.every((y,p)=>{const v=s[p];return u.isEqual(y,v)});if(l===null||s===null)return l===s;if(g=Object.keys(l),Object.keys(s).length!==g.length)return!1;for(const y of g)if(!s.hasOwnProperty(y))return!1;return u.every(l,(y,p)=>{const v=s[p];return u.isEqual(y,v)});default:return l===s}},escapeHtml(l){const s=a.exec(l);if(!s)return l;let c="",h="",d=0,f=s.index;for(;f<l.length;f++){switch(l.charAt(f)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}d!==f&&(c+=l.substring(d,f)),d=f+1,c+=h}return d!==f?c+l.substring(d,f):c},strcmp:(l,s)=>l<s?-1:l>s?1:0,isUndefined:l=>i.call(l)==="[object Undefined]",isObject:l=>i.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:s}=arguments;let c,h,d;function f(g,y){c=l[y],d=Array.isArray(g),u.isObject(g)||d?(d?(d=!1,h=c&&Array.isArray(c)?c:[]):h=c&&u.isObject(c)?c:{},l[y]=u.deepMerge(h,g)):u.isUndefined(g)||(l[y]=g)}for(let g=0;g<s;g++)u.each(arguments[g],f);return l}};r.exports=u},{}],27:[function(t,r,o){(function(i,a){(function(){const u=t("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,s={nop(){},promiseImmediate:c=>new Promise(h=>{i.setImmediate?a(()=>{h(c)}):setTimeout(()=>{h(c)},1)}),inherits:function(c,h,d,f){c.super_=h,f||(f=d,d=null),d&&Object.keys(d).forEach(y=>{Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(d,y))});const g={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(f,y)}),c.prototype=Object.create(h.prototype,g)},dateToExcel:(c,h)=>25569+c.getTime()/864e5-(h?1462:0),excelToDate(c,h){const d=Math.round(24*(c-25569+(h?1462:0))*3600*1e3);return new Date(d)},parsePath(c){const h=c.lastIndexOf("/");return{path:c.substring(0,h),name:c.substring(h+1)}},getRelsPath(c){const h=s.parsePath(c);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(c){const h=l.exec(c);if(!h)return c;let d="",f="",g=0,y=h.index;for(;y<c.length;y++){const p=c.charCodeAt(y);switch(p){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){f="";break}continue}g!==y&&(d+=c.substring(g,y)),g=y+1,f&&(d+=f)}return g!==y?d+c.substring(g,y):d},xmlDecode:c=>c.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(c){const h=parseInt(c,10);return Number.isNaN(h)?0:h},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(h=>{u.access(c,u.constants.F_OK,d=>{h(!d)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};r.exports=s}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,r,o){const i=t("./under-dash"),a=t("./utils");function u(c,h,d){c.push(` ${h}="${a.xmlEncode(d.toString())}"`)}function l(c,h){if(h){const d=[];i.each(h,(f,g)=>{f!==void 0&&u(d,g,f)}),c.push(d.join(""))}}class s{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const d=this._xml;d.push("<?xml"),l(d,h),d.push(`?>
`)}openNode(h,d){const f=this.tos,g=this._xml;f&&this.open&&g.push(">"),this._stack.push(h),g.push("<"),g.push(h),l(g,d),this.leaf=!0,this.open=!0}addAttribute(h,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&u(this._xml,h,d)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,h)}writeText(h){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(a.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(h),d.push(">")),this.open=!1,this.leaf=!1}leafNode(h,d,f){this.openNode(h,d),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}s.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},r.exports=s},{"./under-dash":26,"./utils":27}],29:[function(t,r,o){(function(i){(function(){const a=t("events"),u=t("jszip"),l=t("./stream-buf"),{stringToBuffer:s}=t("./browser-buffer-encode");class c extends a.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new u,this.stream=new l}append(d,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,d,{base64:!0}):(i.browser&&typeof d=="string"&&(d=s(d)),this.zip.file(f.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,f){return this.stream.pipe(d,f)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}r.exports={ZipWriter:c}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,r,o){r.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,r,o){r.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,r,o){const i=t("../../utils/parse-sax"),a=t("../../utils/xml-stream");class u{prepare(){}render(){}parseOpen(s){}parseText(s){}parseClose(s){}reconcile(s,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(s=>{s instanceof u?s.reset():s.xform&&s.xform.reset()})}mergeModel(s){this.model=Object.assign(this.model||{},s)}async parse(s){for await(const c of s)for(const{eventType:h,value:d}of c)if(h==="opentag")this.parseOpen(d);else if(h==="text")this.parseText(d);else if(h==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(s){return this.parse(i(s))}get xml(){return this.toXml(this.model)}toXml(s){const c=new a;return this.render(c,s),c.xml}static toAttribute(s,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(s===void 0){if(h)return c}else if(h||s!==c)return s.toString()}static toStringAttribute(s,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(s,c,h)}static toStringValue(s,c){return s===void 0?c:s}static toBoolAttribute(s,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(s===void 0){if(h)return c}else if(h||s!==c)return s?"1":"0"}static toBoolValue(s,c){return s===void 0?c:s==="1"}static toIntAttribute(s,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(s,c,h)}static toIntValue(s,c){return s===void 0?c:parseInt(s,10)}static toFloatAttribute(s,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(s,c,h)}static toFloatValue(s,c){return s===void 0?c:parseFloat(s)}}r.exports=u},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,r,o){const i=t("../base-xform"),a=t("../../../utils/col-cache");function u(s){try{return a.decodeEx(s),!0}catch{return!1}}function l(s){const c=[];let h=!1,d="";return s.split(",").forEach(f=>{if(!f)return;const g=(f.match(/'/g)||[]).length;if(!g)return void(h?d+=f+",":u(f)&&c.push(f));const y=g%2==0;!h&&y&&u(f)?c.push(f):h&&!y?(h=!1,u(d+f)&&c.push(d+f),d=""):(h=!0,d+=f+",")}),c}r.exports=class extends i{render(s,c){s.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),s.writeText(c.ranges.join(",")),s.closeNode()}parseOpen(s){switch(s.name){case"definedName":return this._parsedName=s.attributes.name,this._parsedLocalSheetId=s.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(s){this._parsedText.push(s)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,r,o){const i=t("../../../utils/utils"),a=t("../base-xform");r.exports=class extends a{render(u,l){u.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(u){return u.name==="sheet"&&(this.model={name:i.xmlDecode(u.attributes.name),id:parseInt(u.attributes.sheetId,10),state:u.attributes.state,rId:u.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{render(a,u){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:u.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{render(a,u){a.leafNode("workbookPr",{date1904:u.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{render(a,u){const l={xWindow:u.x||0,yWindow:u.y||0,windowWidth:u.width||12e3,windowHeight:u.height||24e3,firstSheet:u.firstSheet,activeTab:u.activeTab};u.visibility&&u.visibility!=="visible"&&(l.visibility=u.visibility),a.leafNode("workbookView",l)}parseOpen(a){if(a.name==="workbookView"){const u=this.model={},l=function(c,h,d){const f=h!==void 0?u[c]=h:d;f!==void 0&&(u[c]=f)},s=function(c,h,d){const f=h!==void 0?u[c]=parseInt(h,10):d;f!==void 0&&(u[c]=f)};return s("x",a.attributes.xWindow,0),s("y",a.attributes.yWindow,0),s("width",a.attributes.windowWidth,25e3),s("height",a.attributes.windowHeight,1e4),l("visibility",a.attributes.visibility,"visible"),s("activeTab",a.attributes.activeTab,void 0),s("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),u=t("../../../utils/xml-stream"),l=t("../base-xform"),s=t("../static-xform"),c=t("../list-xform"),h=t("./defined-name-xform"),d=t("./sheet-xform"),f=t("./workbook-view-xform"),g=t("./workbook-properties-xform"),y=t("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new c({tag:"bookViews",count:!1,childXform:new f}),sheets:new c({tag:"sheets",count:!1,childXform:new d}),definedNames:new c({tag:"definedNames",count:!1,childXform:new h}),calcPr:new y}}prepare(m){m.sheets=m.worksheets;const x=[];let k=0;m.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(D=>{const V=D.split(":"),L={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${V[0]}:$${V[1]}`],localSheetId:k};x.push(L)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){const D=[];if(I.pageSetup.printTitlesColumn){const L=I.pageSetup.printTitlesColumn.split(":");D.push(`'${I.name}'!$${L[0]}:$${L[1]}`)}if(I.pageSetup.printTitlesRow){const L=I.pageSetup.printTitlesRow.split(":");D.push(`'${I.name}'!$${L[0]}:$${L[1]}`)}const V={name:"_xlnm.Print_Titles",ranges:D,localSheetId:k};x.push(V)}k++}),x.length&&(m.definedNames=m.definedNames.concat(x)),(m.media||[]).forEach((I,D)=>{I.name=I.type+(D+1)})}render(m,x){m.openXml(u.StdDocAttributes),m.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,x.properties),this.map.bookViews.render(m,x.views),this.map.sheets.render(m,x.sheets),this.map.definedNames.render(m,x.definedNames),this.map.calcPr.render(m,x.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){const x=(m.workbookRels||[]).reduce((L,z)=>(L[z.Id]=z,L),{}),k=[];let I,D=0;(m.sheets||[]).forEach(L=>{const z=x[L.rId];z&&(I=m.worksheetHash["xl/"+z.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=L.name,I.id=L.id,I.state=L.state,k[D++]=I))});const V=[];i.each(m.definedNames,L=>{if(L.name==="_xlnm.Print_Area"){if(I=k[L.localSheetId],I){I.pageSetup||(I.pageSetup={});const z=a.decodeEx(L.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${z.dimensions}`:z.dimensions}}else if(L.name==="_xlnm.Print_Titles"){if(I=k[L.localSheetId],I){I.pageSetup||(I.pageSetup={});const z=L.ranges.join(","),B=/\$/g,H=/\$\d+:\$\d+/,$=z.match(H);if($&&$.length){const C=$[0];I.pageSetup.printTitlesRow=C.replace(B,"")}const A=/\$[A-Z]+:\$[A-Z]+/,P=z.match(A);if(P&&P.length){const C=P[0];I.pageSetup.printTitlesColumn=C.replace(B,"")}}}else V.push(L)}),m.definedNames=V,m.media.forEach((L,z)=>{L.index=z})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new s({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},r.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,r,o){const i=t("../strings/rich-text-xform"),a=t("../../../utils/utils"),u=t("../base-xform"),l=r.exports=function(s){this.model=s};a.inherits(l,u,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(s,c){c=c||this.model,s.openNode("comment",{ref:c.ref,authorId:0}),s.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(h=>{this.richTextXform.render(s,h)}),s.closeNode(),s.closeNode()},parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"comment":return this.model={type:"note",note:{texts:[]},...s.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(s),!0;default:return!1}},parseText(s){this.parser&&this.parser.parseText(s)},parseClose(s){switch(s){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(s),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../../../utils/utils"),u=t("../base-xform"),l=t("./comment-xform"),s=r.exports=function(){this.map={comment:new l}};a.inherits(s,u,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,h){h=h||this.model,c.openXml(i.StdDocAttributes),c.openNode("comments",s.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),h.comments.forEach(d=>{this.map.comment.render(c,d)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,r,o){const i=t("../../base-xform");r.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,u,l){(u===l[2]||this.tag==="x:SizeWithCells"&&u===l[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,r,o){const i=t("../../base-xform");r.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const u=Math.floor(a.left),l=Math.floor(68*(a.left-u)),s=Math.floor(a.top),c=Math.floor(18*(a.top-s)),h=Math.floor(a.right),d=Math.floor(68*(a.right-h)),f=Math.floor(a.bottom);return[u,l,s,c,h,d,f,Math.floor(18*(a.bottom-f))]}getDefaultRect(a){const u=a.col,l=Math.max(a.row-2,0);return[u,6,l,14,u+2,2,l+4,16]}render(a,u){const l=u.anchor?this.getAnchorRect(u.anchor):this.getDefaultRect(u.refAddress);a.leafNode("x:Anchor",null,l.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,r,o){const i=t("../base-xform"),a=t("./vml-anchor-xform"),u=t("./style/vml-protection-xform"),l=t("./style/vml-position-xform"),s=["twoCells","oneCells","absolute"];r.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new u({tag:"x:Locked"}),"x:LockText":new u({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,h){const{protection:d,editAs:f}=h.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,f,s),this.map["x:SizeWithCells"].render(c,f,s),this.map["x:Anchor"].render(c,h),this.map["x:Locked"].render(c,d.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,d.lockText),c.leafNode("x:Row",null,h.refAddress.row-1),c.leafNode("x:Column",null,h.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(c).length;this.model.editAs=s[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),u=t("./vml-shape-xform");class l extends a{constructor(){super(),this.map={"v:shape":new u}}get tag(){return"xml"}render(c,h){c.openXml(i.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),h.comments.forEach((d,f)=>{this.map["v:shape"].render(c,d,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,h){c.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,h):this.map["xdr:oneCellAnchor"].reconcile(d,h)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,r,o){const i=t("../base-xform"),a=t("./vml-textbox-xform"),u=t("./vml-client-data-xform");class l extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new u}}get tag(){return"v:shape"}render(c,h,d){c.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(h,d)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,h),this.map["x:ClientData"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(s,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":s.note.margins&&s.note.margins.insetmode}),r.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,u,l){return`${parseFloat(a)*u.toFixed(2)}${l}`}reverseConversionUnit(a){return(a||"").split(",").map(u=>Number(parseFloat(this.conversionUnit(parseFloat(u),.1,"")).toFixed(2)))}render(a,u){const l={style:"mso-direction-alt:auto"};if(u&&u.note){let{inset:s}=u.note&&u.note.margins;Array.isArray(s)&&(s=s.map(c=>this.conversionUnit(c,10,"mm")).join(",")),s&&(l.inset=s)}a.openNode("v:textbox",l),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,r,o){const i=t("./base-xform");r.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,u){this.model[a]=u.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{render(a,u){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,u.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{render(a,u){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:u.length,baseType:"lpstr"}),u.forEach(l=>{a.leafNode("vt:lpstr",void 0,l.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),u=t("../simple/string-xform"),l=t("./app-heading-pairs-xform"),s=t("./app-titles-of-parts-xform");class c extends a{constructor(){super(),this.map={Company:new u({tag:"Company"}),Manager:new u({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new s}}render(d,f){d.openXml(i.StdDocAttributes),d.openNode("Properties",c.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,f.worksheets),this.map.TitleOfParts.render(d,f.worksheets),this.map.Company.render(d,f.company||""),this.map.Manager.render(d,f.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../base-xform");class u extends a{render(s,c){s.openXml(i.StdDocAttributes),s.openNode("Types",u.PROPERTY_ATTRIBUTES);const h={};(c.media||[]).forEach(d=>{if(d.type==="image"){const f=d.extension;h[f]||(h[f]=!0,s.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),s.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),s.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),s.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(d=>{const f=`/xl/worksheets/sheet${d.id}.xml`;s.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),s.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),s.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&s.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(d=>{s.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(d=>{s.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(s.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(d=>{let{commentName:f}=d;s.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),s.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),s.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),s.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},r.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),u=t("../simple/date-xform"),l=t("../simple/string-xform"),s=t("../simple/integer-xform");class c extends a{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new u({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new s({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new u({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new u({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(d,f){d.openXml(i.StdDocAttributes),d.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,f.creator),this.map["dc:title"].render(d,f.title),this.map["dc:subject"].render(d,f.subject),this.map["dc:description"].render(d,f.description),this.map["dc:identifier"].render(d,f.identifier),this.map["dc:language"].render(d,f.language),this.map["cp:keywords"].render(d,f.keywords),this.map["cp:category"].render(d,f.category),this.map["cp:lastModifiedBy"].render(d,f.lastModifiedBy),this.map["cp:lastPrinted"].render(d,f.lastPrinted),this.map["cp:revision"].render(d,f.revision),this.map["cp:version"].render(d,f.version),this.map["cp:contentStatus"].render(d,f.contentStatus),this.map["cp:contentType"].render(d,f.contentType),this.map["dcterms:created"].render(d,f.created),this.map["dcterms:modified"].render(d,f.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{render(a,u){a.leafNode("Relationship",u)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),u=t("./relationship-xform");class l extends a{constructor(){super(),this.map={Relationship:new u}}render(c,h){h=h||this._values,c.openXml(i.StdDocAttributes),c.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),h.forEach(d=>{this.map.Relationship.render(c,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,u){if(a&&a.rId){const l=u.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const s=l[1],c=u.mediaIndex[s];return u.media[c]}}}}},{"../base-xform":32}],57:[function(t,r,o){const i=t("../base-xform"),a=t("./blip-xform");r.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(u,l){u.openNode(this.tag),this.map["a:blip"].render(u,l),u.openNode("a:stretch"),u.leafNode("a:fillRect"),u.closeNode(),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"a:blip"}render(a,u){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":u.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,r,o){const i=t("../base-xform"),a=t("./hlink-click-xform"),u=t("./ext-lst-xform");r.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new u}}get tag(){return"xdr:cNvPr"}render(l,s){l.openNode(this.tag,{id:s.index,name:"Picture "+s.index}),this.map["a:hlinkClick"].render(l,s),this.map["a:extLst"].render(l,s),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,r,o){const i=t("../base-xform"),a=t("../simple/integer-xform");r.exports=class extends i{constructor(u){super(),this.tag=u.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(u,l){u.openNode(this.tag),this.map["xdr:col"].render(u,l.nativeCol),this.map["xdr:colOff"].render(u,l.nativeColOff),this.map["xdr:row"].render(u,l.nativeRow),this.map["xdr:rowOff"].render(u,l.nativeRowOff),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,r,o){const i=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),u=t("../base-xform"),l=t("./two-cell-anchor-xform"),s=t("./one-cell-anchor-xform");class c extends u{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new s}}prepare(d){d.anchors.forEach((f,g)=>{f.anchorType=function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:g})})}get tag(){return"xdr:wsDr"}render(d,f){d.openXml(a.StdDocAttributes),d.openNode(this.tag,c.DRAWING_ATTRIBUTES),f.anchors.forEach(g=>{this.map[g.anchorType].render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,f){d.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,f):this.map["xdr:oneCellAnchor"].reconcile(g,f)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},r.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,u){a.openNode(this.tag);const l=Math.floor(9525*u.width),s=Math.floor(9525*u.height);a.addAttribute("cx",l),a.addAttribute("cy",s),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,u){u.hyperlinks&&u.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":u.hyperlinks.rId,tooltip:u.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,r,o){const i=t("../base-xform"),a=t("./c-nv-pr-xform"),u=t("./c-nv-pic-pr-xform");r.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new u}}get tag(){return"xdr:nvPicPr"}render(l,s){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,s),this.map["xdr:cNvPicPr"].render(l,s),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,r,o){const i=t("./base-cell-anchor-xform"),a=t("../static-xform"),u=t("./cell-position-xform"),l=t("./ext-xform"),s=t("./pic-xform");r.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new s,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,h){this.map["xdr:pic"].prepare(c.picture,h)}render(c,h){c.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,h.range.tl),this.map["xdr:ext"].render(c,h.range.ext),this.map["xdr:pic"].render(c,h.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,h){c.medium=this.reconcilePicture(c.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,r,o){const i=t("../base-xform"),a=t("../static-xform"),u=t("./blip-fill-xform"),l=t("./nv-pic-pr-xform"),s=t("./sp-pr");r.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new u,"xdr:spPr":new a(s)}}get tag(){return"xdr:pic"}prepare(c,h){c.index=h.index+1}render(c,h){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,h),this.map["xdr:blipFill"].render(c,h),this.map["xdr:spPr"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,r,o){r.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,r,o){const i=t("./base-cell-anchor-xform"),a=t("../static-xform"),u=t("./cell-position-xform"),l=t("./pic-xform");r.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:to":new u({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(s,c){this.map["xdr:pic"].prepare(s.picture,c)}render(s,c){s.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(s,c.range.tl),this.map["xdr:to"].render(s,c.range.br),this.map["xdr:pic"].render(s,c.picture),this.map["xdr:clientData"].render(s,{}),s.closeNode()}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(s,c){s.medium=this.reconcilePicture(s.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,r,o){const i=t("./base-xform");r.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,u){const{childXform:l}=this;a&&a.forEach((s,c)=>{u.index=c,l.prepare(s,u)})}render(a,u){if(this.always||u&&u.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,u&&u.length||0);const{childXform:l}=this;(u||[]).forEach((s,c)=>{l.render(a,s,c)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,u){if(a){const{childXform:l}=this;a.forEach(s=>{l.reconcile(s,u)})}}}},{"./base-xform":32}],72:[function(t,r,o){const i=t("../../../utils/col-cache"),a=t("../base-xform");r.exports=class extends a{get tag(){return"autoFilter"}render(u,l){if(l)if(typeof l=="string")u.leafNode("autoFilter",{ref:l});else{const s=function(d){return typeof d=="string"?d:i.getAddress(d.row,d.column).address},c=s(l.from),h=s(l.to);c&&h&&u.leafNode("autoFilter",{ref:`${c}:${h}`})}}parseOpen(u){u.name==="autoFilter"&&(this.model=u.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,r,o){const i=t("../../../utils/utils"),a=t("../base-xform"),u=t("../../../doc/range"),l=t("../../../doc/enums"),s=t("../strings/rich-text-xform");function c(h){if(h==null)return l.ValueType.Null;if(h instanceof String||typeof h=="string")return l.ValueType.String;if(typeof h=="number")return l.ValueType.Number;if(typeof h=="boolean")return l.ValueType.Boolean;if(h instanceof Date)return l.ValueType.Date;if(h.text&&h.hyperlink)return l.ValueType.Hyperlink;if(h.formula)return l.ValueType.Formula;if(h.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}r.exports=class extends a{constructor(){super(),this.richTextXForm=new s}get tag(){return"c"}prepare(h,d){const f=d.styles.addStyleModel(h.style||{},function(g){switch(g.type){case l.ValueType.Formula:return c(g.result);default:return g.type}}(h));switch(f&&(h.styleId=f),h.comment&&d.comments.push({...h.comment,ref:h.address}),h.type){case l.ValueType.String:case l.ValueType.RichText:d.sharedStrings&&(h.ssId=d.sharedStrings.add(h.value));break;case l.ValueType.Date:d.date1904&&(h.date1904=!0);break;case l.ValueType.Hyperlink:d.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=d.sharedStrings.add(h.text)),d.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case l.ValueType.Merge:d.merges.add(h);break;case l.ValueType.Formula:if(d.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=d.siFormulae++),h.formula)d.formulae[h.address]=h;else if(h.sharedFormula){const g=d.formulae[h.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);g.si===void 0?(g.shareType="shared",g.si=d.siFormulae++,g.range=new u(g.address,h.address)):g.range&&g.range.expandToAddress(h.address),h.si=g.si}}}renderFormula(h,d){let f=null;switch(d.shareType){case"shared":f={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":f={t:"array",ref:d.ref};break;default:d.si!==void 0&&(f={t:"shared",si:d.si})}switch(c(d.result)){case l.ValueType.Null:h.leafNode("f",f,d.formula);break;case l.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result);break;case l.ValueType.Number:h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result?1:0);break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",f,d.formula),h.leafNode("v",null,d.result.error);break;case l.ValueType.Date:h.leafNode("f",f,d.formula),h.leafNode("v",null,i.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,d){if(d.type!==l.ValueType.Null||d.styleId){switch(h.openNode("c"),h.addAttribute("r",d.address),d.styleId&&h.addAttribute("s",d.styleId),d.type){case l.ValueType.Null:break;case l.ValueType.Number:h.leafNode("v",null,d.value);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,d.value?"1":"0");break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,d.value.error);break;case l.ValueType.String:case l.ValueType.RichText:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),d.value.richText.forEach(f=>{this.richTextXForm.render(h,f)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,d.value));break;case l.ValueType.Date:h.leafNode("v",null,i.dateToExcel(d.value,d.date1904));break;case l.ValueType.Hyperlink:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,d.text));break;case l.ValueType.Formula:this.renderFormula(h,d);break;case l.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=l.ValueType.Formula,d.value&&(this.t==="str"?d.result=i.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=l.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=l.ValueType.String,d.value=i.xmlDecode(d.value);break;case"inlineStr":d.type=l.ValueType.String;break;case"b":d.type=l.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=l.ValueType.Error,d.value={error:d.value};break;default:d.type=l.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=l.ValueType.Null:d.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,d){const f=h.styleId&&d.styles&&d.styles.getStyleModel(h.styleId);switch(f&&(h.style=f),h.styleId!==void 0&&(h.styleId=void 0),h.type){case l.ValueType.String:typeof h.value=="number"&&d.sharedStrings&&(h.value=d.sharedStrings.getString(h.value)),h.value.richText&&(h.type=l.ValueType.RichText);break;case l.ValueType.Number:f&&i.isDateFmt(f.numFmt)&&(h.type=l.ValueType.Date,h.value=i.excelToDate(h.value,d.date1904));break;case l.ValueType.Formula:h.result!==void 0&&f&&i.isDateFmt(f.numFmt)&&(h.result=i.excelToDate(h.result,d.date1904)),h.shareType==="shared"&&(h.ref?d.formulae[h.si]=h.address:(h.sharedFormula=d.formulae[h.si],delete h.shareType),delete h.si)}const g=d.hyperlinkMap[h.address];g&&(h.type===l.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=l.ValueType.Hyperlink,h.hyperlink=g);const y=d.commentsMap&&d.commentsMap[h.address];y&&(h.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,r,o){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,u){a.leafNode(this.tag,{iconSet:u.iconSet,iconId:u.iconId})}parseOpen(a){let{attributes:u}=a;this.model={iconSet:u.iconSet,iconId:i.toIntValue(u.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(t,r,o){const{v4:i}=t("uuid"),a=t("../../base-xform"),u=t("../../composite-xform"),l=t("./databar-ext-xform"),s=t("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends u{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new s}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?l.isExt(f):!(f.type!=="iconSet"||!f.custom&&!c[f.iconSet])}prepare(f){h.isExt(f)&&(f.x14Id=`{${i()}}`.toUpperCase())}render(f,g){if(h.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(f,g);break;case"iconSet":this.renderIconSet(f,g)}}renderDataBar(f,g){f.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(f,g),f.closeNode()}renderIconSet(f,g){f.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(f,g),f.closeNode()}createNewModel(f){let{attributes:g}=f;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(f,g){Object.assign(this.model,g.model)}}r.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,r,o){const i=t("../../composite-xform"),a=t("./f-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(u,l){u.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(u,l.value),u.closeNode()}createNewModel(u){return{type:u.attributes.type}}onParserClose(u,l){switch(u){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,r,o){const i=t("../../composite-xform"),a=t("./sqref-ext-xform"),u=t("./cf-rule-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new u}}get tag(){return"x14:conditionalFormatting"}prepare(l,s){l.rules.forEach(c=>{this.cfRule.prepare(c,s)})}render(l,s){s.rules.some(u.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),s.rules.filter(u.isExt).forEach(c=>this.cfRule.render(l,c)),this.sqRef.render(l,s.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,s){switch(l){case"xm:sqref":this.model.ref=s.model;break;case"x14:cfRule":this.model.rules.push(s.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,r,o){const i=t("../../composite-xform"),a=t("./cf-rule-ext-xform"),u=t("./conditional-formatting-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new u}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(s=>s.rules.some(a.isExt))),l.hasExtContent}prepare(l,s){l.forEach(c=>{this.cfXform.prepare(c,s)})}render(l,s){this.hasContent(s)&&(l.openNode(this.tag),s.forEach(c=>this.cfXform.render(l,c)),l.closeNode())}createNewModel(){return[]}onParserClose(l,s){this.model.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,r,o){const i=t("../../base-xform"),a=t("../../composite-xform"),u=t("../../style/color-xform"),l=t("./cfvo-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new u("x14:axisColor")}}static isExt(s){return!s.gradient}get tag(){return"x14:dataBar"}render(s,c){s.openNode(this.tag,{minLength:i.toIntAttribute(c.minLength,0,!0),maxLength:i.toIntAttribute(c.maxLength,100,!0),border:i.toBoolAttribute(c.border,!1),gradient:i.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(c.axisPosition,"auto"),direction:i.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(h=>{this.cfvoXform.render(s,h)}),this.borderColorXform.render(s,c.borderColor),this.negativeBorderColorXform.render(s,c.negativeBorderColor),this.negativeFillColorXform.render(s,c.negativeFillColor),this.axisColorXform.render(s,c.axisColor),s.closeNode()}createNewModel(s){let{attributes:c}=s;return{cfvo:[],minLength:i.toIntValue(c.minLength,0),maxLength:i.toIntValue(c.maxLength,100),border:i.toBoolValue(c.border,!1),gradient:i.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(c.axisPosition,"auto"),direction:i.toStringValue(c.direction,"leftToRight")}}onParserClose(s,c){const[,h]=s.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,r,o){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"xm:f"}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(t,r,o){const i=t("../../base-xform"),a=t("../../composite-xform"),u=t("./cfvo-ext-xform"),l=t("./cf-icon-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(s,c){s.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0),custom:i.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(h=>{this.cfvoXform.render(s,h)}),c.icons&&c.icons.forEach((h,d)=>{h.iconId=d,this.cfIconXform.render(s,h)}),s.closeNode()}createNewModel(s){let{attributes:c}=s;return{cfvo:[],iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse,!1),showValue:i.toBoolValue(c.showValue,!0)}}onParserClose(s,c){const[,h]=s.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,r,o){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"xm:sqref"}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(t,r,o){const i=t("../../base-xform"),a=t("../../composite-xform"),u=t("../../../../doc/range"),l=t("./databar-xform"),s=t("./ext-lst-ref-xform"),c=t("./formula-xform"),h=t("./color-scale-xform"),d=t("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:v,operator:m}=p;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:m}}};class y extends a{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new s,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!f[v.iconSet]}render(v,m){switch(m.type){case"expression":this.renderExpression(v,m);break;case"cellIs":this.renderCellIs(v,m);break;case"top10":this.renderTop10(v,m);break;case"aboveAverage":this.renderAboveAverage(v,m);break;case"dataBar":this.renderDataBar(v,m);break;case"colorScale":this.renderColorScale(v,m);break;case"iconSet":this.renderIconSet(v,m);break;case"containsText":this.renderText(v,m);break;case"timePeriod":this.renderTimePeriod(v,m)}}renderExpression(v,m){v.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(v,m.formulae[0]),v.closeNode()}renderCellIs(v,m){v.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(x=>{this.formulaXform.render(v,x)}),v.closeNode()}renderTop10(v,m){v.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:i.toBoolAttribute(m.percent,!1),bottom:i.toBoolAttribute(m.bottom,!1),rank:i.toIntValue(m.rank,10,!0)})}renderAboveAverage(v,m){v.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:i.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(v,m){v.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(v,m),this.extLstRefXform.render(v,m),v.closeNode()}renderColorScale(v,m){v.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(v,m),v.closeNode()}renderIconSet(v,m){y.isPrimitive(m)&&(v.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(v,m),v.closeNode())}renderText(v,m){v.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:i.toStringAttribute(m.operator,"containsText")});const x=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const I=new u(k.ref),{tl:D}=I;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${D})))`;case"containsBlanks":return`LEN(TRIM(${D}))=0`;case"notContainsBlanks":return`LEN(TRIM(${D}))>0`;case"containsErrors":return`ISERROR(${D})`;case"notContainsErrors":return`NOT(ISERROR(${D}))`;default:return}})(m);x&&this.formulaXform.render(v,x),v.closeNode()}renderTimePeriod(v,m){v.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});const x=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const I=new u(k.ref),{tl:D}=I;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${D},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${D},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${D},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${D},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${D},1)=TODAY()-1`;case"today":return`FLOOR(${D},1)=TODAY()`;case"tomorrow":return`FLOOR(${D},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${D},1)<=6,FLOOR(${D},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0-1)),YEAR(${D})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${D})=MONTH(TODAY()),YEAR(${D})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0+1)),YEAR(${D})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);x&&this.formulaXform.render(v,x),v.closeNode()}createNewModel(v){let{attributes:m}=v;return{...g(m),dxfId:i.toIntValue(m.dxfId),priority:i.toIntValue(m.priority),timePeriod:m.timePeriod,percent:i.toBoolValue(m.percent),bottom:i.toBoolValue(m.bottom),rank:i.toIntValue(m.rank),aboveAverage:i.toBoolValue(m.aboveAverage)}}onParserClose(v,m){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}r.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,r,o){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"cfvo"}render(a,u){a.leafNode(this.tag,{type:u.type,val:u.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(t,r,o){const i=t("../../composite-xform"),a=t("../../style/color-xform"),u=t("./cfvo-xform");r.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new a}}get tag(){return"colorScale"}render(l,s){l.openNode(this.tag),s.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),s.color.forEach(c=>{this.colorXform.render(l,c)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,s){this.model[l].push(s.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,r,o){const i=t("../../composite-xform"),a=t("./cf-rule-xform");r.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(u,l){l.rules.some(a.isPrimitive)&&(u.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(s=>{a.isPrimitive(s)&&(s.ref=l.ref,this.map.cfRule.render(u,s))}),u.closeNode())}createNewModel(u){let{attributes:l}=u;return{ref:l.sqref,rules:[]}}onParserClose(u,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,r,o){const i=t("../../base-xform"),a=t("./conditional-formatting-xform");r.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(u,l){let s=u.reduce((c,h)=>Math.max(c,...h.rules.map(d=>d.priority||0)),1);u.forEach(c=>{c.rules.forEach(h=>{h.priority||(h.priority=s++),h.style&&(h.dxfId=l.styles.addDxfStyle(h.style))})})}render(u,l){l.forEach(s=>{this.cfXform.render(u,s)})}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(!!this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(u,l){u.forEach(s=>{s.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=l.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,r,o){const i=t("../../composite-xform"),a=t("../../style/color-xform"),u=t("./cfvo-xform");r.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new a}}get tag(){return"dataBar"}render(l,s){l.openNode(this.tag),s.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),this.colorXform.render(l,s.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,s){switch(l){case"cfvo":this.model.cfvo.push(s.model);break;case"color":this.model.color=s.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,r,o){const i=t("../../base-xform"),a=t("../../composite-xform");class u extends i{get tag(){return"x14:id"}render(c,h){c.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class l extends a{constructor(){super(),this.map={"x14:id":this.idXform=new u}}get tag(){return"ext"}render(c,h){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,h.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,h){this.model.x14Id=h.model}}r.exports=class extends a{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(s,c){s.openNode(this.tag),this.map.ext.render(s,c),s.closeNode()}createNewModel(){return{}}onParserClose(s,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,r,o){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"formula"}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(t,r,o){const i=t("../../base-xform"),a=t("../../composite-xform"),u=t("./cfvo-xform");r.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new u}}get tag(){return"iconSet"}render(l,s){l.openNode(this.tag,{iconSet:i.toStringAttribute(s.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(s.reverse,!1),showValue:i.toBoolAttribute(s.showValue,!0)}),s.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),l.closeNode()}createNewModel(l){let{attributes:s}=l;return{iconSet:i.toStringValue(s.iconSet,"3TrafficLights"),reverse:i.toBoolValue(s.reverse),showValue:i.toBoolValue(s.showValue),cfvo:[]}}onParserClose(l,s){this.model[l].push(s.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,r,o){const i=t("../../../utils/utils"),a=t("../base-xform");r.exports=class extends a{get tag(){return"col"}prepare(u,l){const s=l.styles.addStyleModel(u.style||{});s&&(u.styleId=s)}render(u,l){u.openNode("col"),u.addAttribute("min",l.min),u.addAttribute("max",l.max),l.width&&u.addAttribute("width",l.width),l.styleId&&u.addAttribute("style",l.styleId),l.hidden&&u.addAttribute("hidden","1"),l.bestFit&&u.addAttribute("bestFit","1"),l.outlineLevel&&u.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&u.addAttribute("collapsed","1"),u.addAttribute("customWidth","1"),u.closeNode()}parseOpen(u){if(u.name==="col"){const l=this.model={min:parseInt(u.attributes.min||"0",10),max:parseInt(u.attributes.max||"0",10),width:u.attributes.width===void 0?void 0:parseFloat(u.attributes.width||"0")};return u.attributes.style&&(l.styleId=parseInt(u.attributes.style,10)),i.parseBoolean(u.attributes.hidden)&&(l.hidden=!0),i.parseBoolean(u.attributes.bestFit)&&(l.bestFit=!0),u.attributes.outlineLevel&&(l.outlineLevel=parseInt(u.attributes.outlineLevel,10)),i.parseBoolean(u.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(u,l){u.styleId&&(u.style=l.styles.getStyleModel(u.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../../../utils/utils"),u=t("../../../utils/col-cache"),l=t("../base-xform"),s=t("../../../doc/range");function c(d,f,g,y){const p=f[g];p!==void 0?d[g]=p:y!==void 0&&(d[g]=y)}function h(d,f,g,y){const p=f[g];p!==void 0?d[g]=a.parseBoolean(p):y!==void 0&&(d[g]=y)}r.exports=class extends l{get tag(){return"dataValidations"}render(d,f){const g=function(y){const p=i.map(y,(x,k)=>({address:k,dataValidation:x,marked:!1})).sort((x,k)=>i.strcmp(x.address,k.address)),v=i.keyBy(p,"address"),m=(x,k,I)=>{for(let D=0;D<k;D++){const V=u.encodeAddress(x.row+D,I);if(!y[V]||!i.isEqual(y[x.address],y[V]))return!1}return!0};return p.map(x=>{if(!x.marked){const k=u.decodeEx(x.address);if(k.dimensions)return v[k.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let I=1,D=u.encodeAddress(k.row+I,k.col);for(;y[D]&&i.isEqual(x.dataValidation,y[D]);)I++,D=u.encodeAddress(k.row+I,k.col);let V=1;for(;m(k,I,k.col+V);)V++;for(let L=0;L<I;L++)for(let z=0;z<V;z++)D=u.encodeAddress(k.row+L,k.col+z),v[D].marked=!0;if(I>1||V>1){const L=k.row+(I-1),z=k.col+(V-1);return{...x.dataValidation,sqref:`${x.address}:${u.encodeAddress(L,z)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)}(f);g.length&&(d.openNode("dataValidations",{count:g.length}),g.forEach(y=>{d.openNode("dataValidation"),y.type!=="any"&&(d.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&d.addAttribute("operator",y.operator),y.allowBlank&&d.addAttribute("allowBlank","1")),y.showInputMessage&&d.addAttribute("showInputMessage","1"),y.promptTitle&&d.addAttribute("promptTitle",y.promptTitle),y.prompt&&d.addAttribute("prompt",y.prompt),y.showErrorMessage&&d.addAttribute("showErrorMessage","1"),y.errorStyle&&d.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&d.addAttribute("errorTitle",y.errorTitle),y.error&&d.addAttribute("error",y.error),d.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((p,v)=>{d.openNode("formula"+(v+1)),y.type==="date"?d.writeText(a.dateToExcel(new Date(p))):d.writeText(p),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const f={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&h(f,d.attributes,"allowBlank"),h(f,d.attributes,"showInputMessage"),h(f,d.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:c(f,d.attributes,"operator","between")}return c(f,d.attributes,"promptTitle"),c(f,d.attributes,"prompt"),c(f,d.attributes,"errorStyle"),c(f,d.attributes,"errorTitle"),c(f,d.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new s(f).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=a.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"dimension"}render(a,u){u&&a.leafNode("dimension",{ref:u})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"drawing"}render(a,u){u&&a.leafNode(this.tag,{"r:id":u.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,r,o){const i=t("../composite-xform"),a=t("./cf-ext/conditional-formattings-ext-xform");class u extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(s){return this.conditionalFormattings.hasContent(s.conditionalFormattings)}prepare(s,c){this.conditionalFormattings.prepare(s.conditionalFormattings,c)}render(s,c){s.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(s,c.conditionalFormattings),s.closeNode()}createNewModel(){return{}}onParserClose(s,c){this.model[s]=c.model}}r.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new u}}get tag(){return"extLst"}prepare(l,s){this.ext.prepare(l,s)}hasContent(l){return this.ext.hasContent(l)}render(l,s){this.hasContent(s)&&(l.openNode("extLst"),this.ext.render(l,s),l.closeNode())}createNewModel(){return{}}onParserClose(l,s){Object.assign(this.model,s.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"headerFooter"}render(a,u){if(u){a.addRollback();let l=!1;a.openNode("headerFooter"),u.differentFirst&&(a.addAttribute("differentFirst","1"),l=!0),u.differentOddEven&&(a.addAttribute("differentOddEven","1"),l=!0),u.oddHeader&&typeof u.oddHeader=="string"&&(a.leafNode("oddHeader",null,u.oddHeader),l=!0),u.oddFooter&&typeof u.oddFooter=="string"&&(a.leafNode("oddFooter",null,u.oddFooter),l=!0),u.evenHeader&&typeof u.evenHeader=="string"&&(a.leafNode("evenHeader",null,u.evenHeader),l=!0),u.evenFooter&&typeof u.evenFooter=="string"&&(a.leafNode("evenFooter",null,u.evenFooter),l=!0),u.firstHeader&&typeof u.firstHeader=="string"&&(a.leafNode("firstHeader",null,u.firstHeader),l=!0),u.firstFooter&&typeof u.firstFooter=="string"&&(a.leafNode("firstFooter",null,u.firstFooter),l=!0),l?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"hyperlink"}render(a,u){this.isInternalLink(u)?a.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip,location:u.target}):a.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"mergeCell"}render(a,u){a.leafNode("mergeCell",{ref:u})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../../../doc/range"),u=t("../../../utils/col-cache"),l=t("../../../doc/enums");r.exports=class{constructor(){this.merges={}}add(s){if(this.merges[s.master])this.merges[s.master].expandToAddress(s.address);else{const c=`${s.master}:${s.address}`;this.merges[s.master]=new a(c)}}get mergeCells(){return i.map(this.merges,s=>s.range)}reconcile(s,c){i.each(s,h=>{const d=u.decode(h);for(let f=d.top;f<=d.bottom;f++){const g=c[f-1];for(let y=d.left;y<=d.right;y++){const p=g.cells[y-1];p?p.type===l.ValueType.Merge&&(p.master=d.tl):g.cells[y]={type:l.ValueType.Null,address:u.encodeAddress(f,y)}}}})}getMasterAddress(s){const c=this.hash[s];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,r,o){const i=t("../base-xform"),a=u=>u!==void 0;r.exports=class extends i{get tag(){return"outlinePr"}render(u,l){return!(!l||!a(l.summaryBelow)&&!a(l.summaryRight))&&(u.leafNode(this.tag,{summaryBelow:a(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:a(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={summaryBelow:a(u.attributes.summaryBelow)?!!Number(u.attributes.summaryBelow):void 0,summaryRight:a(u.attributes.summaryRight)?!!Number(u.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"brk"}render(a,u){a.leafNode("brk",u)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../base-xform");r.exports=class extends a{get tag(){return"pageMargins"}render(u,l){if(l){const s={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};i.some(s,c=>c!==void 0)&&u.leafNode(this.tag,s)}}parseOpen(u){switch(u.name){case this.tag:return this.model={left:parseFloat(u.attributes.left||.7),right:parseFloat(u.attributes.right||.7),top:parseFloat(u.attributes.top||.75),bottom:parseFloat(u.attributes.bottom||.75),header:parseFloat(u.attributes.header||.3),footer:parseFloat(u.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,u){return!(!u||!u.fitToPage)&&(a.leafNode(this.tag,{fitToPage:u.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../base-xform");function u(h){return h?"1":void 0}function l(h){switch(h){case"overThenDown":return h;default:return}}function s(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function c(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}r.exports=class extends a{get tag(){return"pageSetup"}render(h,d){if(d){const f={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:l(d.pageOrder),blackAndWhite:u(d.blackAndWhite),draft:u(d.draft),cellComments:s(d.cellComments),errors:c(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:u(d.firstPageNumber),usePrinterDefaults:u(d.usePrinterDefaults),copies:d.copies};i.some(f,g=>g!==void 0)&&h.leafNode(this.tag,f)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(d=h.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"picture"}render(a,u){u&&a.leafNode(this.tag,{"r:id":u.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../base-xform");function u(l){return l?"1":void 0}r.exports=class extends a{get tag(){return"printOptions"}render(l,s){if(s){const c={headings:u(s.showRowColHeaders),gridLines:u(s.showGridLines),horizontalCentered:u(s.horizontalCentered),verticalCentered:u(s.verticalCentered)};i.some(c,h=>h!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,r,o){const i=t("./page-breaks-xform"),a=t("../list-xform");r.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(u,l){if(l&&l.length){u.openNode(this.tag,this.$),this.count&&(u.addAttribute(this.$count,l.length),u.addAttribute("manualBreakCount",l.length));const{childXform:s}=this;l.forEach(c=>{s.render(u,c)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,r,o){const i=t("../base-xform"),a=t("../../../utils/utils"),u=t("./cell-xform");r.exports=class extends i{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new u}}get tag(){return"row"}prepare(l,s){const c=s.styles.addStyleModel(l.style);c&&(l.styleId=c);const h=this.map.c;l.cells.forEach(d=>{h.prepare(d,s)})}render(l,s,c){l.openNode("row"),l.addAttribute("r",s.number),s.height&&(l.addAttribute("ht",s.height),l.addAttribute("customHeight","1")),s.hidden&&l.addAttribute("hidden","1"),s.min>0&&s.max>0&&s.min<=s.max&&l.addAttribute("spans",`${s.min}:${s.max}`),s.styleId&&(l.addAttribute("s",s.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),s.outlineLevel&&l.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&l.addAttribute("collapsed","1");const h=this.map.c;s.cells.forEach(d=>{h.render(l,d,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const s=l.attributes.spans?l.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],c=this.model={number:parseInt(l.attributes.r,10),min:s[0],max:s[1],cells:[]};return l.attributes.s&&(c.styleId=parseInt(l.attributes.s,10)),a.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),a.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.ht&&(c.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),a.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,s){l.style=l.styleId?s.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const c=this.map.c;l.cells.forEach(h=>{c.reconcile(h,s)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../base-xform");r.exports=class extends a{get tag(){return"sheetFormatPr"}render(u,l){if(l){const s={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(s.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(s.customHeight="1"),i.some(s,c=>c!==void 0)&&u.leafNode("sheetFormatPr",s)}}parseOpen(u){return u.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(u.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(u.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(u.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(u.attributes.outlineLevelCol||"0",10)},u.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(u.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,r,o){const i=t("../base-xform"),a=t("../style/color-xform"),u=t("./page-setup-properties-xform"),l=t("./outline-properties-xform");r.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new u,outlinePr:new l}}get tag(){return"sheetPr"}render(s,c){if(c){s.addRollback(),s.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(s,c.tabColor)||h,h=this.map.pageSetUpPr.render(s,c.pageSetup)||h,h=this.map.outlinePr.render(s,c.outlineProperties)||h,h?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag?(this.reset(),!0):!!this.map[s.name]&&(this.parser=this.map[s.name],this.parser.parseOpen(s),!0)}parseText(s){return!!this.parser&&(this.parser.parseText(s),!0)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../base-xform");function u(s,c){return s?c:void 0}function l(s,c){return s===c||void 0}r.exports=class extends a{get tag(){return"sheetProtection"}render(s,c){if(c){const h={sheet:u(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:u(c.formatCells,"0"),formatColumns:u(c.formatColumns,"0"),formatRows:u(c.formatRows,"0"),insertColumns:u(c.insertColumns,"0"),insertRows:u(c.insertRows,"0"),insertHyperlinks:u(c.insertHyperlinks,"0"),deleteColumns:u(c.deleteColumns,"0"),deleteRows:u(c.deleteRows,"0"),sort:u(c.sort,"0"),autoFilter:u(c.autoFilter,"0"),pivotTables:u(c.pivotTables,"0")};c.sheet&&(h.algorithmName=c.algorithmName,h.hashValue=c.hashValue,h.saltValue=c.saltValue,h.spinCount=c.spinCount,h.objects=u(c.objects===!1,"1"),h.scenarios=u(c.scenarios===!1,"1")),i.some(h,d=>d!==void 0)&&s.leafNode(this.tag,h)}}parseOpen(s){switch(s.name){case this.tag:return this.model={sheet:l(s.attributes.sheet,"1"),objects:s.attributes.objects!=="1"&&void 0,scenarios:s.attributes.scenarios!=="1"&&void 0,selectLockedCells:s.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:s.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(s.attributes.formatCells,"0"),formatColumns:l(s.attributes.formatColumns,"0"),formatRows:l(s.attributes.formatRows,"0"),insertColumns:l(s.attributes.insertColumns,"0"),insertRows:l(s.attributes.insertRows,"0"),insertHyperlinks:l(s.attributes.insertHyperlinks,"0"),deleteColumns:l(s.attributes.deleteColumns,"0"),deleteRows:l(s.attributes.deleteRows,"0"),sort:l(s.attributes.sort,"0"),autoFilter:l(s.attributes.autoFilter,"0"),pivotTables:l(s.attributes.pivotTables,"0")},s.attributes.algorithmName&&(this.model.algorithmName=s.attributes.algorithmName,this.model.hashValue=s.attributes.hashValue,this.model.saltValue=s.attributes.saltValue,this.model.spinCount=parseInt(s.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,r,o){const i=t("../../../utils/col-cache"),a=t("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"};r.exports=class extends a{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,s){l.openNode("sheetView",{workbookViewId:s.workbookViewId||0});const c=function(y,p,v){v&&l.addAttribute(y,p)};let h,d,f,g;switch(c("rightToLeft","1",s.rightToLeft===!0),c("tabSelected","1",s.tabSelected),c("showRuler","0",s.showRuler===!1),c("showRowColHeaders","0",s.showRowColHeaders===!1),c("showGridLines","0",s.showGridLines===!1),c("zoomScale",s.zoomScale,s.zoomScale),c("zoomScaleNormal",s.zoomScaleNormal,s.zoomScaleNormal),c("view",s.style,s.style),s.state){case"frozen":d=s.xSplit||0,f=s.ySplit||0,h=s.topLeftCell||i.getAddress(f+1,d+1).address,g=(s.xSplit&&s.ySplit?"bottomRight":s.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:s.xSplit||void 0,ySplit:s.ySplit||void 0,topLeftCell:h,activePane:g,state:"frozen"}),l.leafNode("selection",{pane:g,activeCell:s.activeCell,sqref:s.activeCell});break;case"split":s.activePane==="topLeft"&&(s.activePane=void 0),l.leafNode("pane",{xSplit:s.xSplit||void 0,ySplit:s.ySplit||void 0,topLeftCell:s.topLeftCell,activePane:s.activePane}),l.leafNode("selection",{pane:s.activePane,activeCell:s.activeCell,sqref:s.activeCell});break;case"normal":s.activeCell&&l.leafNode("selection",{activeCell:s.activeCell,sqref:s.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const s=l.attributes.pane||"topLeft";return this.selections[s]={pane:s,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let s,c;switch(l){case"sheetView":return this.sheetView&&this.pane?(s=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(s.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(s.activeCell=c.activeCell),this.sheetView.style&&(s.style=this.sheetView.style)):(s=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(s.activeCell=c.activeCell),this.sheetView.style&&(s.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"tablePart"}render(a,u){u&&a.leafNode(this.tag,{"r:id":u.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),u=t("../../../utils/xml-stream"),l=t("../../rel-type"),s=t("./merges"),c=t("../base-xform"),h=t("../list-xform"),d=t("./row-xform"),f=t("./col-xform"),g=t("./dimension-xform"),y=t("./hyperlink-xform"),p=t("./merge-cell-xform"),v=t("./data-validations-xform"),m=t("./sheet-properties-xform"),x=t("./sheet-format-properties-xform"),k=t("./sheet-view-xform"),I=t("./sheet-protection-xform"),D=t("./page-margins-xform"),V=t("./page-setup-xform"),L=t("./print-options-xform"),z=t("./auto-filter-xform"),B=t("./picture-xform"),H=t("./drawing-xform"),$=t("./table-part-xform"),A=t("./row-breaks-xform"),P=t("./header-footer-xform"),C=t("./cf/conditional-formattings-xform"),b=t("./ext-lst-xform"),_=(S,N)=>{if(!N||!N.length)return S;if(!S||!S.length)return N;const O={},U={};return S.forEach(G=>{O[G.ref]=G,G.rules.forEach(W=>{const{x14Id:J}=W;J&&(U[J]=W)})}),N.forEach(G=>{G.rules.forEach(W=>{const J=U[W.x14Id];J?((F,Y)=>{Object.keys(Y).forEach(j=>{const R=F[j],q=Y[j];R===void 0&&q!==void 0&&(F[j]=q)})})(J,W):O[G.ref]?O[G.ref].rules.push(W):S.push({ref:G.ref,rules:[W]})})}),S};class w extends c{constructor(N){super();const{maxRows:O,maxCols:U,ignoreNodes:G}=N||{};this.ignoreNodes=G||[],this.map={sheetPr:new m,dimension:new g,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new x,cols:new h({tag:"cols",count:!1,childXform:new f}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:U}),maxItems:O}),autoFilter:new z,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new A,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new D,dataValidations:new v,pageSetup:new V,headerFooter:new P,printOptions:new L,picture:new B,drawing:new H,sheetProtection:new I,tableParts:new h({tag:"tableParts",count:!0,childXform:new $}),conditionalFormatting:new C,extLst:new b}}prepare(N,O){O.merges=new s,N.hyperlinks=O.hyperlinks=[],N.comments=O.comments=[],O.formulae={},O.siFormulae=0,this.map.cols.prepare(N.cols,O),this.map.sheetData.prepare(N.rows,O),this.map.conditionalFormatting.prepare(N.conditionalFormattings,O),N.mergeCells=O.merges.mergeCells;const U=N.rels=[];function G(F){return"rId"+(F.length+1)}if(N.hyperlinks.forEach(F=>{const Y=G(U);F.rId=Y,U.push({Id:Y,Type:l.Hyperlink,Target:F.target,TargetMode:"External"})}),N.comments.length>0){const F={Id:G(U),Type:l.Comments,Target:`../comments${N.id}.xml`};U.push(F);const Y={Id:G(U),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${N.id}.vml`};U.push(Y),N.comments.forEach(j=>{j.refAddress=a.decodeAddress(j.ref)}),O.commentRefs.push({commentName:"comments"+N.id,vmlDrawing:"vmlDrawing"+N.id})}const W=[];let J;N.media.forEach(F=>{if(F.type==="background"){const Y=G(U);J=O.media[F.imageId],U.push({Id:Y,Type:l.Image,Target:`../media/${J.name}.${J.extension}`}),N.background={rId:Y},N.image=O.media[F.imageId]}else if(F.type==="image"){let{drawing:Y}=N;J=O.media[F.imageId],Y||(Y=N.drawing={rId:G(U),name:"drawing"+ ++O.drawingsCount,anchors:[],rels:[]},O.drawings.push(Y),U.push({Id:Y.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Y.name}.xml`}));let j=this.preImageId===F.imageId?W[F.imageId]:W[Y.rels.length];j||(j=G(Y.rels),W[Y.rels.length]=j,Y.rels.push({Id:j,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const R={picture:{rId:j},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){const q=G(Y.rels);W[Y.rels.length]=q,R.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:q},Y.rels.push({Id:q,Type:l.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,Y.anchors.push(R)}}),N.tables.forEach(F=>{const Y=G(U);F.rId=Y,U.push({Id:Y,Type:l.Table,Target:"../tables/"+F.target}),F.columns.forEach(j=>{const{style:R}=j;R&&(j.dxfId=O.styles.addDxfStyle(R))})}),this.map.extLst.prepare(N,O)}render(N,O){N.openXml(u.StdDocAttributes),N.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);const U=O.properties?{defaultRowHeight:O.properties.defaultRowHeight,dyDescent:O.properties.dyDescent,outlineLevelCol:O.properties.outlineLevelCol,outlineLevelRow:O.properties.outlineLevelRow}:void 0;O.properties&&O.properties.defaultColWidth&&(U.defaultColWidth=O.properties.defaultColWidth);const G={outlineProperties:O.properties&&O.properties.outlineProperties,tabColor:O.properties&&O.properties.tabColor,pageSetup:O.pageSetup&&O.pageSetup.fitToPage?{fitToPage:O.pageSetup.fitToPage}:void 0},W=O.pageSetup&&O.pageSetup.margins,J={showRowColHeaders:O.pageSetup&&O.pageSetup.showRowColHeaders,showGridLines:O.pageSetup&&O.pageSetup.showGridLines,horizontalCentered:O.pageSetup&&O.pageSetup.horizontalCentered,verticalCentered:O.pageSetup&&O.pageSetup.verticalCentered},F=O.sheetProtection;this.map.sheetPr.render(N,G),this.map.dimension.render(N,O.dimensions),this.map.sheetViews.render(N,O.views),this.map.sheetFormatPr.render(N,U),this.map.cols.render(N,O.cols),this.map.sheetData.render(N,O.rows),this.map.sheetProtection.render(N,F),this.map.autoFilter.render(N,O.autoFilter),this.map.mergeCells.render(N,O.mergeCells),this.map.conditionalFormatting.render(N,O.conditionalFormattings),this.map.dataValidations.render(N,O.dataValidations),this.map.hyperlinks.render(N,O.hyperlinks),this.map.printOptions.render(N,J),this.map.pageMargins.render(N,W),this.map.pageSetup.render(N,O.pageSetup),this.map.headerFooter.render(N,O.headerFooter),this.map.rowBreaks.render(N,O.rowBreaks),this.map.drawing.render(N,O.drawing),this.map.picture.render(N,O.background),this.map.tableParts.render(N,O.tables),this.map.extLst.render(N,O),O.rels&&O.rels.forEach(Y=>{Y.Type===l.VmlDrawing&&N.leafNode("legacyDrawing",{"r:id":Y.Id})}),N.closeNode()}parseOpen(N){return this.parser?(this.parser.parseOpen(N),!0):N.name==="worksheet"?(i.each(this.map,O=>{O.reset()}),!0):(this.map[N.name]&&!this.ignoreNodes.includes(N.name)&&(this.parser=this.map[N.name],this.parser.parseOpen(N)),!0)}parseText(N){this.parser&&this.parser.parseText(N)}parseClose(N){if(this.parser)return this.parser.parseClose(N)||(this.parser=void 0),!0;switch(N){case"worksheet":{const O=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(O.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(O.outlineProperties=this.map.sheetPr.model.outlineProperties);const U={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},G=Object.assign(U,this.map.pageSetup.model,this.map.printOptions.model),W=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:O,views:this.map.sheetViews.model,pageSetup:G,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(N,O){const U=(N.relationships||[]).reduce((W,J)=>{if(W[J.Id]=J,J.Type===l.Comments&&(N.comments=O.comments[J.Target].comments),J.Type===l.VmlDrawing&&N.comments&&N.comments.length){const F=O.vmlDrawings[J.Target].comments;N.comments.forEach((Y,j)=>{Y.note=Object.assign({},Y.note,F[j])})}return W},{});if(O.commentsMap=(N.comments||[]).reduce((W,J)=>(J.ref&&(W[J.ref]=J),W),{}),O.hyperlinkMap=(N.hyperlinks||[]).reduce((W,J)=>(J.rId&&(W[J.address]=U[J.rId].Target),W),{}),O.formulae={},N.rows=N.rows&&N.rows.filter(Boolean)||[],N.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(N.cols,O),this.map.sheetData.reconcile(N.rows,O),this.map.conditionalFormatting.reconcile(N.conditionalFormattings,O),N.media=[],N.drawing){const W=U[N.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const J=W[1];O.drawings[J].anchors.forEach(F=>{if(F.medium){const Y={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};N.media.push(Y)}})}}const G=N.background&&U[N.background.rId];if(G){const W=G.Target.split("/media/")[1],J=O.mediaIndex&&O.mediaIndex[W];J!==void 0&&N.media.push({type:"background",imageId:J})}N.tables=(N.tables||[]).map(W=>{const J=U[W.rId];return O.tables[J.Target]}),delete N.relationships,delete N.hyperlinks,delete N.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},r.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,u){u&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(u){try{return Number.isNaN(u.getTime())?"":u.toISOString()}catch{return""}},this._parse=a.parse||function(u){return new Date(u)}}render(a,u){u&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(u)):a.writeText(this._format(u)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,u){(u||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,u):a.writeText(u),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,u){u!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,u):a.writeText(u),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,r,o){const i=t("./base-xform"),a=t("../../utils/xml-stream");r.exports=class extends i{constructor(u){super(),this._model=u}render(u){if(!this._xml){const l=new a;(function s(c,h){c.openNode(h.tag,h.$),h.c&&h.c.forEach(d=>{s(c,d)}),h.t&&c.writeText(h.t),c.closeNode()})(l,this._model),this._xml=l.xml}u.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(u){switch(u){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,r,o){const i=t("./text-xform"),a=t("./rich-text-xform"),u=t("../base-xform");r.exports=class extends u{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(l,s){if(l.openNode(this.tag,{sb:s.sb||0,eb:s.eb||0}),s&&s.hasOwnProperty("richText")&&s.richText){const{r:c}=this.map;s.richText.forEach(h=>{c.render(l,h)})}else s&&this.map.t.render(l,s.text);l.closeNode()}parseOpen(l){const{name:s}=l;return this.parser?(this.parser.parseOpen(l),!0):s===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[s],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let s=this.model.richText;s||(s=this.model.richText=[]),s.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,r,o){const i=t("./text-xform"),a=t("../style/font-xform"),u=t("../base-xform");class l extends u{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(l.FONT_OPTIONS))}render(c,h){h=h||this.model,c.openNode("r"),h.font&&this.fontXform.render(c,h.font),this.textXform.render(c,h.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},r.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,r,o){const i=t("./text-xform"),a=t("./rich-text-xform"),u=t("./phonetic-text-xform"),l=t("../base-xform");r.exports=class extends l{constructor(s){super(),this.model=s,this.map={r:new a,t:new i,rPh:new u}}get tag(){return"si"}render(s,c){s.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(h=>{this.map.r.render(s,h)}):this.map.t.render(s,""):c!=null&&this.map.t.render(s,c),s.closeNode()}parseOpen(s){const{name:c}=s;return this.parser?(this.parser.parseOpen(s),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),u=t("./shared-string-xform");r.exports=class extends a{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new u)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let s=this.hash[l];return s===void 0&&(s=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,s}addRichText(l){const s=this.sharedStringXform.toXml(l);let c=this.rich[s];return c===void 0&&(c=this.rich[s]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}render(l,s){s=s||this._values,l.openXml(i.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:s.count,uniqueCount:s.values.length});const c=this.sharedStringXform;s.values.forEach(h=>{c.render(l,h)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"t"}render(a,u){a.openNode("t"),/^\s|\n|\s$/.test(u)&&a.addAttribute("xml:space","preserve"),a.writeText(u),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,u)=>String.fromCharCode(parseInt(u,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,r,o){const i=t("../../../doc/enums"),a=t("../../../utils/utils"),u=t("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=a.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=a.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},s={toXml(c){if(c=l.textRotation(c)){if(c==="vertical")return 255;const h=Math.round(c);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(c){const h=a.validInt(c);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};r.exports=class extends u{get tag(){return"alignment"}render(c,h){c.addRollback(),c.openNode("alignment");let d=!1;function f(g,y){y&&(c.addAttribute(g,y),d=!0)}f("horizontal",l.horizontal(h.horizontal)),f("vertical",l.vertical(h.vertical)),f("wrapText",!!l.wrapText(h.wrapText)&&"1"),f("shrinkToFit",!!l.shrinkToFit(h.shrinkToFit)&&"1"),f("indent",l.indent(h.indent)),f("textRotation",s.toXml(h.textRotation)),f("readingOrder",l.readingOrder(h.readingOrder)),c.closeNode(),d?c.commit():c.rollback()}parseOpen(c){const h={};let d=!1;function f(g,y,p){g&&(h[y]=p,d=!0)}f(c.attributes.horizontal,"horizontal",c.attributes.horizontal),f(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),f(c.attributes.wrapText,"wrapText",a.parseBoolean(c.attributes.wrapText)),f(c.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(c.attributes.shrinkToFit)),f(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),f(c.attributes.textRotation,"textRotation",s.toModel(c.attributes.textRotation)),f(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,r,o){const i=t("../base-xform"),a=t("../../../utils/utils"),u=t("./color-xform");class l extends i{constructor(c){super(),this.name=c,this.map={color:new u}}get tag(){return this.name}render(c,h,d){const f=h&&h.color||d||this.defaultColor;c.openNode(this.name),h&&h.style&&(c.addAttribute("style",h.style),f&&this.map.color.render(c,f)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:h}=c.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return l.validStyleValues[c]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((s,c)=>(s[c]=!0,s),{}),r.exports=class extends i{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(s,c){const{color:h}=c;function d(f,g){f&&!f.color&&c.color&&(f={...f,color:c.color}),g.render(s,f,h)}s.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&s.addAttribute("diagonalUp","1"),c.diagonal.down&&s.addAttribute("diagonalDown","1")),d(c.left,this.map.left),d(c.right,this.map.right),d(c.top,this.map.top),d(c.bottom,this.map.bottom),d(c.diagonal,this.map.diagonal),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(s.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(s.attributes.diagonalDown),!0;default:return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;if(s==="border"){const c=this.model={},h=function(d,f,g){f&&(g&&Object.assign(f,g),c[d]=f)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,u){return!!u&&(a.openNode(this.name),u.argb?a.addAttribute("rgb",u.argb):u.theme!==void 0?(a.addAttribute("theme",u.theme),u.tint!==void 0&&a.addAttribute("tint",u.tint)):u.indexed!==void 0?a.addAttribute("indexed",u.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,r,o){const i=t("../base-xform"),a=t("./alignment-xform"),u=t("./border-xform"),l=t("./fill-xform"),s=t("./font-xform"),c=t("./numfmt-xform"),h=t("./protection-xform");r.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new u,fill:new l,font:new s,numFmt:new c,protection:new h}}get tag(){return"dxf"}render(d,f){if(d.openNode(this.tag),f.font&&this.map.font.render(d,f.font),f.numFmt&&f.numFmtId){const g={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(d,g)}f.fill&&this.map.fill.render(d,f.fill),f.alignment&&this.map.alignment.render(d,f.alignment),f.border&&this.map.border.render(d,f.border),f.protection&&this.map.protection.render(d,f.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,r,o){const i=t("../base-xform"),a=t("./color-xform");class u extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(d,f){d.openNode("stop"),d.addAttribute("position",f.position),this.map.color.render(d,f.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,f){d.openNode("patternFill"),d.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(d,f.fgColor),f.bgColor&&this.map.bgColor.render(d,f.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class s extends i{constructor(){super(),this.map={stop:new u}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,f){switch(d.openNode("gradientFill"),f.gradient){case"angle":d.addAttribute("degree",f.degree);break;case"path":d.addAttribute("type","path"),f.center.left&&(d.addAttribute("left",f.center.left),f.center.right===void 0&&d.addAttribute("right",f.center.left)),f.center.right&&d.addAttribute("right",f.center.right),f.center.top&&(d.addAttribute("top",f.center.top),f.center.bottom===void 0&&d.addAttribute("bottom",f.center.top)),f.center.bottom&&d.addAttribute("bottom",f.center.bottom)}const g=this.map.stop;f.stops.forEach(y=>{g.render(d,y)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const f=this.model={stops:[]};return d.attributes.degree?(f.gradient="angle",f.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(f.gradient="path",f.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(f.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(f.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={patternFill:new l,gradientFill:new s}}get tag(){return"fill"}render(d,f){switch(d.addRollback(),d.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(d,f);break;case"gradient":this.map.gradientFill.render(d,f);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return c.validPatternValues[d]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,d)=>(h[d]=!0,h),{}),c.StopXform=u,c.PatternFillXform=l,c.GradientFillXform=s,r.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(t,r,o){const i=t("./color-xform"),a=t("../simple/boolean-xform"),u=t("../simple/integer-xform"),l=t("../simple/string-xform"),s=t("./underline-xform"),c=t("../../../utils/under-dash"),h=t("../base-xform");class d extends h{constructor(g){super(),this.options=g||d.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new s},charset:{prop:"charset",xform:new u({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new u({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new u({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:p}=this;g.openNode(this.options.tagName),c.each(this.map,(v,m)=>{p[m].xform.render(g,y[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},r.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,r,o){const i=t("../../../utils/under-dash"),a=t("../../defaultnumformats"),u=t("../base-xform"),l=function(){const c={};return i.each(a,(h,d)=>{h.f&&(c[h.f]=parseInt(d,10))}),c}();class s extends u{constructor(h,d){super(),this.id=h,this.formatCode=d}get tag(){return"numFmt"}render(h,d){h.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}s.getDefaultFmtId=function(c){return l[c]},s.getDefaultFmtCode=function(c){return a[c]&&a[c].f},r.exports=s},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,r,o){const i=t("../base-xform"),a={boolean:(u,l)=>u===void 0?l:u};r.exports=class extends i{get tag(){return"protection"}render(u,l){u.addRollback(),u.openNode("protection");let s=!1;function c(h,d){d!==void 0&&(u.addAttribute(h,d),s=!0)}c("locked",a.boolean(l.locked,!0)?void 0:"0"),c("hidden",a.boolean(l.hidden,!1)?"1":void 0),u.closeNode(),s?u.commit():u.rollback()}parseOpen(u){const l={locked:u.attributes.locked!=="0",hidden:u.attributes.hidden==="1"},s=!l.locked||l.hidden;this.model=s?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,r,o){const i=t("../base-xform"),a=t("./alignment-xform"),u=t("./protection-xform");r.exports=class extends i{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new a,protection:new u}}get tag(){return"xf"}render(l,s){l.openNode("xf",{numFmtId:s.numFmtId||0,fontId:s.fontId||0,fillId:s.fillId||0,borderId:s.borderId||0}),this.xfId&&l.addAttribute("xfId",s.xfId||0),s.numFmtId&&l.addAttribute("applyNumberFormat","1"),s.fontId&&l.addAttribute("applyFont","1"),s.fillId&&l.addAttribute("applyFill","1"),s.borderId&&l.addAttribute("applyBorder","1"),s.alignment&&l.addAttribute("applyAlignment","1"),s.protection&&l.addAttribute("applyProtection","1"),s.alignment&&this.map.alignment.render(l,s.alignment),s.protection&&this.map.protection.render(l,s.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,r,o){const i=t("../../../doc/enums"),a=t("../../../utils/xml-stream"),u=t("../base-xform"),l=t("../static-xform"),s=t("../list-xform"),c=t("./font-xform"),h=t("./fill-xform"),d=t("./border-xform"),f=t("./numfmt-xform"),g=t("./style-xform"),y=t("./dxf-xform");class p extends u{constructor(m){super(),this.map={numFmts:new s({tag:"numFmts",count:!0,childXform:new f}),fonts:new s({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new s({tag:"fills",count:!0,childXform:new h}),borders:new s({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new s({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new s({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new s({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new f,font:new c,fill:new h,border:new d,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,x){x=x||this.model,m.openXml(a.StdDocAttributes),m.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(m.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(k=>{m.writeXml(k)}),m.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(k=>{m.writeXml(k)}),m.closeNode(),m.openNode("fills",{count:x.fills.length}),x.fills.forEach(k=>{m.writeXml(k)}),m.closeNode(),m.openNode("borders",{count:x.borders.length}),x.borders.forEach(k=>{m.writeXml(k)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(k=>{m.writeXml(k)}),m.closeNode()):(this.map.numFmts.render(m,x.numFmts),this.map.fonts.render(m,x.fonts),this.map.fills.render(m,x.fills),this.map.borders.render(m,x.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,x.styles)),p.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,x.dxfs),p.STATIC_XFORMS.tableStyles.render(m),p.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};const x=(k,I)=>{I.model&&I.model.length&&(this.model[k]=I.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(I=>{k[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(m,x){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);const k={};if(x=x||i.ValueType.Number,m.numFmt)k.numFmtId=this._addNumFmtStr(m.numFmt);else switch(x){case i.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(k.fontId=this._addFont(m.font)),m.border&&(k.borderId=this._addBorder(m.border)),m.fill&&(k.fillId=this._addFill(m.fill)),m.alignment&&(k.alignment=m.alignment),m.protection&&(k.protection=m.protection);const I=this._addStyle(k);return this.weakMap&&this.weakMap.set(m,I),I}getStyleModel(m){const x=this.model.styles[m];if(!x)return null;let k=this.index.model[m];if(k)return k;if(k=this.index.model[m]={},x.numFmtId){const D=this.index.numFmt[x.numFmtId]||f.getDefaultFmtCode(x.numFmtId);D&&(k.numFmt=D)}function I(D,V,L){if(L||L===0){const z=V[L];z&&(k[D]=z)}}return I("font",this.model.fonts,x.fontId),I("border",this.model.borders,x.borderId),I("fill",this.model.fills,x.fillId),x.alignment&&(k.alignment=x.alignment),x.protection&&(k.protection=x.protection),k}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){const x=this.map.style.toXml(m);let k=this.index.style[x];return k===void 0&&(k=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),k}_addNumFmtStr(m){let x=f.getDefaultFmtId(m);if(x!==void 0||(x=this.index.numFmt[m],x!==void 0))return x;x=this.index.numFmt[m]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:x,formatCode:m});return this.model.numFmts.push(k),x}_addFont(m){const x=this.map.font.toXml(m);let k=this.index.font[x];return k===void 0&&(k=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),k}_addBorder(m){const x=this.map.border.toXml(m);let k=this.index.border[x];return k===void 0&&(k=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),k}_addFill(m){const x=this.map.fill.toXml(m);let k=this.index.fill[x];return k===void 0&&(k=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),k}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,m){switch(m){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},r.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,r,o){const i=t("../base-xform");class a extends i{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,s){if((s=s||this.model)===!0)l.leafNode("u");else{const c=a.Attributes[s];c&&l.leafNode("u",c)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},r.exports=a},{"../base-xform":32}],137:[function(t,r,o){const i=t("../base-xform"),a=t("./filter-column-xform");r.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(u){u.columns.forEach((l,s)=>{this.map.filterColumn.prepare(l,{index:s})})}render(u,l){return u.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(s=>{this.map.filterColumn.render(u,s)}),u.closeNode(),!0}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model={autoFilterRef:u.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"customFilter"}render(a,u){a.leafNode(this.tag,{val:u.val,operator:u.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,r,o){const i=t("../base-xform"),a=t("../list-xform"),u=t("./custom-filter-xform"),l=t("./filter-xform");r.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new u}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(s,c){s.colId=c.index.toString()}render(s,c){return c.customFilters?(s.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(s,c.customFilters),s.closeNode(),!0):(s.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;const{attributes:c}=s;switch(s.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[s.name],this.parser)return this.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"filter"}render(a,u){a.leafNode(this.tag,{val:u.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"tableColumn"}prepare(a,u){a.id=u.index+1}render(a,u){return a.leafNode(this.tag,{id:u.id.toString(),name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:u}=a;return this.model={name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,r,o){const i=t("../base-xform");r.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,u){return a.leafNode(this.tag,{name:u.theme?u.theme:void 0,showFirstColumn:u.showFirstColumn?"1":"0",showLastColumn:u.showLastColumn?"1":"0",showRowStripes:u.showRowStripes?"1":"0",showColumnStripes:u.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:u}=a;return this.model={theme:u.name?u.name:null,showFirstColumn:u.showFirstColumn==="1",showLastColumn:u.showLastColumn==="1",showRowStripes:u.showRowStripes==="1",showColumnStripes:u.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,r,o){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),u=t("../list-xform"),l=t("./auto-filter-xform"),s=t("./table-column-xform"),c=t("./table-style-info-xform");class h extends a{constructor(){super(),this.map={autoFilter:new l,tableColumns:new u({tag:"tableColumns",count:!0,empty:!0,childXform:new s}),tableStyleInfo:new c}}prepare(f,g){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,g)}get tag(){return"table"}render(f,g){f.openXml(i.StdDocAttributes),f.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(f,g),this.map.tableColumns.render(f,g.columns),this.map.tableStyleInfo.render(f,g.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:g,attributes:y}=f;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,g){f.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},r.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,r,o){(function(i,a){(function(){const u=t("fs"),l=t("jszip"),{PassThrough:s}=t("readable-stream"),c=t("../utils/zip-stream"),h=t("../utils/stream-buf"),d=t("../utils/utils"),f=t("../utils/xml-stream"),{bufferToString:g}=t("../utils/browser-buffer-decode"),y=t("./xform/style/styles-xform"),p=t("./xform/core/core-xform"),v=t("./xform/strings/shared-strings-xform"),m=t("./xform/core/relationships-xform"),x=t("./xform/core/content-types-xform"),k=t("./xform/core/app-xform"),I=t("./xform/book/workbook-xform"),D=t("./xform/sheet/worksheet-xform"),V=t("./xform/drawing/drawing-xform"),L=t("./xform/table/table-xform"),z=t("./xform/comment/comments-xform"),B=t("./xform/comment/vml-notes-xform"),H=t("./xml/theme1");class ${constructor(P){this.workbook=P}async readFile(P,C){if(!await d.fs.exists(P))throw new Error("File not found: "+P);const b=u.createReadStream(P);try{const _=await this.read(b,C);return b.close(),_}catch(_){throw b.close(),_}}parseRels(P){return new m().parseStream(P)}parseWorkbook(P){return new I().parseStream(P)}parseSharedStrings(P){return new v().parseStream(P)}reconcile(P,C){const b=new I,_=new D(C),w=new V,S=new L;b.reconcile(P);const N={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(G=>{const W=P.drawings[G],J=P.drawingRels[G];J&&(N.rels=J.reduce((F,Y)=>(F[Y.Id]=Y,F),{}),(W.anchors||[]).forEach(F=>{const Y=F.picture&&F.picture.hyperlinks;Y&&N.rels[Y.rId]&&(Y.hyperlink=N.rels[Y.rId].Target,delete Y.rId)}),w.reconcile(W,N))});const O={styles:P.styles};Object.values(P.tables).forEach(G=>{S.reconcile(G,O)});const U={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(G=>{G.relationships=P.worksheetRels[G.sheetNo],_.reconcile(G,U)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,C,b,_,w){const S=new D(_),N=await S.parseStream(P);N.sheetNo=b,C.worksheetHash[w]=N,C.worksheets.push(N)}async _processCommentEntry(P,C,b){const _=new z,w=await _.parseStream(P);C.comments[`../${b}.xml`]=w}async _processTableEntry(P,C,b){const _=new L,w=await _.parseStream(P);C.tables[`../tables/${b}.xml`]=w}async _processWorksheetRelsEntry(P,C,b){const _=new m,w=await _.parseStream(P);C.worksheetRels[b]=w}async _processMediaEntry(P,C,b){const _=b.lastIndexOf(".");if(_>=1){const w=b.substr(_+1),S=b.substr(0,_);await new Promise((N,O)=>{const U=new h;U.on("finish",()=>{C.mediaIndex[b]=C.media.length,C.mediaIndex[S]=C.media.length;const G={type:"image",name:S,extension:w,buffer:U.toBuffer()};C.media.push(G),N()}),P.on("error",G=>{O(G)}),P.pipe(U)})}}async _processDrawingEntry(P,C,b){const _=new V,w=await _.parseStream(P);C.drawings[b]=w}async _processDrawingRelsEntry(P,C,b){const _=new m,w=await _.parseStream(P);C.drawingRels[b]=w}async _processVmlDrawingEntry(P,C,b){const _=new B,w=await _.parseStream(P);C.vmlDrawings[`../drawings/${b}.vml`]=w}async _processThemeEntry(P,C,b){await new Promise((_,w)=>{const S=new h;P.on("error",w),S.on("error",w),S.on("finish",()=>{C.themes[b]=S.read().toString(),_()}),P.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,C){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new s));const b=[];for await(const _ of P)b.push(_);return this.load(a.concat(b),C)}async load(P,C){let b;b=C&&C.base64?a.from(P.toString(),"base64"):P;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await l.loadAsync(b);for(const S of Object.values(w.files))if(!S.dir){let N,O=S.name;if(O[0]==="/"&&(O=O.substr(1)),O.match(/xl\/media\//)||O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))N=new s,N.write(await S.async("nodebuffer"));else{let U;N=new s({writableObjectMode:!0,readableObjectMode:!0}),U=i.browser?g(await S.async("nodebuffer")):await S.async("string");const G=16384;for(let W=0;W<U.length;W+=G)N.write(U.substring(W,W+G))}switch(N.end(),O){case"_rels/.rels":_.globalRels=await this.parseRels(N);break;case"xl/workbook.xml":{const U=await this.parseWorkbook(N);_.sheets=U.sheets,_.definedNames=U.definedNames,_.views=U.views,_.properties=U.properties,_.calcProperties=U.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(N);break;case"xl/sharedStrings.xml":_.sharedStrings=new v,await _.sharedStrings.parseStream(N);break;case"xl/styles.xml":_.styles=new y,await _.styles.parseStream(N);break;case"docProps/app.xml":{const U=new k,G=await U.parseStream(N);_.company=G.company,_.manager=G.manager;break}case"docProps/core.xml":{const U=new p,G=await U.parseStream(N);Object.assign(_,G);break}default:{let U=O.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(U){await this._processWorksheetEntry(N,_,U[1],C,O);break}if(U=O.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),U){await this._processWorksheetRelsEntry(N,_,U[1]);break}if(U=O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),U){await this._processThemeEntry(N,_,U[1]);break}if(U=O.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),U){await this._processMediaEntry(N,_,U[1]);break}if(U=O.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),U){await this._processDrawingEntry(N,_,U[1]);break}if(U=O.match(/xl\/(comments\d+)[.]xml/),U){await this._processCommentEntry(N,_,U[1]);break}if(U=O.match(/xl\/tables\/(table\d+)[.]xml/),U){await this._processTableEntry(N,_,U[1]);break}if(U=O.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),U){await this._processDrawingRelsEntry(N,_,U[1]);break}if(U=O.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),U){await this._processVmlDrawingEntry(N,_,U[1]);break}}}}return this.reconcile(_,C),this.workbook.model=_,this.workbook}async addMedia(P,C){await Promise.all(C.media.map(async b=>{if(b.type==="image"){const _=`xl/media/${b.name}.${b.extension}`;if(b.filename){const w=await function(S,N){return new Promise((O,U)=>{u.readFile(S,N,(G,W)=>{G?U(G):O(W)})})}(b.filename);return P.append(w,{name:_})}if(b.buffer)return P.append(b.buffer,{name:_});if(b.base64){const w=b.base64,S=w.substring(w.indexOf(",")+1);return P.append(S,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,C){const b=new V,_=new m;C.worksheets.forEach(w=>{const{drawing:S}=w;if(S){b.prepare(S,{});let N=b.toXml(S);P.append(N,{name:`xl/drawings/${S.name}.xml`}),N=_.toXml(S.rels),P.append(N,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(P,C){const b=new L;C.worksheets.forEach(_=>{const{tables:w}=_;w.forEach(S=>{b.prepare(S,{});const N=b.toXml(S);P.append(N,{name:"xl/tables/"+S.target})})})}async addContentTypes(P,C){const b=new x().toXml(C);P.append(b,{name:"[Content_Types].xml"})}async addApp(P,C){const b=new k().toXml(C);P.append(b,{name:"docProps/app.xml"})}async addCore(P,C){const b=new p;P.append(b.toXml(C),{name:"docProps/core.xml"})}async addThemes(P,C){const b=C.themes||{theme1:H};Object.keys(b).forEach(_=>{const w=b[_],S=`xl/theme/${_}.xml`;P.append(w,{name:S})})}async addOfficeRels(P){const C=new m().toXml([{Id:"rId1",Type:$.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:$.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:$.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(C,{name:"_rels/.rels"})}async addWorkbookRels(P,C){let b=1;const _=[{Id:"rId"+b++,Type:$.RelType.Styles,Target:"styles.xml"},{Id:"rId"+b++,Type:$.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&_.push({Id:"rId"+b++,Type:$.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(S=>{S.rId="rId"+b++,_.push({Id:S.rId,Type:$.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const w=new m().toXml(_);P.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,C){C.sharedStrings&&C.sharedStrings.count&&P.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,C){const{xml:b}=C.styles;b&&P.append(b,{name:"xl/styles.xml"})}async addWorkbook(P,C){const b=new I;P.append(b.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(P,C){const b=new D,_=new m,w=new z,S=new B;C.worksheets.forEach(N=>{let O=new f;b.render(O,N),P.append(O.xml,{name:`xl/worksheets/sheet${N.id}.xml`}),N.rels&&N.rels.length&&(O=new f,_.render(O,N.rels),P.append(O.xml,{name:`xl/worksheets/_rels/sheet${N.id}.xml.rels`})),N.comments.length>0&&(O=new f,w.render(O,N),P.append(O.xml,{name:`xl/comments${N.id}.xml`}),O=new f,S.render(O,N),P.append(O.xml,{name:`xl/drawings/vmlDrawing${N.id}.vml`}))})}_finalize(P){return new Promise((C,b)=>{P.on("finish",()=>{C(this)}),P.on("error",b),P.finalize()})}prepareModel(P,C){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,P.useStyles=C.useStyles===void 0||C.useStyles,P.sharedStrings=new v,P.styles=P.useStyles?new y(!0):new y.Mock;const b=new I,_=new D;b.prepare(P);const w={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};w.drawings=P.drawings=[],w.commentRefs=P.commentRefs=[];let S=0;P.tables=[],P.worksheets.forEach(N=>{N.tables.forEach(O=>{S++,O.target=`table${S}.xml`,O.id=S,P.tables.push(O)}),_.prepare(N,w)})}async write(P,C){C=C||{};const{model:b}=this.workbook,_=new c.ZipWriter(C.zip);return _.pipe(P),this.prepareModel(b,C),await this.addContentTypes(_,b),await this.addOfficeRels(_,b),await this.addWorkbookRels(_,b),await this.addWorksheets(_,b),await this.addSharedStrings(_,b),await this.addDrawings(_,b),await this.addTables(_,b),await Promise.all([this.addThemes(_,b),this.addStyles(_,b)]),await this.addMedia(_,b),await Promise.all([this.addApp(_,b),this.addCore(_,b)]),await this.addWorkbook(_,b),this._finalize(_)}writeFile(P,C){const b=u.createWriteStream(P);return new Promise((_,w)=>{b.on("finish",()=>{_()}),b.on("error",S=>{w(S)}),this.write(b,C).then(()=>{b.end()}).catch(S=>{w(S)})})}async writeBuffer(P){const C=new h;return await this.write(C,P),C.read()}}$.RelType=t("./rel-type"),r.exports=$}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,r,o){r.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,r,o){(function(i){(function(){Object.defineProperty(o,"__esModule",{value:!0}),o.CsvFormatterStream=void 0;const a=t("stream"),u=t("./formatter");class l extends a.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new u.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,h,d){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(g,y)=>g?(f=!0,d(g)):(y&&y.forEach(p=>{this.push(i.from(p,"utf8"))}),f=!0,d()))}catch(g){if(f)throw g;d(g)}}_flush(c){this.rowFormatter.finish((h,d)=>h?c(h):(d&&d.forEach(f=>{this.push(i.from(f,"utf8"))}),c()))}}o.CsvFormatterStream=l}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.FormatterOptions=void 0,o.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,r,o){var i=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(o,"__esModule",{value:!0}),o.FieldFormatter=void 0;const a=i(t("lodash.isboolean")),u=i(t("lodash.isnil")),l=i(t("lodash.escaperegexp"));o.FieldFormatter=class{constructor(s){this._headers=null,this.formatterOptions=s,s.headers!==null&&(this.headers=s.headers),this.REPLACE_REGEXP=new RegExp(s.quote,"g");const c=`[${s.delimiter}${l.default(s.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(s){this._headers=s}shouldQuote(s,c){const h=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(h)?h:Array.isArray(h)?h[s]:this._headers!==null&&h[this._headers[s]]}format(s,c,h){const d=(""+(u.default(s)?"":s)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&d.indexOf(f.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,f.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,h)?this.quoteField(d):d}quoteField(s){const{quote:c}=this.formatterOptions;return`${c}${s}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,r,o){var i=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(o,"__esModule",{value:!0}),o.RowFormatter=void 0;const a=i(t("lodash.isfunction")),u=i(t("lodash.isequal")),l=t("./FieldFormatter"),s=t("../types");class c{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new l.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return c.isRowHashArray(d)?d.map(f=>f[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return s.isSyncTransform(d)?(f,g)=>{let y=null;try{y=d(f)}catch(p){return g(p)}return g(null,y)}:(f,g)=>{d(f,g)}}set rowTransform(d){if(!a.default(d))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(d)}format(d,f){this.callTransformer(d,(g,y)=>{if(g)return f(g);if(!d)return f(null);const p=[];if(y){const{shouldFormatColumns:v,headers:m}=this.checkHeaders(y);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),v){const x=this.gatherColumns(y);p.push(this.formatColumns(x,!1))}}return f(null,p)})}finish(d){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),d(null,f)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=c.gatherHeaders(d);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!u.default(f,d),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?c.isRowHashArray(d)?this.headers.map((f,g)=>{const y=d[g];return y?y[1]:""}):c.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((f,g)=>d[g]):this.headers.map(f=>d[f])}callTransformer(d,f){return this._rowTransform?this._rowTransform(d,f):f(null,d)}formatColumns(d,f){const g=d.map((p,v)=>this.fieldFormatter.format(p,v,f)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}o.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.FieldFormatter=o.RowFormatter=void 0;var i=t("./RowFormatter");Object.defineProperty(o,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=t("./FieldFormatter");Object.defineProperty(o,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,r,o){(function(i){(function(){var a=Object.create?function(v,m,x,k){k===void 0&&(k=x),Object.defineProperty(v,k,{enumerable:!0,get:function(){return m[x]}})}:function(v,m,x,k){k===void 0&&(k=x),v[k]=m[x]},u=Object.create?function(v,m){Object.defineProperty(v,"default",{enumerable:!0,value:m})}:function(v,m){v.default=m},l=function(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var x in v)x!=="default"&&Object.prototype.hasOwnProperty.call(v,x)&&a(m,v,x);return u(m,v),m},s=function(v,m){for(var x in v)x==="default"||Object.prototype.hasOwnProperty.call(m,x)||a(m,v,x)};Object.defineProperty(o,"__esModule",{value:!0}),o.writeToPath=o.writeToString=o.writeToBuffer=o.writeToStream=o.write=o.format=o.FormatterOptions=o.CsvFormatterStream=void 0;const c=t("util"),h=t("stream"),d=l(t("fs")),f=t("./FormatterOptions"),g=t("./CsvFormatterStream");s(t("./types"),o);var y=t("./CsvFormatterStream");Object.defineProperty(o,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var p=t("./FormatterOptions");Object.defineProperty(o,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),o.format=v=>new g.CsvFormatterStream(new f.FormatterOptions(v)),o.write=(v,m)=>{const x=o.format(m),k=c.promisify((I,D)=>{x.write(I,void 0,D)});return v.reduce((I,D)=>I.then(()=>k(D)),Promise.resolve()).then(()=>x.end()).catch(I=>{x.emit("error",I)}),x},o.writeToStream=(v,m,x)=>o.write(m,x).pipe(v),o.writeToBuffer=function(v){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],k=new h.Writable({write(I,D,V){x.push(I),V()}});return new Promise((I,D)=>{k.on("error",D).on("finish",()=>I(i.concat(x))),o.write(v,m).pipe(k)})},o.writeToString=(v,m)=>o.writeToBuffer(v,m).then(x=>x.toString()),o.writeToPath=(v,m,x)=>{const k=d.createWriteStream(v,{encoding:"utf8"});return o.write(m,x).pipe(k)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isSyncTransform=void 0,o.isSyncTransform=i=>i.length===1},{}],153:[function(t,r,o){(function(i){(function(){Object.defineProperty(o,"__esModule",{value:!0}),o.CsvParserStream=void 0;const a=t("string_decoder"),u=t("stream"),l=t("./transforms"),s=t("./parser");class c extends u.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new s.Parser(d),this.headerTransformer=new l.HeaderTransformer(d),this.decoder=new a.StringDecoder(d.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,g=new Array(f>1?f-1:0),y=1;y<f;y++)g[y-1]=arguments[y];return super.emit(d,...g)}_transform(d,f,g){if(this.hasHitRowLimit)return g();const y=c.wrapDoneCallback(g);try{const{lines:p}=this,v=p+this.decoder.write(d),m=this.parse(v,!0);return this.processRows(m,y)}catch(p){return y(p)}}_flush(d){const f=c.wrapDoneCallback(d);if(this.hasHitRowLimit)return f();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,f)}catch(g){return f(g)}}parse(d,f){if(!d)return[];const{line:g,rows:y}=this.parser.parse(d,f);return this.lines=g,y}processRows(d,f){const g=d.length,y=p=>{const v=k=>k?f(k):p%100!=0?y(p+1):void i(()=>y(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const m=d[p];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(m,(k,I)=>{if(k)return this.rowCount-=1,v(k);if(!I)return v(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,v)}else this.emit("data-invalid",I.row,x,I.reason);return v()})};y(0)}transformRow(d,f){try{this.headerTransformer.transform(d,(g,y)=>g?f(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:d}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(g){f(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,f){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),f()}catch(g){f(g)}}static wrapDoneCallback(d){let f=!1;return function(g){if(g){if(f)throw g;return f=!0,void d(g)}for(var y=arguments.length,p=new Array(y>1?y-1:0),v=1;v<y;v++)p[v-1]=arguments[v];d(...p)}}}o.CsvParserStream=c}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,r,o){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(o,"__esModule",{value:!0}),o.ParserOptions=void 0;const a=i(t("lodash.escaperegexp")),u=i(t("lodash.isnil"));o.ParserOptions=class{constructor(l){var s;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(s=this.escape)!==null&&s!==void 0?s:this.quote,this.supportsComments=!u.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,r,o){var i=Object.create?function(y,p,v,m){m===void 0&&(m=v),Object.defineProperty(y,m,{enumerable:!0,get:function(){return p[v]}})}:function(y,p,v,m){m===void 0&&(m=v),y[m]=p[v]},a=Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p},u=function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&i(p,y,v);return a(p,y),p},l=function(y,p){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(p,v)||i(p,y,v)};Object.defineProperty(o,"__esModule",{value:!0}),o.parseString=o.parseFile=o.parseStream=o.parse=o.ParserOptions=o.CsvParserStream=void 0;const s=u(t("fs")),c=t("stream"),h=t("./ParserOptions"),d=t("./CsvParserStream");l(t("./types"),o);var f=t("./CsvParserStream");Object.defineProperty(o,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var g=t("./ParserOptions");Object.defineProperty(o,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),o.parse=y=>new d.CsvParserStream(new h.ParserOptions(y)),o.parseStream=(y,p)=>y.pipe(new d.CsvParserStream(new h.ParserOptions(p))),o.parseFile=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.createReadStream(y).pipe(new d.CsvParserStream(new h.ParserOptions(p)))},o.parseString=(y,p)=>{const v=new c.Readable;return v.push(y),v.push(null),v.pipe(new d.CsvParserStream(new h.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Parser=void 0;const i=t("./Scanner"),a=t("./RowParser"),u=t("./Token");class l{constructor(c){this.parserOptions=c,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,h){const d=new i.Scanner({line:l.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(c){const h=[];let d=!0;for(;d;)d=this.parseRow(c,h);return{line:c.line,rows:h}}parseWithComments(c){const{parserOptions:h}=this,d=[];for(let f=c.nextCharacterToken;f!==null;f=c.nextCharacterToken)if(u.Token.isTokenComment(f,h)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:d};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:d};c.truncateToCursor()}else if(!this.parseRow(c,d))break;return{line:c.line,rows:d}}parseRow(c,h){if(!c.nextNonSpaceToken)return!1;const d=this.rowParser.parse(c);return d!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(d)||h.push(d),!0)}}o.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.RowParser=void 0;const i=t("./column"),a=t("./Token");o.RowParser=class{constructor(u){this.parserOptions=u,this.columnParser=new i.ColumnParser(u)}static isEmptyRow(u){return u.join("").replace(/\s+/g,"")===""}parse(u){const{parserOptions:l}=this,{hasMoreData:s}=u,c=u,h=[];let d=this.getStartToken(c,h);for(;d;){if(a.Token.isTokenRowDelimiter(d))return c.advancePastToken(d),!c.hasMoreCharacters&&a.Token.isTokenCarriageReturn(d,l)&&s?null:(c.truncateToCursor(),h);if(!this.shouldSkipColumnParse(c,d,h)){const f=this.columnParser.parse(c);if(f===null)return null;h.push(f)}d=c.nextNonSpaceToken}return s?null:(c.truncateToCursor(),h)}getStartToken(u,l){const s=u.nextNonSpaceToken;return s!==null&&a.Token.isTokenDelimiter(s,this.parserOptions)?(l.push(""),u.nextNonSpaceToken):s}shouldSkipColumnParse(u,l,s){const{parserOptions:c}=this;if(a.Token.isTokenDelimiter(l,c)){u.advancePastToken(l);const h=u.nextCharacterToken;if(!u.hasMoreCharacters||h!==null&&a.Token.isTokenRowDelimiter(h)||h!==null&&a.Token.isTokenDelimiter(h,c))return s.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Scanner=void 0;const i=t("./Token"),a=/((?:\r\n)|\n|\r)/;o.Scanner=class{constructor(u){this.cursor=0,this.line=u.line,this.lineLength=this.line.length,this.parserOptions=u.parserOptions,this.hasMoreData=u.hasMoreData,this.cursor=u.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:u}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(u.search(l)===-1)return null;const s=l.exec(u);if(s==null)return null;const c=s[1],h=this.cursor+(s.index||0);return new i.Token({token:c,startCursor:h,endCursor:h+c.length-1})}get nextCharacterToken(){const{cursor:u,lineLength:l}=this;return l<=u?null:new i.Token({token:this.line[u],startCursor:u,endCursor:u})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const u=a.exec(this.lineFromCursor);return u?(this.cursor+=(u.index||0)+u[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(u){return this.cursor=u,this}advanceToToken(u){return this.cursor=u.startCursor,this}advancePastToken(u){return this.cursor=u.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Token=void 0,o.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ColumnFormatter=void 0,o.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ColumnParser=void 0;const i=t("./NonQuotedColumnParser"),a=t("./QuotedColumnParser"),u=t("../Token");o.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new a.QuotedColumnParser(l),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:s}=l;return s!==null&&u.Token.isTokenQuote(s,this.parserOptions)?(l.advanceToToken(s),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.NonQuotedColumnParser=void 0;const i=t("./ColumnFormatter"),a=t("../Token");o.NonQuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const{parserOptions:l}=this,s=[];let c=u.nextCharacterToken;for(;c&&!a.Token.isTokenDelimiter(c,l)&&!a.Token.isTokenRowDelimiter(c);c=u.nextCharacterToken)s.push(c.token),u.advancePastToken(c);return this.columnFormatter.format(s.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.QuotedColumnParser=void 0;const i=t("./ColumnFormatter"),a=t("../Token");o.QuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const l=u.cursor,{foundClosingQuote:s,col:c}=this.gatherDataBetweenQuotes(u);if(!s){if(u.advanceTo(l),!u.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${u.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(u),c}gatherDataBetweenQuotes(u){const{parserOptions:l}=this;let s=!1,c=!1;const h=[];let d=u.nextCharacterToken;for(;!c&&d!==null;d=u.nextCharacterToken){const f=a.Token.isTokenQuote(d,l);if(!s&&f)s=!0;else if(s)if(a.Token.isTokenEscapeCharacter(d,l)){u.advancePastToken(d);const g=u.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,l)||a.Token.isTokenEscapeCharacter(g,l))?(h.push(g.token),d=g):f?c=!0:h.push(d.token)}else f?c=!0:h.push(d.token);u.advancePastToken(d)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:c}}checkForMalformedColumn(u){const{parserOptions:l}=this,{nextNonSpaceToken:s}=u;if(s){const c=a.Token.isTokenDelimiter(s,l),h=a.Token.isTokenRowDelimiter(s);if(!c&&!h){const d=u.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${s.token}'. at '${d}`)}u.advanceToToken(s)}else u.hasMoreData||u.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ColumnFormatter=o.QuotedColumnParser=o.NonQuotedColumnParser=o.ColumnParser=void 0;var i=t("./ColumnParser");Object.defineProperty(o,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=t("./NonQuotedColumnParser");Object.defineProperty(o,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var u=t("./QuotedColumnParser");Object.defineProperty(o,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}});var l=t("./ColumnFormatter");Object.defineProperty(o,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.QuotedColumnParser=o.NonQuotedColumnParser=o.ColumnParser=o.Token=o.Scanner=o.RowParser=o.Parser=void 0;var i=t("./Parser");Object.defineProperty(o,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=t("./RowParser");Object.defineProperty(o,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var u=t("./Scanner");Object.defineProperty(o,"Scanner",{enumerable:!0,get:function(){return u.Scanner}});var l=t("./Token");Object.defineProperty(o,"Token",{enumerable:!0,get:function(){return l.Token}});var s=t("./column");Object.defineProperty(o,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}}),Object.defineProperty(o,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}}),Object.defineProperty(o,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,r,o){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(o,"__esModule",{value:!0}),o.HeaderTransformer=void 0;const a=i(t("lodash.isundefined")),u=i(t("lodash.isfunction")),l=i(t("lodash.uniq")),s=i(t("lodash.groupby"));o.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):u.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,h){return this.shouldMapRow(c)?h(null,this.processRow(c)):h(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&c.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return h.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const h={},{headers:d,headersLength:f}=this;for(let g=0;g<f;g+=1){const y=d[g];if(!a.default(y)){const p=c[g];a.default(p)?h[y]="":h[y]=p}}return h}setHeaders(c){var h;const d=c.filter(f=>!!f);if(l.default(d).length!==d.length){const f=s.default(d),g=Object.keys(f).filter(y=>f[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,r,o){var i=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(o,"__esModule",{value:!0}),o.RowTransformerValidator=void 0;const a=i(t("lodash.isfunction")),u=t("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return u.isSyncTransform(c)?(h,d)=>{let f=null;try{f=c(h)}catch(g){return d(g)}return d(null,f)}:c}static createValidator(c){return u.isSyncValidate(c)?(h,d)=>{d(null,{row:h,isValid:c(h)})}:(h,d)=>{c(h,(f,g,y)=>f?d(f):d(null,g?{row:h,isValid:g,reason:y}:{row:h,isValid:!1,reason:y}))}}set rowTransform(c){if(!a.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}set rowValidator(c){if(!a.default(c))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(c)}transformAndValidate(c,h){return this.callTransformer(c,(d,f)=>d?h(d):f?this.callValidator(f,(g,y)=>g?h(g):y&&!y.isValid?h(null,{row:f,isValid:!1,reason:y.reason}):h(null,{row:f,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(c,h){return this._rowTransform?this._rowTransform(c,h):h(null,c)}callValidator(c,h){return this._rowValidator?this._rowValidator(c,h):h(null,{row:c,isValid:!0})}}o.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.HeaderTransformer=o.RowTransformerValidator=void 0;var i=t("./RowTransformerValidator");Object.defineProperty(o,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=t("./HeaderTransformer");Object.defineProperty(o,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.isSyncValidate=o.isSyncTransform=void 0,o.isSyncTransform=i=>i.length===1,o.isSyncValidate=i=>i.length===1},{}],170:[function(t,r,o){const i=o;i.bignum=t("bn.js"),i.define=t("./asn1/api").define,i.base=t("./asn1/base"),i.constants=t("./asn1/constants"),i.decoders=t("./asn1/decoders"),i.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,r,o){const i=t("./encoders"),a=t("./decoders"),u=t("inherits");function l(s,c){this.name=s,this.body=c,this.decoders={},this.encoders={}}o.define=function(s,c){return new l(s,c)},l.prototype._createNamed=function(s){const c=this.name;function h(d){this._initNamed(d,c)}return u(h,s),h.prototype._initNamed=function(d,f){s.call(this,d,f)},new h(this)},l.prototype._getDecoder=function(s){return s=s||"der",this.decoders.hasOwnProperty(s)||(this.decoders[s]=this._createNamed(a[s])),this.decoders[s]},l.prototype.decode=function(s,c,h){return this._getDecoder(c).decode(s,h)},l.prototype._getEncoder=function(s){return s=s||"der",this.encoders.hasOwnProperty(s)||(this.encoders[s]=this._createNamed(i[s])),this.encoders[s]},l.prototype.encode=function(s,c,h){return this._getEncoder(c).encode(s,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,r,o){const i=t("inherits"),a=t("../base/reporter").Reporter,u=t("safer-buffer").Buffer;function l(c,h){a.call(this,h),u.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function s(c,h){if(Array.isArray(c))this.length=0,this.value=c.map(function(d){return s.isEncoderBuffer(d)||(d=new s(d,h)),this.length+=d.length,d},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return h.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=u.byteLength(c);else{if(!u.isBuffer(c))return h.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}i(l,a),o.DecoderBuffer=l,l.isDecoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&u.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},l.prototype.restore=function(c){const h=new l(this.base);return h.offset=c.offset,h.length=this.offset,this.offset=c.offset,a.prototype.restore.call(this,c.reporter),h},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},l.prototype.skip=function(c,h){if(!(this.offset+c<=this.length))return this.error(h||"DecoderBuffer overrun");const d=new l(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+c,this.offset+=c,d},l.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},o.EncoderBuffer=s,s.isEncoderBuffer=function(c){return c instanceof s?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},s.prototype.join=function(c,h){return c||(c=u.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(c,h),h+=d.length}):(typeof this.value=="number"?c[h]=this.value:typeof this.value=="string"?c.write(this.value,h):u.isBuffer(this.value)&&this.value.copy(c,h),h+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,r,o){const i=o;i.Reporter=t("./reporter").Reporter,i.DecoderBuffer=t("./buffer").DecoderBuffer,i.EncoderBuffer=t("./buffer").EncoderBuffer,i.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,r,o){const i=t("../base/reporter").Reporter,a=t("../base/buffer").EncoderBuffer,u=t("../base/buffer").DecoderBuffer,l=t("minimalistic-assert"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function h(f,g,y){const p={};this._baseState=p,p.name=y,p.enc=f,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}r.exports=h;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const f=this._baseState,g={};d.forEach(function(p){g[p]=f[p]});const y=new this.constructor(g.parent);return y._baseState=g,y},h.prototype._wrap=function(){const f=this._baseState;c.forEach(function(g){this[g]=function(){const y=new this.constructor(this);return f.children.push(y),y[g].apply(y,arguments)}},this)},h.prototype._init=function(f){const g=this._baseState;l(g.parent===null),f.call(this),g.children=g.children.filter(function(y){return y._baseState.parent===this},this),l.equal(g.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(f){const g=this._baseState,y=f.filter(function(p){return p instanceof this.constructor},this);f=f.filter(function(p){return!(p instanceof this.constructor)},this),y.length!==0&&(l(g.children===null),g.children=y,y.forEach(function(p){p._baseState.parent=this},this)),f.length!==0&&(l(g.args===null),g.args=f,g.reverseArgs=f.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const v={};return Object.keys(p).forEach(function(m){m==(0|m)&&(m|=0);const x=p[m];v[x]=m}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){h.prototype[f]=function(){const g=this._baseState;throw new Error(f+" not implemented for encoding: "+g.enc)}}),s.forEach(function(f){h.prototype[f]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return l(g.tag===null),g.tag=f,this._useArgs(y),this}}),h.prototype.use=function(f){l(f);const g=this._baseState;return l(g.use===null),g.use=f,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(f){const g=this._baseState;return l(g.default===null),g.default=f,g.optional=!0,this},h.prototype.explicit=function(f){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.explicit=f,this},h.prototype.implicit=function(f){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.implicit=f,this},h.prototype.obj=function(){const f=this._baseState,g=Array.prototype.slice.call(arguments);return f.obj=!0,g.length!==0&&this._useArgs(g),this},h.prototype.key=function(f){const g=this._baseState;return l(g.key===null),g.key=f,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(f){const g=this._baseState;return l(g.choice===null),g.choice=f,this._useArgs(Object.keys(f).map(function(y){return f[y]})),this},h.prototype.contains=function(f){const g=this._baseState;return l(g.use===null),g.contains=f,this},h.prototype._decode=function(f,g){const y=this._baseState;if(y.parent===null)return f.wrapResult(y.children[0]._decode(f,g));let p,v=y.default,m=!0,x=null;if(y.key!==null&&(x=f.enterKey(y.key)),y.optional){let k=null;if(y.explicit!==null?k=y.explicit:y.implicit!==null?k=y.implicit:y.tag!==null&&(k=y.tag),k!==null||y.any){if(m=this._peekTag(f,k,y.any),f.isError(m))return m}else{const I=f.save();try{y.choice===null?this._decodeGeneric(y.tag,f,g):this._decodeChoice(f,g),m=!0}catch{m=!1}f.restore(I)}}if(y.obj&&m&&(p=f.enterObject()),m){if(y.explicit!==null){const I=this._decodeTag(f,y.explicit);if(f.isError(I))return I;f=I}const k=f.offset;if(y.use===null&&y.choice===null){let I;y.any&&(I=f.save());const D=this._decodeTag(f,y.implicit!==null?y.implicit:y.tag,y.any);if(f.isError(D))return D;y.any?v=f.raw(I):f=D}if(g&&g.track&&y.tag!==null&&g.track(f.path(),k,f.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(f.path(),f.offset,f.length,"content"),y.any||(v=y.choice===null?this._decodeGeneric(y.tag,f,g):this._decodeChoice(f,g)),f.isError(v))return v;if(y.any||y.choice!==null||y.children===null||y.children.forEach(function(I){I._decode(f,g)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const I=new u(v);v=this._getUse(y.contains,f._reporterState.obj)._decode(I,g)}}return y.obj&&m&&(v=f.leaveObject(p)),y.key===null||v===null&&m!==!0?x!==null&&f.exitKey(x):f.leaveKey(x,y.key,v),v},h.prototype._decodeGeneric=function(f,g,y){const p=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(g,f,p.args[0],y):/str$/.test(f)?this._decodeStr(g,f,y):f==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],y):f==="objid"?this._decodeObjid(g,null,null,y):f==="gentime"||f==="utctime"?this._decodeTime(g,f,y):f==="null_"?this._decodeNull(g,y):f==="bool"?this._decodeBool(g,y):f==="objDesc"?this._decodeStr(g,f,y):f==="int"||f==="enum"?this._decodeInt(g,p.args&&p.args[0],y):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+f)},h.prototype._getUse=function(f,g){const y=this._baseState;return y.useDecoder=this._use(f,g),l(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},h.prototype._decodeChoice=function(f,g){const y=this._baseState;let p=null,v=!1;return Object.keys(y.choice).some(function(m){const x=f.save(),k=y.choice[m];try{const I=k._decode(f,g);if(f.isError(I))return!1;p={type:m,value:I},v=!0}catch{return f.restore(x),!1}return!0},this),v?p:f.error("Choice not matched")},h.prototype._createEncoderBuffer=function(f){return new a(f,this.reporter)},h.prototype._encode=function(f,g,y){const p=this._baseState;if(p.default!==null&&p.default===f)return;const v=this._encodeValue(f,g,y);return v===void 0||this._skipDefault(v,g,y)?void 0:v},h.prototype._encodeValue=function(f,g,y){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(f,g||new i);let v=null;if(this.reporter=g,p.optional&&f===void 0){if(p.default===null)return;f=p.default}let m=null,x=!1;if(p.any)v=this._createEncoderBuffer(f);else if(p.choice)v=this._encodeChoice(f,g);else if(p.contains)m=this._getUse(p.contains,y)._encode(f,g),x=!0;else if(p.children)m=p.children.map(function(k){if(k._baseState.tag==="null_")return k._encode(null,g,f);if(k._baseState.key===null)return g.error("Child should have a key");const I=g.enterKey(k._baseState.key);if(typeof f!="object")return g.error("Child expected, but input is not object");const D=k._encode(f[k._baseState.key],g,f);return g.leaveKey(I),D},this).filter(function(k){return k}),m=this._createEncoderBuffer(m);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(f))return g.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,m=this._createEncoderBuffer(f.map(function(I){const D=this._baseState;return this._getUse(D.args[0],f)._encode(I,g)},k))}else p.use!==null?v=this._getUse(p.use,y)._encode(f,g):(m=this._encodePrimitive(p.tag,f),x=!0);if(!p.any&&p.choice===null){const k=p.implicit!==null?p.implicit:p.tag,I=p.implicit===null?"universal":"context";k===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(v=this._encodeComposite(k,x,I,m))}return p.explicit!==null&&(v=this._encodeComposite(p.explicit,!1,"context",v)),v},h.prototype._encodeChoice=function(f,g){const y=this._baseState,p=y.choice[f.type];return p||l(!1,f.type+" not found in "+JSON.stringify(Object.keys(y.choice))),p._encode(f.value,g)},h.prototype._encodePrimitive=function(f,g){const y=this._baseState;if(/str$/.test(f))return this._encodeStr(g,f);if(f==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(f==="objid")return this._encodeObjid(g,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(g,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(f==="bool")return this._encodeBool(g);if(f==="objDesc")return this._encodeStr(g,f);throw new Error("Unsupported tag: "+f)},h.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},h.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,r,o){const i=t("inherits");function a(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function u(l,s){this.path=l,this.rethrow(s)}o.Reporter=a,a.prototype.isError=function(l){return l instanceof u},a.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},a.prototype.restore=function(l){const s=this._reporterState;s.obj=l.obj,s.path=s.path.slice(0,l.pathLen)},a.prototype.enterKey=function(l){return this._reporterState.path.push(l)},a.prototype.exitKey=function(l){const s=this._reporterState;s.path=s.path.slice(0,l-1)},a.prototype.leaveKey=function(l,s,c){const h=this._reporterState;this.exitKey(l),h.obj!==null&&(h.obj[s]=c)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const l=this._reporterState,s=l.obj;return l.obj={},s},a.prototype.leaveObject=function(l){const s=this._reporterState,c=s.obj;return s.obj=l,c},a.prototype.error=function(l){let s;const c=this._reporterState,h=l instanceof u;if(s=h?l:new u(c.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),l.message||l,l.stack),!c.options.partial)throw s;return h||c.errors.push(s),s},a.prototype.wrapResult=function(l){const s=this._reporterState;return s.options.partial?{result:this.isError(l)?null:l,errors:s.errors}:l},i(u,Error),u.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(s){this.stack=s.stack}return this}},{inherits:440}],176:[function(t,r,o){function i(a){const u={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const s=a[l];u[s]=l}),u}o.tagClass={0:"universal",1:"application",2:"context",3:"private"},o.tagClassByName=i(o.tagClass),o.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},o.tagByName=i(o.tag)},{}],177:[function(t,r,o){const i=o;i._reverse=function(a){const u={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const s=a[l];u[s]=l}),u},i.der=t("./der")},{"./der":176}],178:[function(t,r,o){const i=t("inherits"),a=t("bn.js"),u=t("../base/buffer").DecoderBuffer,l=t("../base/node"),s=t("../constants/der");function c(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new h,this.tree._init(g.body)}function h(g){l.call(this,"der",g)}function d(g,y){let p=g.readUInt8(y);if(g.isError(p))return p;const v=s.tagClass[p>>6],m=(32&p)==0;if((31&p)==31){let x=p;for(p=0;(128&x)==128;){if(x=g.readUInt8(y),g.isError(x))return x;p<<=7,p|=127&x}}else p&=31;return{cls:v,primitive:m,tag:p,tagStr:s.tag[p]}}function f(g,y,p){let v=g.readUInt8(p);if(g.isError(v))return v;if(!y&&v===128)return null;if(!(128&v))return v;const m=127&v;if(m>4)return g.error("length octect is too long");v=0;for(let x=0;x<m;x++){v<<=8;const k=g.readUInt8(p);if(g.isError(k))return k;v|=k}return v}r.exports=c,c.prototype.decode=function(g,y){return u.isDecoderBuffer(g)||(g=new u(g,y)),this.tree._decode(g,y)},i(h,l),h.prototype._peekTag=function(g,y,p){if(g.isEmpty())return!1;const v=g.save(),m=d(g,'Failed to peek tag: "'+y+'"');return g.isError(m)?m:(g.restore(v),m.tag===y||m.tagStr===y||m.tagStr+"of"===y||p)},h.prototype._decodeTag=function(g,y,p){const v=d(g,'Failed to decode tag of "'+y+'"');if(g.isError(v))return v;let m=f(g,v.primitive,'Failed to get length of "'+y+'"');if(g.isError(m))return m;if(!p&&v.tag!==y&&v.tagStr!==y&&v.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(v.primitive||m!==null)return g.skip(m,'Failed to match body of: "'+y+'"');const x=g.save(),k=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(k)?k:(m=g.offset-x.offset,g.restore(x),g.skip(m,'Failed to match body of: "'+y+'"'))},h.prototype._skipUntilEnd=function(g,y){for(;;){const p=d(g,y);if(g.isError(p))return p;const v=f(g,p.primitive,y);if(g.isError(v))return v;let m;if(m=p.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,y),g.isError(m))return m;if(p.tagStr==="end")break}},h.prototype._decodeList=function(g,y,p,v){const m=[];for(;!g.isEmpty();){const x=this._peekTag(g,"end");if(g.isError(x))return x;const k=p.decode(g,"der",v);if(g.isError(k)&&x)break;m.push(k)}return m},h.prototype._decodeStr=function(g,y){if(y==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(y==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let m=0;m<p.length/2;m++)v+=String.fromCharCode(p.readUInt16BE(2*m));return v}if(y==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},h.prototype._decodeObjid=function(g,y,p){let v;const m=[];let x=0,k=0;for(;!g.isEmpty();)k=g.readUInt8(),x<<=7,x|=127&k,!(128&k)&&(m.push(x),x=0);128&k&&m.push(x);const I=m[0]/40|0,D=m[0]%40;if(v=p?m:[I,D].concat(m.slice(1)),y){let V=y[v.join(" ")];V===void 0&&(V=y[v.join(".")]),V!==void 0&&(v=V)}return v},h.prototype._decodeTime=function(g,y){const p=g.raw().toString();let v,m,x,k,I,D;if(y==="gentime")v=0|p.slice(0,4),m=0|p.slice(4,6),x=0|p.slice(6,8),k=0|p.slice(8,10),I=0|p.slice(10,12),D=0|p.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");v=0|p.slice(0,2),m=0|p.slice(2,4),x=0|p.slice(4,6),k=0|p.slice(6,8),I=0|p.slice(8,10),D=0|p.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,m-1,x,k,I,D,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},h.prototype._decodeInt=function(g,y){const p=g.raw();let v=new a(p);return y&&(v=y[v.toString(10)]||v),v},h.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,r,o){const i=o;i.der=t("./der"),i.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,r,o){const i=t("inherits"),a=t("safer-buffer").Buffer,u=t("./der");function l(s){u.call(this,s),this.enc="pem"}i(l,u),r.exports=l,l.prototype.decode=function(s,c){const h=s.toString().split(/[\r\n]+/g),d=c.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let m=0;m<h.length;m++){const x=h[m].match(f);if(x!==null&&x[2]===d){if(g!==-1){if(x[1]!=="END")break;y=m;break}if(x[1]!=="BEGIN")break;g=m}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+d);const p=h.slice(g+1,y).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(p,"base64");return u.prototype.decode.call(this,v,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,r,o){const i=t("inherits"),a=t("safer-buffer").Buffer,u=t("../base/node"),l=t("../constants/der");function s(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new c,this.tree._init(d.body)}function c(d){u.call(this,"der",d)}function h(d){return d<10?"0"+d:d}r.exports=s,s.prototype.encode=function(d,f){return this.tree._encode(d,f).join()},i(c,u),c.prototype._encodeComposite=function(d,f,g,y){const p=function(x,k,I,D){let V;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),l.tagByName.hasOwnProperty(x))V=l.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return D.error("Unknown tag: "+x);V=x}return V>=31?D.error("Multi-octet tag encoding unsupported"):(k||(V|=32),V|=l.tagClassByName[I||"universal"]<<6,V)}(d,f,g,this.reporter);if(y.length<128){const x=a.alloc(2);return x[0]=p,x[1]=y.length,this._createEncoderBuffer([x,y])}let v=1;for(let x=y.length;x>=256;x>>=8)v++;const m=a.alloc(2+v);m[0]=p,m[1]=128|v;for(let x=1+v,k=y.length;k>0;x--,k>>=8)m[x]=255&k;return this._createEncoderBuffer([m,y])},c.prototype._encodeStr=function(d,f){if(f==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(f==="bmpstr"){const g=a.alloc(2*d.length);for(let y=0;y<d.length;y++)g.writeUInt16BE(d.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return f==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+f+" unsupported")},c.prototype._encodeObjid=function(d,f,g){if(typeof d=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=f[d].split(/[\s.]+/g);for(let m=0;m<d.length;m++)d[m]|=0}else if(Array.isArray(d)){d=d.slice();for(let m=0;m<d.length;m++)d[m]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let y=0;for(let m=0;m<d.length;m++){let x=d[m];for(y++;x>=128;x>>=7)y++}const p=a.alloc(y);let v=p.length-1;for(let m=d.length-1;m>=0;m--){let x=d[m];for(p[v--]=127&x;(x>>=7)>0;)p[v--]=128|127&x}return this._createEncoderBuffer(p)},c.prototype._encodeTime=function(d,f){let g;const y=new Date(d);return f==="gentime"?g=[h(y.getUTCFullYear()),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):f==="utctime"?g=[h(y.getUTCFullYear()%100),h(y.getUTCMonth()+1),h(y.getUTCDate()),h(y.getUTCHours()),h(y.getUTCMinutes()),h(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(g,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(d,f){if(typeof d=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=f[d]}if(typeof d!="number"&&!a.isBuffer(d)){const p=d.toArray();!d.sign&&128&p[0]&&p.unshift(0),d=a.from(p)}if(a.isBuffer(d)){let p=d.length;d.length===0&&p++;const v=a.alloc(p);return d.copy(v),d.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let p=d;p>=256;p>>=8)g++;const y=new Array(g);for(let p=y.length-1;p>=0;p--)y[p]=255&d,d>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(a.from(y))},c.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},c.prototype._use=function(d,f){return typeof d=="function"&&(d=d(f)),d._getEncoder("der").tree},c.prototype._skipDefault=function(d,f,g){const y=this._baseState;let p;if(y.default===null)return!1;const v=d.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,f,g).join()),v.length!==y.defaultBuffer.length)return!1;for(p=0;p<v.length;p++)if(v[p]!==y.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,r,o){const i=o;i.der=t("./der"),i.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,r,o){const i=t("inherits"),a=t("./der");function u(l){a.call(this,l),this.enc="pem"}i(u,a),r.exports=u,u.prototype.encode=function(l,s){const c=a.prototype.encode.call(this,l).toString("base64"),h=["-----BEGIN "+s.label+"-----"];for(let d=0;d<c.length;d+=64)h.push(c.slice(d,d+64));return h.push("-----END "+s.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,r,o){(function(i,a){function u(A,P){if(!A)throw new Error(P||"Assertion failed")}function l(A,P){A.super_=P;var C=function(){};C.prototype=P.prototype,A.prototype=new C,A.prototype.constructor=A}function s(A,P,C){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(P!=="le"&&P!=="be"||(C=P,P=10),this._init(A||0,P||10,C||"be"))}var c;typeof i=="object"?i.exports=s:(void 0).BN=s,s.BN=s,s.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function h(A,P){var C=A.charCodeAt(P);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function d(A,P,C){var b=h(A,C);return C-1>=P&&(b|=h(A,C-1)<<4),b}function f(A,P,C,b){for(var _=0,w=Math.min(A.length,C),S=P;S<w;S++){var N=A.charCodeAt(S)-48;_*=b,_+=N>=49?N-49+10:N>=17?N-17+10:N}return _}s.isBN=function(A){return A instanceof s||A!==null&&typeof A=="object"&&A.constructor.wordSize===s.wordSize&&Array.isArray(A.words)},s.max=function(A,P){return A.cmp(P)>0?A:P},s.min=function(A,P){return A.cmp(P)<0?A:P},s.prototype._init=function(A,P,C){if(typeof A=="number")return this._initNumber(A,P,C);if(typeof A=="object")return this._initArray(A,P,C);P==="hex"&&(P=16),u(P===(0|P)&&P>=2&&P<=36);var b=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(b++,this.negative=1),b<A.length&&(P===16?this._parseHex(A,b,C):(this._parseBase(A,P,b),C==="le"&&this._initArray(this.toArray(),P,C)))},s.prototype._initNumber=function(A,P,C){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(u(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),P,C)},s.prototype._initArray=function(A,P,C){if(u(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var _,w,S=0;if(C==="be")for(b=A.length-1,_=0;b>=0;b-=3)w=A[b]|A[b-1]<<8|A[b-2]<<16,this.words[_]|=w<<S&67108863,this.words[_+1]=w>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);else if(C==="le")for(b=0,_=0;b<A.length;b+=3)w=A[b]|A[b+1]<<8|A[b+2]<<16,this.words[_]|=w<<S&67108863,this.words[_+1]=w>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);return this.strip()},s.prototype._parseHex=function(A,P,C){this.length=Math.ceil((A.length-P)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var _,w=0,S=0;if(C==="be")for(b=A.length-1;b>=P;b-=2)_=d(A,P,b)<<w,this.words[S]|=67108863&_,w>=18?(w-=18,S+=1,this.words[S]|=_>>>26):w+=8;else for(b=(A.length-P)%2==0?P+1:P;b<A.length;b+=2)_=d(A,P,b)<<w,this.words[S]|=67108863&_,w>=18?(w-=18,S+=1,this.words[S]|=_>>>26):w+=8;this.strip()},s.prototype._parseBase=function(A,P,C){this.words=[0],this.length=1;for(var b=0,_=1;_<=67108863;_*=P)b++;b--,_=_/P|0;for(var w=A.length-C,S=w%b,N=Math.min(w,w-S)+C,O=0,U=C;U<N;U+=b)O=f(A,U,U+b,P),this.imuln(_),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(S!==0){var G=1;for(O=f(A,U,A.length,P),U=0;U<S;U++)G*=P;this.imuln(G),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},s.prototype.copy=function(A){A.words=new Array(this.length);for(var P=0;P<this.length;P++)A.words[P]=this.words[P];A.length=this.length,A.negative=this.negative,A.red=this.red},s.prototype.clone=function(){var A=new s(null);return this.copy(A),A},s.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(A,P,C){C.negative=P.negative^A.negative;var b=A.length+P.length|0;C.length=b,b=b-1|0;var _=0|A.words[0],w=0|P.words[0],S=_*w,N=67108863&S,O=S/67108864|0;C.words[0]=N;for(var U=1;U<b;U++){for(var G=O>>>26,W=67108863&O,J=Math.min(U,P.length-1),F=Math.max(0,U-A.length+1);F<=J;F++){var Y=U-F|0;G+=(S=(_=0|A.words[Y])*(w=0|P.words[F])+W)/67108864|0,W=67108863&S}C.words[U]=0|W,O=0|G}return O!==0?C.words[U]=0|O:C.length--,C.strip()}s.prototype.toString=function(A,P){var C;if(P=0|P||1,(A=A||10)===16||A==="hex"){C="";for(var b=0,_=0,w=0;w<this.length;w++){var S=this.words[w],N=(16777215&(S<<b|_)).toString(16);C=(_=S>>>24-b&16777215)!==0||w!==this.length-1?g[6-N.length]+N+C:N+C,(b+=2)>=26&&(b-=26,w--)}for(_!==0&&(C=_.toString(16)+C);C.length%P!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(A===(0|A)&&A>=2&&A<=36){var O=y[A],U=p[A];C="";var G=this.clone();for(G.negative=0;!G.isZero();){var W=G.modn(U).toString(A);C=(G=G.idivn(U)).isZero()?W+C:g[O-W.length]+W+C}for(this.isZero()&&(C="0"+C);C.length%P!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(A,P){return u(c!==void 0),this.toArrayLike(c,A,P)},s.prototype.toArray=function(A,P){return this.toArrayLike(Array,A,P)},s.prototype.toArrayLike=function(A,P,C){var b=this.byteLength(),_=C||Math.max(1,b);u(b<=_,"byte array longer than desired length"),u(_>0,"Requested array length <= 0"),this.strip();var w,S,N=P==="le",O=new A(_),U=this.clone();if(N){for(S=0;!U.isZero();S++)w=U.andln(255),U.iushrn(8),O[S]=w;for(;S<_;S++)O[S]=0}else{for(S=0;S<_-b;S++)O[S]=0;for(S=0;!U.isZero();S++)w=U.andln(255),U.iushrn(8),O[_-S-1]=w}return O},Math.clz32?s.prototype._countBits=function(A){return 32-Math.clz32(A)}:s.prototype._countBits=function(A){var P=A,C=0;return P>=4096&&(C+=13,P>>>=13),P>=64&&(C+=7,P>>>=7),P>=8&&(C+=4,P>>>=4),P>=2&&(C+=2,P>>>=2),C+P},s.prototype._zeroBits=function(A){if(A===0)return 26;var P=A,C=0;return!(8191&P)&&(C+=13,P>>>=13),!(127&P)&&(C+=7,P>>>=7),!(15&P)&&(C+=4,P>>>=4),!(3&P)&&(C+=2,P>>>=2),!(1&P)&&C++,C},s.prototype.bitLength=function(){var A=this.words[this.length-1],P=this._countBits(A);return 26*(this.length-1)+P},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,P=0;P<this.length;P++){var C=this._zeroBits(this.words[P]);if(A+=C,C!==26)break}return A},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},s.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var P=0;P<A.length;P++)this.words[P]=this.words[P]|A.words[P];return this.strip()},s.prototype.ior=function(A){return u((this.negative|A.negative)==0),this.iuor(A)},s.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},s.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},s.prototype.iuand=function(A){var P;P=this.length>A.length?A:this;for(var C=0;C<P.length;C++)this.words[C]=this.words[C]&A.words[C];return this.length=P.length,this.strip()},s.prototype.iand=function(A){return u((this.negative|A.negative)==0),this.iuand(A)},s.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},s.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},s.prototype.iuxor=function(A){var P,C;this.length>A.length?(P=this,C=A):(P=A,C=this);for(var b=0;b<C.length;b++)this.words[b]=P.words[b]^C.words[b];if(this!==P)for(;b<P.length;b++)this.words[b]=P.words[b];return this.length=P.length,this.strip()},s.prototype.ixor=function(A){return u((this.negative|A.negative)==0),this.iuxor(A)},s.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},s.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},s.prototype.inotn=function(A){u(typeof A=="number"&&A>=0);var P=0|Math.ceil(A/26),C=A%26;this._expand(P),C>0&&P--;for(var b=0;b<P;b++)this.words[b]=67108863&~this.words[b];return C>0&&(this.words[b]=~this.words[b]&67108863>>26-C),this.strip()},s.prototype.notn=function(A){return this.clone().inotn(A)},s.prototype.setn=function(A,P){u(typeof A=="number"&&A>=0);var C=A/26|0,b=A%26;return this._expand(C+1),this.words[C]=P?this.words[C]|1<<b:this.words[C]&~(1<<b),this.strip()},s.prototype.iadd=function(A){var P,C,b;if(this.negative!==0&&A.negative===0)return this.negative=0,P=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,P=this.isub(A),A.negative=1,P._normSign();this.length>A.length?(C=this,b=A):(C=A,b=this);for(var _=0,w=0;w<b.length;w++)P=(0|C.words[w])+(0|b.words[w])+_,this.words[w]=67108863&P,_=P>>>26;for(;_!==0&&w<C.length;w++)P=(0|C.words[w])+_,this.words[w]=67108863&P,_=P>>>26;if(this.length=C.length,_!==0)this.words[this.length]=_,this.length++;else if(C!==this)for(;w<C.length;w++)this.words[w]=C.words[w];return this},s.prototype.add=function(A){var P;return A.negative!==0&&this.negative===0?(A.negative=0,P=this.sub(A),A.negative^=1,P):A.negative===0&&this.negative!==0?(this.negative=0,P=A.sub(this),this.negative=1,P):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},s.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var P=this.iadd(A);return A.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var C,b,_=this.cmp(A);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(C=this,b=A):(C=A,b=this);for(var w=0,S=0;S<b.length;S++)w=(P=(0|C.words[S])-(0|b.words[S])+w)>>26,this.words[S]=67108863&P;for(;w!==0&&S<C.length;S++)w=(P=(0|C.words[S])+w)>>26,this.words[S]=67108863&P;if(w===0&&S<C.length&&C!==this)for(;S<C.length;S++)this.words[S]=C.words[S];return this.length=Math.max(this.length,S),C!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(A){return this.clone().isub(A)};var m=function(A,P,C){var b,_,w,S=A.words,N=P.words,O=C.words,U=0,G=0|S[0],W=8191&G,J=G>>>13,F=0|S[1],Y=8191&F,j=F>>>13,R=0|S[2],q=8191&R,K=R>>>13,Q=0|S[3],X=8191&Q,ee=Q>>>13,ie=0|S[4],ae=8191&ie,Z=ie>>>13,re=0|S[5],ne=8191&re,ue=re>>>13,le=0|S[6],de=8191&le,he=le>>>13,pe=0|S[7],ye=8191&pe,Ae=pe>>>13,Ne=0|S[8],ke=8191&Ne,Ve=Ne>>>13,Ue=0|S[9],ze=8191&Ue,He=Ue>>>13,Ie=0|N[0],we=8191&Ie,Me=Ie>>>13,Fe=0|N[1],je=8191&Fe,ct=Fe>>>13,Ct=0|N[2],qe=8191&Ct,yt=Ct>>>13,at=0|N[3],Qe=8191&at,Rt=at>>>13,vt=0|N[4],Ke=8191&vt,pt=vt>>>13,At=0|N[5],Je=8191&At,wt=At>>>13,It=0|N[6],tt=8191&It,se=It>>>13,ce=0|N[7],me=8191&ce,Ce=ce>>>13,Ge=0|N[8],Te=8191&Ge,Xe=Ge>>>13,We=0|N[9],$e=8191&We,et=We>>>13;C.negative=A.negative^P.negative,C.length=19;var Ze=(U+(b=Math.imul(W,we))|0)+((8191&(_=(_=Math.imul(W,Me))+Math.imul(J,we)|0))<<13)|0;U=((w=Math.imul(J,Me))+(_>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(Y,we),_=(_=Math.imul(Y,Me))+Math.imul(j,we)|0,w=Math.imul(j,Me);var ot=(U+(b=b+Math.imul(W,je)|0)|0)+((8191&(_=(_=_+Math.imul(W,ct)|0)+Math.imul(J,je)|0))<<13)|0;U=((w=w+Math.imul(J,ct)|0)+(_>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(q,we),_=(_=Math.imul(q,Me))+Math.imul(K,we)|0,w=Math.imul(K,Me),b=b+Math.imul(Y,je)|0,_=(_=_+Math.imul(Y,ct)|0)+Math.imul(j,je)|0,w=w+Math.imul(j,ct)|0;var Gt=(U+(b=b+Math.imul(W,qe)|0)|0)+((8191&(_=(_=_+Math.imul(W,yt)|0)+Math.imul(J,qe)|0))<<13)|0;U=((w=w+Math.imul(J,yt)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,b=Math.imul(X,we),_=(_=Math.imul(X,Me))+Math.imul(ee,we)|0,w=Math.imul(ee,Me),b=b+Math.imul(q,je)|0,_=(_=_+Math.imul(q,ct)|0)+Math.imul(K,je)|0,w=w+Math.imul(K,ct)|0,b=b+Math.imul(Y,qe)|0,_=(_=_+Math.imul(Y,yt)|0)+Math.imul(j,qe)|0,w=w+Math.imul(j,yt)|0;var Pt=(U+(b=b+Math.imul(W,Qe)|0)|0)+((8191&(_=(_=_+Math.imul(W,Rt)|0)+Math.imul(J,Qe)|0))<<13)|0;U=((w=w+Math.imul(J,Rt)|0)+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,b=Math.imul(ae,we),_=(_=Math.imul(ae,Me))+Math.imul(Z,we)|0,w=Math.imul(Z,Me),b=b+Math.imul(X,je)|0,_=(_=_+Math.imul(X,ct)|0)+Math.imul(ee,je)|0,w=w+Math.imul(ee,ct)|0,b=b+Math.imul(q,qe)|0,_=(_=_+Math.imul(q,yt)|0)+Math.imul(K,qe)|0,w=w+Math.imul(K,yt)|0,b=b+Math.imul(Y,Qe)|0,_=(_=_+Math.imul(Y,Rt)|0)+Math.imul(j,Qe)|0,w=w+Math.imul(j,Rt)|0;var en=(U+(b=b+Math.imul(W,Ke)|0)|0)+((8191&(_=(_=_+Math.imul(W,pt)|0)+Math.imul(J,Ke)|0))<<13)|0;U=((w=w+Math.imul(J,pt)|0)+(_>>>13)|0)+(en>>>26)|0,en&=67108863,b=Math.imul(ne,we),_=(_=Math.imul(ne,Me))+Math.imul(ue,we)|0,w=Math.imul(ue,Me),b=b+Math.imul(ae,je)|0,_=(_=_+Math.imul(ae,ct)|0)+Math.imul(Z,je)|0,w=w+Math.imul(Z,ct)|0,b=b+Math.imul(X,qe)|0,_=(_=_+Math.imul(X,yt)|0)+Math.imul(ee,qe)|0,w=w+Math.imul(ee,yt)|0,b=b+Math.imul(q,Qe)|0,_=(_=_+Math.imul(q,Rt)|0)+Math.imul(K,Qe)|0,w=w+Math.imul(K,Rt)|0,b=b+Math.imul(Y,Ke)|0,_=(_=_+Math.imul(Y,pt)|0)+Math.imul(j,Ke)|0,w=w+Math.imul(j,pt)|0;var tn=(U+(b=b+Math.imul(W,Je)|0)|0)+((8191&(_=(_=_+Math.imul(W,wt)|0)+Math.imul(J,Je)|0))<<13)|0;U=((w=w+Math.imul(J,wt)|0)+(_>>>13)|0)+(tn>>>26)|0,tn&=67108863,b=Math.imul(de,we),_=(_=Math.imul(de,Me))+Math.imul(he,we)|0,w=Math.imul(he,Me),b=b+Math.imul(ne,je)|0,_=(_=_+Math.imul(ne,ct)|0)+Math.imul(ue,je)|0,w=w+Math.imul(ue,ct)|0,b=b+Math.imul(ae,qe)|0,_=(_=_+Math.imul(ae,yt)|0)+Math.imul(Z,qe)|0,w=w+Math.imul(Z,yt)|0,b=b+Math.imul(X,Qe)|0,_=(_=_+Math.imul(X,Rt)|0)+Math.imul(ee,Qe)|0,w=w+Math.imul(ee,Rt)|0,b=b+Math.imul(q,Ke)|0,_=(_=_+Math.imul(q,pt)|0)+Math.imul(K,Ke)|0,w=w+Math.imul(K,pt)|0,b=b+Math.imul(Y,Je)|0,_=(_=_+Math.imul(Y,wt)|0)+Math.imul(j,Je)|0,w=w+Math.imul(j,wt)|0;var kn=(U+(b=b+Math.imul(W,tt)|0)|0)+((8191&(_=(_=_+Math.imul(W,se)|0)+Math.imul(J,tt)|0))<<13)|0;U=((w=w+Math.imul(J,se)|0)+(_>>>13)|0)+(kn>>>26)|0,kn&=67108863,b=Math.imul(ye,we),_=(_=Math.imul(ye,Me))+Math.imul(Ae,we)|0,w=Math.imul(Ae,Me),b=b+Math.imul(de,je)|0,_=(_=_+Math.imul(de,ct)|0)+Math.imul(he,je)|0,w=w+Math.imul(he,ct)|0,b=b+Math.imul(ne,qe)|0,_=(_=_+Math.imul(ne,yt)|0)+Math.imul(ue,qe)|0,w=w+Math.imul(ue,yt)|0,b=b+Math.imul(ae,Qe)|0,_=(_=_+Math.imul(ae,Rt)|0)+Math.imul(Z,Qe)|0,w=w+Math.imul(Z,Rt)|0,b=b+Math.imul(X,Ke)|0,_=(_=_+Math.imul(X,pt)|0)+Math.imul(ee,Ke)|0,w=w+Math.imul(ee,pt)|0,b=b+Math.imul(q,Je)|0,_=(_=_+Math.imul(q,wt)|0)+Math.imul(K,Je)|0,w=w+Math.imul(K,wt)|0,b=b+Math.imul(Y,tt)|0,_=(_=_+Math.imul(Y,se)|0)+Math.imul(j,tt)|0,w=w+Math.imul(j,se)|0;var te=(U+(b=b+Math.imul(W,me)|0)|0)+((8191&(_=(_=_+Math.imul(W,Ce)|0)+Math.imul(J,me)|0))<<13)|0;U=((w=w+Math.imul(J,Ce)|0)+(_>>>13)|0)+(te>>>26)|0,te&=67108863,b=Math.imul(ke,we),_=(_=Math.imul(ke,Me))+Math.imul(Ve,we)|0,w=Math.imul(Ve,Me),b=b+Math.imul(ye,je)|0,_=(_=_+Math.imul(ye,ct)|0)+Math.imul(Ae,je)|0,w=w+Math.imul(Ae,ct)|0,b=b+Math.imul(de,qe)|0,_=(_=_+Math.imul(de,yt)|0)+Math.imul(he,qe)|0,w=w+Math.imul(he,yt)|0,b=b+Math.imul(ne,Qe)|0,_=(_=_+Math.imul(ne,Rt)|0)+Math.imul(ue,Qe)|0,w=w+Math.imul(ue,Rt)|0,b=b+Math.imul(ae,Ke)|0,_=(_=_+Math.imul(ae,pt)|0)+Math.imul(Z,Ke)|0,w=w+Math.imul(Z,pt)|0,b=b+Math.imul(X,Je)|0,_=(_=_+Math.imul(X,wt)|0)+Math.imul(ee,Je)|0,w=w+Math.imul(ee,wt)|0,b=b+Math.imul(q,tt)|0,_=(_=_+Math.imul(q,se)|0)+Math.imul(K,tt)|0,w=w+Math.imul(K,se)|0,b=b+Math.imul(Y,me)|0,_=(_=_+Math.imul(Y,Ce)|0)+Math.imul(j,me)|0,w=w+Math.imul(j,Ce)|0;var fe=(U+(b=b+Math.imul(W,Te)|0)|0)+((8191&(_=(_=_+Math.imul(W,Xe)|0)+Math.imul(J,Te)|0))<<13)|0;U=((w=w+Math.imul(J,Xe)|0)+(_>>>13)|0)+(fe>>>26)|0,fe&=67108863,b=Math.imul(ze,we),_=(_=Math.imul(ze,Me))+Math.imul(He,we)|0,w=Math.imul(He,Me),b=b+Math.imul(ke,je)|0,_=(_=_+Math.imul(ke,ct)|0)+Math.imul(Ve,je)|0,w=w+Math.imul(Ve,ct)|0,b=b+Math.imul(ye,qe)|0,_=(_=_+Math.imul(ye,yt)|0)+Math.imul(Ae,qe)|0,w=w+Math.imul(Ae,yt)|0,b=b+Math.imul(de,Qe)|0,_=(_=_+Math.imul(de,Rt)|0)+Math.imul(he,Qe)|0,w=w+Math.imul(he,Rt)|0,b=b+Math.imul(ne,Ke)|0,_=(_=_+Math.imul(ne,pt)|0)+Math.imul(ue,Ke)|0,w=w+Math.imul(ue,pt)|0,b=b+Math.imul(ae,Je)|0,_=(_=_+Math.imul(ae,wt)|0)+Math.imul(Z,Je)|0,w=w+Math.imul(Z,wt)|0,b=b+Math.imul(X,tt)|0,_=(_=_+Math.imul(X,se)|0)+Math.imul(ee,tt)|0,w=w+Math.imul(ee,se)|0,b=b+Math.imul(q,me)|0,_=(_=_+Math.imul(q,Ce)|0)+Math.imul(K,me)|0,w=w+Math.imul(K,Ce)|0,b=b+Math.imul(Y,Te)|0,_=(_=_+Math.imul(Y,Xe)|0)+Math.imul(j,Te)|0,w=w+Math.imul(j,Xe)|0;var ge=(U+(b=b+Math.imul(W,$e)|0)|0)+((8191&(_=(_=_+Math.imul(W,et)|0)+Math.imul(J,$e)|0))<<13)|0;U=((w=w+Math.imul(J,et)|0)+(_>>>13)|0)+(ge>>>26)|0,ge&=67108863,b=Math.imul(ze,je),_=(_=Math.imul(ze,ct))+Math.imul(He,je)|0,w=Math.imul(He,ct),b=b+Math.imul(ke,qe)|0,_=(_=_+Math.imul(ke,yt)|0)+Math.imul(Ve,qe)|0,w=w+Math.imul(Ve,yt)|0,b=b+Math.imul(ye,Qe)|0,_=(_=_+Math.imul(ye,Rt)|0)+Math.imul(Ae,Qe)|0,w=w+Math.imul(Ae,Rt)|0,b=b+Math.imul(de,Ke)|0,_=(_=_+Math.imul(de,pt)|0)+Math.imul(he,Ke)|0,w=w+Math.imul(he,pt)|0,b=b+Math.imul(ne,Je)|0,_=(_=_+Math.imul(ne,wt)|0)+Math.imul(ue,Je)|0,w=w+Math.imul(ue,wt)|0,b=b+Math.imul(ae,tt)|0,_=(_=_+Math.imul(ae,se)|0)+Math.imul(Z,tt)|0,w=w+Math.imul(Z,se)|0,b=b+Math.imul(X,me)|0,_=(_=_+Math.imul(X,Ce)|0)+Math.imul(ee,me)|0,w=w+Math.imul(ee,Ce)|0,b=b+Math.imul(q,Te)|0,_=(_=_+Math.imul(q,Xe)|0)+Math.imul(K,Te)|0,w=w+Math.imul(K,Xe)|0;var ve=(U+(b=b+Math.imul(Y,$e)|0)|0)+((8191&(_=(_=_+Math.imul(Y,et)|0)+Math.imul(j,$e)|0))<<13)|0;U=((w=w+Math.imul(j,et)|0)+(_>>>13)|0)+(ve>>>26)|0,ve&=67108863,b=Math.imul(ze,qe),_=(_=Math.imul(ze,yt))+Math.imul(He,qe)|0,w=Math.imul(He,yt),b=b+Math.imul(ke,Qe)|0,_=(_=_+Math.imul(ke,Rt)|0)+Math.imul(Ve,Qe)|0,w=w+Math.imul(Ve,Rt)|0,b=b+Math.imul(ye,Ke)|0,_=(_=_+Math.imul(ye,pt)|0)+Math.imul(Ae,Ke)|0,w=w+Math.imul(Ae,pt)|0,b=b+Math.imul(de,Je)|0,_=(_=_+Math.imul(de,wt)|0)+Math.imul(he,Je)|0,w=w+Math.imul(he,wt)|0,b=b+Math.imul(ne,tt)|0,_=(_=_+Math.imul(ne,se)|0)+Math.imul(ue,tt)|0,w=w+Math.imul(ue,se)|0,b=b+Math.imul(ae,me)|0,_=(_=_+Math.imul(ae,Ce)|0)+Math.imul(Z,me)|0,w=w+Math.imul(Z,Ce)|0,b=b+Math.imul(X,Te)|0,_=(_=_+Math.imul(X,Xe)|0)+Math.imul(ee,Te)|0,w=w+Math.imul(ee,Xe)|0;var Le=(U+(b=b+Math.imul(q,$e)|0)|0)+((8191&(_=(_=_+Math.imul(q,et)|0)+Math.imul(K,$e)|0))<<13)|0;U=((w=w+Math.imul(K,et)|0)+(_>>>13)|0)+(Le>>>26)|0,Le&=67108863,b=Math.imul(ze,Qe),_=(_=Math.imul(ze,Rt))+Math.imul(He,Qe)|0,w=Math.imul(He,Rt),b=b+Math.imul(ke,Ke)|0,_=(_=_+Math.imul(ke,pt)|0)+Math.imul(Ve,Ke)|0,w=w+Math.imul(Ve,pt)|0,b=b+Math.imul(ye,Je)|0,_=(_=_+Math.imul(ye,wt)|0)+Math.imul(Ae,Je)|0,w=w+Math.imul(Ae,wt)|0,b=b+Math.imul(de,tt)|0,_=(_=_+Math.imul(de,se)|0)+Math.imul(he,tt)|0,w=w+Math.imul(he,se)|0,b=b+Math.imul(ne,me)|0,_=(_=_+Math.imul(ne,Ce)|0)+Math.imul(ue,me)|0,w=w+Math.imul(ue,Ce)|0,b=b+Math.imul(ae,Te)|0,_=(_=_+Math.imul(ae,Xe)|0)+Math.imul(Z,Te)|0,w=w+Math.imul(Z,Xe)|0;var _e=(U+(b=b+Math.imul(X,$e)|0)|0)+((8191&(_=(_=_+Math.imul(X,et)|0)+Math.imul(ee,$e)|0))<<13)|0;U=((w=w+Math.imul(ee,et)|0)+(_>>>13)|0)+(_e>>>26)|0,_e&=67108863,b=Math.imul(ze,Ke),_=(_=Math.imul(ze,pt))+Math.imul(He,Ke)|0,w=Math.imul(He,pt),b=b+Math.imul(ke,Je)|0,_=(_=_+Math.imul(ke,wt)|0)+Math.imul(Ve,Je)|0,w=w+Math.imul(Ve,wt)|0,b=b+Math.imul(ye,tt)|0,_=(_=_+Math.imul(ye,se)|0)+Math.imul(Ae,tt)|0,w=w+Math.imul(Ae,se)|0,b=b+Math.imul(de,me)|0,_=(_=_+Math.imul(de,Ce)|0)+Math.imul(he,me)|0,w=w+Math.imul(he,Ce)|0,b=b+Math.imul(ne,Te)|0,_=(_=_+Math.imul(ne,Xe)|0)+Math.imul(ue,Te)|0,w=w+Math.imul(ue,Xe)|0;var Se=(U+(b=b+Math.imul(ae,$e)|0)|0)+((8191&(_=(_=_+Math.imul(ae,et)|0)+Math.imul(Z,$e)|0))<<13)|0;U=((w=w+Math.imul(Z,et)|0)+(_>>>13)|0)+(Se>>>26)|0,Se&=67108863,b=Math.imul(ze,Je),_=(_=Math.imul(ze,wt))+Math.imul(He,Je)|0,w=Math.imul(He,wt),b=b+Math.imul(ke,tt)|0,_=(_=_+Math.imul(ke,se)|0)+Math.imul(Ve,tt)|0,w=w+Math.imul(Ve,se)|0,b=b+Math.imul(ye,me)|0,_=(_=_+Math.imul(ye,Ce)|0)+Math.imul(Ae,me)|0,w=w+Math.imul(Ae,Ce)|0,b=b+Math.imul(de,Te)|0,_=(_=_+Math.imul(de,Xe)|0)+Math.imul(he,Te)|0,w=w+Math.imul(he,Xe)|0;var lt=(U+(b=b+Math.imul(ne,$e)|0)|0)+((8191&(_=(_=_+Math.imul(ne,et)|0)+Math.imul(ue,$e)|0))<<13)|0;U=((w=w+Math.imul(ue,et)|0)+(_>>>13)|0)+(lt>>>26)|0,lt&=67108863,b=Math.imul(ze,tt),_=(_=Math.imul(ze,se))+Math.imul(He,tt)|0,w=Math.imul(He,se),b=b+Math.imul(ke,me)|0,_=(_=_+Math.imul(ke,Ce)|0)+Math.imul(Ve,me)|0,w=w+Math.imul(Ve,Ce)|0,b=b+Math.imul(ye,Te)|0,_=(_=_+Math.imul(ye,Xe)|0)+Math.imul(Ae,Te)|0,w=w+Math.imul(Ae,Xe)|0;var st=(U+(b=b+Math.imul(de,$e)|0)|0)+((8191&(_=(_=_+Math.imul(de,et)|0)+Math.imul(he,$e)|0))<<13)|0;U=((w=w+Math.imul(he,et)|0)+(_>>>13)|0)+(st>>>26)|0,st&=67108863,b=Math.imul(ze,me),_=(_=Math.imul(ze,Ce))+Math.imul(He,me)|0,w=Math.imul(He,Ce),b=b+Math.imul(ke,Te)|0,_=(_=_+Math.imul(ke,Xe)|0)+Math.imul(Ve,Te)|0,w=w+Math.imul(Ve,Xe)|0;var it=(U+(b=b+Math.imul(ye,$e)|0)|0)+((8191&(_=(_=_+Math.imul(ye,et)|0)+Math.imul(Ae,$e)|0))<<13)|0;U=((w=w+Math.imul(Ae,et)|0)+(_>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(ze,Te),_=(_=Math.imul(ze,Xe))+Math.imul(He,Te)|0,w=Math.imul(He,Xe);var Ye=(U+(b=b+Math.imul(ke,$e)|0)|0)+((8191&(_=(_=_+Math.imul(ke,et)|0)+Math.imul(Ve,$e)|0))<<13)|0;U=((w=w+Math.imul(Ve,et)|0)+(_>>>13)|0)+(Ye>>>26)|0,Ye&=67108863;var Tt=(U+(b=Math.imul(ze,$e))|0)+((8191&(_=(_=Math.imul(ze,et))+Math.imul(He,$e)|0))<<13)|0;return U=((w=Math.imul(He,et))+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,O[0]=Ze,O[1]=ot,O[2]=Gt,O[3]=Pt,O[4]=en,O[5]=tn,O[6]=kn,O[7]=te,O[8]=fe,O[9]=ge,O[10]=ve,O[11]=Le,O[12]=_e,O[13]=Se,O[14]=lt,O[15]=st,O[16]=it,O[17]=Ye,O[18]=Tt,U!==0&&(O[19]=U,C.length++),C};function x(A,P,C){return new k().mulp(A,P,C)}function k(A,P){this.x=A,this.y=P}Math.imul||(m=v),s.prototype.mulTo=function(A,P){var C=this.length+A.length;return this.length===10&&A.length===10?m(this,A,P):C<63?v(this,A,P):C<1024?function(b,_,w){w.negative=_.negative^b.negative,w.length=b.length+_.length;for(var S=0,N=0,O=0;O<w.length-1;O++){var U=N;N=0;for(var G=67108863&S,W=Math.min(O,_.length-1),J=Math.max(0,O-b.length+1);J<=W;J++){var F=O-J,Y=(0|b.words[F])*(0|_.words[J]),j=67108863&Y;G=67108863&(j=j+G|0),N+=(U=(U=U+(Y/67108864|0)|0)+(j>>>26)|0)>>>26,U&=67108863}w.words[O]=G,S=U,U=N}return S!==0?w.words[O]=S:w.length--,w.strip()}(this,A,P):x(this,A,P)},k.prototype.makeRBT=function(A){for(var P=new Array(A),C=s.prototype._countBits(A)-1,b=0;b<A;b++)P[b]=this.revBin(b,C,A);return P},k.prototype.revBin=function(A,P,C){if(A===0||A===C-1)return A;for(var b=0,_=0;_<P;_++)b|=(1&A)<<P-_-1,A>>=1;return b},k.prototype.permute=function(A,P,C,b,_,w){for(var S=0;S<w;S++)b[S]=P[A[S]],_[S]=C[A[S]]},k.prototype.transform=function(A,P,C,b,_,w){this.permute(w,A,P,C,b,_);for(var S=1;S<_;S<<=1)for(var N=S<<1,O=Math.cos(2*Math.PI/N),U=Math.sin(2*Math.PI/N),G=0;G<_;G+=N)for(var W=O,J=U,F=0;F<S;F++){var Y=C[G+F],j=b[G+F],R=C[G+F+S],q=b[G+F+S],K=W*R-J*q;q=W*q+J*R,R=K,C[G+F]=Y+R,b[G+F]=j+q,C[G+F+S]=Y-R,b[G+F+S]=j-q,F!==N&&(K=O*W-U*J,J=O*J+U*W,W=K)}},k.prototype.guessLen13b=function(A,P){var C=1|Math.max(P,A),b=1&C,_=0;for(C=C/2|0;C;C>>>=1)_++;return 1<<_+1+b},k.prototype.conjugate=function(A,P,C){if(!(C<=1))for(var b=0;b<C/2;b++){var _=A[b];A[b]=A[C-b-1],A[C-b-1]=_,_=P[b],P[b]=-P[C-b-1],P[C-b-1]=-_}},k.prototype.normalize13b=function(A,P){for(var C=0,b=0;b<P/2;b++){var _=8192*Math.round(A[2*b+1]/P)+Math.round(A[2*b]/P)+C;A[b]=67108863&_,C=_<67108864?0:_/67108864|0}return A},k.prototype.convert13b=function(A,P,C,b){for(var _=0,w=0;w<P;w++)_+=0|A[w],C[2*w]=8191&_,_>>>=13,C[2*w+1]=8191&_,_>>>=13;for(w=2*P;w<b;++w)C[w]=0;u(_===0),u((-8192&_)==0)},k.prototype.stub=function(A){for(var P=new Array(A),C=0;C<A;C++)P[C]=0;return P},k.prototype.mulp=function(A,P,C){var b=2*this.guessLen13b(A.length,P.length),_=this.makeRBT(b),w=this.stub(b),S=new Array(b),N=new Array(b),O=new Array(b),U=new Array(b),G=new Array(b),W=new Array(b),J=C.words;J.length=b,this.convert13b(A.words,A.length,S,b),this.convert13b(P.words,P.length,U,b),this.transform(S,w,N,O,b,_),this.transform(U,w,G,W,b,_);for(var F=0;F<b;F++){var Y=N[F]*G[F]-O[F]*W[F];O[F]=N[F]*W[F]+O[F]*G[F],N[F]=Y}return this.conjugate(N,O,b),this.transform(N,O,J,w,b,_),this.conjugate(J,w,b),this.normalize13b(J,b),C.negative=A.negative^P.negative,C.length=A.length+P.length,C.strip()},s.prototype.mul=function(A){var P=new s(null);return P.words=new Array(this.length+A.length),this.mulTo(A,P)},s.prototype.mulf=function(A){var P=new s(null);return P.words=new Array(this.length+A.length),x(this,A,P)},s.prototype.imul=function(A){return this.clone().mulTo(A,this)},s.prototype.imuln=function(A){u(typeof A=="number"),u(A<67108864);for(var P=0,C=0;C<this.length;C++){var b=(0|this.words[C])*A,_=(67108863&b)+(67108863&P);P>>=26,P+=b/67108864|0,P+=_>>>26,this.words[C]=67108863&_}return P!==0&&(this.words[C]=P,this.length++),this},s.prototype.muln=function(A){return this.clone().imuln(A)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(A){var P=function(w){for(var S=new Array(w.bitLength()),N=0;N<S.length;N++){var O=N/26|0,U=N%26;S[N]=(w.words[O]&1<<U)>>>U}return S}(A);if(P.length===0)return new s(1);for(var C=this,b=0;b<P.length&&P[b]===0;b++,C=C.sqr());if(++b<P.length)for(var _=C.sqr();b<P.length;b++,_=_.sqr())P[b]!==0&&(C=C.mul(_));return C},s.prototype.iushln=function(A){u(typeof A=="number"&&A>=0);var P,C=A%26,b=(A-C)/26,_=67108863>>>26-C<<26-C;if(C!==0){var w=0;for(P=0;P<this.length;P++){var S=this.words[P]&_,N=(0|this.words[P])-S<<C;this.words[P]=N|w,w=S>>>26-C}w&&(this.words[P]=w,this.length++)}if(b!==0){for(P=this.length-1;P>=0;P--)this.words[P+b]=this.words[P];for(P=0;P<b;P++)this.words[P]=0;this.length+=b}return this.strip()},s.prototype.ishln=function(A){return u(this.negative===0),this.iushln(A)},s.prototype.iushrn=function(A,P,C){var b;u(typeof A=="number"&&A>=0),b=P?(P-P%26)/26:0;var _=A%26,w=Math.min((A-_)/26,this.length),S=67108863^67108863>>>_<<_,N=C;if(b-=w,b=Math.max(0,b),N){for(var O=0;O<w;O++)N.words[O]=this.words[O];N.length=w}if(w!==0)if(this.length>w)for(this.length-=w,O=0;O<this.length;O++)this.words[O]=this.words[O+w];else this.words[0]=0,this.length=1;var U=0;for(O=this.length-1;O>=0&&(U!==0||O>=b);O--){var G=0|this.words[O];this.words[O]=U<<26-_|G>>>_,U=G&S}return N&&U!==0&&(N.words[N.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(A,P,C){return u(this.negative===0),this.iushrn(A,P,C)},s.prototype.shln=function(A){return this.clone().ishln(A)},s.prototype.ushln=function(A){return this.clone().iushln(A)},s.prototype.shrn=function(A){return this.clone().ishrn(A)},s.prototype.ushrn=function(A){return this.clone().iushrn(A)},s.prototype.testn=function(A){u(typeof A=="number"&&A>=0);var P=A%26,C=(A-P)/26,b=1<<P;return!(this.length<=C)&&!!(this.words[C]&b)},s.prototype.imaskn=function(A){u(typeof A=="number"&&A>=0);var P=A%26,C=(A-P)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(P!==0&&C++,this.length=Math.min(C,this.length),P!==0){var b=67108863^67108863>>>P<<P;this.words[this.length-1]&=b}return this.strip()},s.prototype.maskn=function(A){return this.clone().imaskn(A)},s.prototype.iaddn=function(A){return u(typeof A=="number"),u(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},s.prototype._iaddn=function(A){this.words[0]+=A;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},s.prototype.isubn=function(A){if(u(typeof A=="number"),u(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},s.prototype.addn=function(A){return this.clone().iaddn(A)},s.prototype.subn=function(A){return this.clone().isubn(A)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(A,P,C){var b,_,w=A.length+C;this._expand(w);var S=0;for(b=0;b<A.length;b++){_=(0|this.words[b+C])+S;var N=(0|A.words[b])*P;S=((_-=67108863&N)>>26)-(N/67108864|0),this.words[b+C]=67108863&_}for(;b<this.length-C;b++)S=(_=(0|this.words[b+C])+S)>>26,this.words[b+C]=67108863&_;if(S===0)return this.strip();for(u(S===-1),S=0,b=0;b<this.length;b++)S=(_=-(0|this.words[b])+S)>>26,this.words[b]=67108863&_;return this.negative=1,this.strip()},s.prototype._wordDiv=function(A,P){var C=(this.length,A.length),b=this.clone(),_=A,w=0|_.words[_.length-1];(C=26-this._countBits(w))!==0&&(_=_.ushln(C),b.iushln(C),w=0|_.words[_.length-1]);var S,N=b.length-_.length;if(P!=="mod"){(S=new s(null)).length=N+1,S.words=new Array(S.length);for(var O=0;O<S.length;O++)S.words[O]=0}var U=b.clone()._ishlnsubmul(_,1,N);U.negative===0&&(b=U,S&&(S.words[N]=1));for(var G=N-1;G>=0;G--){var W=67108864*(0|b.words[_.length+G])+(0|b.words[_.length+G-1]);for(W=Math.min(W/w|0,67108863),b._ishlnsubmul(_,W,G);b.negative!==0;)W--,b.negative=0,b._ishlnsubmul(_,1,G),b.isZero()||(b.negative^=1);S&&(S.words[G]=W)}return S&&S.strip(),b.strip(),P!=="div"&&C!==0&&b.iushrn(C),{div:S||null,mod:b}},s.prototype.divmod=function(A,P,C){return u(!A.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&A.negative===0?(w=this.neg().divmod(A,P),P!=="mod"&&(b=w.div.neg()),P!=="div"&&(_=w.mod.neg(),C&&_.negative!==0&&_.iadd(A)),{div:b,mod:_}):this.negative===0&&A.negative!==0?(w=this.divmod(A.neg(),P),P!=="mod"&&(b=w.div.neg()),{div:b,mod:w.mod}):this.negative&A.negative?(w=this.neg().divmod(A.neg(),P),P!=="div"&&(_=w.mod.neg(),C&&_.negative!==0&&_.isub(A)),{div:w.div,mod:_}):A.length>this.length||this.cmp(A)<0?{div:new s(0),mod:this}:A.length===1?P==="div"?{div:this.divn(A.words[0]),mod:null}:P==="mod"?{div:null,mod:new s(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new s(this.modn(A.words[0]))}:this._wordDiv(A,P);var b,_,w},s.prototype.div=function(A){return this.divmod(A,"div",!1).div},s.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},s.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},s.prototype.divRound=function(A){var P=this.divmod(A);if(P.mod.isZero())return P.div;var C=P.div.negative!==0?P.mod.isub(A):P.mod,b=A.ushrn(1),_=A.andln(1),w=C.cmp(b);return w<0||_===1&&w===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},s.prototype.modn=function(A){u(A<=67108863);for(var P=(1<<26)%A,C=0,b=this.length-1;b>=0;b--)C=(P*C+(0|this.words[b]))%A;return C},s.prototype.idivn=function(A){u(A<=67108863);for(var P=0,C=this.length-1;C>=0;C--){var b=(0|this.words[C])+67108864*P;this.words[C]=b/A|0,P=b%A}return this.strip()},s.prototype.divn=function(A){return this.clone().idivn(A)},s.prototype.egcd=function(A){u(A.negative===0),u(!A.isZero());var P=this,C=A.clone();P=P.negative!==0?P.umod(A):P.clone();for(var b=new s(1),_=new s(0),w=new s(0),S=new s(1),N=0;P.isEven()&&C.isEven();)P.iushrn(1),C.iushrn(1),++N;for(var O=C.clone(),U=P.clone();!P.isZero();){for(var G=0,W=1;!(P.words[0]&W)&&G<26;++G,W<<=1);if(G>0)for(P.iushrn(G);G-- >0;)(b.isOdd()||_.isOdd())&&(b.iadd(O),_.isub(U)),b.iushrn(1),_.iushrn(1);for(var J=0,F=1;!(C.words[0]&F)&&J<26;++J,F<<=1);if(J>0)for(C.iushrn(J);J-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(O),S.isub(U)),w.iushrn(1),S.iushrn(1);P.cmp(C)>=0?(P.isub(C),b.isub(w),_.isub(S)):(C.isub(P),w.isub(b),S.isub(_))}return{a:w,b:S,gcd:C.iushln(N)}},s.prototype._invmp=function(A){u(A.negative===0),u(!A.isZero());var P=this,C=A.clone();P=P.negative!==0?P.umod(A):P.clone();for(var b,_=new s(1),w=new s(0),S=C.clone();P.cmpn(1)>0&&C.cmpn(1)>0;){for(var N=0,O=1;!(P.words[0]&O)&&N<26;++N,O<<=1);if(N>0)for(P.iushrn(N);N-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var U=0,G=1;!(C.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(C.iushrn(U);U-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);P.cmp(C)>=0?(P.isub(C),_.isub(w)):(C.isub(P),w.isub(_))}return(b=P.cmpn(1)===0?_:w).cmpn(0)<0&&b.iadd(A),b},s.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var P=this.clone(),C=A.clone();P.negative=0,C.negative=0;for(var b=0;P.isEven()&&C.isEven();b++)P.iushrn(1),C.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;C.isEven();)C.iushrn(1);var _=P.cmp(C);if(_<0){var w=P;P=C,C=w}else if(_===0||C.cmpn(1)===0)break;P.isub(C)}return C.iushln(b)},s.prototype.invm=function(A){return this.egcd(A).a.umod(A)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(A){return this.words[0]&A},s.prototype.bincn=function(A){u(typeof A=="number");var P=A%26,C=(A-P)/26,b=1<<P;if(this.length<=C)return this._expand(C+1),this.words[C]|=b,this;for(var _=b,w=C;_!==0&&w<this.length;w++){var S=0|this.words[w];_=(S+=_)>>>26,S&=67108863,this.words[w]=S}return _!==0&&(this.words[w]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(A){var P,C=A<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)P=1;else{C&&(A=-A),u(A<=67108863,"Number is too big");var b=0|this.words[0];P=b===A?0:b<A?-1:1}return this.negative!==0?0|-P:P},s.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var P=this.ucmp(A);return this.negative!==0?0|-P:P},s.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var P=0,C=this.length-1;C>=0;C--){var b=0|this.words[C],_=0|A.words[C];if(b!==_){b<_?P=-1:b>_&&(P=1);break}}return P},s.prototype.gtn=function(A){return this.cmpn(A)===1},s.prototype.gt=function(A){return this.cmp(A)===1},s.prototype.gten=function(A){return this.cmpn(A)>=0},s.prototype.gte=function(A){return this.cmp(A)>=0},s.prototype.ltn=function(A){return this.cmpn(A)===-1},s.prototype.lt=function(A){return this.cmp(A)===-1},s.prototype.lten=function(A){return this.cmpn(A)<=0},s.prototype.lte=function(A){return this.cmp(A)<=0},s.prototype.eqn=function(A){return this.cmpn(A)===0},s.prototype.eq=function(A){return this.cmp(A)===0},s.red=function(A){return new H(A)},s.prototype.toRed=function(A){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(A){return this.red=A,this},s.prototype.forceRed=function(A){return u(!this.red,"Already a number in reduction context"),this._forceRed(A)},s.prototype.redAdd=function(A){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},s.prototype.redIAdd=function(A){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},s.prototype.redSub=function(A){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},s.prototype.redISub=function(A){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},s.prototype.redShl=function(A){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},s.prototype.redMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},s.prototype.redIMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(A){return u(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var I={k256:null,p224:null,p192:null,p25519:null};function D(A,P){this.name=A,this.p=new s(P,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function H(A){if(typeof A=="string"){var P=s._prime(A);this.m=P.p,this.prime=P}else u(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function $(A){H.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var A=new s(null);return A.words=new Array(Math.ceil(this.n/13)),A},D.prototype.ireduce=function(A){var P,C=A;do this.split(C,this.tmp),P=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(P>this.n);var b=P<this.n?-1:C.ucmp(this.p);return b===0?(C.words[0]=0,C.length=1):b>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},D.prototype.split=function(A,P){A.iushrn(this.n,0,P)},D.prototype.imulK=function(A){return A.imul(this.k)},l(V,D),V.prototype.split=function(A,P){for(var C=Math.min(A.length,9),b=0;b<C;b++)P.words[b]=A.words[b];if(P.length=C,A.length<=9)return A.words[0]=0,void(A.length=1);var _=A.words[9];for(P.words[P.length++]=4194303&_,b=10;b<A.length;b++){var w=0|A.words[b];A.words[b-10]=(4194303&w)<<4|_>>>22,_=w}_>>>=22,A.words[b-10]=_,_===0&&A.length>10?A.length-=10:A.length-=9},V.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var P=0,C=0;C<A.length;C++){var b=0|A.words[C];P+=977*b,A.words[C]=67108863&P,P=64*b+(P/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},l(L,D),l(z,D),l(B,D),B.prototype.imulK=function(A){for(var P=0,C=0;C<A.length;C++){var b=19*(0|A.words[C])+P,_=67108863&b;b>>>=26,A.words[C]=_,P=b}return P!==0&&(A.words[A.length++]=P),A},s._prime=function(A){if(I[A])return I[A];var P;if(A==="k256")P=new V;else if(A==="p224")P=new L;else if(A==="p192")P=new z;else{if(A!=="p25519")throw new Error("Unknown prime "+A);P=new B}return I[A]=P,P},H.prototype._verify1=function(A){u(A.negative===0,"red works only with positives"),u(A.red,"red works only with red numbers")},H.prototype._verify2=function(A,P){u((A.negative|P.negative)==0,"red works only with positives"),u(A.red&&A.red===P.red,"red works only with red numbers")},H.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},H.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},H.prototype.add=function(A,P){this._verify2(A,P);var C=A.add(P);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},H.prototype.iadd=function(A,P){this._verify2(A,P);var C=A.iadd(P);return C.cmp(this.m)>=0&&C.isub(this.m),C},H.prototype.sub=function(A,P){this._verify2(A,P);var C=A.sub(P);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},H.prototype.isub=function(A,P){this._verify2(A,P);var C=A.isub(P);return C.cmpn(0)<0&&C.iadd(this.m),C},H.prototype.shl=function(A,P){return this._verify1(A),this.imod(A.ushln(P))},H.prototype.imul=function(A,P){return this._verify2(A,P),this.imod(A.imul(P))},H.prototype.mul=function(A,P){return this._verify2(A,P),this.imod(A.mul(P))},H.prototype.isqr=function(A){return this.imul(A,A.clone())},H.prototype.sqr=function(A){return this.mul(A,A)},H.prototype.sqrt=function(A){if(A.isZero())return A.clone();var P=this.m.andln(3);if(u(P%2==1),P===3){var C=this.m.add(new s(1)).iushrn(2);return this.pow(A,C)}for(var b=this.m.subn(1),_=0;!b.isZero()&&b.andln(1)===0;)_++,b.iushrn(1);u(!b.isZero());var w=new s(1).toRed(this),S=w.redNeg(),N=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new s(2*O*O).toRed(this);this.pow(O,N).cmp(S)!==0;)O.redIAdd(S);for(var U=this.pow(O,b),G=this.pow(A,b.addn(1).iushrn(1)),W=this.pow(A,b),J=_;W.cmp(w)!==0;){for(var F=W,Y=0;F.cmp(w)!==0;Y++)F=F.redSqr();u(Y<J);var j=this.pow(U,new s(1).iushln(J-Y-1));G=G.redMul(j),U=j.redSqr(),W=W.redMul(U),J=Y}return G},H.prototype.invm=function(A){var P=A._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},H.prototype.pow=function(A,P){if(P.isZero())return new s(1).toRed(this);if(P.cmpn(1)===0)return A.clone();var C=new Array(16);C[0]=new s(1).toRed(this),C[1]=A;for(var b=2;b<C.length;b++)C[b]=this.mul(C[b-1],A);var _=C[0],w=0,S=0,N=P.bitLength()%26;for(N===0&&(N=26),b=P.length-1;b>=0;b--){for(var O=P.words[b],U=N-1;U>=0;U--){var G=O>>U&1;_!==C[0]&&(_=this.sqr(_)),G!==0||w!==0?(w<<=1,w|=G,(++S===4||b===0&&U===0)&&(_=this.mul(_,C[w]),S=0,w=0)):S=0}N=26}return _},H.prototype.convertTo=function(A){var P=A.umod(this.m);return P===A?P.clone():P},H.prototype.convertFrom=function(A){var P=A.clone();return P.red=null,P},s.mont=function(A){return new $(A)},l($,H),$.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},$.prototype.convertFrom=function(A){var P=this.imod(A.mul(this.rinv));return P.red=null,P},$.prototype.imul=function(A,P){if(A.isZero()||P.isZero())return A.words[0]=0,A.length=1,A;var C=A.imul(P),b=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=C.isub(b).iushrn(this.shift),w=_;return _.cmp(this.m)>=0?w=_.isub(this.m):_.cmpn(0)<0&&(w=_.iadd(this.m)),w._forceRed(this)},$.prototype.mul=function(A,P){if(A.isZero()||P.isZero())return new s(0)._forceRed(this);var C=A.mul(P),b=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=C.isub(b).iushrn(this.shift),w=_;return _.cmp(this.m)>=0?w=_.isub(this.m):_.cmpn(0)<0&&(w=_.iadd(this.m)),w._forceRed(this)},$.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],185:[function(t,r,o){o.byteLength=function(f){var g=h(f),y=g[0],p=g[1];return 3*(y+p)/4-p},o.toByteArray=function(f){var g,y,p=h(f),v=p[0],m=p[1],x=new u(function(D,V,L){return 3*(V+L)/4-L}(0,v,m)),k=0,I=m>0?v-4:v;for(y=0;y<I;y+=4)g=a[f.charCodeAt(y)]<<18|a[f.charCodeAt(y+1)]<<12|a[f.charCodeAt(y+2)]<<6|a[f.charCodeAt(y+3)],x[k++]=g>>16&255,x[k++]=g>>8&255,x[k++]=255&g;return m===2&&(g=a[f.charCodeAt(y)]<<2|a[f.charCodeAt(y+1)]>>4,x[k++]=255&g),m===1&&(g=a[f.charCodeAt(y)]<<10|a[f.charCodeAt(y+1)]<<4|a[f.charCodeAt(y+2)]>>2,x[k++]=g>>8&255,x[k++]=255&g),x},o.fromByteArray=function(f){for(var g,y=f.length,p=y%3,v=[],m=0,x=y-p;m<x;m+=16383)v.push(d(f,m,m+16383>x?x:m+16383));return p===1?(g=f[y-1],v.push(i[g>>2]+i[g<<4&63]+"==")):p===2&&(g=(f[y-2]<<8)+f[y-1],v.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),v.join("")};for(var i=[],a=[],u=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=l.length;s<c;++s)i[s]=l[s],a[l.charCodeAt(s)]=s;function h(f){var g=f.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function d(f,g,y){for(var p,v,m=[],x=g;x<y;x+=3)p=(f[x]<<16&16711680)+(f[x+1]<<8&65280)+(255&f[x+2]),m.push(i[(v=p)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return m.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],186:[function(t,r,o){(function(i,a){function u(C,b){if(!C)throw new Error(b||"Assertion failed")}function l(C,b){C.super_=b;var _=function(){};_.prototype=b.prototype,C.prototype=new _,C.prototype.constructor=C}function s(C,b,_){if(s.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(b!=="le"&&b!=="be"||(_=b,b=10),this._init(C||0,b||10,_||"be"))}var c;typeof i=="object"?i.exports=s:(void 0).BN=s,s.BN=s,s.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function h(C,b){var _=C.charCodeAt(b);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void u(!1,"Invalid character in "+C)}function d(C,b,_){var w=h(C,_);return _-1>=b&&(w|=h(C,_-1)<<4),w}function f(C,b,_,w){for(var S=0,N=0,O=Math.min(C.length,_),U=b;U<O;U++){var G=C.charCodeAt(U)-48;S*=w,N=G>=49?G-49+10:G>=17?G-17+10:G,u(G>=0&&N<w,"Invalid character"),S+=N}return S}function g(C,b){C.words=b.words,C.length=b.length,C.negative=b.negative,C.red=b.red}if(s.isBN=function(C){return C instanceof s||C!==null&&typeof C=="object"&&C.constructor.wordSize===s.wordSize&&Array.isArray(C.words)},s.max=function(C,b){return C.cmp(b)>0?C:b},s.min=function(C,b){return C.cmp(b)<0?C:b},s.prototype._init=function(C,b,_){if(typeof C=="number")return this._initNumber(C,b,_);if(typeof C=="object")return this._initArray(C,b,_);b==="hex"&&(b=16),u(b===(0|b)&&b>=2&&b<=36);var w=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<C.length&&(b===16?this._parseHex(C,w,_):(this._parseBase(C,b,w),_==="le"&&this._initArray(this.toArray(),b,_)))},s.prototype._initNumber=function(C,b,_){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(u(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),b,_)},s.prototype._initArray=function(C,b,_){if(u(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,N,O=0;if(_==="be")for(w=C.length-1,S=0;w>=0;w-=3)N=C[w]|C[w-1]<<8|C[w-2]<<16,this.words[S]|=N<<O&67108863,this.words[S+1]=N>>>26-O&67108863,(O+=24)>=26&&(O-=26,S++);else if(_==="le")for(w=0,S=0;w<C.length;w+=3)N=C[w]|C[w+1]<<8|C[w+2]<<16,this.words[S]|=N<<O&67108863,this.words[S+1]=N>>>26-O&67108863,(O+=24)>=26&&(O-=26,S++);return this._strip()},s.prototype._parseHex=function(C,b,_){this.length=Math.ceil((C.length-b)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,N=0,O=0;if(_==="be")for(w=C.length-1;w>=b;w-=2)S=d(C,b,w)<<N,this.words[O]|=67108863&S,N>=18?(N-=18,O+=1,this.words[O]|=S>>>26):N+=8;else for(w=(C.length-b)%2==0?b+1:b;w<C.length;w+=2)S=d(C,b,w)<<N,this.words[O]|=67108863&S,N>=18?(N-=18,O+=1,this.words[O]|=S>>>26):N+=8;this._strip()},s.prototype._parseBase=function(C,b,_){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=b)w++;w--,S=S/b|0;for(var N=C.length-_,O=N%w,U=Math.min(N,N-O)+_,G=0,W=_;W<U;W+=w)G=f(C,W,W+w,b),this.imuln(S),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(O!==0){var J=1;for(G=f(C,W,C.length,b),W=0;W<O;W++)J*=b;this.imuln(J),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},s.prototype.copy=function(C){C.words=new Array(this.length);for(var b=0;b<this.length;b++)C.words[b]=this.words[b];C.length=this.length,C.negative=this.negative,C.red=this.red},s.prototype._move=function(C){g(C,this)},s.prototype.clone=function(){var C=new s(null);return this.copy(C),C},s.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{s.prototype.inspect=y}else s.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(C,b){var _;if(b=0|b||1,(C=C||10)===16||C==="hex"){_="";for(var w=0,S=0,N=0;N<this.length;N++){var O=this.words[N],U=(16777215&(O<<w|S)).toString(16);S=O>>>24-w&16777215,(w+=2)>=26&&(w-=26,N--),_=S!==0||N!==this.length-1?p[6-U.length]+U+_:U+_}for(S!==0&&(_=S.toString(16)+_);_.length%b!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(C===(0|C)&&C>=2&&C<=36){var G=v[C],W=m[C];_="";var J=this.clone();for(J.negative=0;!J.isZero();){var F=J.modrn(W).toString(C);_=(J=J.idivn(W)).isZero()?F+_:p[G-F.length]+F+_}for(this.isZero()&&(_="0"+_);_.length%b!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}u(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},s.prototype.toJSON=function(){return this.toString(16,2)},c&&(s.prototype.toBuffer=function(C,b){return this.toArrayLike(c,C,b)}),s.prototype.toArray=function(C,b){return this.toArrayLike(Array,C,b)};function x(C,b,_){_.negative=b.negative^C.negative;var w=C.length+b.length|0;_.length=w,w=w-1|0;var S=0|C.words[0],N=0|b.words[0],O=S*N,U=67108863&O,G=O/67108864|0;_.words[0]=U;for(var W=1;W<w;W++){for(var J=G>>>26,F=67108863&G,Y=Math.min(W,b.length-1),j=Math.max(0,W-C.length+1);j<=Y;j++){var R=W-j|0;J+=(O=(S=0|C.words[R])*(N=0|b.words[j])+F)/67108864|0,F=67108863&O}_.words[W]=0|F,G=0|J}return G!==0?_.words[W]=0|G:_.length--,_._strip()}s.prototype.toArrayLike=function(C,b,_){this._strip();var w=this.byteLength(),S=_||Math.max(1,w);u(w<=S,"byte array longer than desired length"),u(S>0,"Requested array length <= 0");var N=function(O,U){return O.allocUnsafe?O.allocUnsafe(U):new O(U)}(C,S);return this["_toArrayLike"+(b==="le"?"LE":"BE")](N,w),N},s.prototype._toArrayLikeLE=function(C,b){for(var _=0,w=0,S=0,N=0;S<this.length;S++){var O=this.words[S]<<N|w;C[_++]=255&O,_<C.length&&(C[_++]=O>>8&255),_<C.length&&(C[_++]=O>>16&255),N===6?(_<C.length&&(C[_++]=O>>24&255),w=0,N=0):(w=O>>>24,N+=2)}if(_<C.length)for(C[_++]=w;_<C.length;)C[_++]=0},s.prototype._toArrayLikeBE=function(C,b){for(var _=C.length-1,w=0,S=0,N=0;S<this.length;S++){var O=this.words[S]<<N|w;C[_--]=255&O,_>=0&&(C[_--]=O>>8&255),_>=0&&(C[_--]=O>>16&255),N===6?(_>=0&&(C[_--]=O>>24&255),w=0,N=0):(w=O>>>24,N+=2)}if(_>=0)for(C[_--]=w;_>=0;)C[_--]=0},Math.clz32?s.prototype._countBits=function(C){return 32-Math.clz32(C)}:s.prototype._countBits=function(C){var b=C,_=0;return b>=4096&&(_+=13,b>>>=13),b>=64&&(_+=7,b>>>=7),b>=8&&(_+=4,b>>>=4),b>=2&&(_+=2,b>>>=2),_+b},s.prototype._zeroBits=function(C){if(C===0)return 26;var b=C,_=0;return!(8191&b)&&(_+=13,b>>>=13),!(127&b)&&(_+=7,b>>>=7),!(15&b)&&(_+=4,b>>>=4),!(3&b)&&(_+=2,b>>>=2),!(1&b)&&_++,_},s.prototype.bitLength=function(){var C=this.words[this.length-1],b=this._countBits(C);return 26*(this.length-1)+b},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,b=0;b<this.length;b++){var _=this._zeroBits(this.words[b]);if(C+=_,_!==26)break}return C},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},s.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var b=0;b<C.length;b++)this.words[b]=this.words[b]|C.words[b];return this._strip()},s.prototype.ior=function(C){return u((this.negative|C.negative)==0),this.iuor(C)},s.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},s.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},s.prototype.iuand=function(C){var b;b=this.length>C.length?C:this;for(var _=0;_<b.length;_++)this.words[_]=this.words[_]&C.words[_];return this.length=b.length,this._strip()},s.prototype.iand=function(C){return u((this.negative|C.negative)==0),this.iuand(C)},s.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},s.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},s.prototype.iuxor=function(C){var b,_;this.length>C.length?(b=this,_=C):(b=C,_=this);for(var w=0;w<_.length;w++)this.words[w]=b.words[w]^_.words[w];if(this!==b)for(;w<b.length;w++)this.words[w]=b.words[w];return this.length=b.length,this._strip()},s.prototype.ixor=function(C){return u((this.negative|C.negative)==0),this.iuxor(C)},s.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},s.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},s.prototype.inotn=function(C){u(typeof C=="number"&&C>=0);var b=0|Math.ceil(C/26),_=C%26;this._expand(b),_>0&&b--;for(var w=0;w<b;w++)this.words[w]=67108863&~this.words[w];return _>0&&(this.words[w]=~this.words[w]&67108863>>26-_),this._strip()},s.prototype.notn=function(C){return this.clone().inotn(C)},s.prototype.setn=function(C,b){u(typeof C=="number"&&C>=0);var _=C/26|0,w=C%26;return this._expand(_+1),this.words[_]=b?this.words[_]|1<<w:this.words[_]&~(1<<w),this._strip()},s.prototype.iadd=function(C){var b,_,w;if(this.negative!==0&&C.negative===0)return this.negative=0,b=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,b=this.isub(C),C.negative=1,b._normSign();this.length>C.length?(_=this,w=C):(_=C,w=this);for(var S=0,N=0;N<w.length;N++)b=(0|_.words[N])+(0|w.words[N])+S,this.words[N]=67108863&b,S=b>>>26;for(;S!==0&&N<_.length;N++)b=(0|_.words[N])+S,this.words[N]=67108863&b,S=b>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;N<_.length;N++)this.words[N]=_.words[N];return this},s.prototype.add=function(C){var b;return C.negative!==0&&this.negative===0?(C.negative=0,b=this.sub(C),C.negative^=1,b):C.negative===0&&this.negative!==0?(this.negative=0,b=C.sub(this),this.negative=1,b):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},s.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var b=this.iadd(C);return C.negative=1,b._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var _,w,S=this.cmp(C);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(_=this,w=C):(_=C,w=this);for(var N=0,O=0;O<w.length;O++)N=(b=(0|_.words[O])-(0|w.words[O])+N)>>26,this.words[O]=67108863&b;for(;N!==0&&O<_.length;O++)N=(b=(0|_.words[O])+N)>>26,this.words[O]=67108863&b;if(N===0&&O<_.length&&_!==this)for(;O<_.length;O++)this.words[O]=_.words[O];return this.length=Math.max(this.length,O),_!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(C){return this.clone().isub(C)};var k=function(C,b,_){var w,S,N,O=C.words,U=b.words,G=_.words,W=0,J=0|O[0],F=8191&J,Y=J>>>13,j=0|O[1],R=8191&j,q=j>>>13,K=0|O[2],Q=8191&K,X=K>>>13,ee=0|O[3],ie=8191&ee,ae=ee>>>13,Z=0|O[4],re=8191&Z,ne=Z>>>13,ue=0|O[5],le=8191&ue,de=ue>>>13,he=0|O[6],pe=8191&he,ye=he>>>13,Ae=0|O[7],Ne=8191&Ae,ke=Ae>>>13,Ve=0|O[8],Ue=8191&Ve,ze=Ve>>>13,He=0|O[9],Ie=8191&He,we=He>>>13,Me=0|U[0],Fe=8191&Me,je=Me>>>13,ct=0|U[1],Ct=8191&ct,qe=ct>>>13,yt=0|U[2],at=8191&yt,Qe=yt>>>13,Rt=0|U[3],vt=8191&Rt,Ke=Rt>>>13,pt=0|U[4],At=8191&pt,Je=pt>>>13,wt=0|U[5],It=8191&wt,tt=wt>>>13,se=0|U[6],ce=8191&se,me=se>>>13,Ce=0|U[7],Ge=8191&Ce,Te=Ce>>>13,Xe=0|U[8],We=8191&Xe,$e=Xe>>>13,et=0|U[9],Ze=8191&et,ot=et>>>13;_.negative=C.negative^b.negative,_.length=19;var Gt=(W+(w=Math.imul(F,Fe))|0)+((8191&(S=(S=Math.imul(F,je))+Math.imul(Y,Fe)|0))<<13)|0;W=((N=Math.imul(Y,je))+(S>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(R,Fe),S=(S=Math.imul(R,je))+Math.imul(q,Fe)|0,N=Math.imul(q,je);var Pt=(W+(w=w+Math.imul(F,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(F,qe)|0)+Math.imul(Y,Ct)|0))<<13)|0;W=((N=N+Math.imul(Y,qe)|0)+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(Q,Fe),S=(S=Math.imul(Q,je))+Math.imul(X,Fe)|0,N=Math.imul(X,je),w=w+Math.imul(R,Ct)|0,S=(S=S+Math.imul(R,qe)|0)+Math.imul(q,Ct)|0,N=N+Math.imul(q,qe)|0;var en=(W+(w=w+Math.imul(F,at)|0)|0)+((8191&(S=(S=S+Math.imul(F,Qe)|0)+Math.imul(Y,at)|0))<<13)|0;W=((N=N+Math.imul(Y,Qe)|0)+(S>>>13)|0)+(en>>>26)|0,en&=67108863,w=Math.imul(ie,Fe),S=(S=Math.imul(ie,je))+Math.imul(ae,Fe)|0,N=Math.imul(ae,je),w=w+Math.imul(Q,Ct)|0,S=(S=S+Math.imul(Q,qe)|0)+Math.imul(X,Ct)|0,N=N+Math.imul(X,qe)|0,w=w+Math.imul(R,at)|0,S=(S=S+Math.imul(R,Qe)|0)+Math.imul(q,at)|0,N=N+Math.imul(q,Qe)|0;var tn=(W+(w=w+Math.imul(F,vt)|0)|0)+((8191&(S=(S=S+Math.imul(F,Ke)|0)+Math.imul(Y,vt)|0))<<13)|0;W=((N=N+Math.imul(Y,Ke)|0)+(S>>>13)|0)+(tn>>>26)|0,tn&=67108863,w=Math.imul(re,Fe),S=(S=Math.imul(re,je))+Math.imul(ne,Fe)|0,N=Math.imul(ne,je),w=w+Math.imul(ie,Ct)|0,S=(S=S+Math.imul(ie,qe)|0)+Math.imul(ae,Ct)|0,N=N+Math.imul(ae,qe)|0,w=w+Math.imul(Q,at)|0,S=(S=S+Math.imul(Q,Qe)|0)+Math.imul(X,at)|0,N=N+Math.imul(X,Qe)|0,w=w+Math.imul(R,vt)|0,S=(S=S+Math.imul(R,Ke)|0)+Math.imul(q,vt)|0,N=N+Math.imul(q,Ke)|0;var kn=(W+(w=w+Math.imul(F,At)|0)|0)+((8191&(S=(S=S+Math.imul(F,Je)|0)+Math.imul(Y,At)|0))<<13)|0;W=((N=N+Math.imul(Y,Je)|0)+(S>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(le,Fe),S=(S=Math.imul(le,je))+Math.imul(de,Fe)|0,N=Math.imul(de,je),w=w+Math.imul(re,Ct)|0,S=(S=S+Math.imul(re,qe)|0)+Math.imul(ne,Ct)|0,N=N+Math.imul(ne,qe)|0,w=w+Math.imul(ie,at)|0,S=(S=S+Math.imul(ie,Qe)|0)+Math.imul(ae,at)|0,N=N+Math.imul(ae,Qe)|0,w=w+Math.imul(Q,vt)|0,S=(S=S+Math.imul(Q,Ke)|0)+Math.imul(X,vt)|0,N=N+Math.imul(X,Ke)|0,w=w+Math.imul(R,At)|0,S=(S=S+Math.imul(R,Je)|0)+Math.imul(q,At)|0,N=N+Math.imul(q,Je)|0;var te=(W+(w=w+Math.imul(F,It)|0)|0)+((8191&(S=(S=S+Math.imul(F,tt)|0)+Math.imul(Y,It)|0))<<13)|0;W=((N=N+Math.imul(Y,tt)|0)+(S>>>13)|0)+(te>>>26)|0,te&=67108863,w=Math.imul(pe,Fe),S=(S=Math.imul(pe,je))+Math.imul(ye,Fe)|0,N=Math.imul(ye,je),w=w+Math.imul(le,Ct)|0,S=(S=S+Math.imul(le,qe)|0)+Math.imul(de,Ct)|0,N=N+Math.imul(de,qe)|0,w=w+Math.imul(re,at)|0,S=(S=S+Math.imul(re,Qe)|0)+Math.imul(ne,at)|0,N=N+Math.imul(ne,Qe)|0,w=w+Math.imul(ie,vt)|0,S=(S=S+Math.imul(ie,Ke)|0)+Math.imul(ae,vt)|0,N=N+Math.imul(ae,Ke)|0,w=w+Math.imul(Q,At)|0,S=(S=S+Math.imul(Q,Je)|0)+Math.imul(X,At)|0,N=N+Math.imul(X,Je)|0,w=w+Math.imul(R,It)|0,S=(S=S+Math.imul(R,tt)|0)+Math.imul(q,It)|0,N=N+Math.imul(q,tt)|0;var fe=(W+(w=w+Math.imul(F,ce)|0)|0)+((8191&(S=(S=S+Math.imul(F,me)|0)+Math.imul(Y,ce)|0))<<13)|0;W=((N=N+Math.imul(Y,me)|0)+(S>>>13)|0)+(fe>>>26)|0,fe&=67108863,w=Math.imul(Ne,Fe),S=(S=Math.imul(Ne,je))+Math.imul(ke,Fe)|0,N=Math.imul(ke,je),w=w+Math.imul(pe,Ct)|0,S=(S=S+Math.imul(pe,qe)|0)+Math.imul(ye,Ct)|0,N=N+Math.imul(ye,qe)|0,w=w+Math.imul(le,at)|0,S=(S=S+Math.imul(le,Qe)|0)+Math.imul(de,at)|0,N=N+Math.imul(de,Qe)|0,w=w+Math.imul(re,vt)|0,S=(S=S+Math.imul(re,Ke)|0)+Math.imul(ne,vt)|0,N=N+Math.imul(ne,Ke)|0,w=w+Math.imul(ie,At)|0,S=(S=S+Math.imul(ie,Je)|0)+Math.imul(ae,At)|0,N=N+Math.imul(ae,Je)|0,w=w+Math.imul(Q,It)|0,S=(S=S+Math.imul(Q,tt)|0)+Math.imul(X,It)|0,N=N+Math.imul(X,tt)|0,w=w+Math.imul(R,ce)|0,S=(S=S+Math.imul(R,me)|0)+Math.imul(q,ce)|0,N=N+Math.imul(q,me)|0;var ge=(W+(w=w+Math.imul(F,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(F,Te)|0)+Math.imul(Y,Ge)|0))<<13)|0;W=((N=N+Math.imul(Y,Te)|0)+(S>>>13)|0)+(ge>>>26)|0,ge&=67108863,w=Math.imul(Ue,Fe),S=(S=Math.imul(Ue,je))+Math.imul(ze,Fe)|0,N=Math.imul(ze,je),w=w+Math.imul(Ne,Ct)|0,S=(S=S+Math.imul(Ne,qe)|0)+Math.imul(ke,Ct)|0,N=N+Math.imul(ke,qe)|0,w=w+Math.imul(pe,at)|0,S=(S=S+Math.imul(pe,Qe)|0)+Math.imul(ye,at)|0,N=N+Math.imul(ye,Qe)|0,w=w+Math.imul(le,vt)|0,S=(S=S+Math.imul(le,Ke)|0)+Math.imul(de,vt)|0,N=N+Math.imul(de,Ke)|0,w=w+Math.imul(re,At)|0,S=(S=S+Math.imul(re,Je)|0)+Math.imul(ne,At)|0,N=N+Math.imul(ne,Je)|0,w=w+Math.imul(ie,It)|0,S=(S=S+Math.imul(ie,tt)|0)+Math.imul(ae,It)|0,N=N+Math.imul(ae,tt)|0,w=w+Math.imul(Q,ce)|0,S=(S=S+Math.imul(Q,me)|0)+Math.imul(X,ce)|0,N=N+Math.imul(X,me)|0,w=w+Math.imul(R,Ge)|0,S=(S=S+Math.imul(R,Te)|0)+Math.imul(q,Ge)|0,N=N+Math.imul(q,Te)|0;var ve=(W+(w=w+Math.imul(F,We)|0)|0)+((8191&(S=(S=S+Math.imul(F,$e)|0)+Math.imul(Y,We)|0))<<13)|0;W=((N=N+Math.imul(Y,$e)|0)+(S>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(Ie,Fe),S=(S=Math.imul(Ie,je))+Math.imul(we,Fe)|0,N=Math.imul(we,je),w=w+Math.imul(Ue,Ct)|0,S=(S=S+Math.imul(Ue,qe)|0)+Math.imul(ze,Ct)|0,N=N+Math.imul(ze,qe)|0,w=w+Math.imul(Ne,at)|0,S=(S=S+Math.imul(Ne,Qe)|0)+Math.imul(ke,at)|0,N=N+Math.imul(ke,Qe)|0,w=w+Math.imul(pe,vt)|0,S=(S=S+Math.imul(pe,Ke)|0)+Math.imul(ye,vt)|0,N=N+Math.imul(ye,Ke)|0,w=w+Math.imul(le,At)|0,S=(S=S+Math.imul(le,Je)|0)+Math.imul(de,At)|0,N=N+Math.imul(de,Je)|0,w=w+Math.imul(re,It)|0,S=(S=S+Math.imul(re,tt)|0)+Math.imul(ne,It)|0,N=N+Math.imul(ne,tt)|0,w=w+Math.imul(ie,ce)|0,S=(S=S+Math.imul(ie,me)|0)+Math.imul(ae,ce)|0,N=N+Math.imul(ae,me)|0,w=w+Math.imul(Q,Ge)|0,S=(S=S+Math.imul(Q,Te)|0)+Math.imul(X,Ge)|0,N=N+Math.imul(X,Te)|0,w=w+Math.imul(R,We)|0,S=(S=S+Math.imul(R,$e)|0)+Math.imul(q,We)|0,N=N+Math.imul(q,$e)|0;var Le=(W+(w=w+Math.imul(F,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(F,ot)|0)+Math.imul(Y,Ze)|0))<<13)|0;W=((N=N+Math.imul(Y,ot)|0)+(S>>>13)|0)+(Le>>>26)|0,Le&=67108863,w=Math.imul(Ie,Ct),S=(S=Math.imul(Ie,qe))+Math.imul(we,Ct)|0,N=Math.imul(we,qe),w=w+Math.imul(Ue,at)|0,S=(S=S+Math.imul(Ue,Qe)|0)+Math.imul(ze,at)|0,N=N+Math.imul(ze,Qe)|0,w=w+Math.imul(Ne,vt)|0,S=(S=S+Math.imul(Ne,Ke)|0)+Math.imul(ke,vt)|0,N=N+Math.imul(ke,Ke)|0,w=w+Math.imul(pe,At)|0,S=(S=S+Math.imul(pe,Je)|0)+Math.imul(ye,At)|0,N=N+Math.imul(ye,Je)|0,w=w+Math.imul(le,It)|0,S=(S=S+Math.imul(le,tt)|0)+Math.imul(de,It)|0,N=N+Math.imul(de,tt)|0,w=w+Math.imul(re,ce)|0,S=(S=S+Math.imul(re,me)|0)+Math.imul(ne,ce)|0,N=N+Math.imul(ne,me)|0,w=w+Math.imul(ie,Ge)|0,S=(S=S+Math.imul(ie,Te)|0)+Math.imul(ae,Ge)|0,N=N+Math.imul(ae,Te)|0,w=w+Math.imul(Q,We)|0,S=(S=S+Math.imul(Q,$e)|0)+Math.imul(X,We)|0,N=N+Math.imul(X,$e)|0;var _e=(W+(w=w+Math.imul(R,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(R,ot)|0)+Math.imul(q,Ze)|0))<<13)|0;W=((N=N+Math.imul(q,ot)|0)+(S>>>13)|0)+(_e>>>26)|0,_e&=67108863,w=Math.imul(Ie,at),S=(S=Math.imul(Ie,Qe))+Math.imul(we,at)|0,N=Math.imul(we,Qe),w=w+Math.imul(Ue,vt)|0,S=(S=S+Math.imul(Ue,Ke)|0)+Math.imul(ze,vt)|0,N=N+Math.imul(ze,Ke)|0,w=w+Math.imul(Ne,At)|0,S=(S=S+Math.imul(Ne,Je)|0)+Math.imul(ke,At)|0,N=N+Math.imul(ke,Je)|0,w=w+Math.imul(pe,It)|0,S=(S=S+Math.imul(pe,tt)|0)+Math.imul(ye,It)|0,N=N+Math.imul(ye,tt)|0,w=w+Math.imul(le,ce)|0,S=(S=S+Math.imul(le,me)|0)+Math.imul(de,ce)|0,N=N+Math.imul(de,me)|0,w=w+Math.imul(re,Ge)|0,S=(S=S+Math.imul(re,Te)|0)+Math.imul(ne,Ge)|0,N=N+Math.imul(ne,Te)|0,w=w+Math.imul(ie,We)|0,S=(S=S+Math.imul(ie,$e)|0)+Math.imul(ae,We)|0,N=N+Math.imul(ae,$e)|0;var Se=(W+(w=w+Math.imul(Q,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(Q,ot)|0)+Math.imul(X,Ze)|0))<<13)|0;W=((N=N+Math.imul(X,ot)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,w=Math.imul(Ie,vt),S=(S=Math.imul(Ie,Ke))+Math.imul(we,vt)|0,N=Math.imul(we,Ke),w=w+Math.imul(Ue,At)|0,S=(S=S+Math.imul(Ue,Je)|0)+Math.imul(ze,At)|0,N=N+Math.imul(ze,Je)|0,w=w+Math.imul(Ne,It)|0,S=(S=S+Math.imul(Ne,tt)|0)+Math.imul(ke,It)|0,N=N+Math.imul(ke,tt)|0,w=w+Math.imul(pe,ce)|0,S=(S=S+Math.imul(pe,me)|0)+Math.imul(ye,ce)|0,N=N+Math.imul(ye,me)|0,w=w+Math.imul(le,Ge)|0,S=(S=S+Math.imul(le,Te)|0)+Math.imul(de,Ge)|0,N=N+Math.imul(de,Te)|0,w=w+Math.imul(re,We)|0,S=(S=S+Math.imul(re,$e)|0)+Math.imul(ne,We)|0,N=N+Math.imul(ne,$e)|0;var lt=(W+(w=w+Math.imul(ie,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(ie,ot)|0)+Math.imul(ae,Ze)|0))<<13)|0;W=((N=N+Math.imul(ae,ot)|0)+(S>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(Ie,At),S=(S=Math.imul(Ie,Je))+Math.imul(we,At)|0,N=Math.imul(we,Je),w=w+Math.imul(Ue,It)|0,S=(S=S+Math.imul(Ue,tt)|0)+Math.imul(ze,It)|0,N=N+Math.imul(ze,tt)|0,w=w+Math.imul(Ne,ce)|0,S=(S=S+Math.imul(Ne,me)|0)+Math.imul(ke,ce)|0,N=N+Math.imul(ke,me)|0,w=w+Math.imul(pe,Ge)|0,S=(S=S+Math.imul(pe,Te)|0)+Math.imul(ye,Ge)|0,N=N+Math.imul(ye,Te)|0,w=w+Math.imul(le,We)|0,S=(S=S+Math.imul(le,$e)|0)+Math.imul(de,We)|0,N=N+Math.imul(de,$e)|0;var st=(W+(w=w+Math.imul(re,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(re,ot)|0)+Math.imul(ne,Ze)|0))<<13)|0;W=((N=N+Math.imul(ne,ot)|0)+(S>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Ie,It),S=(S=Math.imul(Ie,tt))+Math.imul(we,It)|0,N=Math.imul(we,tt),w=w+Math.imul(Ue,ce)|0,S=(S=S+Math.imul(Ue,me)|0)+Math.imul(ze,ce)|0,N=N+Math.imul(ze,me)|0,w=w+Math.imul(Ne,Ge)|0,S=(S=S+Math.imul(Ne,Te)|0)+Math.imul(ke,Ge)|0,N=N+Math.imul(ke,Te)|0,w=w+Math.imul(pe,We)|0,S=(S=S+Math.imul(pe,$e)|0)+Math.imul(ye,We)|0,N=N+Math.imul(ye,$e)|0;var it=(W+(w=w+Math.imul(le,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(le,ot)|0)+Math.imul(de,Ze)|0))<<13)|0;W=((N=N+Math.imul(de,ot)|0)+(S>>>13)|0)+(it>>>26)|0,it&=67108863,w=Math.imul(Ie,ce),S=(S=Math.imul(Ie,me))+Math.imul(we,ce)|0,N=Math.imul(we,me),w=w+Math.imul(Ue,Ge)|0,S=(S=S+Math.imul(Ue,Te)|0)+Math.imul(ze,Ge)|0,N=N+Math.imul(ze,Te)|0,w=w+Math.imul(Ne,We)|0,S=(S=S+Math.imul(Ne,$e)|0)+Math.imul(ke,We)|0,N=N+Math.imul(ke,$e)|0;var Ye=(W+(w=w+Math.imul(pe,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(pe,ot)|0)+Math.imul(ye,Ze)|0))<<13)|0;W=((N=N+Math.imul(ye,ot)|0)+(S>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,w=Math.imul(Ie,Ge),S=(S=Math.imul(Ie,Te))+Math.imul(we,Ge)|0,N=Math.imul(we,Te),w=w+Math.imul(Ue,We)|0,S=(S=S+Math.imul(Ue,$e)|0)+Math.imul(ze,We)|0,N=N+Math.imul(ze,$e)|0;var Tt=(W+(w=w+Math.imul(Ne,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(Ne,ot)|0)+Math.imul(ke,Ze)|0))<<13)|0;W=((N=N+Math.imul(ke,ot)|0)+(S>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,w=Math.imul(Ie,We),S=(S=Math.imul(Ie,$e))+Math.imul(we,We)|0,N=Math.imul(we,$e);var Dt=(W+(w=w+Math.imul(Ue,Ze)|0)|0)+((8191&(S=(S=S+Math.imul(Ue,ot)|0)+Math.imul(ze,Ze)|0))<<13)|0;W=((N=N+Math.imul(ze,ot)|0)+(S>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var mt=(W+(w=Math.imul(Ie,Ze))|0)+((8191&(S=(S=Math.imul(Ie,ot))+Math.imul(we,Ze)|0))<<13)|0;return W=((N=Math.imul(we,ot))+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,G[0]=Gt,G[1]=Pt,G[2]=en,G[3]=tn,G[4]=kn,G[5]=te,G[6]=fe,G[7]=ge,G[8]=ve,G[9]=Le,G[10]=_e,G[11]=Se,G[12]=lt,G[13]=st,G[14]=it,G[15]=Ye,G[16]=Tt,G[17]=Dt,G[18]=mt,W!==0&&(G[19]=W,_.length++),_};function I(C,b,_){_.negative=b.negative^C.negative,_.length=C.length+b.length;for(var w=0,S=0,N=0;N<_.length-1;N++){var O=S;S=0;for(var U=67108863&w,G=Math.min(N,b.length-1),W=Math.max(0,N-C.length+1);W<=G;W++){var J=N-W,F=(0|C.words[J])*(0|b.words[W]),Y=67108863&F;U=67108863&(Y=Y+U|0),S+=(O=(O=O+(F/67108864|0)|0)+(Y>>>26)|0)>>>26,O&=67108863}_.words[N]=U,w=O,O=S}return w!==0?_.words[N]=w:_.length--,_._strip()}function D(C,b,_){return I(C,b,_)}Math.imul||(k=x),s.prototype.mulTo=function(C,b){var _=this.length+C.length;return this.length===10&&C.length===10?k(this,C,b):_<63?x(this,C,b):_<1024?I(this,C,b):D(this,C,b)},s.prototype.mul=function(C){var b=new s(null);return b.words=new Array(this.length+C.length),this.mulTo(C,b)},s.prototype.mulf=function(C){var b=new s(null);return b.words=new Array(this.length+C.length),D(this,C,b)},s.prototype.imul=function(C){return this.clone().mulTo(C,this)},s.prototype.imuln=function(C){var b=C<0;b&&(C=-C),u(typeof C=="number"),u(C<67108864);for(var _=0,w=0;w<this.length;w++){var S=(0|this.words[w])*C,N=(67108863&S)+(67108863&_);_>>=26,_+=S/67108864|0,_+=N>>>26,this.words[w]=67108863&N}return _!==0&&(this.words[w]=_,this.length++),b?this.ineg():this},s.prototype.muln=function(C){return this.clone().imuln(C)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(C){var b=function(N){for(var O=new Array(N.bitLength()),U=0;U<O.length;U++){var G=U/26|0,W=U%26;O[U]=N.words[G]>>>W&1}return O}(C);if(b.length===0)return new s(1);for(var _=this,w=0;w<b.length&&b[w]===0;w++,_=_.sqr());if(++w<b.length)for(var S=_.sqr();w<b.length;w++,S=S.sqr())b[w]!==0&&(_=_.mul(S));return _},s.prototype.iushln=function(C){u(typeof C=="number"&&C>=0);var b,_=C%26,w=(C-_)/26,S=67108863>>>26-_<<26-_;if(_!==0){var N=0;for(b=0;b<this.length;b++){var O=this.words[b]&S,U=(0|this.words[b])-O<<_;this.words[b]=U|N,N=O>>>26-_}N&&(this.words[b]=N,this.length++)}if(w!==0){for(b=this.length-1;b>=0;b--)this.words[b+w]=this.words[b];for(b=0;b<w;b++)this.words[b]=0;this.length+=w}return this._strip()},s.prototype.ishln=function(C){return u(this.negative===0),this.iushln(C)},s.prototype.iushrn=function(C,b,_){var w;u(typeof C=="number"&&C>=0),w=b?(b-b%26)/26:0;var S=C%26,N=Math.min((C-S)/26,this.length),O=67108863^67108863>>>S<<S,U=_;if(w-=N,w=Math.max(0,w),U){for(var G=0;G<N;G++)U.words[G]=this.words[G];U.length=N}if(N!==0)if(this.length>N)for(this.length-=N,G=0;G<this.length;G++)this.words[G]=this.words[G+N];else this.words[0]=0,this.length=1;var W=0;for(G=this.length-1;G>=0&&(W!==0||G>=w);G--){var J=0|this.words[G];this.words[G]=W<<26-S|J>>>S,W=J&O}return U&&W!==0&&(U.words[U.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(C,b,_){return u(this.negative===0),this.iushrn(C,b,_)},s.prototype.shln=function(C){return this.clone().ishln(C)},s.prototype.ushln=function(C){return this.clone().iushln(C)},s.prototype.shrn=function(C){return this.clone().ishrn(C)},s.prototype.ushrn=function(C){return this.clone().iushrn(C)},s.prototype.testn=function(C){u(typeof C=="number"&&C>=0);var b=C%26,_=(C-b)/26,w=1<<b;return!(this.length<=_)&&!!(this.words[_]&w)},s.prototype.imaskn=function(C){u(typeof C=="number"&&C>=0);var b=C%26,_=(C-b)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(b!==0&&_++,this.length=Math.min(_,this.length),b!==0){var w=67108863^67108863>>>b<<b;this.words[this.length-1]&=w}return this._strip()},s.prototype.maskn=function(C){return this.clone().imaskn(C)},s.prototype.iaddn=function(C){return u(typeof C=="number"),u(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},s.prototype._iaddn=function(C){this.words[0]+=C;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},s.prototype.isubn=function(C){if(u(typeof C=="number"),u(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},s.prototype.addn=function(C){return this.clone().iaddn(C)},s.prototype.subn=function(C){return this.clone().isubn(C)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(C,b,_){var w,S,N=C.length+_;this._expand(N);var O=0;for(w=0;w<C.length;w++){S=(0|this.words[w+_])+O;var U=(0|C.words[w])*b;O=((S-=67108863&U)>>26)-(U/67108864|0),this.words[w+_]=67108863&S}for(;w<this.length-_;w++)O=(S=(0|this.words[w+_])+O)>>26,this.words[w+_]=67108863&S;if(O===0)return this._strip();for(u(O===-1),O=0,w=0;w<this.length;w++)O=(S=-(0|this.words[w])+O)>>26,this.words[w]=67108863&S;return this.negative=1,this._strip()},s.prototype._wordDiv=function(C,b){var _=(this.length,C.length),w=this.clone(),S=C,N=0|S.words[S.length-1];(_=26-this._countBits(N))!==0&&(S=S.ushln(_),w.iushln(_),N=0|S.words[S.length-1]);var O,U=w.length-S.length;if(b!=="mod"){(O=new s(null)).length=U+1,O.words=new Array(O.length);for(var G=0;G<O.length;G++)O.words[G]=0}var W=w.clone()._ishlnsubmul(S,1,U);W.negative===0&&(w=W,O&&(O.words[U]=1));for(var J=U-1;J>=0;J--){var F=67108864*(0|w.words[S.length+J])+(0|w.words[S.length+J-1]);for(F=Math.min(F/N|0,67108863),w._ishlnsubmul(S,F,J);w.negative!==0;)F--,w.negative=0,w._ishlnsubmul(S,1,J),w.isZero()||(w.negative^=1);O&&(O.words[J]=F)}return O&&O._strip(),w._strip(),b!=="div"&&_!==0&&w.iushrn(_),{div:O||null,mod:w}},s.prototype.divmod=function(C,b,_){return u(!C.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&C.negative===0?(N=this.neg().divmod(C,b),b!=="mod"&&(w=N.div.neg()),b!=="div"&&(S=N.mod.neg(),_&&S.negative!==0&&S.iadd(C)),{div:w,mod:S}):this.negative===0&&C.negative!==0?(N=this.divmod(C.neg(),b),b!=="mod"&&(w=N.div.neg()),{div:w,mod:N.mod}):this.negative&C.negative?(N=this.neg().divmod(C.neg(),b),b!=="div"&&(S=N.mod.neg(),_&&S.negative!==0&&S.isub(C)),{div:N.div,mod:S}):C.length>this.length||this.cmp(C)<0?{div:new s(0),mod:this}:C.length===1?b==="div"?{div:this.divn(C.words[0]),mod:null}:b==="mod"?{div:null,mod:new s(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new s(this.modrn(C.words[0]))}:this._wordDiv(C,b);var w,S,N},s.prototype.div=function(C){return this.divmod(C,"div",!1).div},s.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},s.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},s.prototype.divRound=function(C){var b=this.divmod(C);if(b.mod.isZero())return b.div;var _=b.div.negative!==0?b.mod.isub(C):b.mod,w=C.ushrn(1),S=C.andln(1),N=_.cmp(w);return N<0||S===1&&N===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},s.prototype.modrn=function(C){var b=C<0;b&&(C=-C),u(C<=67108863);for(var _=(1<<26)%C,w=0,S=this.length-1;S>=0;S--)w=(_*w+(0|this.words[S]))%C;return b?-w:w},s.prototype.modn=function(C){return this.modrn(C)},s.prototype.idivn=function(C){var b=C<0;b&&(C=-C),u(C<=67108863);for(var _=0,w=this.length-1;w>=0;w--){var S=(0|this.words[w])+67108864*_;this.words[w]=S/C|0,_=S%C}return this._strip(),b?this.ineg():this},s.prototype.divn=function(C){return this.clone().idivn(C)},s.prototype.egcd=function(C){u(C.negative===0),u(!C.isZero());var b=this,_=C.clone();b=b.negative!==0?b.umod(C):b.clone();for(var w=new s(1),S=new s(0),N=new s(0),O=new s(1),U=0;b.isEven()&&_.isEven();)b.iushrn(1),_.iushrn(1),++U;for(var G=_.clone(),W=b.clone();!b.isZero();){for(var J=0,F=1;!(b.words[0]&F)&&J<26;++J,F<<=1);if(J>0)for(b.iushrn(J);J-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(G),S.isub(W)),w.iushrn(1),S.iushrn(1);for(var Y=0,j=1;!(_.words[0]&j)&&Y<26;++Y,j<<=1);if(Y>0)for(_.iushrn(Y);Y-- >0;)(N.isOdd()||O.isOdd())&&(N.iadd(G),O.isub(W)),N.iushrn(1),O.iushrn(1);b.cmp(_)>=0?(b.isub(_),w.isub(N),S.isub(O)):(_.isub(b),N.isub(w),O.isub(S))}return{a:N,b:O,gcd:_.iushln(U)}},s.prototype._invmp=function(C){u(C.negative===0),u(!C.isZero());var b=this,_=C.clone();b=b.negative!==0?b.umod(C):b.clone();for(var w,S=new s(1),N=new s(0),O=_.clone();b.cmpn(1)>0&&_.cmpn(1)>0;){for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);for(var W=0,J=1;!(_.words[0]&J)&&W<26;++W,J<<=1);if(W>0)for(_.iushrn(W);W-- >0;)N.isOdd()&&N.iadd(O),N.iushrn(1);b.cmp(_)>=0?(b.isub(_),S.isub(N)):(_.isub(b),N.isub(S))}return(w=b.cmpn(1)===0?S:N).cmpn(0)<0&&w.iadd(C),w},s.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var b=this.clone(),_=C.clone();b.negative=0,_.negative=0;for(var w=0;b.isEven()&&_.isEven();w++)b.iushrn(1),_.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=b.cmp(_);if(S<0){var N=b;b=_,_=N}else if(S===0||_.cmpn(1)===0)break;b.isub(_)}return _.iushln(w)},s.prototype.invm=function(C){return this.egcd(C).a.umod(C)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(C){return this.words[0]&C},s.prototype.bincn=function(C){u(typeof C=="number");var b=C%26,_=(C-b)/26,w=1<<b;if(this.length<=_)return this._expand(_+1),this.words[_]|=w,this;for(var S=w,N=_;S!==0&&N<this.length;N++){var O=0|this.words[N];S=(O+=S)>>>26,O&=67108863,this.words[N]=O}return S!==0&&(this.words[N]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(C){var b,_=C<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)b=1;else{_&&(C=-C),u(C<=67108863,"Number is too big");var w=0|this.words[0];b=w===C?0:w<C?-1:1}return this.negative!==0?0|-b:b},s.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var b=this.ucmp(C);return this.negative!==0?0|-b:b},s.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var b=0,_=this.length-1;_>=0;_--){var w=0|this.words[_],S=0|C.words[_];if(w!==S){w<S?b=-1:w>S&&(b=1);break}}return b},s.prototype.gtn=function(C){return this.cmpn(C)===1},s.prototype.gt=function(C){return this.cmp(C)===1},s.prototype.gten=function(C){return this.cmpn(C)>=0},s.prototype.gte=function(C){return this.cmp(C)>=0},s.prototype.ltn=function(C){return this.cmpn(C)===-1},s.prototype.lt=function(C){return this.cmp(C)===-1},s.prototype.lten=function(C){return this.cmpn(C)<=0},s.prototype.lte=function(C){return this.cmp(C)<=0},s.prototype.eqn=function(C){return this.cmpn(C)===0},s.prototype.eq=function(C){return this.cmp(C)===0},s.red=function(C){return new A(C)},s.prototype.toRed=function(C){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},s.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(C){return this.red=C,this},s.prototype.forceRed=function(C){return u(!this.red,"Already a number in reduction context"),this._forceRed(C)},s.prototype.redAdd=function(C){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},s.prototype.redIAdd=function(C){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},s.prototype.redSub=function(C){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},s.prototype.redISub=function(C){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},s.prototype.redShl=function(C){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},s.prototype.redMul=function(C){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},s.prototype.redIMul=function(C){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},s.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(C){return u(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var V={k256:null,p224:null,p192:null,p25519:null};function L(C,b){this.name=C,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(C){if(typeof C=="string"){var b=s._prime(C);this.m=b.p,this.prime=b}else u(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function P(C){A.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var C=new s(null);return C.words=new Array(Math.ceil(this.n/13)),C},L.prototype.ireduce=function(C){var b,_=C;do this.split(_,this.tmp),b=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(b>this.n);var w=b<this.n?-1:_.ucmp(this.p);return w===0?(_.words[0]=0,_.length=1):w>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},L.prototype.split=function(C,b){C.iushrn(this.n,0,b)},L.prototype.imulK=function(C){return C.imul(this.k)},l(z,L),z.prototype.split=function(C,b){for(var _=Math.min(C.length,9),w=0;w<_;w++)b.words[w]=C.words[w];if(b.length=_,C.length<=9)return C.words[0]=0,void(C.length=1);var S=C.words[9];for(b.words[b.length++]=4194303&S,w=10;w<C.length;w++){var N=0|C.words[w];C.words[w-10]=(4194303&N)<<4|S>>>22,S=N}S>>>=22,C.words[w-10]=S,S===0&&C.length>10?C.length-=10:C.length-=9},z.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var b=0,_=0;_<C.length;_++){var w=0|C.words[_];b+=977*w,C.words[_]=67108863&b,b=64*w+(b/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},l(B,L),l(H,L),l($,L),$.prototype.imulK=function(C){for(var b=0,_=0;_<C.length;_++){var w=19*(0|C.words[_])+b,S=67108863&w;w>>>=26,C.words[_]=S,b=w}return b!==0&&(C.words[C.length++]=b),C},s._prime=function(C){if(V[C])return V[C];var b;if(C==="k256")b=new z;else if(C==="p224")b=new B;else if(C==="p192")b=new H;else{if(C!=="p25519")throw new Error("Unknown prime "+C);b=new $}return V[C]=b,b},A.prototype._verify1=function(C){u(C.negative===0,"red works only with positives"),u(C.red,"red works only with red numbers")},A.prototype._verify2=function(C,b){u((C.negative|b.negative)==0,"red works only with positives"),u(C.red&&C.red===b.red,"red works only with red numbers")},A.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(g(C,C.umod(this.m)._forceRed(this)),C)},A.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},A.prototype.add=function(C,b){this._verify2(C,b);var _=C.add(b);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},A.prototype.iadd=function(C,b){this._verify2(C,b);var _=C.iadd(b);return _.cmp(this.m)>=0&&_.isub(this.m),_},A.prototype.sub=function(C,b){this._verify2(C,b);var _=C.sub(b);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},A.prototype.isub=function(C,b){this._verify2(C,b);var _=C.isub(b);return _.cmpn(0)<0&&_.iadd(this.m),_},A.prototype.shl=function(C,b){return this._verify1(C),this.imod(C.ushln(b))},A.prototype.imul=function(C,b){return this._verify2(C,b),this.imod(C.imul(b))},A.prototype.mul=function(C,b){return this._verify2(C,b),this.imod(C.mul(b))},A.prototype.isqr=function(C){return this.imul(C,C.clone())},A.prototype.sqr=function(C){return this.mul(C,C)},A.prototype.sqrt=function(C){if(C.isZero())return C.clone();var b=this.m.andln(3);if(u(b%2==1),b===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(C,_)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);u(!w.isZero());var N=new s(1).toRed(this),O=N.redNeg(),U=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new s(2*G*G).toRed(this);this.pow(G,U).cmp(O)!==0;)G.redIAdd(O);for(var W=this.pow(G,w),J=this.pow(C,w.addn(1).iushrn(1)),F=this.pow(C,w),Y=S;F.cmp(N)!==0;){for(var j=F,R=0;j.cmp(N)!==0;R++)j=j.redSqr();u(R<Y);var q=this.pow(W,new s(1).iushln(Y-R-1));J=J.redMul(q),W=q.redSqr(),F=F.redMul(W),Y=R}return J},A.prototype.invm=function(C){var b=C._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},A.prototype.pow=function(C,b){if(b.isZero())return new s(1).toRed(this);if(b.cmpn(1)===0)return C.clone();var _=new Array(16);_[0]=new s(1).toRed(this),_[1]=C;for(var w=2;w<_.length;w++)_[w]=this.mul(_[w-1],C);var S=_[0],N=0,O=0,U=b.bitLength()%26;for(U===0&&(U=26),w=b.length-1;w>=0;w--){for(var G=b.words[w],W=U-1;W>=0;W--){var J=G>>W&1;S!==_[0]&&(S=this.sqr(S)),J!==0||N!==0?(N<<=1,N|=J,(++O===4||w===0&&W===0)&&(S=this.mul(S,_[N]),O=0,N=0)):O=0}U=26}return S},A.prototype.convertTo=function(C){var b=C.umod(this.m);return b===C?b.clone():b},A.prototype.convertFrom=function(C){var b=C.clone();return b.red=null,b},s.mont=function(C){return new P(C)},l(P,A),P.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},P.prototype.convertFrom=function(C){var b=this.imod(C.mul(this.rinv));return b.red=null,b},P.prototype.imul=function(C,b){if(C.isZero()||b.isZero())return C.words[0]=0,C.length=1,C;var _=C.imul(b),w=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(w).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},P.prototype.mul=function(C,b){if(C.isZero()||b.isZero())return new s(0)._forceRed(this);var _=C.mul(b),w=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(w).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},P.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],187:[function(t,r,o){var i;function a(l){this.rand=l}if(r.exports=function(l){return i||(i=new a(null)),i.generate(l)},r.exports.Rand=a,a.prototype.generate=function(l){return this._rand(l)},a.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var s=new Uint8Array(l),c=0;c<s.length;c++)s[c]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(l){var s=new Uint8Array(l);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(l){var s=new Uint8Array(l);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var u=t("crypto");if(typeof u.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(l){return u.randomBytes(l)}}catch{}},{crypto:188}],188:[function(t,r,o){},{}],189:[function(t,r,o){var i=t("safe-buffer").Buffer;function a(d){i.isBuffer(d)||(d=i.from(d));for(var f=d.length/4|0,g=new Array(f),y=0;y<f;y++)g[y]=d.readUInt32BE(4*y);return g}function u(d){for(;0<d.length;d++)d[0]=0}function l(d,f,g,y,p){for(var v,m,x,k,I=g[0],D=g[1],V=g[2],L=g[3],z=d[0]^f[0],B=d[1]^f[1],H=d[2]^f[2],$=d[3]^f[3],A=4,P=1;P<p;P++)v=I[z>>>24]^D[B>>>16&255]^V[H>>>8&255]^L[255&$]^f[A++],m=I[B>>>24]^D[H>>>16&255]^V[$>>>8&255]^L[255&z]^f[A++],x=I[H>>>24]^D[$>>>16&255]^V[z>>>8&255]^L[255&B]^f[A++],k=I[$>>>24]^D[z>>>16&255]^V[B>>>8&255]^L[255&H]^f[A++],z=v,B=m,H=x,$=k;return v=(y[z>>>24]<<24|y[B>>>16&255]<<16|y[H>>>8&255]<<8|y[255&$])^f[A++],m=(y[B>>>24]<<24|y[H>>>16&255]<<16|y[$>>>8&255]<<8|y[255&z])^f[A++],x=(y[H>>>24]<<24|y[$>>>16&255]<<16|y[z>>>8&255]<<8|y[255&B])^f[A++],k=(y[$>>>24]<<24|y[z>>>16&255]<<16|y[B>>>8&255]<<8|y[255&H])^f[A++],[v>>>=0,m>>>=0,x>>>=0,k>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var d=new Array(256),f=0;f<256;f++)d[f]=f<128?f<<1:f<<1^283;for(var g=[],y=[],p=[[],[],[],[]],v=[[],[],[],[]],m=0,x=0,k=0;k<256;++k){var I=x^x<<1^x<<2^x<<3^x<<4;I=I>>>8^255&I^99,g[m]=I,y[I]=m;var D=d[m],V=d[D],L=d[V],z=257*d[I]^16843008*I;p[0][m]=z<<24|z>>>8,p[1][m]=z<<16|z>>>16,p[2][m]=z<<8|z>>>24,p[3][m]=z,z=16843009*L^65537*V^257*D^16843008*m,v[0][I]=z<<24|z>>>8,v[1][I]=z<<16|z>>>16,v[2][I]=z<<8|z>>>24,v[3][I]=z,m===0?m=x=1:(m=D^d[d[d[L^D]]],x^=d[d[x]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:p,INV_SUB_MIX:v}}();function h(d){this._key=a(d),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var d=this._key,f=d.length,g=f+6,y=4*(g+1),p=[],v=0;v<f;v++)p[v]=d[v];for(v=f;v<y;v++){var m=p[v-1];v%f==0?(m=m<<8|m>>>24,m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m],m^=s[v/f|0]<<24):f>6&&v%f==4&&(m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m]),p[v]=p[v-f]^m}for(var x=[],k=0;k<y;k++){var I=y-k,D=p[I-(k%4?0:4)];x[k]=k<4||I<=4?D:c.INV_SUB_MIX[0][c.SBOX[D>>>24]]^c.INV_SUB_MIX[1][c.SBOX[D>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[D>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&D]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=x},h.prototype.encryptBlockRaw=function(d){return l(d=a(d),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},h.prototype.encryptBlock=function(d){var f=this.encryptBlockRaw(d),g=i.allocUnsafe(16);return g.writeUInt32BE(f[0],0),g.writeUInt32BE(f[1],4),g.writeUInt32BE(f[2],8),g.writeUInt32BE(f[3],12),g},h.prototype.decryptBlock=function(d){var f=(d=a(d))[1];d[1]=d[3],d[3]=f;var g=l(d,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},h.prototype.scrub=function(){u(this._keySchedule),u(this._invKeySchedule),u(this._key)},r.exports.AES=h},{"safe-buffer":494}],190:[function(t,r,o){var i=t("./aes"),a=t("safe-buffer").Buffer,u=t("cipher-base"),l=t("inherits"),s=t("./ghash"),c=t("buffer-xor"),h=t("./incr32");function d(f,g,y,p){u.call(this);var v=a.alloc(4,0);this._cipher=new i.AES(g);var m=this._cipher.encryptBlock(v);this._ghash=new s(m),y=function(x,k,I){if(k.length===12)return x._finID=a.concat([k,a.from([0,0,0,1])]),a.concat([k,a.from([0,0,0,2])]);var D=new s(I),V=k.length,L=V%16;D.update(k),L&&(L=16-L,D.update(a.alloc(L,0))),D.update(a.alloc(8,0));var z=8*V,B=a.alloc(8);B.writeUIntBE(z,0,8),D.update(B),x._finID=D.state;var H=a.from(x._finID);return h(H),H}(this,y,m),this._prev=a.from(y),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(d,u),d.prototype._update=function(f){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(y),this._len+=f.length,y},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,y){var p=0;g.length!==y.length&&p++;for(var v=Math.min(g.length,y.length),m=0;m<v;++m)p+=g[m]^y[m];return p}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},d.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},r.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,r,o){var i=t("./encrypter"),a=t("./decrypter"),u=t("./modes/list.json");o.createCipher=o.Cipher=i.createCipher,o.createCipheriv=o.Cipheriv=i.createCipheriv,o.createDecipher=o.Decipher=a.createDecipher,o.createDecipheriv=o.Decipheriv=a.createDecipheriv,o.listCiphers=o.getCiphers=function(){return Object.keys(u)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,r,o){var i=t("./authCipher"),a=t("safe-buffer").Buffer,u=t("./modes"),l=t("./streamCipher"),s=t("cipher-base"),c=t("./aes"),h=t("evp_bytestokey");function d(y,p,v){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(p),this._prev=a.from(v),this._mode=y,this._autopadding=!0}function f(){this.cache=a.allocUnsafe(0)}function g(y,p,v){var m=u[y.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),m.mode!=="GCM"&&v.length!==m.iv)throw new TypeError("invalid iv length "+v.length);if(typeof p=="string"&&(p=a.from(p)),p.length!==m.key/8)throw new TypeError("invalid key length "+p.length);return m.type==="stream"?new l(m.module,p,v,!0):m.type==="auth"?new i(m.module,p,v,!0):new d(m.module,p,v)}t("inherits")(d,s),d.prototype._update=function(y){var p,v;this._cache.add(y);for(var m=[];p=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,p),m.push(v);return a.concat(m)},d.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return function(p){var v=p[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var m=-1;++m<v;)if(p[m+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return p.slice(0,16-v)}(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},f.prototype.add=function(y){this.cache=a.concat([this.cache,y])},f.prototype.get=function(y){var p;if(y){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},o.createDecipher=function(y,p){var v=u[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var m=h(p,!1,v.key,v.iv);return g(y,m.key,m.iv)},o.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,r,o){var i=t("./modes"),a=t("./authCipher"),u=t("safe-buffer").Buffer,l=t("./streamCipher"),s=t("cipher-base"),c=t("./aes"),h=t("evp_bytestokey");function d(p,v,m){s.call(this),this._cache=new g,this._cipher=new c.AES(v),this._prev=u.from(m),this._mode=p,this._autopadding=!0}t("inherits")(d,s),d.prototype._update=function(p){var v,m;this._cache.add(p);for(var x=[];v=this._cache.get();)m=this._mode.encrypt(this,v),x.push(m);return u.concat(x)};var f=u.alloc(16,16);function g(){this.cache=u.allocUnsafe(0)}function y(p,v,m){var x=i[p.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=u.from(v)),v.length!==x.key/8)throw new TypeError("invalid key length "+v.length);if(typeof m=="string"&&(m=u.from(m)),x.mode!=="GCM"&&m.length!==x.iv)throw new TypeError("invalid iv length "+m.length);return x.type==="stream"?new l(x.module,v,m):x.type==="auth"?new a(x.module,v,m):new d(x.module,v,m)}d.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=u.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,v=u.allocUnsafe(p),m=-1;++m<p;)v.writeUInt8(p,m);return u.concat([this.cache,v])},o.createCipheriv=y,o.createCipher=function(p,v){var m=i[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var x=h(v,!1,m.key,m.iv);return y(p,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,r,o){var i=t("safe-buffer").Buffer,a=i.alloc(16,0);function u(s){var c=i.allocUnsafe(16);return c.writeUInt32BE(s[0]>>>0,0),c.writeUInt32BE(s[1]>>>0,4),c.writeUInt32BE(s[2]>>>0,8),c.writeUInt32BE(s[3]>>>0,12),c}function l(s){this.h=s,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}l.prototype.ghash=function(s){for(var c=-1;++c<s.length;)this.state[c]^=s[c];this._multiply()},l.prototype._multiply=function(){for(var s,c,h,d=[(s=this.h).readUInt32BE(0),s.readUInt32BE(4),s.readUInt32BE(8),s.readUInt32BE(12)],f=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(f[0]^=d[0],f[1]^=d[1],f[2]^=d[2],f[3]^=d[3]),h=(1&d[3])!=0,c=3;c>0;c--)d[c]=d[c]>>>1|(1&d[c-1])<<31;d[0]=d[0]>>>1,h&&(d[0]=d[0]^225<<24)}this.state=u(f)},l.prototype.update=function(s){var c;for(this.cache=i.concat([this.cache,s]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(s,c){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(u([0,s,0,c])),this.state},r.exports=l},{"safe-buffer":494}],195:[function(t,r,o){r.exports=function(i){for(var a,u=i.length;u--;){if((a=i.readUInt8(u))!==255){a++,i.writeUInt8(a,u);break}i.writeUInt8(0,u)}}},{}],196:[function(t,r,o){var i=t("buffer-xor");o.encrypt=function(a,u){var l=i(u,a._prev);return a._prev=a._cipher.encryptBlock(l),a._prev},o.decrypt=function(a,u){var l=a._prev;a._prev=u;var s=a._cipher.decryptBlock(u);return i(s,l)}},{"buffer-xor":219}],197:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("buffer-xor");function u(l,s,c){var h=s.length,d=a(s,l._cache);return l._cache=l._cache.slice(h),l._prev=i.concat([l._prev,c?s:d]),d}o.encrypt=function(l,s,c){for(var h,d=i.allocUnsafe(0);s.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=i.allocUnsafe(0)),!(l._cache.length<=s.length)){d=i.concat([d,u(l,s,c)]);break}h=l._cache.length,d=i.concat([d,u(l,s.slice(0,h),c)]),s=s.slice(h)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,r,o){var i=t("safe-buffer").Buffer;function a(l,s,c){for(var h,d,f=-1,g=0;++f<8;)h=s&1<<7-f?128:0,g+=(128&(d=l._cipher.encryptBlock(l._prev)[0]^h))>>f%8,l._prev=u(l._prev,c?h:d);return g}function u(l,s){var c=l.length,h=-1,d=i.allocUnsafe(l.length);for(l=i.concat([l,i.from([s])]);++h<c;)d[h]=l[h]<<1|l[h+1]>>7;return d}o.encrypt=function(l,s,c){for(var h=s.length,d=i.allocUnsafe(h),f=-1;++f<h;)d[f]=a(l,s[f],c);return d}},{"safe-buffer":494}],199:[function(t,r,o){var i=t("safe-buffer").Buffer;function a(u,l,s){var c=u._cipher.encryptBlock(u._prev)[0]^l;return u._prev=i.concat([u._prev.slice(1),i.from([s?l:c])]),c}o.encrypt=function(u,l,s){for(var c=l.length,h=i.allocUnsafe(c),d=-1;++d<c;)h[d]=a(u,l[d],s);return h}},{"safe-buffer":494}],200:[function(t,r,o){var i=t("buffer-xor"),a=t("safe-buffer").Buffer,u=t("../incr32");function l(s){var c=s._cipher.encryptBlockRaw(s._prev);return u(s._prev),c}o.encrypt=function(s,c){var h=Math.ceil(c.length/16),d=s._cache.length;s._cache=a.concat([s._cache,a.allocUnsafe(16*h)]);for(var f=0;f<h;f++){var g=l(s),y=d+16*f;s._cache.writeUInt32BE(g[0],y+0),s._cache.writeUInt32BE(g[1],y+4),s._cache.writeUInt32BE(g[2],y+8),s._cache.writeUInt32BE(g[3],y+12)}var p=s._cache.slice(0,c.length);return s._cache=s._cache.slice(c.length),i(c,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,r,o){o.encrypt=function(i,a){return i._cipher.encryptBlock(a)},o.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(t,r,o){var i={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},a=t("./list.json");for(var u in a)a[u].module=i[a[u].mode];r.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,r,o){r.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,r,o){(function(i){(function(){var a=t("buffer-xor");function u(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}o.encrypt=function(l,s){for(;l._cache.length<s.length;)l._cache=i.concat([l._cache,u(l)]);var c=l._cache.slice(0,s.length);return l._cache=l._cache.slice(s.length),a(s,c)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,r,o){var i=t("./aes"),a=t("safe-buffer").Buffer,u=t("cipher-base");function l(s,c,h,d){u.call(this),this._cipher=new i.AES(c),this._prev=a.from(h),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=d,this._mode=s}t("inherits")(l,u),l.prototype._update=function(s){return this._mode.encrypt(this,s,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},r.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,r,o){var i=t("browserify-des"),a=t("browserify-aes/browser"),u=t("browserify-aes/modes"),l=t("browserify-des/modes"),s=t("evp_bytestokey");function c(d,f,g){if(d=d.toLowerCase(),u[d])return a.createCipheriv(d,f,g);if(l[d])return new i({key:f,iv:g,mode:d});throw new TypeError("invalid suite type")}function h(d,f,g){if(d=d.toLowerCase(),u[d])return a.createDecipheriv(d,f,g);if(l[d])return new i({key:f,iv:g,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}o.createCipher=o.Cipher=function(d,f){var g,y;if(d=d.toLowerCase(),u[d])g=u[d].key,y=u[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,y=l[d].iv}var p=s(f,!1,g,y);return c(d,p.key,p.iv)},o.createCipheriv=o.Cipheriv=c,o.createDecipher=o.Decipher=function(d,f){var g,y;if(d=d.toLowerCase(),u[d])g=u[d].key,y=u[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,y=l[d].iv}var p=s(f,!1,g,y);return h(d,p.key,p.iv)},o.createDecipheriv=o.Decipheriv=h,o.listCiphers=o.getCiphers=function(){return Object.keys(l).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,r,o){var i=t("cipher-base"),a=t("des.js"),u=t("inherits"),l=t("safe-buffer").Buffer,s={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function c(h){i.call(this);var d,f=h.mode.toLowerCase(),g=s[f];d=h.decrypt?"decrypt":"encrypt";var y=h.key;l.isBuffer(y)||(y=l.from(y)),f!=="des-ede"&&f!=="des-ede-cbc"||(y=l.concat([y,y.slice(0,8)]));var p=h.iv;l.isBuffer(p)||(p=l.from(p)),this._des=g.create({key:y,iv:p,type:d})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],r.exports=c,u(c,i),c.prototype._update=function(h){return l.from(this._des.update(h))},c.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,r,o){o["des-ecb"]={key:8,iv:0},o["des-cbc"]=o.des={key:8,iv:8},o["des-ede3-cbc"]=o.des3={key:24,iv:8},o["des-ede3"]={key:24,iv:0},o["des-ede-cbc"]={key:16,iv:8},o["des-ede"]={key:16,iv:0}},{}],209:[function(t,r,o){(function(i){(function(){var a=t("bn.js"),u=t("randombytes");function l(c){var h,d=c.modulus.byteLength();do h=new a(u(d));while(h.cmp(c.modulus)>=0||!h.umod(c.prime1)||!h.umod(c.prime2));return h}function s(c,h){var d=function(V){var L=l(V);return{blinder:L.toRed(a.mont(V.modulus)).redPow(new a(V.publicExponent)).fromRed(),unblinder:L.invm(V.modulus)}}(h),f=h.modulus.byteLength(),g=new a(c).mul(d.blinder).umod(h.modulus),y=g.toRed(a.mont(h.prime1)),p=g.toRed(a.mont(h.prime2)),v=h.coefficient,m=h.prime1,x=h.prime2,k=y.redPow(h.exponent1).fromRed(),I=p.redPow(h.exponent2).fromRed(),D=k.isub(I).imul(v).umod(m).imul(x);return I.iadd(D).imul(d.unblinder).umod(h.modulus).toArrayLike(i,"be",f)}s.getr=l,r.exports=s}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,r,o){r.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,r,o){r.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,r,o){r.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("create-hash"),u=t("readable-stream"),l=t("inherits"),s=t("./sign"),c=t("./verify"),h=t("./algorithms.json");function d(p){u.Writable.call(this);var v=h[p];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function f(p){u.Writable.call(this);var v=h[p];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function g(p){return new d(p)}function y(p){return new f(p)}Object.keys(h).forEach(function(p){h[p].id=i.from(h[p].id,"hex"),h[p.toLowerCase()]=h[p]}),l(d,u.Writable),d.prototype._write=function(p,v,m){this._hash.update(p),m()},d.prototype.update=function(p,v){return typeof p=="string"&&(p=i.from(p,v)),this._hash.update(p),this},d.prototype.sign=function(p,v){this.end();var m=this._hash.digest(),x=s(m,p,this._hashType,this._signType,this._tag);return v?x.toString(v):x},l(f,u.Writable),f.prototype._write=function(p,v,m){this._hash.update(p),m()},f.prototype.update=function(p,v){return typeof p=="string"&&(p=i.from(p,v)),this._hash.update(p),this},f.prototype.verify=function(p,v,m){typeof v=="string"&&(v=i.from(v,m)),this.end();var x=this._hash.digest();return c(v,x,p,this._signType,this._tag)},r.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("create-hmac"),u=t("browserify-rsa"),l=t("elliptic").ec,s=t("bn.js"),c=t("parse-asn1"),h=t("./curves.json");function d(p,v,m,x){if((p=i.from(p.toArray())).length<v.byteLength()){var k=i.alloc(v.byteLength()-p.length);p=i.concat([k,p])}var I=m.length,D=function(z,B){z=(z=f(z,B)).mod(B);var H=i.from(z.toArray());if(H.length<B.byteLength()){var $=i.alloc(B.byteLength()-H.length);H=i.concat([$,H])}return H}(m,v),V=i.alloc(I);V.fill(1);var L=i.alloc(I);return L=a(x,L).update(V).update(i.from([0])).update(p).update(D).digest(),V=a(x,L).update(V).digest(),{k:L=a(x,L).update(V).update(i.from([1])).update(p).update(D).digest(),v:V=a(x,L).update(V).digest()}}function f(p,v){var m=new s(p),x=(p.length<<3)-v.bitLength();return x>0&&m.ishrn(x),m}function g(p,v,m){var x,k;do{for(x=i.alloc(0);8*x.length<p.bitLength();)v.v=a(m,v.k).update(v.v).digest(),x=i.concat([x,v.v]);k=f(x,p),v.k=a(m,v.k).update(v.v).update(i.from([0])).digest(),v.v=a(m,v.k).update(v.v).digest()}while(k.cmp(p)!==-1);return k}function y(p,v,m,x){return p.toRed(s.mont(m)).redPow(v).fromRed().mod(x)}r.exports=function(p,v,m,x,k){var I=c(v);if(I.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return function(z,B){var H=h[B.curve.join(".")];if(!H)throw new Error("unknown curve "+B.curve.join("."));var $=new l(H).keyFromPrivate(B.privateKey).sign(z);return i.from($.toDER())}(p,I)}if(I.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return function(z,B,H){for(var $,A=B.params.priv_key,P=B.params.p,C=B.params.q,b=B.params.g,_=new s(0),w=f(z,C).mod(C),S=!1,N=d(A,C,z,H);S===!1;)$=g(C,N,H),_=y(b,$,P,C),(S=$.invm(C).imul(w.add(A.mul(_))).mod(C)).cmpn(0)===0&&(S=!1,_=new s(0));return function(O,U){O=O.toArray(),U=U.toArray(),128&O[0]&&(O=[0].concat(O)),128&U[0]&&(U=[0].concat(U));var G=[48,O.length+U.length+4,2,O.length];return G=G.concat(O,[2,U.length],U),i.from(G)}(_,S)}(p,I,m)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");p=i.concat([k,p]);for(var D=I.modulus.byteLength(),V=[0,1];p.length+V.length+1<D;)V.push(255);V.push(0);for(var L=-1;++L<p.length;)V.push(p[L]);return u(V,I)},r.exports.getKey=d,r.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("bn.js"),u=t("elliptic").ec,l=t("parse-asn1"),s=t("./curves.json");function c(h,d){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(d)>=d)throw new Error("invalid sig")}r.exports=function(h,d,f,g,y){var p=l(f);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(V,L,z){var B=s[z.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+z.data.algorithm.curve.join("."));var H=new u(B),$=z.data.subjectPrivateKey.data;return H.verify(L,V,$)}(h,d,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(V,L,z){var B=z.data.p,H=z.data.q,$=z.data.g,A=z.data.pub_key,P=l.signature.decode(V,"der"),C=P.s,b=P.r;c(C,H),c(b,H);var _=a.mont(B),w=C.invm(H);return $.toRed(_).redPow(new a(L).mul(w).mod(H)).fromRed().mul(A.toRed(_).redPow(b.mul(w).mod(H)).fromRed()).mod(B).mod(H).cmp(b)===0}(h,d,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");d=i.concat([y,d]);for(var v=p.modulus.byteLength(),m=[1],x=0;d.length+m.length+2<v;)m.push(255),x++;m.push(0);for(var k=-1;++k<d.length;)m.push(d[k]);m=i.from(m);var I=a.mont(p.modulus);h=(h=new a(h).toRed(I)).redPow(new a(p.publicExponent)),h=i.from(h.fromRed().toArray());var D=x<8?1:0;for(v=Math.min(h.length,m.length),h.length!==m.length&&(D=1),k=-1;++k<v;)D|=h[k]^m[k];return D===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,r,o){},{}],217:[function(t,r,o){var i=t("buffer"),a=i.Buffer;function u(s,c){for(var h in s)c[h]=s[h]}function l(s,c,h){return a(s,c,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=i:(u(i,o),o.Buffer=l),u(a,l),l.from=function(s,c,h){if(typeof s=="number")throw new TypeError("Argument must not be a number");return a(s,c,h)},l.alloc=function(s,c,h){if(typeof s!="number")throw new TypeError("Argument must be a number");var d=a(s);return c!==void 0?typeof h=="string"?d.fill(c,h):d.fill(c):d.fill(0),d},l.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return a(s)},l.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(s)}},{buffer:220}],218:[function(t,r,o){var i=t("safe-buffer").Buffer,a=i.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(p){var v;switch(this.encoding=function(m){var x=function(k){if(!k)return"utf8";for(var I;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(I)return;k=(""+k).toLowerCase(),I=!0}}(m);if(typeof x!="string"&&(i.isEncoding===a||!a(m)))throw new Error("Unknown encoding: "+m);return x||m}(p),this.encoding){case"utf16le":this.text=c,this.end=h,v=4;break;case"utf8":this.fillLast=s,v=4;break;case"base64":this.text=d,this.end=f,v=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function s(p){var v=this.lastTotal-this.lastNeed,m=function(x,k,I){if((192&k[0])!=128)return x.lastNeed=0,"";if(x.lastNeed>1&&k.length>1){if((192&k[1])!=128)return x.lastNeed=1,"";if(x.lastNeed>2&&k.length>2&&(192&k[2])!=128)return x.lastNeed=2,""}}(this,p);return m!==void 0?m:this.lastNeed<=p.length?(p.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,v,0,p.length),void(this.lastNeed-=p.length))}function c(p,v){if((p.length-v)%2==0){var m=p.toString("utf16le",v);if(m){var x=m.charCodeAt(m.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",v,p.length-1)}function h(p){var v=p&&p.length?this.write(p):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,m)}return v}function d(p,v){var m=(p.length-v)%3;return m===0?p.toString("base64",v):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",v,p.length-m))}function f(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(p){return p.toString(this.encoding)}function y(p){return p&&p.length?this.write(p):""}o.StringDecoder=u,u.prototype.write=function(p){if(p.length===0)return"";var v,m;if(this.lastNeed){if((v=this.fillLast(p))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<p.length?v?v+this.text(p,m):this.text(p,m):v||""},u.prototype.end=function(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+"":v},u.prototype.text=function(p,v){var m=function(k,I,D){var V=I.length-1;if(V<D)return 0;var L=l(I[V]);return L>=0?(L>0&&(k.lastNeed=L-1),L):--V<D||L===-2?0:(L=l(I[V]))>=0?(L>0&&(k.lastNeed=L-2),L):--V<D||L===-2?0:(L=l(I[V]))>=0?(L>0&&(L===2?L=0:k.lastNeed=L-3),L):0}(this,p,v);if(!this.lastNeed)return p.toString("utf8",v);this.lastTotal=m;var x=p.length-(m-this.lastNeed);return p.copy(this.lastChar,0,x),p.toString("utf8",v,x)},u.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(t,r,o){(function(i){(function(){r.exports=function(a,u){for(var l=Math.min(a.length,u.length),s=new i(l),c=0;c<l;++c)s[c]=a[c]^u[c];return s}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,r,o){(function(i){(function(){var a=t("base64-js"),u=t("ieee754");o.Buffer=s,o.SlowBuffer=function(j){return+j!=j&&(j=0),s.alloc(+j)},o.INSPECT_MAX_BYTES=50;function l(j){if(j>2147483647)throw new RangeError('The value "'+j+'" is invalid for option "size"');var R=new Uint8Array(j);return R.__proto__=s.prototype,R}function s(j,R,q){if(typeof j=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(j)}return c(j,R,q)}function c(j,R,q){if(typeof j=="string")return function(X,ee){if(typeof ee=="string"&&ee!==""||(ee="utf8"),!s.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);var ie=0|y(X,ee),ae=l(ie),Z=ae.write(X,ee);return Z!==ie&&(ae=ae.slice(0,Z)),ae}(j,R);if(ArrayBuffer.isView(j))return f(j);if(j==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(F(j,ArrayBuffer)||j&&F(j.buffer,ArrayBuffer))return function(X,ee,ie){if(ee<0||X.byteLength<ee)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<ee+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var ae;return ae=ee===void 0&&ie===void 0?new Uint8Array(X):ie===void 0?new Uint8Array(X,ee):new Uint8Array(X,ee,ie),ae.__proto__=s.prototype,ae}(j,R,q);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var K=j.valueOf&&j.valueOf();if(K!=null&&K!==j)return s.from(K,R,q);var Q=function(X){if(s.isBuffer(X)){var ee=0|g(X.length),ie=l(ee);return ie.length===0||X.copy(ie,0,0,ee),ie}if(X.length!==void 0)return typeof X.length!="number"||Y(X.length)?l(0):f(X);if(X.type==="Buffer"&&Array.isArray(X.data))return f(X.data)}(j);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return s.from(j[Symbol.toPrimitive]("string"),R,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}function h(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function d(j){return h(j),l(j<0?0:0|g(j))}function f(j){for(var R=j.length<0?0:0|g(j.length),q=l(R),K=0;K<R;K+=1)q[K]=255&j[K];return q}function g(j){if(j>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|j}function y(j,R){if(s.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||F(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);var q=j.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&q===0)return 0;for(var Q=!1;;)switch(R){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return G(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return W(j).length;default:if(Q)return K?-1:G(j).length;R=(""+R).toLowerCase(),Q=!0}}function p(j,R,q){var K=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0)<=(R>>>=0))return"";for(j||(j="utf8");;)switch(j){case"hex":return P(this,R,q);case"utf8":case"utf-8":return H(this,R,q);case"ascii":return $(this,R,q);case"latin1":case"binary":return A(this,R,q);case"base64":return B(this,R,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,R,q);default:if(K)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),K=!0}}function v(j,R,q){var K=j[R];j[R]=j[q],j[q]=K}function m(j,R,q,K,Q){if(j.length===0)return-1;if(typeof q=="string"?(K=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),Y(q=+q)&&(q=Q?0:j.length-1),q<0&&(q=j.length+q),q>=j.length){if(Q)return-1;q=j.length-1}else if(q<0){if(!Q)return-1;q=0}if(typeof R=="string"&&(R=s.from(R,K)),s.isBuffer(R))return R.length===0?-1:x(j,R,q,K,Q);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(j,R,q):Uint8Array.prototype.lastIndexOf.call(j,R,q):x(j,[R],q,K,Q);throw new TypeError("val must be string, number or Buffer")}function x(j,R,q,K,Q){var X,ee=1,ie=j.length,ae=R.length;if(K!==void 0&&((K=String(K).toLowerCase())==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(j.length<2||R.length<2)return-1;ee=2,ie/=2,ae/=2,q/=2}function Z(le,de){return ee===1?le[de]:le.readUInt16BE(de*ee)}if(Q){var re=-1;for(X=q;X<ie;X++)if(Z(j,X)===Z(R,re===-1?0:X-re)){if(re===-1&&(re=X),X-re+1===ae)return re*ee}else re!==-1&&(X-=X-re),re=-1}else for(q+ae>ie&&(q=ie-ae),X=q;X>=0;X--){for(var ne=!0,ue=0;ue<ae;ue++)if(Z(j,X+ue)!==Z(R,ue)){ne=!1;break}if(ne)return X}return-1}function k(j,R,q,K){q=Number(q)||0;var Q=j.length-q;K?(K=Number(K))>Q&&(K=Q):K=Q;var X=R.length;K>X/2&&(K=X/2);for(var ee=0;ee<K;++ee){var ie=parseInt(R.substr(2*ee,2),16);if(Y(ie))return ee;j[q+ee]=ie}return ee}function I(j,R,q,K){return J(G(R,j.length-q),j,q,K)}function D(j,R,q,K){return J(function(Q){for(var X=[],ee=0;ee<Q.length;++ee)X.push(255&Q.charCodeAt(ee));return X}(R),j,q,K)}function V(j,R,q,K){return D(j,R,q,K)}function L(j,R,q,K){return J(W(R),j,q,K)}function z(j,R,q,K){return J(function(Q,X){for(var ee,ie,ae,Z=[],re=0;re<Q.length&&!((X-=2)<0);++re)ee=Q.charCodeAt(re),ie=ee>>8,ae=ee%256,Z.push(ae),Z.push(ie);return Z}(R,j.length-q),j,q,K)}function B(j,R,q){return R===0&&q===j.length?a.fromByteArray(j):a.fromByteArray(j.slice(R,q))}function H(j,R,q){q=Math.min(j.length,q);for(var K=[],Q=R;Q<q;){var X,ee,ie,ae,Z=j[Q],re=null,ne=Z>239?4:Z>223?3:Z>191?2:1;if(Q+ne<=q)switch(ne){case 1:Z<128&&(re=Z);break;case 2:(192&(X=j[Q+1]))==128&&(ae=(31&Z)<<6|63&X)>127&&(re=ae);break;case 3:X=j[Q+1],ee=j[Q+2],(192&X)==128&&(192&ee)==128&&(ae=(15&Z)<<12|(63&X)<<6|63&ee)>2047&&(ae<55296||ae>57343)&&(re=ae);break;case 4:X=j[Q+1],ee=j[Q+2],ie=j[Q+3],(192&X)==128&&(192&ee)==128&&(192&ie)==128&&(ae=(15&Z)<<18|(63&X)<<12|(63&ee)<<6|63&ie)>65535&&ae<1114112&&(re=ae)}re===null?(re=65533,ne=1):re>65535&&(re-=65536,K.push(re>>>10&1023|55296),re=56320|1023&re),K.push(re),Q+=ne}return function(ue){var le=ue.length;if(le<=4096)return String.fromCharCode.apply(String,ue);for(var de="",he=0;he<le;)de+=String.fromCharCode.apply(String,ue.slice(he,he+=4096));return de}(K)}o.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{var j=new Uint8Array(1);return j.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},j.foo()===42}catch{return!1}}(),s.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(j,R,q){return c(j,R,q)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(j,R,q){return function(K,Q,X){return h(K),K<=0?l(K):Q!==void 0?typeof X=="string"?l(K).fill(Q,X):l(K).fill(Q):l(K)}(j,R,q)},s.allocUnsafe=function(j){return d(j)},s.allocUnsafeSlow=function(j){return d(j)},s.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==s.prototype},s.compare=function(j,R){if(F(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),F(R,Uint8Array)&&(R=s.from(R,R.offset,R.byteLength)),!s.isBuffer(j)||!s.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===R)return 0;for(var q=j.length,K=R.length,Q=0,X=Math.min(q,K);Q<X;++Q)if(j[Q]!==R[Q]){q=j[Q],K=R[Q];break}return q<K?-1:K<q?1:0},s.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(j,R){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return s.alloc(0);var q;if(R===void 0)for(R=0,q=0;q<j.length;++q)R+=j[q].length;var K=s.allocUnsafe(R),Q=0;for(q=0;q<j.length;++q){var X=j[q];if(F(X,Uint8Array)&&(X=s.from(X)),!s.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(K,Q),Q+=X.length}return K},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<j;R+=2)v(this,R,R+1);return this},s.prototype.swap32=function(){var j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<j;R+=4)v(this,R,R+3),v(this,R+1,R+2);return this},s.prototype.swap64=function(){var j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<j;R+=8)v(this,R,R+7),v(this,R+1,R+6),v(this,R+2,R+5),v(this,R+3,R+4);return this},s.prototype.toString=function(){var j=this.length;return j===0?"":arguments.length===0?H(this,0,j):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(j){if(!s.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j||s.compare(this,j)===0},s.prototype.inspect=function(){var j="",R=o.INSPECT_MAX_BYTES;return j=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(j+=" ... "),"<Buffer "+j+">"},s.prototype.compare=function(j,R,q,K,Q){if(F(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),!s.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(R===void 0&&(R=0),q===void 0&&(q=j?j.length:0),K===void 0&&(K=0),Q===void 0&&(Q=this.length),R<0||q>j.length||K<0||Q>this.length)throw new RangeError("out of range index");if(K>=Q&&R>=q)return 0;if(K>=Q)return-1;if(R>=q)return 1;if(this===j)return 0;for(var X=(Q>>>=0)-(K>>>=0),ee=(q>>>=0)-(R>>>=0),ie=Math.min(X,ee),ae=this.slice(K,Q),Z=j.slice(R,q),re=0;re<ie;++re)if(ae[re]!==Z[re]){X=ae[re],ee=Z[re];break}return X<ee?-1:ee<X?1:0},s.prototype.includes=function(j,R,q){return this.indexOf(j,R,q)!==-1},s.prototype.indexOf=function(j,R,q){return m(this,j,R,q,!0)},s.prototype.lastIndexOf=function(j,R,q){return m(this,j,R,q,!1)},s.prototype.write=function(j,R,q,K){if(R===void 0)K="utf8",q=this.length,R=0;else if(q===void 0&&typeof R=="string")K=R,q=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(q)?(q>>>=0,K===void 0&&(K="utf8")):(K=q,q=void 0)}var Q=this.length-R;if((q===void 0||q>Q)&&(q=Q),j.length>0&&(q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");for(var X=!1;;)switch(K){case"hex":return k(this,j,R,q);case"utf8":case"utf-8":return I(this,j,R,q);case"ascii":return D(this,j,R,q);case"latin1":case"binary":return V(this,j,R,q);case"base64":return L(this,j,R,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,j,R,q);default:if(X)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),X=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(j,R,q){var K="";q=Math.min(j.length,q);for(var Q=R;Q<q;++Q)K+=String.fromCharCode(127&j[Q]);return K}function A(j,R,q){var K="";q=Math.min(j.length,q);for(var Q=R;Q<q;++Q)K+=String.fromCharCode(j[Q]);return K}function P(j,R,q){var K=j.length;(!R||R<0)&&(R=0),(!q||q<0||q>K)&&(q=K);for(var Q="",X=R;X<q;++X)Q+=U(j[X]);return Q}function C(j,R,q){for(var K=j.slice(R,q),Q="",X=0;X<K.length;X+=2)Q+=String.fromCharCode(K[X]+256*K[X+1]);return Q}function b(j,R,q){if(j%1!=0||j<0)throw new RangeError("offset is not uint");if(j+R>q)throw new RangeError("Trying to access beyond buffer length")}function _(j,R,q,K,Q,X){if(!s.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>Q||R<X)throw new RangeError('"value" argument is out of bounds');if(q+K>j.length)throw new RangeError("Index out of range")}function w(j,R,q,K,Q,X){if(q+K>j.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function S(j,R,q,K,Q){return R=+R,q>>>=0,Q||w(j,0,q,4),u.write(j,R,q,K,23,4),q+4}function N(j,R,q,K,Q){return R=+R,q>>>=0,Q||w(j,0,q,8),u.write(j,R,q,K,52,8),q+8}s.prototype.slice=function(j,R){var q=this.length;(j=~~j)<0?(j+=q)<0&&(j=0):j>q&&(j=q),(R=R===void 0?q:~~R)<0?(R+=q)<0&&(R=0):R>q&&(R=q),R<j&&(R=j);var K=this.subarray(j,R);return K.__proto__=s.prototype,K},s.prototype.readUIntLE=function(j,R,q){j>>>=0,R>>>=0,q||b(j,R,this.length);for(var K=this[j],Q=1,X=0;++X<R&&(Q*=256);)K+=this[j+X]*Q;return K},s.prototype.readUIntBE=function(j,R,q){j>>>=0,R>>>=0,q||b(j,R,this.length);for(var K=this[j+--R],Q=1;R>0&&(Q*=256);)K+=this[j+--R]*Q;return K},s.prototype.readUInt8=function(j,R){return j>>>=0,R||b(j,1,this.length),this[j]},s.prototype.readUInt16LE=function(j,R){return j>>>=0,R||b(j,2,this.length),this[j]|this[j+1]<<8},s.prototype.readUInt16BE=function(j,R){return j>>>=0,R||b(j,2,this.length),this[j]<<8|this[j+1]},s.prototype.readUInt32LE=function(j,R){return j>>>=0,R||b(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+16777216*this[j+3]},s.prototype.readUInt32BE=function(j,R){return j>>>=0,R||b(j,4,this.length),16777216*this[j]+(this[j+1]<<16|this[j+2]<<8|this[j+3])},s.prototype.readIntLE=function(j,R,q){j>>>=0,R>>>=0,q||b(j,R,this.length);for(var K=this[j],Q=1,X=0;++X<R&&(Q*=256);)K+=this[j+X]*Q;return K>=(Q*=128)&&(K-=Math.pow(2,8*R)),K},s.prototype.readIntBE=function(j,R,q){j>>>=0,R>>>=0,q||b(j,R,this.length);for(var K=R,Q=1,X=this[j+--K];K>0&&(Q*=256);)X+=this[j+--K]*Q;return X>=(Q*=128)&&(X-=Math.pow(2,8*R)),X},s.prototype.readInt8=function(j,R){return j>>>=0,R||b(j,1,this.length),128&this[j]?-1*(255-this[j]+1):this[j]},s.prototype.readInt16LE=function(j,R){j>>>=0,R||b(j,2,this.length);var q=this[j]|this[j+1]<<8;return 32768&q?4294901760|q:q},s.prototype.readInt16BE=function(j,R){j>>>=0,R||b(j,2,this.length);var q=this[j+1]|this[j]<<8;return 32768&q?4294901760|q:q},s.prototype.readInt32LE=function(j,R){return j>>>=0,R||b(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},s.prototype.readInt32BE=function(j,R){return j>>>=0,R||b(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},s.prototype.readFloatLE=function(j,R){return j>>>=0,R||b(j,4,this.length),u.read(this,j,!0,23,4)},s.prototype.readFloatBE=function(j,R){return j>>>=0,R||b(j,4,this.length),u.read(this,j,!1,23,4)},s.prototype.readDoubleLE=function(j,R){return j>>>=0,R||b(j,8,this.length),u.read(this,j,!0,52,8)},s.prototype.readDoubleBE=function(j,R){return j>>>=0,R||b(j,8,this.length),u.read(this,j,!1,52,8)},s.prototype.writeUIntLE=function(j,R,q,K){j=+j,R>>>=0,q>>>=0,K||_(this,j,R,q,Math.pow(2,8*q)-1,0);var Q=1,X=0;for(this[R]=255&j;++X<q&&(Q*=256);)this[R+X]=j/Q&255;return R+q},s.prototype.writeUIntBE=function(j,R,q,K){j=+j,R>>>=0,q>>>=0,K||_(this,j,R,q,Math.pow(2,8*q)-1,0);var Q=q-1,X=1;for(this[R+Q]=255&j;--Q>=0&&(X*=256);)this[R+Q]=j/X&255;return R+q},s.prototype.writeUInt8=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,1,255,0),this[R]=255&j,R+1},s.prototype.writeUInt16LE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,2,65535,0),this[R]=255&j,this[R+1]=j>>>8,R+2},s.prototype.writeUInt16BE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,2,65535,0),this[R]=j>>>8,this[R+1]=255&j,R+2},s.prototype.writeUInt32LE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,4,4294967295,0),this[R+3]=j>>>24,this[R+2]=j>>>16,this[R+1]=j>>>8,this[R]=255&j,R+4},s.prototype.writeUInt32BE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,4,4294967295,0),this[R]=j>>>24,this[R+1]=j>>>16,this[R+2]=j>>>8,this[R+3]=255&j,R+4},s.prototype.writeIntLE=function(j,R,q,K){if(j=+j,R>>>=0,!K){var Q=Math.pow(2,8*q-1);_(this,j,R,q,Q-1,-Q)}var X=0,ee=1,ie=0;for(this[R]=255&j;++X<q&&(ee*=256);)j<0&&ie===0&&this[R+X-1]!==0&&(ie=1),this[R+X]=(j/ee>>0)-ie&255;return R+q},s.prototype.writeIntBE=function(j,R,q,K){if(j=+j,R>>>=0,!K){var Q=Math.pow(2,8*q-1);_(this,j,R,q,Q-1,-Q)}var X=q-1,ee=1,ie=0;for(this[R+X]=255&j;--X>=0&&(ee*=256);)j<0&&ie===0&&this[R+X+1]!==0&&(ie=1),this[R+X]=(j/ee>>0)-ie&255;return R+q},s.prototype.writeInt8=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,1,127,-128),j<0&&(j=255+j+1),this[R]=255&j,R+1},s.prototype.writeInt16LE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,2,32767,-32768),this[R]=255&j,this[R+1]=j>>>8,R+2},s.prototype.writeInt16BE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,2,32767,-32768),this[R]=j>>>8,this[R+1]=255&j,R+2},s.prototype.writeInt32LE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,4,2147483647,-2147483648),this[R]=255&j,this[R+1]=j>>>8,this[R+2]=j>>>16,this[R+3]=j>>>24,R+4},s.prototype.writeInt32BE=function(j,R,q){return j=+j,R>>>=0,q||_(this,j,R,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[R]=j>>>24,this[R+1]=j>>>16,this[R+2]=j>>>8,this[R+3]=255&j,R+4},s.prototype.writeFloatLE=function(j,R,q){return S(this,j,R,!0,q)},s.prototype.writeFloatBE=function(j,R,q){return S(this,j,R,!1,q)},s.prototype.writeDoubleLE=function(j,R,q){return N(this,j,R,!0,q)},s.prototype.writeDoubleBE=function(j,R,q){return N(this,j,R,!1,q)},s.prototype.copy=function(j,R,q,K){if(!s.isBuffer(j))throw new TypeError("argument should be a Buffer");if(q||(q=0),K||K===0||(K=this.length),R>=j.length&&(R=j.length),R||(R=0),K>0&&K<q&&(K=q),K===q||j.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),j.length-R<K-q&&(K=j.length-R+q);var Q=K-q;if(this===j&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,q,K);else if(this===j&&q<R&&R<K)for(var X=Q-1;X>=0;--X)j[X+R]=this[X+q];else Uint8Array.prototype.set.call(j,this.subarray(q,K),R);return Q},s.prototype.fill=function(j,R,q,K){if(typeof j=="string"){if(typeof R=="string"?(K=R,R=0,q=this.length):typeof q=="string"&&(K=q,q=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!s.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(j.length===1){var Q=j.charCodeAt(0);(K==="utf8"&&Q<128||K==="latin1")&&(j=Q)}}else typeof j=="number"&&(j&=255);if(R<0||this.length<R||this.length<q)throw new RangeError("Out of range index");if(q<=R)return this;var X;if(R>>>=0,q=q===void 0?this.length:q>>>0,j||(j=0),typeof j=="number")for(X=R;X<q;++X)this[X]=j;else{var ee=s.isBuffer(j)?j:s.from(j,K),ie=ee.length;if(ie===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(X=0;X<q-R;++X)this[X+R]=ee[X%ie]}return this};var O=/[^+/0-9A-Za-z-_]/g;function U(j){return j<16?"0"+j.toString(16):j.toString(16)}function G(j,R){var q;R=R||1/0;for(var K=j.length,Q=null,X=[],ee=0;ee<K;++ee){if((q=j.charCodeAt(ee))>55295&&q<57344){if(!Q){if(q>56319){(R-=3)>-1&&X.push(239,191,189);continue}if(ee+1===K){(R-=3)>-1&&X.push(239,191,189);continue}Q=q;continue}if(q<56320){(R-=3)>-1&&X.push(239,191,189),Q=q;continue}q=65536+(Q-55296<<10|q-56320)}else Q&&(R-=3)>-1&&X.push(239,191,189);if(Q=null,q<128){if((R-=1)<0)break;X.push(q)}else if(q<2048){if((R-=2)<0)break;X.push(q>>6|192,63&q|128)}else if(q<65536){if((R-=3)<0)break;X.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;X.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return X}function W(j){return a.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(j))}function J(j,R,q,K){for(var Q=0;Q<K&&!(Q+q>=R.length||Q>=j.length);++Q)R[Q+q]=j[Q];return Q}function F(j,R){return j instanceof R||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===R.name}function Y(j){return j!=j}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("stream").Transform,u=t("string_decoder").StringDecoder;function l(s){a.call(this),this.hashMode=typeof s=="string",this.hashMode?this[s]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(l,a),l.prototype.update=function(s,c,h){typeof s=="string"&&(s=i.from(s,c));var d=this._update(s);return this.hashMode?this:(h&&(d=this._toString(d,h)),d)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(s,c,h){var d;try{this.hashMode?this._update(s):this.push(this._update(s))}catch(f){d=f}finally{h(d)}},l.prototype._flush=function(s){var c;try{this.push(this.__final())}catch(h){c=h}s(c)},l.prototype._finalOrDigest=function(s){var c=this.__final()||i.alloc(0);return s&&(c=this._toString(c,s,!0)),c},l.prototype._toString=function(s,c,h){if(this._decoder||(this._decoder=new u(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var d=this._decoder.write(s);return h&&(d+=this._decoder.end()),d},r.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,r,o){var i=t("../internals/is-callable"),a=t("../internals/try-to-string"),u=TypeError;r.exports=function(l){if(i(l))return l;throw new u(a(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,r,o){var i=t("../internals/is-constructor"),a=t("../internals/try-to-string"),u=TypeError;r.exports=function(l){if(i(l))return l;throw new u(a(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,r,o){var i=t("../internals/is-callable"),a=String,u=TypeError;r.exports=function(l){if(typeof l=="object"||i(l))return l;throw new u("Can't set "+a(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,r,o){var i=t("../internals/well-known-symbol"),a=t("../internals/object-create"),u=t("../internals/object-define-property").f,l=i("unscopables"),s=Array.prototype;s[l]===void 0&&u(s,l,{configurable:!0,value:a(null)}),r.exports=function(c){s[l][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,r,o){var i=t("../internals/object-is-prototype-of"),a=TypeError;r.exports=function(u,l){if(i(l,u))return u;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,r,o){var i=t("../internals/is-object"),a=String,u=TypeError;r.exports=function(l){if(i(l))return l;throw new u(a(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,r,o){var i=t("../internals/to-indexed-object"),a=t("../internals/to-absolute-index"),u=t("../internals/length-of-array-like"),l=function(s){return function(c,h,d){var f,g=i(c),y=u(g),p=a(d,y);if(s&&h!=h){for(;y>p;)if((f=g[p++])!=f)return!0}else for(;y>p;p++)if((s||p in g)&&g[p]===h)return s||p||0;return!s&&-1}};r.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,r,o){var i=t("../internals/function-bind-context"),a=t("../internals/function-uncurry-this"),u=t("../internals/indexed-object"),l=t("../internals/to-object"),s=t("../internals/length-of-array-like"),c=t("../internals/array-species-create"),h=a([].push),d=function(f){var g=f===1,y=f===2,p=f===3,v=f===4,m=f===6,x=f===7,k=f===5||m;return function(I,D,V,L){for(var z,B,H=l(I),$=u(H),A=i(D,V),P=s($),C=0,b=L||c,_=g?b(I,P):y||x?b(I,0):void 0;P>C;C++)if((k||C in $)&&(B=A(z=$[C],C,H),f))if(g)_[C]=B;else if(B)switch(f){case 3:return!0;case 5:return z;case 6:return C;case 2:h(_,z)}else switch(f){case 4:return!1;case 7:h(_,z)}return m?-1:p||v?v:_}};r.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,r,o){var i=t("../internals/to-absolute-index"),a=t("../internals/length-of-array-like"),u=t("../internals/create-property"),l=Array,s=Math.max;r.exports=function(c,h,d){for(var f=a(c),g=i(h,f),y=i(d===void 0?f:d,f),p=l(s(y-g,0)),v=0;g<y;g++,v++)u(p,v,c[g]);return p.length=v,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,r,o){var i=t("../internals/function-uncurry-this");r.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,r,o){var i=t("../internals/is-array"),a=t("../internals/is-constructor"),u=t("../internals/is-object"),l=t("../internals/well-known-symbol")("species"),s=Array;r.exports=function(c){var h;return i(c)&&(h=c.constructor,(a(h)&&(h===s||i(h.prototype))||u(h)&&(h=h[l])===null)&&(h=void 0)),h===void 0?s:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,r,o){var i=t("../internals/array-species-constructor");r.exports=function(a,u){return new(i(a))(u===0?0:u)}},{"../internals/array-species-constructor":232}],234:[function(t,r,o){var i=t("../internals/well-known-symbol")("iterator"),a=!1;try{var u=0,l={next:function(){return{done:!!u++}},return:function(){a=!0}};l[i]=function(){return this},Array.from(l,function(){throw 2})}catch{}r.exports=function(s,c){try{if(!c&&!a)return!1}catch{return!1}var h=!1;try{var d={};d[i]=function(){return{next:function(){return{done:h=!0}}}},s(d)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=i({}.toString),u=i("".slice);r.exports=function(l){return u(a(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,r,o){var i=t("../internals/to-string-tag-support"),a=t("../internals/is-callable"),u=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),s=Object,c=u(function(){return arguments}())==="Arguments";r.exports=i?u:function(h){var d,f,g;return h===void 0?"Undefined":h===null?"Null":typeof(f=function(y,p){try{return y[p]}catch{}}(d=s(h),l))=="string"?f:c?u(d):(g=u(d))==="Object"&&a(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,r,o){var i=t("../internals/has-own-property"),a=t("../internals/own-keys"),u=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-define-property");r.exports=function(s,c,h){for(var d=a(c),f=l.f,g=u.f,y=0;y<d.length;y++){var p=d[y];i(s,p)||h&&i(h,p)||f(s,p,g(c,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,r,o){var i=t("../internals/well-known-symbol")("match");r.exports=function(a){var u=/./;try{"/./"[a](u)}catch{try{return u[i]=!1,"/./"[a](u)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,r,o){var i=t("../internals/fails");r.exports=!i(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":260}],240:[function(t,r,o){r.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");r.exports=i?function(l,s,c){return a.f(l,s,u(1,c))}:function(l,s,c){return l[s]=c,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,r,o){r.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(t,r,o){var i=t("../internals/to-property-key"),a=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");r.exports=function(l,s,c){var h=i(s);h in l?a.f(l,h,u(0,c)):l[h]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,r,o){var i=t("../internals/make-built-in"),a=t("../internals/object-define-property");r.exports=function(u,l,s){return s.get&&i(s.get,l,{getter:!0}),s.set&&i(s.set,l,{setter:!0}),a.f(u,l,s)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,r,o){var i=t("../internals/is-callable"),a=t("../internals/object-define-property"),u=t("../internals/make-built-in"),l=t("../internals/define-global-property");r.exports=function(s,c,h,d){d||(d={});var f=d.enumerable,g=d.name!==void 0?d.name:c;if(i(h)&&u(h,g,d),d.global)f?s[c]=h:l(c,h);else{try{d.unsafe?s[c]&&(f=!0):delete s[c]}catch{}f?s[c]=h:a.f(s,c,{value:h,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return s}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,r,o){var i=t("../internals/global"),a=Object.defineProperty;r.exports=function(u,l){try{a(i,u,{value:l,configurable:!0,writable:!0})}catch{i[u]=l}return l}},{"../internals/global":274}],247:[function(t,r,o){var i=t("../internals/fails");r.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,r,o){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;r.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/is-object"),u=i.document,l=a(u)&&a(u.createElement);r.exports=function(s){return l?u.createElement(s):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,r,o){var i=t("../internals/engine-is-deno"),a=t("../internals/engine-is-node");r.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,r,o){r.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,r,o){var i=t("../internals/engine-user-agent");r.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,r,o){var i=t("../internals/engine-user-agent");r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/classof-raw");r.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,r,o){var i=t("../internals/engine-user-agent");r.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(t,r,o){r.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,r,o){var i,a,u=t("../internals/global"),l=t("../internals/engine-user-agent"),s=u.process,c=u.Deno,h=s&&s.versions||c&&c.version,d=h&&h.v8;d&&(a=(i=d.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&l&&(!(i=l.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=l.match(/Chrome\/(\d+)/))&&(a=+i[1]),r.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,r,o){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/object-get-own-property-descriptor").f,u=t("../internals/create-non-enumerable-property"),l=t("../internals/define-built-in"),s=t("../internals/define-global-property"),c=t("../internals/copy-constructor-properties"),h=t("../internals/is-forced");r.exports=function(d,f){var g,y,p,v,m,x=d.target,k=d.global,I=d.stat;if(g=k?i:I?i[x]||s(x,{}):(i[x]||{}).prototype)for(y in f){if(v=f[y],p=d.dontCallGetSet?(m=a(g,y))&&m.value:g[y],!h(k?y:x+(I?".":"#")+y,d.forced)&&p!==void 0){if(typeof v==typeof p)continue;c(v,p)}(d.sham||p&&p.sham)&&u(v,"sham",!0),l(g,y,v,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,r,o){r.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(t,r,o){var i=t("../internals/function-bind-native"),a=Function.prototype,u=a.apply,l=a.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(i?l.bind(u):function(){return l.apply(u,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,r,o){var i=t("../internals/function-uncurry-this-clause"),a=t("../internals/a-callable"),u=t("../internals/function-bind-native"),l=i(i.bind);r.exports=function(s,c){return a(s),c===void 0?s:u?l(s,c):function(){return s.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,r,o){var i=t("../internals/fails");r.exports=!i(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,r,o){var i=t("../internals/function-bind-native"),a=Function.prototype.call;r.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/has-own-property"),u=Function.prototype,l=i&&Object.getOwnPropertyDescriptor,s=a(u,"name"),c=s&&(function(){}).name==="something",h=s&&(!i||i&&l(u,"name").configurable);r.exports={EXISTS:s,PROPER:c,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/a-callable");r.exports=function(u,l,s){try{return i(a(Object.getOwnPropertyDescriptor(u,l)[s]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,r,o){var i=t("../internals/classof-raw"),a=t("../internals/function-uncurry-this");r.exports=function(u){if(i(u)==="Function")return a(u)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,r,o){var i=t("../internals/function-bind-native"),a=Function.prototype,u=a.call,l=i&&a.bind.bind(u,u);r.exports=i?l:function(s){return function(){return u.apply(s,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/is-callable"),u=function(l){return a(l)?l:void 0};r.exports=function(l,s){return arguments.length<2?u(i[l]):i[l]&&i[l][s]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,r,o){var i=t("../internals/classof"),a=t("../internals/get-method"),u=t("../internals/is-null-or-undefined"),l=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");r.exports=function(c){if(!u(c))return a(c,s)||a(c,"@@iterator")||l[i(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,r,o){var i=t("../internals/function-call"),a=t("../internals/a-callable"),u=t("../internals/an-object"),l=t("../internals/try-to-string"),s=t("../internals/get-iterator-method"),c=TypeError;r.exports=function(h,d){var f=arguments.length<2?s(h):d;if(a(f))return u(i(f,h));throw new c(l(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/is-array"),u=t("../internals/is-callable"),l=t("../internals/classof-raw"),s=t("../internals/to-string"),c=i([].push);r.exports=function(h){if(u(h))return h;if(a(h)){for(var d=h.length,f=[],g=0;g<d;g++){var y=h[g];typeof y=="string"?c(f,y):typeof y!="number"&&l(y)!=="Number"&&l(y)!=="String"||c(f,s(y))}var p=f.length,v=!0;return function(m,x){if(v)return v=!1,x;if(a(this))return x;for(var k=0;k<p;k++)if(f[k]===m)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,r,o){var i=t("../internals/a-callable"),a=t("../internals/is-null-or-undefined");r.exports=function(u,l){var s=u[l];return a(s)?void 0:i(s)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,r,o){(function(i){(function(){var a=function(u){return u&&u.Math===Math&&u};r.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/to-object"),u=i({}.hasOwnProperty);r.exports=Object.hasOwn||function(l,s){return u(a(l),s)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,r,o){r.exports={}},{}],277:[function(t,r,o){r.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(t,r,o){var i=t("../internals/get-built-in");r.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/fails"),u=t("../internals/document-create-element");r.exports=!i&&!a(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),u=t("../internals/classof-raw"),l=Object,s=i("".split);r.exports=a(function(){return!l("z").propertyIsEnumerable(0)})?function(c){return u(c)==="String"?s(c,""):l(c)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/is-callable"),u=t("../internals/shared-store"),l=i(Function.toString);a(u.inspectSource)||(u.inspectSource=function(s){return l(s)}),r.exports=u.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,r,o){var i,a,u,l=t("../internals/weak-map-basic-detection"),s=t("../internals/global"),c=t("../internals/is-object"),h=t("../internals/create-non-enumerable-property"),d=t("../internals/has-own-property"),f=t("../internals/shared-store"),g=t("../internals/shared-key"),y=t("../internals/hidden-keys"),p=s.TypeError,v=s.WeakMap;if(l||f.state){var m=f.state||(f.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,i=function(k,I){if(m.has(k))throw new p("Object already initialized");return I.facade=k,m.set(k,I),I},a=function(k){return m.get(k)||{}},u=function(k){return m.has(k)}}else{var x=g("state");y[x]=!0,i=function(k,I){if(d(k,x))throw new p("Object already initialized");return I.facade=k,h(k,x,I),I},a=function(k){return d(k,x)?k[x]:{}},u=function(k){return d(k,x)}}r.exports={set:i,get:a,has:u,enforce:function(k){return u(k)?a(k):i(k,{})},getterFor:function(k){return function(I){var D;if(!c(I)||(D=a(I)).type!==k)throw new p("Incompatible receiver, "+k+" required");return D}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,r,o){var i=t("../internals/well-known-symbol"),a=t("../internals/iterators"),u=i("iterator"),l=Array.prototype;r.exports=function(s){return s!==void 0&&(a.Array===s||l[u]===s)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,r,o){var i=t("../internals/classof-raw");r.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,r,o){var i=t("../internals/document-all"),a=i.all;r.exports=i.IS_HTMLDDA?function(u){return typeof u=="function"||u===a}:function(u){return typeof u=="function"}},{"../internals/document-all":248}],286:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),u=t("../internals/is-callable"),l=t("../internals/classof"),s=t("../internals/get-built-in"),c=t("../internals/inspect-source"),h=function(){},d=[],f=s("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=i(g.exec),p=!g.test(h),v=function(x){if(!u(x))return!1;try{return f(h,d,x),!0}catch{return!1}},m=function(x){if(!u(x))return!1;switch(l(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!y(g,c(x))}catch{return!0}};m.sham=!0,r.exports=!f||a(function(){var x;return v(v.call)||!v(Object)||!v(function(){x=!0})||x})?m:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,r,o){var i=t("../internals/fails"),a=t("../internals/is-callable"),u=/#|\.prototype\./,l=function(f,g){var y=c[s(f)];return y===d||y!==h&&(a(g)?i(g):!!g)},s=l.normalize=function(f){return String(f).replace(u,".").toLowerCase()},c=l.data={},h=l.NATIVE="N",d=l.POLYFILL="P";r.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,r,o){r.exports=function(i){return i==null}},{}],289:[function(t,r,o){var i=t("../internals/is-callable"),a=t("../internals/document-all"),u=a.all;r.exports=a.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:i(l)||l===u}:function(l){return typeof l=="object"?l!==null:i(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,r,o){r.exports=!1},{}],291:[function(t,r,o){var i=t("../internals/is-object"),a=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("match");r.exports=function(l){var s;return i(l)&&((s=l[u])!==void 0?!!s:a(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,r,o){var i=t("../internals/get-built-in"),a=t("../internals/is-callable"),u=t("../internals/object-is-prototype-of"),l=t("../internals/use-symbol-as-uid"),s=Object;r.exports=l?function(c){return typeof c=="symbol"}:function(c){var h=i("Symbol");return a(h)&&u(h.prototype,s(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,r,o){var i=t("../internals/function-bind-context"),a=t("../internals/function-call"),u=t("../internals/an-object"),l=t("../internals/try-to-string"),s=t("../internals/is-array-iterator-method"),c=t("../internals/length-of-array-like"),h=t("../internals/object-is-prototype-of"),d=t("../internals/get-iterator"),f=t("../internals/get-iterator-method"),g=t("../internals/iterator-close"),y=TypeError,p=function(m,x){this.stopped=m,this.result=x},v=p.prototype;r.exports=function(m,x,k){var I,D,V,L,z,B,H,$=k&&k.that,A=!(!k||!k.AS_ENTRIES),P=!(!k||!k.IS_RECORD),C=!(!k||!k.IS_ITERATOR),b=!(!k||!k.INTERRUPTED),_=i(x,$),w=function(N){return I&&g(I,"normal",N),new p(!0,N)},S=function(N){return A?(u(N),b?_(N[0],N[1],w):_(N[0],N[1])):b?_(N,w):_(N)};if(P)I=m.iterator;else if(C)I=m;else{if(!(D=f(m)))throw new y(l(m)+" is not iterable");if(s(D)){for(V=0,L=c(m);L>V;V++)if((z=S(m[V]))&&h(v,z))return z;return new p(!1)}I=d(m,D)}for(B=P?m.next:I.next;!(H=a(B,I)).done;){try{z=S(H.value)}catch(N){g(I,"throw",N)}if(typeof z=="object"&&z&&h(v,z))return z}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,r,o){var i=t("../internals/function-call"),a=t("../internals/an-object"),u=t("../internals/get-method");r.exports=function(l,s,c){var h,d;a(l);try{if(!(h=u(l,"return"))){if(s==="throw")throw c;return c}h=i(h,l)}catch(f){d=!0,h=f}if(s==="throw")throw c;if(d)throw h;return a(h),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,r,o){var i=t("../internals/iterators-core").IteratorPrototype,a=t("../internals/object-create"),u=t("../internals/create-property-descriptor"),l=t("../internals/set-to-string-tag"),s=t("../internals/iterators"),c=function(){return this};r.exports=function(h,d,f,g){var y=d+" Iterator";return h.prototype=a(i,{next:u(+!g,f)}),l(h,y,!1,!0),s[y]=c,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/function-call"),u=t("../internals/is-pure"),l=t("../internals/function-name"),s=t("../internals/is-callable"),c=t("../internals/iterator-create-constructor"),h=t("../internals/object-get-prototype-of"),d=t("../internals/object-set-prototype-of"),f=t("../internals/set-to-string-tag"),g=t("../internals/create-non-enumerable-property"),y=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),v=t("../internals/iterators"),m=t("../internals/iterators-core"),x=l.PROPER,k=l.CONFIGURABLE,I=m.IteratorPrototype,D=m.BUGGY_SAFARI_ITERATORS,V=p("iterator"),L=function(){return this};r.exports=function(z,B,H,$,A,P,C){c(H,B,$);var b,_,w,S=function(F){if(F===A&&W)return W;if(!D&&F&&F in U)return U[F];switch(F){case"keys":case"values":case"entries":return function(){return new H(this,F)}}return function(){return new H(this)}},N=B+" Iterator",O=!1,U=z.prototype,G=U[V]||U["@@iterator"]||A&&U[A],W=!D&&G||S(A),J=B==="Array"&&U.entries||G;if(J&&(b=h(J.call(new z)))!==Object.prototype&&b.next&&(u||h(b)===I||(d?d(b,I):s(b[V])||y(b,V,L)),f(b,N,!0,!0),u&&(v[N]=L)),x&&A==="values"&&G&&G.name!=="values"&&(!u&&k?g(U,"name","values"):(O=!0,W=function(){return a(G,this)})),A)if(_={values:S("values"),keys:P?W:S("keys"),entries:S("entries")},C)for(w in _)(D||O||!(w in U))&&y(U,w,_[w]);else i({target:B,proto:!0,forced:D||O},_);return u&&!C||U[V]===W||y(U,V,W,{name:A}),v[B]=W,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,r,o){var i,a,u,l=t("../internals/fails"),s=t("../internals/is-callable"),c=t("../internals/is-object"),h=t("../internals/object-create"),d=t("../internals/object-get-prototype-of"),f=t("../internals/define-built-in"),g=t("../internals/well-known-symbol"),y=t("../internals/is-pure"),p=g("iterator"),v=!1;[].keys&&("next"in(u=[].keys())?(a=d(d(u)))!==Object.prototype&&(i=a):v=!0),!c(i)||l(function(){var m={};return i[p].call(m)!==m})?i={}:y&&(i=h(i)),s(i[p])||f(i,p,function(){return this}),r.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,r,o){arguments[4][276][0].apply(o,arguments)},{dup:276}],299:[function(t,r,o){var i=t("../internals/to-length");r.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),u=t("../internals/is-callable"),l=t("../internals/has-own-property"),s=t("../internals/descriptors"),c=t("../internals/function-name").CONFIGURABLE,h=t("../internals/inspect-source"),d=t("../internals/internal-state"),f=d.enforce,g=d.get,y=String,p=Object.defineProperty,v=i("".slice),m=i("".replace),x=i([].join),k=s&&!a(function(){return p(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),D=r.exports=function(V,L,z){v(y(L),0,7)==="Symbol("&&(L="["+m(y(L),/^Symbol\(([^)]*)\)/,"$1")+"]"),z&&z.getter&&(L="get "+L),z&&z.setter&&(L="set "+L),(!l(V,"name")||c&&V.name!==L)&&(s?p(V,"name",{value:L,configurable:!0}):V.name=L),k&&z&&l(z,"arity")&&V.length!==z.arity&&p(V,"length",{value:z.arity});try{z&&l(z,"constructor")&&z.constructor?s&&p(V,"prototype",{writable:!1}):V.prototype&&(V.prototype=void 0)}catch{}var B=f(V);return l(B,"source")||(B.source=x(I,typeof L=="string"?L:"")),V};Function.prototype.toString=D(function(){return u(this)&&g(this).source||h(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,r,o){var i=Math.ceil,a=Math.floor;r.exports=Math.trunc||function(u){var l=+u;return(l>0?a:i)(l)}},{}],302:[function(t,r,o){var i,a,u,l,s,c=t("../internals/global"),h=t("../internals/function-bind-context"),d=t("../internals/object-get-own-property-descriptor").f,f=t("../internals/task").set,g=t("../internals/queue"),y=t("../internals/engine-is-ios"),p=t("../internals/engine-is-ios-pebble"),v=t("../internals/engine-is-webos-webkit"),m=t("../internals/engine-is-node"),x=c.MutationObserver||c.WebKitMutationObserver,k=c.document,I=c.process,D=c.Promise,V=d(c,"queueMicrotask"),L=V&&V.value;if(!L){var z=new g,B=function(){var H,$;for(m&&(H=I.domain)&&H.exit();$=z.get();)try{$()}catch(A){throw z.head&&i(),A}H&&H.enter()};y||m||v||!x||!k?!p&&D&&D.resolve?((l=D.resolve(void 0)).constructor=D,s=h(l.then,l),i=function(){s(B)}):m?i=function(){I.nextTick(B)}:(f=h(f,c),i=function(){f(B)}):(a=!0,u=k.createTextNode(""),new x(B).observe(u,{characterData:!0}),i=function(){u.data=a=!a}),L=function(H){z.head||i(),z.add(H)}}r.exports=L},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,r,o){var i=t("../internals/a-callable"),a=TypeError,u=function(l){var s,c;this.promise=new l(function(h,d){if(s!==void 0||c!==void 0)throw new a("Bad Promise constructor");s=h,c=d}),this.resolve=i(s),this.reject=i(c)};r.exports.f=function(l){return new u(l)}},{"../internals/a-callable":222}],304:[function(t,r,o){var i=t("../internals/is-regexp"),a=TypeError;r.exports=function(u){if(i(u))throw new a("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":291}],305:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/function-uncurry-this"),u=t("../internals/function-call"),l=t("../internals/fails"),s=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),h=t("../internals/object-property-is-enumerable"),d=t("../internals/to-object"),f=t("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,p=a([].concat);r.exports=!g||l(function(){if(i&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},m={},x=Symbol("assign detection");return v[x]=7,"abcdefghijklmnopqrst".split("").forEach(function(k){m[k]=k}),g({},v)[x]!==7||s(g({},m)).join("")!=="abcdefghijklmnopqrst"})?function(v,m){for(var x=d(v),k=arguments.length,I=1,D=c.f,V=h.f;k>I;)for(var L,z=f(arguments[I++]),B=D?p(s(z),D(z)):s(z),H=B.length,$=0;H>$;)L=B[$++],i&&!u(V,z,L)||(x[L]=z[L]);return x}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,r,o){var i,a=t("../internals/an-object"),u=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),s=t("../internals/hidden-keys"),c=t("../internals/html"),h=t("../internals/document-create-element"),d=t("../internals/shared-key"),f=d("IE_PROTO"),g=function(){},y=function(m){return"<script>"+m+"<\/script>"},p=function(m){m.write(y("")),m.close();var x=m.parentWindow.Object;return m=null,x},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var m,x;v=typeof document<"u"?document.domain&&i?p(i):((x=h("iframe")).style.display="none",c.appendChild(x),x.src="javascript:",(m=x.contentWindow.document).open(),m.write(y("document.F=Object")),m.close(),m.F):p(i);for(var k=l.length;k--;)delete v.prototype[l[k]];return v()};s[f]=!0,r.exports=Object.create||function(m,x){var k;return m!==null?(g.prototype=a(m),k=new g,g.prototype=null,k[f]=m):k=v(),x===void 0?k:u.f(k,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/v8-prototype-define-bug"),u=t("../internals/object-define-property"),l=t("../internals/an-object"),s=t("../internals/to-indexed-object"),c=t("../internals/object-keys");o.f=i&&!a?Object.defineProperties:function(h,d){l(h);for(var f,g=s(d),y=c(d),p=y.length,v=0;p>v;)u.f(h,f=y[v++],g[f]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/ie8-dom-define"),u=t("../internals/v8-prototype-define-bug"),l=t("../internals/an-object"),s=t("../internals/to-property-key"),c=TypeError,h=Object.defineProperty,d=Object.getOwnPropertyDescriptor;o.f=i?u?function(f,g,y){if(l(f),g=s(g),l(y),typeof f=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var p=d(f,g);p&&p.writable&&(f[g]=y.value,y={configurable:"configurable"in y?y.configurable:p.configurable,enumerable:"enumerable"in y?y.enumerable:p.enumerable,writable:!1})}return h(f,g,y)}:h:function(f,g,y){if(l(f),g=s(g),l(y),a)try{return h(f,g,y)}catch{}if("get"in y||"set"in y)throw new c("Accessors not supported");return"value"in y&&(f[g]=y.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/function-call"),u=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),s=t("../internals/to-indexed-object"),c=t("../internals/to-property-key"),h=t("../internals/has-own-property"),d=t("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;o.f=i?f:function(g,y){if(g=s(g),y=c(y),d)try{return f(g,y)}catch{}if(h(g,y))return l(!a(u.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,r,o){var i=t("../internals/classof-raw"),a=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,l=t("../internals/array-slice-simple"),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(c){return s&&i(c)==="Window"?function(h){try{return u(h)}catch{return l(s)}}(c):u(a(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,r,o){var i=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys").concat("length","prototype");o.f=Object.getOwnPropertyNames||function(u){return i(u,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,r,o){o.f=Object.getOwnPropertySymbols},{}],313:[function(t,r,o){var i=t("../internals/has-own-property"),a=t("../internals/is-callable"),u=t("../internals/to-object"),l=t("../internals/shared-key"),s=t("../internals/correct-prototype-getter"),c=l("IE_PROTO"),h=Object,d=h.prototype;r.exports=s?h.getPrototypeOf:function(f){var g=u(f);if(i(g,c))return g[c];var y=g.constructor;return a(y)&&g instanceof y?y.prototype:g instanceof h?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,r,o){var i=t("../internals/function-uncurry-this");r.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=t("../internals/has-own-property"),u=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,s=t("../internals/hidden-keys"),c=i([].push);r.exports=function(h,d){var f,g=u(h),y=0,p=[];for(f in g)!a(s,f)&&a(g,f)&&c(p,f);for(;d.length>y;)a(g,f=d[y++])&&(~l(p,f)||c(p,f));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,r,o){var i=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys");r.exports=Object.keys||function(u){return i(u,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,r,o){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,u=a&&!i.call({1:2},1);o.f=u?function(l){var s=a(this,l);return!!s&&s.enumerable}:i},{}],318:[function(t,r,o){var i=t("../internals/function-uncurry-this-accessor"),a=t("../internals/an-object"),u=t("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,s=!1,c={};try{(l=i(Object.prototype,"__proto__","set"))(c,[]),s=c instanceof Array}catch{}return function(h,d){return a(h),u(d),s?l(h,d):h.__proto__=d,h}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/fails"),u=t("../internals/function-uncurry-this"),l=t("../internals/object-get-prototype-of"),s=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),h=u(t("../internals/object-property-is-enumerable").f),d=u([].push),f=i&&a(function(){var y=Object.create(null);return y[2]=2,!h(y,2)}),g=function(y){return function(p){for(var v,m=c(p),x=s(m),k=f&&l(m)===null,I=x.length,D=0,V=[];I>D;)v=x[D++],i&&!(k?v in m:h(m,v))||d(V,y?[v,m[v]]:m[v]);return V}};r.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,r,o){var i=t("../internals/function-call"),a=t("../internals/is-callable"),u=t("../internals/is-object"),l=TypeError;r.exports=function(s,c){var h,d;if(c==="string"&&a(h=s.toString)&&!u(d=i(h,s))||a(h=s.valueOf)&&!u(d=i(h,s))||c!=="string"&&a(h=s.toString)&&!u(d=i(h,s)))return d;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,r,o){var i=t("../internals/get-built-in"),a=t("../internals/function-uncurry-this"),u=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),s=t("../internals/an-object"),c=a([].concat);r.exports=i("Reflect","ownKeys")||function(h){var d=u.f(s(h)),f=l.f;return f?c(d,f(h)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,r,o){var i=t("../internals/global");r.exports=i},{"../internals/global":274}],323:[function(t,r,o){r.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/promise-native-constructor"),u=t("../internals/is-callable"),l=t("../internals/is-forced"),s=t("../internals/inspect-source"),c=t("../internals/well-known-symbol"),h=t("../internals/engine-is-browser"),d=t("../internals/engine-is-deno"),f=t("../internals/is-pure"),g=t("../internals/engine-v8-version"),y=a&&a.prototype,p=c("species"),v=!1,m=u(i.PromiseRejectionEvent),x=l("Promise",function(){var k=s(a),I=k!==String(a);if(!I&&g===66||f&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(k)){var D=new a(function(L){L(1)}),V=function(L){L(function(){},function(){})};if((D.constructor={})[p]=V,!(v=D.then(function(){})instanceof V))return!0}return!I&&(h||d)&&!m});r.exports={CONSTRUCTOR:x,REJECTION_EVENT:m,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,r,o){var i=t("../internals/global");r.exports=i.Promise},{"../internals/global":274}],326:[function(t,r,o){var i=t("../internals/an-object"),a=t("../internals/is-object"),u=t("../internals/new-promise-capability");r.exports=function(l,s){if(i(l),a(s)&&s.constructor===l)return s;var c=u.f(l);return(0,c.resolve)(s),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,r,o){var i=t("../internals/promise-native-constructor"),a=t("../internals/check-correctness-of-iteration"),u=t("../internals/promise-constructor-detection").CONSTRUCTOR;r.exports=u||!a(function(l){i.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,r,o){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var u={item:a,next:null},l=this.tail;l?l.next=u:this.head=u,this.tail=u},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},r.exports=i},{}],329:[function(t,r,o){var i=t("../internals/is-null-or-undefined"),a=TypeError;r.exports=function(u){if(i(u))throw new a("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":288}],330:[function(t,r,o){var i=t("../internals/get-built-in"),a=t("../internals/define-built-in-accessor"),u=t("../internals/well-known-symbol"),l=t("../internals/descriptors"),s=u("species");r.exports=function(c){var h=i(c);l&&h&&!h[s]&&a(h,s,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,r,o){var i=t("../internals/object-define-property").f,a=t("../internals/has-own-property"),u=t("../internals/well-known-symbol")("toStringTag");r.exports=function(l,s,c){l&&!c&&(l=l.prototype),l&&!a(l,u)&&i(l,u,{configurable:!0,value:s})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,r,o){var i=t("../internals/shared"),a=t("../internals/uid"),u=i("keys");r.exports=function(l){return u[l]||(u[l]=a(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/define-global-property"),u=i["__core-js_shared__"]||a("__core-js_shared__",{});r.exports=u},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,r,o){var i=t("../internals/is-pure"),a=t("../internals/shared-store");(r.exports=function(u,l){return a[u]||(a[u]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,r,o){var i=t("../internals/an-object"),a=t("../internals/a-constructor"),u=t("../internals/is-null-or-undefined"),l=t("../internals/well-known-symbol")("species");r.exports=function(s,c){var h,d=i(s).constructor;return d===void 0||u(h=i(d)[l])?c:a(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,r,o){var i=t("../internals/engine-v8-version"),a=t("../internals/fails"),u=t("../internals/global").String;r.exports=!!Object.getOwnPropertySymbols&&!a(function(){var l=Symbol("symbol detection");return!u(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,r,o){var i=t("../internals/function-call"),a=t("../internals/get-built-in"),u=t("../internals/well-known-symbol"),l=t("../internals/define-built-in");r.exports=function(){var s=a("Symbol"),c=s&&s.prototype,h=c&&c.valueOf,d=u("toPrimitive");c&&!c[d]&&l(c,d,function(f){return i(h,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,r,o){var i=t("../internals/symbol-constructor-detection");r.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,r,o){var i,a,u,l,s=t("../internals/global"),c=t("../internals/function-apply"),h=t("../internals/function-bind-context"),d=t("../internals/is-callable"),f=t("../internals/has-own-property"),g=t("../internals/fails"),y=t("../internals/html"),p=t("../internals/array-slice"),v=t("../internals/document-create-element"),m=t("../internals/validate-arguments-length"),x=t("../internals/engine-is-ios"),k=t("../internals/engine-is-node"),I=s.setImmediate,D=s.clearImmediate,V=s.process,L=s.Dispatch,z=s.Function,B=s.MessageChannel,H=s.String,$=0,A={};g(function(){i=s.location});var P=function(w){if(f(A,w)){var S=A[w];delete A[w],S()}},C=function(w){return function(){P(w)}},b=function(w){P(w.data)},_=function(w){s.postMessage(H(w),i.protocol+"//"+i.host)};I&&D||(I=function(w){m(arguments.length,1);var S=d(w)?w:z(w),N=p(arguments,1);return A[++$]=function(){c(S,void 0,N)},a($),$},D=function(w){delete A[w]},k?a=function(w){V.nextTick(C(w))}:L&&L.now?a=function(w){L.now(C(w))}:B&&!x?(l=(u=new B).port2,u.port1.onmessage=b,a=h(l.postMessage,l)):s.addEventListener&&d(s.postMessage)&&!s.importScripts&&i&&i.protocol!=="file:"&&!g(_)?(a=_,s.addEventListener("message",b,!1)):a="onreadystatechange"in v("script")?function(w){y.appendChild(v("script")).onreadystatechange=function(){y.removeChild(this),P(w)}}:function(w){setTimeout(C(w),0)}),r.exports={set:I,clear:D}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,r,o){var i=t("../internals/to-integer-or-infinity"),a=Math.max,u=Math.min;r.exports=function(l,s){var c=i(l);return c<0?a(c+s,0):u(c,s)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,r,o){var i=t("../internals/indexed-object"),a=t("../internals/require-object-coercible");r.exports=function(u){return i(a(u))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,r,o){var i=t("../internals/math-trunc");r.exports=function(a){var u=+a;return u!=u||u===0?0:i(u)}},{"../internals/math-trunc":301}],343:[function(t,r,o){var i=t("../internals/to-integer-or-infinity"),a=Math.min;r.exports=function(u){return u>0?a(i(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,r,o){var i=t("../internals/require-object-coercible"),a=Object;r.exports=function(u){return a(i(u))}},{"../internals/require-object-coercible":329}],345:[function(t,r,o){var i=t("../internals/function-call"),a=t("../internals/is-object"),u=t("../internals/is-symbol"),l=t("../internals/get-method"),s=t("../internals/ordinary-to-primitive"),c=t("../internals/well-known-symbol"),h=TypeError,d=c("toPrimitive");r.exports=function(f,g){if(!a(f)||u(f))return f;var y,p=l(f,d);if(p){if(g===void 0&&(g="default"),y=i(p,f,g),!a(y)||u(y))return y;throw new h("Can't convert object to primitive value")}return g===void 0&&(g="number"),s(f,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,r,o){var i=t("../internals/to-primitive"),a=t("../internals/is-symbol");r.exports=function(u){var l=i(u,"string");return a(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,r,o){var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,r,o){var i=t("../internals/classof"),a=String;r.exports=function(u){if(i(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(u)}},{"../internals/classof":236}],349:[function(t,r,o){var i=String;r.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(t,r,o){var i=t("../internals/function-uncurry-this"),a=0,u=Math.random(),l=i(1 .toString);r.exports=function(s){return"Symbol("+(s===void 0?"":s)+")_"+l(++a+u,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,r,o){var i=t("../internals/symbol-constructor-detection");r.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,r,o){var i=t("../internals/descriptors"),a=t("../internals/fails");r.exports=i&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,r,o){var i=TypeError;r.exports=function(a,u){if(a<u)throw new i("Not enough arguments");return a}},{}],354:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/is-callable"),u=i.WeakMap;r.exports=a(u)&&/native code/.test(String(u))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,r,o){var i=t("../internals/path"),a=t("../internals/has-own-property"),u=t("../internals/well-known-symbol-wrapped"),l=t("../internals/object-define-property").f;r.exports=function(s){var c=i.Symbol||(i.Symbol={});a(c,s)||l(c,s,{value:u.f(s)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,r,o){var i=t("../internals/well-known-symbol");o.f=i},{"../internals/well-known-symbol":357}],357:[function(t,r,o){var i=t("../internals/global"),a=t("../internals/shared"),u=t("../internals/has-own-property"),l=t("../internals/uid"),s=t("../internals/symbol-constructor-detection"),c=t("../internals/use-symbol-as-uid"),h=i.Symbol,d=a("wks"),f=c?h.for||h:h&&h.withoutSetter||l;r.exports=function(g){return u(d,g)||(d[g]=s&&u(h,g)?h[g]:f("Symbol."+g)),d[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/array-iteration").findIndex,u=t("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),i({target:"Array",proto:!0,forced:l},{findIndex:function(s){return a(this,s,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/array-iteration").find,u=t("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),i({target:"Array",proto:!0,forced:l},{find:function(s){return a(this,s,arguments.length>1?arguments[1]:void 0)}}),u("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/array-includes").includes,u=t("../internals/fails"),l=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(s){return a(this,s,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,r,o){var i=t("../internals/to-indexed-object"),a=t("../internals/add-to-unscopables"),u=t("../internals/iterators"),l=t("../internals/internal-state"),s=t("../internals/object-define-property").f,c=t("../internals/iterator-define"),h=t("../internals/create-iter-result-object"),d=t("../internals/is-pure"),f=t("../internals/descriptors"),g=l.set,y=l.getterFor("Array Iterator");r.exports=c(Array,"Array",function(v,m){g(this,{type:"Array Iterator",target:i(v),index:0,kind:m})},function(){var v=y(this),m=v.target,x=v.kind,k=v.index++;if(!m||k>=m.length)return v.target=void 0,h(void 0,!0);switch(x){case"keys":return h(k,!1);case"values":return h(m[k],!1)}return h([k,m[k]],!1)},"values");var p=u.Arguments=u.Array;if(a("keys"),a("values"),a("entries"),!d&&f&&p.name!=="values")try{s(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/get-built-in"),u=t("../internals/function-apply"),l=t("../internals/function-call"),s=t("../internals/function-uncurry-this"),c=t("../internals/fails"),h=t("../internals/is-callable"),d=t("../internals/is-symbol"),f=t("../internals/array-slice"),g=t("../internals/get-json-replacer-function"),y=t("../internals/symbol-constructor-detection"),p=String,v=a("JSON","stringify"),m=s(/./.exec),x=s("".charAt),k=s("".charCodeAt),I=s("".replace),D=s(1 .toString),V=/[\uD800-\uDFFF]/g,L=/^[\uD800-\uDBFF]$/,z=/^[\uDC00-\uDFFF]$/,B=!y||c(function(){var P=a("Symbol")("stringify detection");return v([P])!=="[null]"||v({a:P})!=="{}"||v(Object(P))!=="{}"}),H=c(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),$=function(P,C){var b=f(arguments),_=g(C);if(h(_)||P!==void 0&&!d(P))return b[1]=function(w,S){if(h(_)&&(S=l(_,this,p(w),S)),!d(S))return S},u(v,null,b)},A=function(P,C,b){var _=x(b,C-1),w=x(b,C+1);return m(L,P)&&!m(z,w)||m(z,P)&&!m(L,_)?"\\u"+D(k(P,0),16):P};v&&i({target:"JSON",stat:!0,arity:3,forced:B||H},{stringify:function(P,C,b){var _=f(arguments),w=u(B?$:v,null,_);return H&&typeof w=="string"?I(w,V,A):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,r,o){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/symbol-constructor-detection"),u=t("../internals/fails"),l=t("../internals/object-get-own-property-symbols"),s=t("../internals/to-object");i({target:"Object",stat:!0,forced:!a||u(function(){l.f(1)})},{getOwnPropertySymbols:function(c){var h=l.f;return h?h(s(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/to-object"),u=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")(function(){u(1)})},{keys:function(l){return u(a(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(u){return a(u)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/function-call"),u=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),s=t("../internals/perform"),c=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(h){var d=this,f=l.f(d),g=f.resolve,y=f.reject,p=s(function(){var v=u(d.resolve),m=[],x=0,k=1;c(h,function(I){var D=x++,V=!1;k++,a(v,d,I).then(function(L){V||(V=!0,m[D]=L,--k||g(m))},y)}),--k||g(m)});return p.error&&y(p.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/is-pure"),u=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-native-constructor"),s=t("../internals/get-built-in"),c=t("../internals/is-callable"),h=t("../internals/define-built-in"),d=l&&l.prototype;if(i({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&c(l)){var f=s("Promise").prototype.catch;d.catch!==f&&h(d,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,r,o){var i,a,u,l=t("../internals/export"),s=t("../internals/is-pure"),c=t("../internals/engine-is-node"),h=t("../internals/global"),d=t("../internals/function-call"),f=t("../internals/define-built-in"),g=t("../internals/object-set-prototype-of"),y=t("../internals/set-to-string-tag"),p=t("../internals/set-species"),v=t("../internals/a-callable"),m=t("../internals/is-callable"),x=t("../internals/is-object"),k=t("../internals/an-instance"),I=t("../internals/species-constructor"),D=t("../internals/task").set,V=t("../internals/microtask"),L=t("../internals/host-report-errors"),z=t("../internals/perform"),B=t("../internals/queue"),H=t("../internals/internal-state"),$=t("../internals/promise-native-constructor"),A=t("../internals/promise-constructor-detection"),P=t("../internals/new-promise-capability"),C=A.CONSTRUCTOR,b=A.REJECTION_EVENT,_=A.SUBCLASSING,w=H.getterFor("Promise"),S=H.set,N=$&&$.prototype,O=$,U=N,G=h.TypeError,W=h.document,J=h.process,F=P.f,Y=F,j=!!(W&&W.createEvent&&h.dispatchEvent),R=function(ne){var ue;return!(!x(ne)||!m(ue=ne.then))&&ue},q=function(ne,ue){var le,de,he,pe=ue.value,ye=ue.state===1,Ae=ye?ne.ok:ne.fail,Ne=ne.resolve,ke=ne.reject,Ve=ne.domain;try{Ae?(ye||(ue.rejection===2&&ie(ue),ue.rejection=1),Ae===!0?le=pe:(Ve&&Ve.enter(),le=Ae(pe),Ve&&(Ve.exit(),he=!0)),le===ne.promise?ke(new G("Promise-chain cycle")):(de=R(le))?d(de,le,Ne,ke):Ne(le)):ke(pe)}catch(Ue){Ve&&!he&&Ve.exit(),ke(Ue)}},K=function(ne,ue){ne.notified||(ne.notified=!0,V(function(){for(var le,de=ne.reactions;le=de.get();)q(le,ne);ne.notified=!1,ue&&!ne.rejection&&X(ne)}))},Q=function(ne,ue,le){var de,he;j?((de=W.createEvent("Event")).promise=ue,de.reason=le,de.initEvent(ne,!1,!0),h.dispatchEvent(de)):de={promise:ue,reason:le},!b&&(he=h["on"+ne])?he(de):ne==="unhandledrejection"&&L("Unhandled promise rejection",le)},X=function(ne){d(D,h,function(){var ue,le=ne.facade,de=ne.value;if(ee(ne)&&(ue=z(function(){c?J.emit("unhandledRejection",de,le):Q("unhandledrejection",le,de)}),ne.rejection=c||ee(ne)?2:1,ue.error))throw ue.value})},ee=function(ne){return ne.rejection!==1&&!ne.parent},ie=function(ne){d(D,h,function(){var ue=ne.facade;c?J.emit("rejectionHandled",ue):Q("rejectionhandled",ue,ne.value)})},ae=function(ne,ue,le){return function(de){ne(ue,de,le)}},Z=function(ne,ue,le){ne.done||(ne.done=!0,le&&(ne=le),ne.value=ue,ne.state=2,K(ne,!0))},re=function(ne,ue,le){if(!ne.done){ne.done=!0,le&&(ne=le);try{if(ne.facade===ue)throw new G("Promise can't be resolved itself");var de=R(ue);de?V(function(){var he={done:!1};try{d(de,ue,ae(re,he,ne),ae(Z,he,ne))}catch(pe){Z(he,pe,ne)}}):(ne.value=ue,ne.state=1,K(ne,!1))}catch(he){Z({done:!1},he,ne)}}};if(C&&(U=(O=function(ne){k(this,U),v(ne),d(i,this);var ue=w(this);try{ne(ae(re,ue),ae(Z,ue))}catch(le){Z(ue,le)}}).prototype,(i=function(ne){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new B,rejection:!1,state:0,value:void 0})}).prototype=f(U,"then",function(ne,ue){var le=w(this),de=F(I(this,O));return le.parent=!0,de.ok=!m(ne)||ne,de.fail=m(ue)&&ue,de.domain=c?J.domain:void 0,le.state===0?le.reactions.add(de):V(function(){q(de,le)}),de.promise}),a=function(){var ne=new i,ue=w(ne);this.promise=ne,this.resolve=ae(re,ue),this.reject=ae(Z,ue)},P.f=F=function(ne){return ne===O||ne===void 0?new a(ne):Y(ne)},!s&&m($)&&N!==Object.prototype)){u=N.then,_||f(N,"then",function(ne,ue){var le=this;return new O(function(de,he){d(u,le,de,he)}).then(ne,ue)},{unsafe:!0});try{delete N.constructor}catch{}g&&g(N,U)}l({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:O}),y(O,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/is-pure"),u=t("../internals/promise-native-constructor"),l=t("../internals/fails"),s=t("../internals/get-built-in"),c=t("../internals/is-callable"),h=t("../internals/species-constructor"),d=t("../internals/promise-resolve"),f=t("../internals/define-built-in"),g=u&&u.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!u&&l(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(p){var v=h(this,s("Promise")),m=c(p);return this.then(m?function(x){return d(v,p()).then(function(){return x})}:p,m?function(x){return d(v,p()).then(function(){throw x})}:p)}}),!a&&c(u)){var y=s("Promise").prototype.finally;g.finally!==y&&f(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,r,o){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/function-call"),u=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),s=t("../internals/perform"),c=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(h){var d=this,f=l.f(d),g=f.reject,y=s(function(){var p=u(d.resolve);c(h,function(v){a(p,d,v).then(f.resolve,g)})});return y.error&&g(y.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/function-call"),u=t("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var s=u.f(this);return a(s.reject,void 0,l),s.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/get-built-in"),u=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),s=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-resolve"),h=a("Promise"),d=u&&!s;i({target:"Promise",stat:!0,forced:u||s},{resolve:function(f){return c(d&&this===h?l:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/function-uncurry-this"),u=t("../internals/to-absolute-index"),l=RangeError,s=String.fromCharCode,c=String.fromCodePoint,h=a([].join);i({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(d){for(var f,g=[],y=arguments.length,p=0;y>p;){if(f=+arguments[p++],u(f,1114111)!==f)throw new l(f+" is not a valid code point");g[p]=f<65536?s(f):s(55296+((f-=65536)>>10),f%1024+56320)}return h(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/function-uncurry-this"),u=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),s=t("../internals/to-string"),c=t("../internals/correct-is-regexp-logic"),h=a("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(d){return!!~h(s(l(this)),s(u(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,r,o){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/global"),u=t("../internals/function-call"),l=t("../internals/function-uncurry-this"),s=t("../internals/is-pure"),c=t("../internals/descriptors"),h=t("../internals/symbol-constructor-detection"),d=t("../internals/fails"),f=t("../internals/has-own-property"),g=t("../internals/object-is-prototype-of"),y=t("../internals/an-object"),p=t("../internals/to-indexed-object"),v=t("../internals/to-property-key"),m=t("../internals/to-string"),x=t("../internals/create-property-descriptor"),k=t("../internals/object-create"),I=t("../internals/object-keys"),D=t("../internals/object-get-own-property-names"),V=t("../internals/object-get-own-property-names-external"),L=t("../internals/object-get-own-property-symbols"),z=t("../internals/object-get-own-property-descriptor"),B=t("../internals/object-define-property"),H=t("../internals/object-define-properties"),$=t("../internals/object-property-is-enumerable"),A=t("../internals/define-built-in"),P=t("../internals/define-built-in-accessor"),C=t("../internals/shared"),b=t("../internals/shared-key"),_=t("../internals/hidden-keys"),w=t("../internals/uid"),S=t("../internals/well-known-symbol"),N=t("../internals/well-known-symbol-wrapped"),O=t("../internals/well-known-symbol-define"),U=t("../internals/symbol-define-to-primitive"),G=t("../internals/set-to-string-tag"),W=t("../internals/internal-state"),J=t("../internals/array-iteration").forEach,F=b("hidden"),Y=W.set,j=W.getterFor("Symbol"),R=Object.prototype,q=a.Symbol,K=q&&q.prototype,Q=a.RangeError,X=a.TypeError,ee=a.QObject,ie=z.f,ae=B.f,Z=V.f,re=$.f,ne=l([].push),ue=C("symbols"),le=C("op-symbols"),de=C("wks"),he=!ee||!ee.prototype||!ee.prototype.findChild,pe=function(Ie,we,Me){var Fe=ie(R,we);Fe&&delete R[we],ae(Ie,we,Me),Fe&&Ie!==R&&ae(R,we,Fe)},ye=c&&d(function(){return k(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a!==7})?pe:ae,Ae=function(Ie,we){var Me=ue[Ie]=k(K);return Y(Me,{type:"Symbol",tag:Ie,description:we}),c||(Me.description=we),Me},Ne=function(Ie,we,Me){Ie===R&&Ne(le,we,Me),y(Ie);var Fe=v(we);return y(Me),f(ue,Fe)?(Me.enumerable?(f(Ie,F)&&Ie[F][Fe]&&(Ie[F][Fe]=!1),Me=k(Me,{enumerable:x(0,!1)})):(f(Ie,F)||ae(Ie,F,x(1,{})),Ie[F][Fe]=!0),ye(Ie,Fe,Me)):ae(Ie,Fe,Me)},ke=function(Ie,we){y(Ie);var Me=p(we),Fe=I(Me).concat(He(Me));return J(Fe,function(je){c&&!u(Ve,Me,je)||Ne(Ie,je,Me[je])}),Ie},Ve=function(Ie){var we=v(Ie),Me=u(re,this,we);return!(this===R&&f(ue,we)&&!f(le,we))&&(!(Me||!f(this,we)||!f(ue,we)||f(this,F)&&this[F][we])||Me)},Ue=function(Ie,we){var Me=p(Ie),Fe=v(we);if(Me!==R||!f(ue,Fe)||f(le,Fe)){var je=ie(Me,Fe);return!je||!f(ue,Fe)||f(Me,F)&&Me[F][Fe]||(je.enumerable=!0),je}},ze=function(Ie){var we=Z(p(Ie)),Me=[];return J(we,function(Fe){f(ue,Fe)||f(_,Fe)||ne(Me,Fe)}),Me},He=function(Ie){var we=Ie===R,Me=Z(we?le:p(Ie)),Fe=[];return J(Me,function(je){!f(ue,je)||we&&!f(R,je)||ne(Fe,ue[je])}),Fe};h||(A(K=(q=function(){if(g(K,this))throw new X("Symbol is not a constructor");var Ie=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,we=w(Ie),Me=function(Fe){this===R&&u(Me,le,Fe),f(this,F)&&f(this[F],we)&&(this[F][we]=!1);var je=x(1,Fe);try{ye(this,we,je)}catch(ct){if(!(ct instanceof Q))throw ct;pe(this,we,je)}};return c&&he&&ye(R,we,{configurable:!0,set:Me}),Ae(we,Ie)}).prototype,"toString",function(){return j(this).tag}),A(q,"withoutSetter",function(Ie){return Ae(w(Ie),Ie)}),$.f=Ve,B.f=Ne,H.f=ke,z.f=Ue,D.f=V.f=ze,L.f=He,N.f=function(Ie){return Ae(S(Ie),Ie)},c&&(P(K,"description",{configurable:!0,get:function(){return j(this).description}}),s||A(R,"propertyIsEnumerable",Ve,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:q}),J(I(de),function(Ie){O(Ie)}),i({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){he=!0},useSimple:function(){he=!1}}),i({target:"Object",stat:!0,forced:!h,sham:!c},{create:function(Ie,we){return we===void 0?k(Ie):ke(k(Ie),we)},defineProperty:Ne,defineProperties:ke,getOwnPropertyDescriptor:Ue}),i({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:ze}),U(),G(q,"Symbol"),_[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/get-built-in"),u=t("../internals/has-own-property"),l=t("../internals/to-string"),s=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),h=s("string-to-symbol-registry"),d=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{for:function(f){var g=l(f);if(u(h,g))return h[g];var y=a("Symbol")(g);return h[g]=y,d[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,r,o){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,r,o){var i=t("../internals/export"),a=t("../internals/has-own-property"),u=t("../internals/is-symbol"),l=t("../internals/try-to-string"),s=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),h=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{keyFor:function(d){if(!u(d))throw new TypeError(l(d)+" is not a symbol");if(a(h,d))return h[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,r,o){function i(a){return Object.prototype.toString.call(a)}o.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},o.isBoolean=function(a){return typeof a=="boolean"},o.isNull=function(a){return a===null},o.isNullOrUndefined=function(a){return a==null},o.isNumber=function(a){return typeof a=="number"},o.isString=function(a){return typeof a=="string"},o.isSymbol=function(a){return typeof a=="symbol"},o.isUndefined=function(a){return a===void 0},o.isRegExp=function(a){return i(a)==="[object RegExp]"},o.isObject=function(a){return typeof a=="object"&&a!==null},o.isDate=function(a){return i(a)==="[object Date]"},o.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},o.isFunction=function(a){return typeof a=="function"},o.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},o.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,r,o){(function(i){(function(){var a=t("elliptic"),u=t("bn.js");r.exports=function(h){return new s(h)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(h){this.curveType=l[h],this.curveType||(this.curveType={name:h}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function c(h,d,f){Array.isArray(h)||(h=h.toArray());var g=new i(h);if(f&&g.length<f){var y=new i(f-g.length);y.fill(0),g=i.concat([y,g])}return d?g.toString(d):g}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,s.prototype.generateKeys=function(h,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,d)},s.prototype.computeSecret=function(h,d,f){return d=d||"utf8",i.isBuffer(h)||(h=new i(h,d)),c(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},s.prototype.getPublicKey=function(h,d){var f=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),c(f,h)},s.prototype.getPrivateKey=function(h){return c(this.keys.getPrivate(),h)},s.prototype.setPublicKey=function(h,d){return d=d||"utf8",i.isBuffer(h)||(h=new i(h,d)),this.keys._importPublic(h),this},s.prototype.setPrivateKey=function(h,d){d=d||"utf8",i.isBuffer(h)||(h=new i(h,d));var f=new u(h);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,r,o){arguments[4][184][0].apply(o,arguments)},{buffer:188,dup:184}],386:[function(t,r,o){var i=t("inherits"),a=t("md5.js"),u=t("ripemd160"),l=t("sha.js"),s=t("cipher-base");function c(h){s.call(this,"digest"),this._hash=h}i(c,s),c.prototype._update=function(h){this._hash.update(h)},c.prototype._final=function(){return this._hash.digest()},r.exports=function(h){return(h=h.toLowerCase())==="md5"?new a:h==="rmd160"||h==="ripemd160"?new u:new c(l(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,r,o){var i=t("md5.js");r.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(t,r,o){var i=t("inherits"),a=t("./legacy"),u=t("cipher-base"),l=t("safe-buffer").Buffer,s=t("create-hash/md5"),c=t("ripemd160"),h=t("sha.js"),d=l.alloc(128);function f(g,y){u.call(this,"digest"),typeof y=="string"&&(y=l.from(y));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>p?y=(g==="rmd160"?new c:h(g)).update(y).digest():y.length<p&&(y=l.concat([y,d],p));for(var v=this._ipad=l.allocUnsafe(p),m=this._opad=l.allocUnsafe(p),x=0;x<p;x++)v[x]=54^y[x],m[x]=92^y[x];this._hash=g==="rmd160"?new c:h(g),this._hash.update(v)}i(f,u),f.prototype._update=function(g){this._hash.update(g)},f.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new c:h(this._alg)).update(this._opad).update(g).digest()},r.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new f("rmd160",y):g==="md5"?new a(s,y):new f(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,r,o){var i=t("inherits"),a=t("safe-buffer").Buffer,u=t("cipher-base"),l=a.alloc(128);function s(c,h){u.call(this,"digest"),typeof h=="string"&&(h=a.from(h)),this._alg=c,this._key=h,h.length>64?h=c(h):h.length<64&&(h=a.concat([h,l],64));for(var d=this._ipad=a.allocUnsafe(64),f=this._opad=a.allocUnsafe(64),g=0;g<64;g++)d[g]=54^h[g],f[g]=92^h[g];this._hash=[d]}i(s,u),s.prototype._update=function(c){this._hash.push(c)},s.prototype._final=function(){var c=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,c]))},r.exports=s},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,r,o){o.randomBytes=o.rng=o.pseudoRandomBytes=o.prng=t("randombytes"),o.createHash=o.Hash=t("create-hash"),o.createHmac=o.Hmac=t("create-hmac");var i=t("browserify-sign/algos"),a=Object.keys(i),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);o.getHashes=function(){return u};var l=t("pbkdf2");o.pbkdf2=l.pbkdf2,o.pbkdf2Sync=l.pbkdf2Sync;var s=t("browserify-cipher");o.Cipher=s.Cipher,o.createCipher=s.createCipher,o.Cipheriv=s.Cipheriv,o.createCipheriv=s.createCipheriv,o.Decipher=s.Decipher,o.createDecipher=s.createDecipher,o.Decipheriv=s.Decipheriv,o.createDecipheriv=s.createDecipheriv,o.getCiphers=s.getCiphers,o.listCiphers=s.listCiphers;var c=t("diffie-hellman");o.DiffieHellmanGroup=c.DiffieHellmanGroup,o.createDiffieHellmanGroup=c.createDiffieHellmanGroup,o.getDiffieHellman=c.getDiffieHellman,o.createDiffieHellman=c.createDiffieHellman,o.DiffieHellman=c.DiffieHellman;var h=t("browserify-sign");o.createSign=h.createSign,o.Sign=h.Sign,o.createVerify=h.createVerify,o.Verify=h.Verify,o.createECDH=t("create-ecdh");var d=t("public-encrypt");o.publicEncrypt=d.publicEncrypt,o.privateEncrypt=d.privateEncrypt,o.publicDecrypt=d.publicDecrypt,o.privateDecrypt=d.privateDecrypt;var f=t("randomfill");o.randomFill=f.randomFill,o.randomFillSync=f.randomFillSync,o.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},o.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,r,o){(function(i,a){typeof o=="object"&&r!==void 0?r.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,function(){var i=6e4,a=36e5,u="millisecond",l="second",s="minute",c="hour",h="day",d="week",f="month",g="quarter",y="year",p="date",v="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var _=["th","st","nd","rd"],w=b%100;return"["+b+(_[(w-20)%10]||_[w]||_[0])+"]"}},I=function(b,_,w){var S=String(b);return!S||S.length>=_?b:""+Array(_+1-S.length).join(w)+b},D={s:I,z:function(b){var _=-b.utcOffset(),w=Math.abs(_),S=Math.floor(w/60),N=w%60;return(_<=0?"+":"-")+I(S,2,"0")+":"+I(N,2,"0")},m:function b(_,w){if(_.date()<w.date())return-b(w,_);var S=12*(w.year()-_.year())+(w.month()-_.month()),N=_.clone().add(S,f),O=w-N<0,U=_.clone().add(S+(O?-1:1),f);return+(-(S+(w-N)/(O?N-U:U-N))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:f,y,w:d,d:h,D:p,h:c,m:s,s:l,ms:u,Q:g}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},V="en",L={};L[V]=k;var z="$isDayjsObject",B=function(b){return b instanceof P||!(!b||!b[z])},H=function b(_,w,S){var N;if(!_)return V;if(typeof _=="string"){var O=_.toLowerCase();L[O]&&(N=O),w&&(L[O]=w,N=O);var U=_.split("-");if(!N&&U.length>1)return b(U[0])}else{var G=_.name;L[G]=_,N=G}return!S&&N&&(V=N),N||!S&&V},$=function(b,_){if(B(b))return b.clone();var w=typeof _=="object"?_:{};return w.date=b,w.args=arguments,new P(w)},A=D;A.l=H,A.i=B,A.w=function(b,_){return $(b,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var P=function(){function b(w){this.$L=H(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[z]=!0}var _=b.prototype;return _.parse=function(w){this.$d=function(S){var N=S.date,O=S.utc;if(N===null)return new Date(NaN);if(A.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var U=N.match(m);if(U){var G=U[2]-1||0,W=(U[7]||"0").substring(0,3);return O?new Date(Date.UTC(U[1],G,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)):new Date(U[1],G,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)}}return new Date(N)}(w),this.init()},_.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},_.$utils=function(){return A},_.isValid=function(){return this.$d.toString()!==v},_.isSame=function(w,S){var N=$(w);return this.startOf(S)<=N&&N<=this.endOf(S)},_.isAfter=function(w,S){return $(w)<this.startOf(S)},_.isBefore=function(w,S){return this.endOf(S)<$(w)},_.$g=function(w,S,N){return A.u(w)?this[S]:this.set(N,w)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(w,S){var N=this,O=!!A.u(S)||S,U=A.p(w),G=function(K,Q){var X=A.w(N.$u?Date.UTC(N.$y,Q,K):new Date(N.$y,Q,K),N);return O?X:X.endOf(h)},W=function(K,Q){return A.w(N.toDate()[K].apply(N.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(Q)),N)},J=this.$W,F=this.$M,Y=this.$D,j="set"+(this.$u?"UTC":"");switch(U){case y:return O?G(1,0):G(31,11);case f:return O?G(1,F):G(0,F+1);case d:var R=this.$locale().weekStart||0,q=(J<R?J+7:J)-R;return G(O?Y-q:Y+(6-q),F);case h:case p:return W(j+"Hours",0);case c:return W(j+"Minutes",1);case s:return W(j+"Seconds",2);case l:return W(j+"Milliseconds",3);default:return this.clone()}},_.endOf=function(w){return this.startOf(w,!1)},_.$set=function(w,S){var N,O=A.p(w),U="set"+(this.$u?"UTC":""),G=(N={},N[h]=U+"Date",N[p]=U+"Date",N[f]=U+"Month",N[y]=U+"FullYear",N[c]=U+"Hours",N[s]=U+"Minutes",N[l]=U+"Seconds",N[u]=U+"Milliseconds",N)[O],W=O===h?this.$D+(S-this.$W):S;if(O===f||O===y){var J=this.clone().set(p,1);J.$d[G](W),J.init(),this.$d=J.set(p,Math.min(this.$D,J.daysInMonth())).$d}else G&&this.$d[G](W);return this.init(),this},_.set=function(w,S){return this.clone().$set(w,S)},_.get=function(w){return this[A.p(w)]()},_.add=function(w,S){var N,O=this;w=Number(w);var U=A.p(S),G=function(F){var Y=$(O);return A.w(Y.date(Y.date()+Math.round(F*w)),O)};if(U===f)return this.set(f,this.$M+w);if(U===y)return this.set(y,this.$y+w);if(U===h)return G(1);if(U===d)return G(7);var W=(N={},N[s]=i,N[c]=a,N[l]=1e3,N)[U]||1,J=this.$d.getTime()+w*W;return A.w(J,this)},_.subtract=function(w,S){return this.add(-1*w,S)},_.format=function(w){var S=this,N=this.$locale();if(!this.isValid())return N.invalidDate||v;var O=w||"YYYY-MM-DDTHH:mm:ssZ",U=A.z(this),G=this.$H,W=this.$m,J=this.$M,F=N.weekdays,Y=N.months,j=N.meridiem,R=function(Q,X,ee,ie){return Q&&(Q[X]||Q(S,O))||ee[X].slice(0,ie)},q=function(Q){return A.s(G%12||12,Q,"0")},K=j||function(Q,X,ee){var ie=Q<12?"AM":"PM";return ee?ie.toLowerCase():ie};return O.replace(x,function(Q,X){return X||function(ee){switch(ee){case"YY":return String(S.$y).slice(-2);case"YYYY":return A.s(S.$y,4,"0");case"M":return J+1;case"MM":return A.s(J+1,2,"0");case"MMM":return R(N.monthsShort,J,Y,3);case"MMMM":return R(Y,J);case"D":return S.$D;case"DD":return A.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return R(N.weekdaysMin,S.$W,F,2);case"ddd":return R(N.weekdaysShort,S.$W,F,3);case"dddd":return F[S.$W];case"H":return String(G);case"HH":return A.s(G,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return K(G,W,!0);case"A":return K(G,W,!1);case"m":return String(W);case"mm":return A.s(W,2,"0");case"s":return String(S.$s);case"ss":return A.s(S.$s,2,"0");case"SSS":return A.s(S.$ms,3,"0");case"Z":return U}return null}(Q)||U.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(w,S,N){var O,U=this,G=A.p(S),W=$(w),J=(W.utcOffset()-this.utcOffset())*i,F=this-W,Y=function(){return A.m(U,W)};switch(G){case y:O=Y()/12;break;case f:O=Y();break;case g:O=Y()/3;break;case d:O=(F-J)/6048e5;break;case h:O=(F-J)/864e5;break;case c:O=F/a;break;case s:O=F/i;break;case l:O=F/1e3;break;default:O=F}return N?O:A.a(O)},_.daysInMonth=function(){return this.endOf(f).$D},_.$locale=function(){return L[this.$L]},_.locale=function(w,S){if(!w)return this.$L;var N=this.clone(),O=H(w,S,!0);return O&&(N.$L=O),N},_.clone=function(){return A.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},b}(),C=P.prototype;return $.prototype=C,[["$ms",u],["$s",l],["$m",s],["$H",c],["$W",h],["$M",f],["$y",y],["$D",p]].forEach(function(b){C[b[1]]=function(_){return this.$g(_,b[0],b[1])}}),$.extend=function(b,_){return b.$i||(b(_,P,$),b.$i=!0),$},$.locale=H,$.isDayjs=B,$.unix=function(b){return $(1e3*b)},$.en=L[V],$.Ls=L,$.p={},$})},{}],392:[function(t,r,o){(function(i,a){typeof o=="object"&&r!==void 0?r.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,l=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,c={},h=function(m){return(m=+m)+(m>68?1900:2e3)},d=function(m){return function(x){this[m]=+x}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var k=x.match(/([+-]|\d\d)/g),I=60*k[1]+(+k[2]||0);return I===0?0:k[0]==="+"?-I:I}(m)}],g=function(m){var x=c[m];return x&&(x.indexOf?x:x.s.concat(x.f))},y=function(m,x){var k,I=c.meridiem;if(I){for(var D=1;D<=24;D+=1)if(m.indexOf(I(D,0,x))>-1){k=D>12;break}}else k=m===(x?"pm":"PM");return k},p={A:[s,function(m){this.afternoon=y(m,!1)}],a:[s,function(m){this.afternoon=y(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[u,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[u,d("day")],Do:[s,function(m){var x=c.ordinal,k=m.match(/\d+/);if(this.day=k[0],x)for(var I=1;I<=31;I+=1)x(I).replace(/\[|\]/g,"")===m&&(this.day=I)}],M:[l,d("month")],MM:[u,d("month")],MMM:[s,function(m){var x=g("months"),k=(g("monthsShort")||x.map(function(I){return I.slice(0,3)})).indexOf(m)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[s,function(m){var x=g("months").indexOf(m)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,d("year")],YY:[u,function(m){this.year=h(m)}],YYYY:[/\d{4}/,d("year")],Z:f,ZZ:f};function v(m){var x,k;x=m,k=c&&c.formats;for(var I=(m=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function($,A,P){var C=P&&P.toUpperCase();return A||k[P]||i[P]||k[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,_,w){return _||w.slice(1)})})).match(a),D=I.length,V=0;V<D;V+=1){var L=I[V],z=p[L],B=z&&z[0],H=z&&z[1];I[V]=H?{regex:B,parser:H}:L.replace(/^\[|\]$/g,"")}return function($){for(var A={},P=0,C=0;P<D;P+=1){var b=I[P];if(typeof b=="string")C+=b.length;else{var _=b.regex,w=b.parser,S=$.slice(C),N=_.exec(S)[0];w.call(A,N),$=$.replace(N,"")}}return function(O){var U=O.afternoon;if(U!==void 0){var G=O.hours;U?G<12&&(O.hours+=12):G===12&&(O.hours=0),delete O.afternoon}}(A),A}}return function(m,x,k){k.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(h=m.parseTwoDigitYear);var I=x.prototype,D=I.parse;I.parse=function(V){var L=V.date,z=V.utc,B=V.args;this.$u=z;var H=B[1];if(typeof H=="string"){var $=B[2]===!0,A=B[3]===!0,P=$||A,C=B[2];A&&(C=B[2]),c=this.$locale(),!$&&C&&(c=k.Ls[C]),this.$d=function(S,N,O){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*S);var U=v(N)(S),G=U.year,W=U.month,J=U.day,F=U.hours,Y=U.minutes,j=U.seconds,R=U.milliseconds,q=U.zone,K=new Date,Q=J||(G||W?1:K.getDate()),X=G||K.getFullYear(),ee=0;G&&!W||(ee=W>0?W-1:K.getMonth());var ie=F||0,ae=Y||0,Z=j||0,re=R||0;return q?new Date(Date.UTC(X,ee,Q,ie,ae,Z,re+60*q.offset*1e3)):O?new Date(Date.UTC(X,ee,Q,ie,ae,Z,re)):new Date(X,ee,Q,ie,ae,Z,re)}catch{return new Date("")}}(L,H,z),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),P&&L!=this.format(H)&&(this.$d=new Date("")),c={}}else if(H instanceof Array)for(var b=H.length,_=1;_<=b;_+=1){B[1]=H[_-1];var w=k.apply(this,B);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}_===b&&(this.$d=new Date(""))}else D.call(this,V)}}})},{}],393:[function(t,r,o){(function(i,a){typeof o=="object"&&r!==void 0?r.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(l,s,c){var h=s.prototype;c.utc=function(m){var x={date:m,utc:!0,args:arguments};return new s(x)},h.utc=function(m){var x=c(this.toDate(),{locale:this.$L,utc:!0});return m?x.add(this.utcOffset(),i):x},h.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var d=h.parse;h.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),d.call(this,m)};var f=h.init;h.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else f.call(this)};var g=h.utcOffset;h.utcOffset=function(m,x){var k=this.$utils().u;if(k(m))return this.$u?0:k(this.$offset)?g.call(this):this.$offset;if(typeof m=="string"&&(m=function(L){L===void 0&&(L="");var z=L.match(a);if(!z)return null;var B=(""+z[0]).match(u)||["-",0,0],H=B[0],$=60*+B[1]+ +B[2];return $===0?0:H==="+"?$:-$}(m))===null)return this;var I=Math.abs(m)<=16?60*m:m,D=this;if(x)return D.$offset=I,D.$u=m===0,D;if(m!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(I+V,i)).$offset=I,D.$x.$localOffset=V}else D=this.utc();return D};var y=h.format;h.format=function(m){var x=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,x)},h.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var p=h.toDate;h.toDate=function(m){return m==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var v=h.diff;h.diff=function(m,x,k){if(m&&this.$u===m.$u)return v.call(this,m,x,k);var I=this.local(),D=c(m).local();return v.call(I,D,x,k)}}})},{}],394:[function(t,r,o){o.utils=t("./des/utils"),o.Cipher=t("./des/cipher"),o.DES=t("./des/des"),o.CBC=t("./des/cbc"),o.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,r,o){var i=t("minimalistic-assert"),a=t("inherits"),u={};function l(s){i.equal(s.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=s[c]}o.instantiate=function(s){function c(g){s.call(this,g),this._cbcInit()}a(c,s);for(var h=Object.keys(u),d=0;d<h.length;d++){var f=h[d];c.prototype[f]=u[f]}return c.create=function(g){return new c(g)},c},u._cbcInit=function(){var s=new l(this.options.iv);this._cbcState=s},u._update=function(s,c,h,d){var f=this._cbcState,g=this.constructor.super_.prototype,y=f.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)y[p]^=s[c+p];for(g._update.call(this,y,0,h,d),p=0;p<this.blockSize;p++)y[p]=h[d+p]}else{for(g._update.call(this,s,c,h,d),p=0;p<this.blockSize;p++)h[d+p]^=y[p];for(p=0;p<this.blockSize;p++)y[p]=s[c+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,r,o){var i=t("minimalistic-assert");function a(u){this.options=u,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=u.padding!==!1}r.exports=a,a.prototype._init=function(){},a.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},a.prototype._buffer=function(u,l){for(var s=Math.min(this.buffer.length-this.bufferOff,u.length-l),c=0;c<s;c++)this.buffer[this.bufferOff+c]=u[l+c];return this.bufferOff+=s,s},a.prototype._flushBuffer=function(u,l){return this._update(this.buffer,0,u,l),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(u){var l=0,s=0,c=(this.bufferOff+u.length)/this.blockSize|0,h=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(u,l),this.bufferOff===this.buffer.length&&(s+=this._flushBuffer(h,s)));for(var d=u.length-(u.length-l)%this.blockSize;l<d;l+=this.blockSize)this._update(u,l,h,s),s+=this.blockSize;for(;l<u.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=u[l];return h},a.prototype._updateDecrypt=function(u){for(var l=0,s=0,c=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,h=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(u,l),s+=this._flushBuffer(h,s);return l+=this._buffer(u,l),h},a.prototype.final=function(u){var l,s;return u&&(l=this.update(u)),s=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(s):s},a.prototype._pad=function(u,l){if(l===0)return!1;for(;l<u.length;)u[l++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},a.prototype._unpad=function(u){return u},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},{"minimalistic-assert":453}],397:[function(t,r,o){var i=t("minimalistic-assert"),a=t("inherits"),u=t("./utils"),l=t("./cipher");function s(){this.tmp=new Array(2),this.keys=null}function c(d){l.call(this,d);var f=new s;this._desState=f,this.deriveKeys(f,d.key)}a(c,l),r.exports=c,c.create=function(d){return new c(d)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(d,f){d.keys=new Array(32),i.equal(f.length,this.blockSize,"Invalid key length");var g=u.readUInt32BE(f,0),y=u.readUInt32BE(f,4);u.pc1(g,y,d.tmp,0),g=d.tmp[0],y=d.tmp[1];for(var p=0;p<d.keys.length;p+=2){var v=h[p>>>1];g=u.r28shl(g,v),y=u.r28shl(y,v),u.pc2(g,y,d.keys,p)}},c.prototype._update=function(d,f,g,y){var p=this._desState,v=u.readUInt32BE(d,f),m=u.readUInt32BE(d,f+4);u.ip(v,m,p.tmp,0),v=p.tmp[0],m=p.tmp[1],this.type==="encrypt"?this._encrypt(p,v,m,p.tmp,0):this._decrypt(p,v,m,p.tmp,0),v=p.tmp[0],m=p.tmp[1],u.writeUInt32BE(g,v,y),u.writeUInt32BE(g,m,y+4)},c.prototype._pad=function(d,f){if(this.padding===!1)return!1;for(var g=d.length-f,y=f;y<d.length;y++)d[y]=g;return!0},c.prototype._unpad=function(d){if(this.padding===!1)return d;for(var f=d[d.length-1],g=d.length-f;g<d.length;g++)i.equal(d[g],f);return d.slice(0,d.length-f)},c.prototype._encrypt=function(d,f,g,y,p){for(var v=f,m=g,x=0;x<d.keys.length;x+=2){var k=d.keys[x],I=d.keys[x+1];u.expand(m,d.tmp,0),k^=d.tmp[0],I^=d.tmp[1];var D=u.substitute(k,I),V=m;m=(v^u.permute(D))>>>0,v=V}u.rip(m,v,y,p)},c.prototype._decrypt=function(d,f,g,y,p){for(var v=g,m=f,x=d.keys.length-2;x>=0;x-=2){var k=d.keys[x],I=d.keys[x+1];u.expand(v,d.tmp,0),k^=d.tmp[0],I^=d.tmp[1];var D=u.substitute(k,I),V=v;v=(m^u.permute(D))>>>0,m=V}u.rip(v,m,y,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,r,o){var i=t("minimalistic-assert"),a=t("inherits"),u=t("./cipher"),l=t("./des");function s(h,d){i.equal(d.length,24,"Invalid key length");var f=d.slice(0,8),g=d.slice(8,16),y=d.slice(16,24);this.ciphers=h==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:y})]:[l.create({type:"decrypt",key:y}),l.create({type:"encrypt",key:g}),l.create({type:"decrypt",key:f})]}function c(h){u.call(this,h);var d=new s(this.type,this.options.key);this._edeState=d}a(c,u),r.exports=c,c.create=function(h){return new c(h)},c.prototype._update=function(h,d,f,g){var y=this._edeState;y.ciphers[0]._update(h,d,f,g),y.ciphers[1]._update(f,g,f,g),y.ciphers[2]._update(f,g,f,g)},c.prototype._pad=l.prototype._pad,c.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,r,o){o.readUInt32BE=function(l,s){return(l[0+s]<<24|l[1+s]<<16|l[2+s]<<8|l[3+s])>>>0},o.writeUInt32BE=function(l,s,c){l[0+c]=s>>>24,l[1+c]=s>>>16&255,l[2+c]=s>>>8&255,l[3+c]=255&s},o.ip=function(l,s,c,h){for(var d=0,f=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)d<<=1,d|=s>>>y+g&1;for(y=0;y<=24;y+=8)d<<=1,d|=l>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)f<<=1,f|=s>>>y+g&1;for(y=1;y<=25;y+=8)f<<=1,f|=l>>>y+g&1}c[h+0]=d>>>0,c[h+1]=f>>>0},o.rip=function(l,s,c,h){for(var d=0,f=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)d<<=1,d|=s>>>y+g&1,d<<=1,d|=l>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)f<<=1,f|=s>>>y+g&1,f<<=1,f|=l>>>y+g&1;c[h+0]=d>>>0,c[h+1]=f>>>0},o.pc1=function(l,s,c,h){for(var d=0,f=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)d<<=1,d|=s>>y+g&1;for(y=0;y<=24;y+=8)d<<=1,d|=l>>y+g&1}for(y=0;y<=24;y+=8)d<<=1,d|=s>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)f<<=1,f|=s>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1}for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1;c[h+0]=d>>>0,c[h+1]=f>>>0},o.r28shl=function(l,s){return l<<s&268435455|l>>>28-s};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];o.pc2=function(l,s,c,h){for(var d=0,f=0,g=i.length>>>1,y=0;y<g;y++)d<<=1,d|=l>>>i[y]&1;for(y=g;y<i.length;y++)f<<=1,f|=s>>>i[y]&1;c[h+0]=d>>>0,c[h+1]=f>>>0},o.expand=function(l,s,c){var h=0,d=0;h=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)h<<=6,h|=l>>>f&63;for(f=11;f>=3;f-=4)d|=l>>>f&63,d<<=6;d|=(31&l)<<1|l>>>31,s[c+0]=h>>>0,s[c+1]=d>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];o.substitute=function(l,s){for(var c=0,h=0;h<4;h++)c<<=4,c|=a[64*h+(l>>>18-6*h&63)];for(h=0;h<4;h++)c<<=4,c|=a[256+64*h+(s>>>18-6*h&63)];return c>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];o.permute=function(l){for(var s=0,c=0;c<u.length;c++)s<<=1,s|=l>>>u[c]&1;return s>>>0},o.padSplit=function(l,s,c){for(var h=l.toString(2);h.length<s;)h="0"+h;for(var d=[],f=0;f<s;f+=c)d.push(h.slice(f,f+c));return d.join(" ")}},{}],400:[function(t,r,o){(function(i){(function(){var a=t("./lib/generatePrime"),u=t("./lib/primes.json"),l=t("./lib/dh"),s={binary:!0,hex:!0,base64:!0};o.DiffieHellmanGroup=o.createDiffieHellmanGroup=o.getDiffieHellman=function(c){var h=new i(u[c].prime,"hex"),d=new i(u[c].gen,"hex");return new l(h,d)},o.createDiffieHellman=o.DiffieHellman=function c(h,d,f,g){return i.isBuffer(d)||s[d]===void 0?c(h,"binary",d,f):(d=d||"binary",g=g||"binary",f=f||new i([2]),i.isBuffer(f)||(f=new i(f,g)),typeof h=="number"?new l(a(h,f),f,!0):(i.isBuffer(h)||(h=new i(h,d)),new l(h,f,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,r,o){(function(i){(function(){var a=t("bn.js"),u=new(t("miller-rabin")),l=new a(24),s=new a(11),c=new a(10),h=new a(3),d=new a(7),f=t("./generatePrime"),g=t("randombytes");function y(k,I){return I=I||"utf8",i.isBuffer(k)||(k=new i(k,I)),this._pub=new a(k),this}function p(k,I){return I=I||"utf8",i.isBuffer(k)||(k=new i(k,I)),this._priv=new a(k),this}r.exports=m;var v={};function m(k,I,D){this.setGenerator(I),this.__prime=new a(k),this._prime=a.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=y,this.setPrivateKey=p):this._primeCode=8}function x(k,I){var D=new i(k.toArray());return I?D.toString(I):D}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(k,I){var D=I.toString("hex"),V=[D,k.toString(16)].join("_");if(V in v)return v[V];var L,z=0;if(k.isEven()||!f.simpleSieve||!f.fermatTest(k)||!u.test(k))return z+=1,z+=D==="02"||D==="05"?8:4,v[V]=z,z;switch(u.test(k.shrn(1))||(z+=2),D){case"02":k.mod(l).cmp(s)&&(z+=8);break;case"05":(L=k.mod(c)).cmp(h)&&L.cmp(d)&&(z+=8);break;default:z+=4}return v[V]=z,z}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(k){var I=(k=(k=new a(k)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new i(I.toArray()),V=this.getPrime();if(D.length<V.length){var L=new i(V.length-D.length);L.fill(0),D=i.concat([L,D])}return D},m.prototype.getPublicKey=function(k){return x(this._pub,k)},m.prototype.getPrivateKey=function(k){return x(this._priv,k)},m.prototype.getPrime=function(k){return x(this.__prime,k)},m.prototype.getGenerator=function(k){return x(this._gen,k)},m.prototype.setGenerator=function(k,I){return I=I||"utf8",i.isBuffer(k)||(k=new i(k,I)),this.__gen=k,this._gen=new a(k),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,r,o){var i=t("randombytes");r.exports=k,k.simpleSieve=m,k.fermatTest=x;var a=t("bn.js"),u=new a(24),l=new(t("miller-rabin")),s=new a(1),c=new a(2),h=new a(5),d=(new a(16),new a(8),new a(10)),f=new a(3),g=(new a(7),new a(11)),y=new a(4),p=(new a(12),null);function v(){if(p!==null)return p;var I=[];I[0]=2;for(var D=1,V=3;V<1048576;V+=2){for(var L=Math.ceil(Math.sqrt(V)),z=0;z<D&&I[z]<=L&&V%I[z]!=0;z++);D!==z&&I[z]<=L||(I[D++]=V)}return p=I,I}function m(I){for(var D=v(),V=0;V<D.length;V++)if(I.modn(D[V])===0)return I.cmpn(D[V])===0;return!0}function x(I){var D=a.mont(I);return c.toRed(D).redPow(I.subn(1)).fromRed().cmpn(1)===0}function k(I,D){if(I<16)return new a(D===2||D===5?[140,123]:[140,39]);var V,L;for(D=new a(D);;){for(V=new a(i(Math.ceil(I/8)));V.bitLength()>I;)V.ishrn(1);if(V.isEven()&&V.iadd(s),V.testn(1)||V.iadd(c),D.cmp(c)){if(!D.cmp(h))for(;V.mod(d).cmp(f);)V.iadd(y)}else for(;V.mod(u).cmp(g);)V.iadd(y);if(m(L=V.shrn(1))&&m(V)&&x(L)&&x(V)&&l.test(L)&&l.test(V))return V}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,r,o){r.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,r,o){arguments[4][184][0].apply(o,arguments)},{buffer:188,dup:184}],405:[function(t,r,o){var i=o;i.version=t("../package.json").version,i.utils=t("./elliptic/utils"),i.rand=t("brorand"),i.curve=t("./elliptic/curve"),i.curves=t("./elliptic/curves"),i.ec=t("./elliptic/ec"),i.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,r,o){var i=t("bn.js"),a=t("../utils"),u=a.getNAF,l=a.getJSF,s=a.assert;function c(d,f){this.type=d,this.p=new i(f.p,16),this.red=f.prime?i.red(f.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=f.n&&new i(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(d,f){this.curve=d,this.type=f,this.precomputed=null}r.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(d,f){s(d.precomputed);var g=d._getDoubles(),y=u(f,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var v,m,x=[];for(v=0;v<y.length;v+=g.step){m=0;for(var k=v+g.step-1;k>=v;k--)m=(m<<1)+y[k];x.push(m)}for(var I=this.jpoint(null,null,null),D=this.jpoint(null,null,null),V=p;V>0;V--){for(v=0;v<x.length;v++)(m=x[v])===V?D=D.mixedAdd(g.points[v]):m===-V&&(D=D.mixedAdd(g.points[v].neg()));I=I.add(D)}return I.toP()},c.prototype._wnafMul=function(d,f){var g=4,y=d._getNAFPoints(g);g=y.wnd;for(var p=y.points,v=u(f,g,this._bitLength),m=this.jpoint(null,null,null),x=v.length-1;x>=0;x--){for(var k=0;x>=0&&v[x]===0;x--)k++;if(x>=0&&k++,m=m.dblp(k),x<0)break;var I=v[x];s(I!==0),m=d.type==="affine"?I>0?m.mixedAdd(p[I-1>>1]):m.mixedAdd(p[-I-1>>1].neg()):I>0?m.add(p[I-1>>1]):m.add(p[-I-1>>1].neg())}return d.type==="affine"?m.toP():m},c.prototype._wnafMulAdd=function(d,f,g,y,p){var v,m,x,k=this._wnafT1,I=this._wnafT2,D=this._wnafT3,V=0;for(v=0;v<y;v++){var L=(x=f[v])._getNAFPoints(d);k[v]=L.wnd,I[v]=L.points}for(v=y-1;v>=1;v-=2){var z=v-1,B=v;if(k[z]===1&&k[B]===1){var H=[f[z],null,null,f[B]];f[z].y.cmp(f[B].y)===0?(H[1]=f[z].add(f[B]),H[2]=f[z].toJ().mixedAdd(f[B].neg())):f[z].y.cmp(f[B].y.redNeg())===0?(H[1]=f[z].toJ().mixedAdd(f[B]),H[2]=f[z].add(f[B].neg())):(H[1]=f[z].toJ().mixedAdd(f[B]),H[2]=f[z].toJ().mixedAdd(f[B].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],A=l(g[z],g[B]);for(V=Math.max(A[0].length,V),D[z]=new Array(V),D[B]=new Array(V),m=0;m<V;m++){var P=0|A[0][m],C=0|A[1][m];D[z][m]=$[3*(P+1)+(C+1)],D[B][m]=0,I[z]=H}}else D[z]=u(g[z],k[z],this._bitLength),D[B]=u(g[B],k[B],this._bitLength),V=Math.max(D[z].length,V),V=Math.max(D[B].length,V)}var b=this.jpoint(null,null,null),_=this._wnafT4;for(v=V;v>=0;v--){for(var w=0;v>=0;){var S=!0;for(m=0;m<y;m++)_[m]=0|D[m][v],_[m]!==0&&(S=!1);if(!S)break;w++,v--}if(v>=0&&w++,b=b.dblp(w),v<0)break;for(m=0;m<y;m++){var N=_[m];N!==0&&(N>0?x=I[m][N-1>>1]:N<0&&(x=I[m][-N-1>>1].neg()),b=x.type==="affine"?b.mixedAdd(x):b.add(x))}}for(v=0;v<y;v++)I[v]=null;return p?b:b.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(d,f){d=a.toArray(d,f);var g=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*g)return d[0]===6?s(d[d.length-1]%2==0):d[0]===7&&s(d[d.length-1]%2==1),this.point(d.slice(1,1+g),d.slice(1+g,1+2*g));if((d[0]===2||d[0]===3)&&d.length-1===g)return this.pointFromX(d.slice(1,1+g),d[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(d){return this.encode(d,!0)},h.prototype._encode=function(d){var f=this.curve.p.byteLength(),g=this.getX().toArray("be",f);return d?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",f))},h.prototype.encode=function(d,f){return a.encode(this._encode(f),d)},h.prototype.precompute=function(d){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,d),f.beta=this._getBeta(),this.precomputed=f,this},h.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((d.bitLength()+1)/f.step)},h.prototype._getDoubles=function(d,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,p=0;p<f;p+=d){for(var v=0;v<d;v++)y=y.dbl();g.push(y)}return{step:d,points:g}},h.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],g=(1<<d)-1,y=g===1?null:this.dbl(),p=1;p<g;p++)f[p]=f[p-1].add(y);return{wnd:d,points:f}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(d){for(var f=this,g=0;g<d;g++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(t,r,o){var i=t("../utils"),a=t("bn.js"),u=t("inherits"),l=t("./base"),s=i.assert;function c(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",d),this.a=new a(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function h(d,f,g,y,p){l.BasePoint.call(this,d,"projective"),f===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(f,16),this.y=new a(g,16),this.z=y?new a(y,16):this.curve.one,this.t=p&&new a(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u(c,l),r.exports=c,c.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},c.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},c.prototype.jpoint=function(d,f,g,y){return this.point(d,f,g,y)},c.prototype.pointFromX=function(d,f){(d=new a(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),y=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=y.redMul(p.redInvm()),m=v.redSqrt();if(m.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var x=m.fromRed().isOdd();return(f&&!x||!f&&x)&&(m=m.redNeg()),this.point(d,m)},c.prototype.pointFromY=function(d,f){(d=new a(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),y=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=y.redMul(p.redInvm());if(v.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,d)}var m=v.redSqrt();if(m.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==f&&(m=m.redNeg()),this.point(m,d)},c.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var f=d.x.redSqr(),g=d.y.redSqr(),y=f.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(g)));return y.cmp(p)===0},u(h,l.BasePoint),c.prototype.pointFromJSON=function(d){return h.fromJSON(this,d)},c.prototype.point=function(d,f,g,y){return new h(this,d,f,g,y)},h.fromJSON=function(d,f){return new h(d,f[0],f[1],f[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var d=this.x.redSqr(),f=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(d),p=this.x.redAdd(this.y).redSqr().redISub(d).redISub(f),v=y.redAdd(f),m=v.redSub(g),x=y.redSub(f),k=p.redMul(m),I=v.redMul(x),D=p.redMul(x),V=m.redMul(v);return this.curve.point(k,I,V,D)},h.prototype._projDbl=function(){var d,f,g,y,p,v,m=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var I=(y=this.curve._mulA(x)).redAdd(k);this.zOne?(d=m.redSub(x).redSub(k).redMul(I.redSub(this.curve.two)),f=I.redMul(y.redSub(k)),g=I.redSqr().redSub(I).redSub(I)):(p=this.z.redSqr(),v=I.redSub(p).redISub(p),d=m.redSub(x).redISub(k).redMul(v),f=I.redMul(y.redSub(k)),g=I.redMul(v))}else y=x.redAdd(k),p=this.curve._mulC(this.z).redSqr(),v=y.redSub(p).redSub(p),d=this.curve._mulC(m.redISub(y)).redMul(v),f=this.curve._mulC(y).redMul(x.redISub(k)),g=y.redMul(v);return this.curve.point(d,f,g)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(d){var f=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),g=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),y=this.t.redMul(this.curve.dd).redMul(d.t),p=this.z.redMul(d.z.redAdd(d.z)),v=g.redSub(f),m=p.redSub(y),x=p.redAdd(y),k=g.redAdd(f),I=v.redMul(m),D=x.redMul(k),V=v.redMul(k),L=m.redMul(x);return this.curve.point(I,D,L,V)},h.prototype._projAdd=function(d){var f,g,y=this.z.redMul(d.z),p=y.redSqr(),v=this.x.redMul(d.x),m=this.y.redMul(d.y),x=this.curve.d.redMul(v).redMul(m),k=p.redSub(x),I=p.redAdd(x),D=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(v).redISub(m),V=y.redMul(k).redMul(D);return this.curve.twisted?(f=y.redMul(I).redMul(m.redSub(this.curve._mulA(v))),g=k.redMul(I)):(f=y.redMul(I).redMul(m.redSub(v)),g=this.curve._mulC(k).redMul(I)),this.curve.point(V,f,g)},h.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},h.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},h.prototype.mulAdd=function(d,f,g){return this.curve._wnafMulAdd(1,[this,f],[d,g],2,!1)},h.prototype.jmulAdd=function(d,f,g){return this.curve._wnafMulAdd(1,[this,f],[d,g],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},h.prototype.eqXToP=function(d){var f=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var g=d.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(y),this.x.cmp(f)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,r,o){var i=o;i.base=t("./base"),i.short=t("./short"),i.mont=t("./mont"),i.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,r,o){var i=t("bn.js"),a=t("inherits"),u=t("./base"),l=t("../utils");function s(h){u.call(this,"mont",h),this.a=new i(h.a,16).toRed(this.red),this.b=new i(h.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(h,d,f){u.BasePoint.call(this,h,"projective"),d===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(d,16),this.z=new i(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(s,u),r.exports=s,s.prototype.validate=function(h){var d=h.normalize().x,f=d.redSqr(),g=f.redMul(d).redAdd(f.redMul(this.a)).redAdd(d);return g.redSqrt().redSqr().cmp(g)===0},a(c,u.BasePoint),s.prototype.decodePoint=function(h,d){return this.point(l.toArray(h,d),1)},s.prototype.point=function(h,d){return new c(this,h,d)},s.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(h,d){return new c(h,d[0],d[1]||h.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),f=h.redSub(d),g=h.redMul(d),y=f.redMul(d.redAdd(this.curve.a24.redMul(f)));return this.curve.point(g,y)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(h,d){var f=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=h.x.redAdd(h.z),p=h.x.redSub(h.z).redMul(f),v=y.redMul(g),m=d.z.redMul(p.redAdd(v).redSqr()),x=d.x.redMul(p.redISub(v).redSqr());return this.curve.point(m,x)},c.prototype.mul=function(h){for(var d=h.clone(),f=this,g=this.curve.point(null,null),y=[];d.cmpn(0)!==0;d.iushrn(1))y.push(d.andln(1));for(var p=y.length-1;p>=0;p--)y[p]===0?(f=f.diffAdd(g,this),g=g.dbl()):(g=f.diffAdd(g,this),f=f.dbl());return g},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,r,o){var i=t("../utils"),a=t("bn.js"),u=t("inherits"),l=t("./base"),s=i.assert;function c(f){l.call(this,"short",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(f,g,y,p){l.BasePoint.call(this,f,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(y,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(f,g,y,p){l.BasePoint.call(this,f,"jacobian"),g===null&&y===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(y,16),this.z=new a(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u(c,l),r.exports=c,c.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(f.beta)g=new a(f.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(f.lambda)y=new a(f.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?y=v[0]:(y=v[1],s(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:f.basis?f.basis.map(function(m){return{a:new a(m.a,16),b:new a(m.b,16)}}):this._getEndoBasis(y)}}},c.prototype._getEndoRoots=function(f){var g=f===this.p?this.red:a.mont(f),y=new a(2).toRed(g).redInvm(),p=y.redNeg(),v=new a(3).toRed(g).redNeg().redSqrt().redMul(y);return[p.redAdd(v).fromRed(),p.redSub(v).fromRed()]},c.prototype._getEndoBasis=function(f){for(var g,y,p,v,m,x,k,I,D,V=this.n.ushrn(Math.floor(this.n.bitLength()/2)),L=f,z=this.n.clone(),B=new a(1),H=new a(0),$=new a(0),A=new a(1),P=0;L.cmpn(0)!==0;){var C=z.div(L);I=z.sub(C.mul(L)),D=$.sub(C.mul(B));var b=A.sub(C.mul(H));if(!p&&I.cmp(V)<0)g=k.neg(),y=B,p=I.neg(),v=D;else if(p&&++P==2)break;k=I,z=L,L=I,$=B,B=D,A=H,H=b}m=I.neg(),x=D;var _=p.sqr().add(v.sqr());return m.sqr().add(x.sqr()).cmp(_)>=0&&(m=g,x=y),p.negative&&(p=p.neg(),v=v.neg()),m.negative&&(m=m.neg(),x=x.neg()),[{a:p,b:v},{a:m,b:x}]},c.prototype._endoSplit=function(f){var g=this.endo.basis,y=g[0],p=g[1],v=p.b.mul(f).divRound(this.n),m=y.b.neg().mul(f).divRound(this.n),x=v.mul(y.a),k=m.mul(p.a),I=v.mul(y.b),D=m.mul(p.b);return{k1:f.sub(x).sub(k),k2:I.add(D).neg()}},c.prototype.pointFromX=function(f,g){(f=new a(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),p=y.redSqrt();if(p.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=p.fromRed().isOdd();return(g&&!v||!g&&v)&&(p=p.redNeg()),this.point(f,p)},c.prototype.validate=function(f){if(f.inf)return!0;var g=f.x,y=f.y,p=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return y.redSqr().redISub(v).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(f,g,y){for(var p=this._endoWnafT1,v=this._endoWnafT2,m=0;m<f.length;m++){var x=this._endoSplit(g[m]),k=f[m],I=k._getBeta();x.k1.negative&&(x.k1.ineg(),k=k.neg(!0)),x.k2.negative&&(x.k2.ineg(),I=I.neg(!0)),p[2*m]=k,p[2*m+1]=I,v[2*m]=x.k1,v[2*m+1]=x.k2}for(var D=this._wnafMulAdd(1,p,v,2*m,y),V=0;V<2*m;V++)p[V]=null,v[V]=null;return D},u(h,l.BasePoint),c.prototype.point=function(f,g,y){return new h(this,f,g,y)},c.prototype.pointFromJSON=function(f,g){return h.fromJSON(this,f,g)},h.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var y=this.curve,p=function(v){return y.point(v.x.redMul(y.endo.beta),v.y)};f.beta=g,g.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return g}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(f,g,y){typeof g=="string"&&(g=JSON.parse(g));var p=f.point(g[0],g[1],y);if(!g[2])return p;function v(x){return f.point(x[0],x[1],y)}var m=g[2];return p.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[p].concat(m.doubles.points.map(v))},naf:m.naf&&{wnd:m.naf.wnd,points:[p].concat(m.naf.points.map(v))}},p},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var g=this.y.redSub(f.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(f.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(f.x),p=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,p)},h.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),p=f.redInvm(),v=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(p),m=v.redSqr().redISub(this.x.redAdd(this.x)),x=v.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,x)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(f){return f=new a(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},h.prototype.mulAdd=function(f,g,y){var p=[this,g],v=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,v):this.curve._wnafMulAdd(1,p,v,2)},h.prototype.jmulAdd=function(f,g,y){var p=[this,g],v=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,v,!0):this.curve._wnafMulAdd(1,p,v,2,!0)},h.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},h.prototype.neg=function(f){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var y=this.precomputed,p=function(v){return v.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(p)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(p)}}}return g},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(d,l.BasePoint),c.prototype.jpoint=function(f,g,y){return new d(this,f,g,y)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),g=f.redSqr(),y=this.x.redMul(g),p=this.y.redMul(g).redMul(f);return this.curve.point(y,p)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var g=f.z.redSqr(),y=this.z.redSqr(),p=this.x.redMul(g),v=f.x.redMul(y),m=this.y.redMul(g.redMul(f.z)),x=f.y.redMul(y.redMul(this.z)),k=p.redSub(v),I=m.redSub(x);if(k.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=k.redSqr(),V=D.redMul(k),L=p.redMul(D),z=I.redSqr().redIAdd(V).redISub(L).redISub(L),B=I.redMul(L.redISub(z)).redISub(m.redMul(V)),H=this.z.redMul(f.z).redMul(k);return this.curve.jpoint(z,B,H)},d.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var g=this.z.redSqr(),y=this.x,p=f.x.redMul(g),v=this.y,m=f.y.redMul(g).redMul(this.z),x=y.redSub(p),k=v.redSub(m);if(x.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=x.redSqr(),D=I.redMul(x),V=y.redMul(I),L=k.redSqr().redIAdd(D).redISub(V).redISub(V),z=k.redMul(V.redISub(L)).redISub(v.redMul(D)),B=this.z.redMul(x);return this.curve.jpoint(L,z,B)},d.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<f;g++)y=y.dbl();return y}var p=this.curve.a,v=this.curve.tinv,m=this.x,x=this.y,k=this.z,I=k.redSqr().redSqr(),D=x.redAdd(x);for(g=0;g<f;g++){var V=m.redSqr(),L=D.redSqr(),z=L.redSqr(),B=V.redAdd(V).redIAdd(V).redIAdd(p.redMul(I)),H=m.redMul(L),$=B.redSqr().redISub(H.redAdd(H)),A=H.redISub($),P=B.redMul(A);P=P.redIAdd(P).redISub(z);var C=D.redMul(k);g+1<f&&(I=I.redMul(z)),m=$,k=C,D=P}return this.curve.jpoint(m,D.redMul(v),k)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var f,g,y;if(this.zOne){var p=this.x.redSqr(),v=this.y.redSqr(),m=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(p).redISub(m);x=x.redIAdd(x);var k=p.redAdd(p).redIAdd(p),I=k.redSqr().redISub(x).redISub(x),D=m.redIAdd(m);D=(D=D.redIAdd(D)).redIAdd(D),f=I,g=k.redMul(x.redISub(I)).redISub(D),y=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),L=this.y.redSqr(),z=L.redSqr(),B=this.x.redAdd(L).redSqr().redISub(V).redISub(z);B=B.redIAdd(B);var H=V.redAdd(V).redIAdd(V),$=H.redSqr(),A=z.redIAdd(z);A=(A=A.redIAdd(A)).redIAdd(A),f=$.redISub(B).redISub(B),g=H.redMul(B.redISub(f)).redISub(A),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(f,g,y)},d.prototype._threeDbl=function(){var f,g,y;if(this.zOne){var p=this.x.redSqr(),v=this.y.redSqr(),m=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(p).redISub(m);x=x.redIAdd(x);var k=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),I=k.redSqr().redISub(x).redISub(x);f=I;var D=m.redIAdd(m);D=(D=D.redIAdd(D)).redIAdd(D),g=k.redMul(x.redISub(I)).redISub(D),y=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),L=this.y.redSqr(),z=this.x.redMul(L),B=this.x.redSub(V).redMul(this.x.redAdd(V));B=B.redAdd(B).redIAdd(B);var H=z.redIAdd(z),$=(H=H.redIAdd(H)).redAdd(H);f=B.redSqr().redISub($),y=this.y.redAdd(this.z).redSqr().redISub(L).redISub(V);var A=L.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),g=B.redMul(H.redISub(f)).redISub(A)}return this.curve.jpoint(f,g,y)},d.prototype._dbl=function(){var f=this.curve.a,g=this.x,y=this.y,p=this.z,v=p.redSqr().redSqr(),m=g.redSqr(),x=y.redSqr(),k=m.redAdd(m).redIAdd(m).redIAdd(f.redMul(v)),I=g.redAdd(g),D=(I=I.redIAdd(I)).redMul(x),V=k.redSqr().redISub(D.redAdd(D)),L=D.redISub(V),z=x.redSqr();z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var B=k.redMul(L).redISub(z),H=y.redAdd(y).redMul(p);return this.curve.jpoint(V,B,H)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),p=g.redSqr(),v=f.redAdd(f).redIAdd(f),m=v.redSqr(),x=this.x.redAdd(g).redSqr().redISub(f).redISub(p),k=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(m)).redSqr(),I=p.redIAdd(p);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var D=v.redIAdd(x).redSqr().redISub(m).redISub(k).redISub(I),V=g.redMul(D);V=(V=V.redIAdd(V)).redIAdd(V);var L=this.x.redMul(k).redISub(V);L=(L=L.redIAdd(L)).redIAdd(L);var z=this.y.redMul(D.redMul(I.redISub(D)).redISub(x.redMul(k)));z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var B=this.z.redAdd(x).redSqr().redISub(y).redISub(k);return this.curve.jpoint(L,z,B)},d.prototype.mul=function(f,g){return f=new a(f,g),this.curve._wnafMul(this,f)},d.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var g=this.z.redSqr(),y=f.z.redSqr();if(this.x.redMul(y).redISub(f.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),v=y.redMul(f.z);return this.y.redMul(v).redISub(f.y.redMul(p)).cmpn(0)===0},d.prototype.eqXToP=function(f){var g=this.z.redSqr(),y=f.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var p=f.clone(),v=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(v),this.x.cmp(y)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,r,o){var i,a=o,u=t("hash.js"),l=t("./curve"),s=t("./utils").assert;function c(d){d.type==="short"?this.curve=new l.short(d):d.type==="edwards"?this.curve=new l.edwards(d):this.curve=new l.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(d,f){Object.defineProperty(a,d,{configurable:!0,enumerable:!0,get:function(){var g=new c(f);return Object.defineProperty(a,d,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=t("./precomputed/secp256k1")}catch{i=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,r,o){var i=t("bn.js"),a=t("hmac-drbg"),u=t("../utils"),l=t("../curves"),s=t("brorand"),c=u.assert,h=t("./key"),d=t("./signature");function f(g){if(!(this instanceof f))return new f(g);typeof g=="string"&&(c(Object.prototype.hasOwnProperty.call(l,g),"Unknown curve "+g),g=l[g]),g instanceof l.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}r.exports=f,f.prototype.keyPair=function(g){return new h(this,g)},f.prototype.keyFromPrivate=function(g,y){return h.fromPrivate(this,g,y)},f.prototype.keyFromPublic=function(g,y){return h.fromPublic(this,g,y)},f.prototype.genKeyPair=function(g){g||(g={});for(var y=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||s(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),v=this.n.sub(new i(2));;){var m=new i(y.generate(p));if(!(m.cmp(v)>0))return m.iaddn(1),this.keyFromPrivate(m)}},f.prototype._truncateToN=function(g,y){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},f.prototype.sign=function(g,y,p,v){typeof p=="object"&&(v=p,p=null),v||(v={}),y=this.keyFromPrivate(y,p),g=this._truncateToN(new i(g,16));for(var m=this.n.byteLength(),x=y.getPrivate().toArray("be",m),k=g.toArray("be",m),I=new a({hash:this.hash,entropy:x,nonce:k,pers:v.pers,persEnc:v.persEnc||"utf8"}),D=this.n.sub(new i(1)),V=0;;V++){var L=v.k?v.k(V):new i(I.generate(this.n.byteLength()));if(!((L=this._truncateToN(L,!0)).cmpn(1)<=0||L.cmp(D)>=0)){var z=this.g.mul(L);if(!z.isInfinity()){var B=z.getX(),H=B.umod(this.n);if(H.cmpn(0)!==0){var $=L.invm(this.n).mul(H.mul(y.getPrivate()).iadd(g));if(($=$.umod(this.n)).cmpn(0)!==0){var A=(z.getY().isOdd()?1:0)|(B.cmp(H)!==0?2:0);return v.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),A^=1),new d({r:H,s:$,recoveryParam:A})}}}}}},f.prototype.verify=function(g,y,p,v){g=this._truncateToN(new i(g,16)),p=this.keyFromPublic(p,v);var m=(y=new d(y,"hex")).r,x=y.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var k,I=x.invm(this.n),D=I.mul(g).umod(this.n),V=I.mul(m).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(D,p.getPublic(),V)).isInfinity()&&k.eqXToP(m):!(k=this.g.mulAdd(D,p.getPublic(),V)).isInfinity()&&k.getX().umod(this.n).cmp(m)===0},f.prototype.recoverPubKey=function(g,y,p,v){c((3&p)===p,"The recovery param is more than two bits"),y=new d(y,v);var m=this.n,x=new i(g),k=y.r,I=y.s,D=1&p,V=p>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw new Error("Unable to find sencond key candinate");k=V?this.curve.pointFromX(k.add(this.curve.n),D):this.curve.pointFromX(k,D);var L=y.r.invm(m),z=m.sub(x).mul(L).umod(m),B=I.mul(L).umod(m);return this.g.mulAdd(z,k,B)},f.prototype.getKeyRecoveryParam=function(g,y,p,v){if((y=new d(y,v)).recoveryParam!==null)return y.recoveryParam;for(var m=0;m<4;m++){var x;try{x=this.recoverPubKey(g,y,m)}catch{continue}if(x.eq(p))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,r,o){var i=t("bn.js"),a=t("../utils").assert;function u(l,s){this.ec=l,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}r.exports=u,u.fromPublic=function(l,s,c){return s instanceof u?s:new u(l,{pub:s,pubEnc:c})},u.fromPrivate=function(l,s,c){return s instanceof u?s:new u(l,{priv:s,privEnc:c})},u.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(l,s){return typeof l=="string"&&(s=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),s?this.pub.encode(s,l):this.pub},u.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(l,s){this.priv=new i(l,s||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(l,s){if(l.x||l.y)return this.ec.curve.type==="mont"?a(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,s)},u.prototype.derive=function(l){return l.validate()||a(l.validate(),"public point not validated"),l.mul(this.priv).getX()},u.prototype.sign=function(l,s,c){return this.ec.sign(l,this,s,c)},u.prototype.verify=function(l,s){return this.ec.verify(l,s,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,r,o){var i=t("bn.js"),a=t("../utils"),u=a.assert;function l(f,g){if(f instanceof l)return f;this._importDER(f,g)||(u(f.r&&f.s,"Signature without r or s"),this.r=new i(f.r,16),this.s=new i(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function s(){this.place=0}function c(f,g){var y=f[g.place++];if(!(128&y))return y;var p=15&y;if(p===0||p>4)return!1;for(var v=0,m=0,x=g.place;m<p;m++,x++)v<<=8,v|=f[x],v>>>=0;return!(v<=127)&&(g.place=x,v)}function h(f){for(var g=0,y=f.length-1;!f[g]&&!(128&f[g+1])&&g<y;)g++;return g===0?f:f.slice(g)}function d(f,g){if(g<128)f.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(f.push(128|y);--y;)f.push(g>>>(y<<3)&255);f.push(g)}}r.exports=l,l.prototype._importDER=function(f,g){f=a.toArray(f,g);var y=new s;if(f[y.place++]!==48)return!1;var p=c(f,y);if(p===!1||p+y.place!==f.length||f[y.place++]!==2)return!1;var v=c(f,y);if(v===!1)return!1;var m=f.slice(y.place,v+y.place);if(y.place+=v,f[y.place++]!==2)return!1;var x=c(f,y);if(x===!1||f.length!==x+y.place)return!1;var k=f.slice(y.place,x+y.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new i(m),this.s=new i(k),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=h(g),y=h(y);!(y[0]||128&y[1]);)y=y.slice(1);var p=[2];d(p,g.length),(p=p.concat(g)).push(2),d(p,y.length);var v=p.concat(y),m=[48];return d(m,v.length),m=m.concat(v),a.encode(m,f)}},{"../utils":419,"bn.js":420}],415:[function(t,r,o){var i=t("hash.js"),a=t("../curves"),u=t("../utils"),l=u.assert,s=u.parseBytes,c=t("./key"),h=t("./signature");function d(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(f);f=a[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=i.sha512}r.exports=d,d.prototype.sign=function(f,g){f=s(f);var y=this.keyFromSecret(g),p=this.hashInt(y.messagePrefix(),f),v=this.g.mul(p),m=this.encodePoint(v),x=this.hashInt(m,y.pubBytes(),f).mul(y.priv()),k=p.add(x).umod(this.curve.n);return this.makeSignature({R:v,S:k,Rencoded:m})},d.prototype.verify=function(f,g,y){f=s(f),g=this.makeSignature(g);var p=this.keyFromPublic(y),v=this.hashInt(g.Rencoded(),p.pubBytes(),f),m=this.g.mul(g.S());return g.R().add(p.pub().mul(v)).eq(m)},d.prototype.hashInt=function(){for(var f=this.hash(),g=0;g<arguments.length;g++)f.update(arguments[g]);return u.intFromLE(f.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(f){return c.fromPublic(this,f)},d.prototype.keyFromSecret=function(f){return c.fromSecret(this,f)},d.prototype.makeSignature=function(f){return f instanceof h?f:new h(this,f)},d.prototype.encodePoint=function(f){var g=f.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=f.getX().isOdd()?128:0,g},d.prototype.decodePoint=function(f){var g=(f=u.parseBytes(f)).length-1,y=f.slice(0,g).concat(-129&f[g]),p=(128&f[g])!=0,v=u.intFromLE(y);return this.curve.pointFromY(v,p)},d.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(f){return u.intFromLE(f)},d.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,r,o){var i=t("../utils"),a=i.assert,u=i.parseBytes,l=i.cachedProperty;function s(c,h){this.eddsa=c,this._secret=u(h.secret),c.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=u(h.pub)}s.fromPublic=function(c,h){return h instanceof s?h:new s(c,{pub:h})},s.fromSecret=function(c,h){return h instanceof s?h:new s(c,{secret:h})},s.prototype.secret=function(){return this._secret},l(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(s,"privBytes",function(){var c=this.eddsa,h=this.hash(),d=c.encodingLength-1,f=h.slice(0,c.encodingLength);return f[0]&=248,f[d]&=127,f[d]|=64,f}),l(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(c){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},s.prototype.verify=function(c,h){return this.eddsa.verify(c,h,this)},s.prototype.getSecret=function(c){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),c)},s.prototype.getPublic=function(c){return i.encode(this.pubBytes(),c)},r.exports=s},{"../utils":419}],417:[function(t,r,o){var i=t("bn.js"),a=t("../utils"),u=a.assert,l=a.cachedProperty,s=a.parseBytes;function c(h,d){this.eddsa=h,typeof d!="object"&&(d=s(d)),Array.isArray(d)&&(d={R:d.slice(0,h.encodingLength),S:d.slice(h.encodingLength)}),u(d.R&&d.S,"Signature without R or S"),h.isPoint(d.R)&&(this._R=d.R),d.S instanceof i&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}l(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},r.exports=c},{"../utils":419,"bn.js":420}],418:[function(t,r,o){r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,r,o){var i=o,a=t("bn.js"),u=t("minimalistic-assert"),l=t("minimalistic-crypto-utils");i.assert=u,i.toArray=l.toArray,i.zero2=l.zero2,i.toHex=l.toHex,i.encode=l.encode,i.getNAF=function(s,c,h){var d=new Array(Math.max(s.bitLength(),h)+1);d.fill(0);for(var f=1<<c+1,g=s.clone(),y=0;y<d.length;y++){var p,v=g.andln(f-1);g.isOdd()?(p=v>(f>>1)-1?(f>>1)-v:v,g.isubn(p)):p=0,d[y]=p,g.iushrn(1)}return d},i.getJSF=function(s,c){var h=[[],[]];s=s.clone(),c=c.clone();for(var d,f=0,g=0;s.cmpn(-f)>0||c.cmpn(-g)>0;){var y,p,v=s.andln(3)+f&3,m=c.andln(3)+g&3;v===3&&(v=-1),m===3&&(m=-1),y=1&v?(d=s.andln(7)+f&7)!==3&&d!==5||m!==2?v:-v:0,h[0].push(y),p=1&m?(d=c.andln(7)+g&7)!==3&&d!==5||v!==2?m:-m:0,h[1].push(p),2*f===y+1&&(f=1-f),2*g===p+1&&(g=1-g),s.iushrn(1),c.iushrn(1)}return h},i.cachedProperty=function(s,c,h){var d="_"+c;s.prototype[c]=function(){return this[d]!==void 0?this[d]:this[d]=h.call(this)}},i.parseBytes=function(s){return typeof s=="string"?i.toArray(s,"hex"):s},i.intFromLE=function(s){return new a(s,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,r,o){arguments[4][184][0].apply(o,arguments)},{buffer:188,dup:184}],421:[function(t,r,o){r.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,r,o){var i=Object.create||function(L){var z=function(){};return z.prototype=L,new z},a=Object.keys||function(L){var z=[];for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&z.push(B);return B},u=Function.prototype.bind||function(L){var z=this;return function(){return z.apply(L,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var s,c=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),s=h.x===0}catch{s=!1}function d(L){return L._maxListeners===void 0?l.defaultMaxListeners:L._maxListeners}function f(L,z,B){if(z)L.call(B);else for(var H=L.length,$=V(L,H),A=0;A<H;++A)$[A].call(B)}function g(L,z,B,H){if(z)L.call(B,H);else for(var $=L.length,A=V(L,$),P=0;P<$;++P)A[P].call(B,H)}function y(L,z,B,H,$){if(z)L.call(B,H,$);else for(var A=L.length,P=V(L,A),C=0;C<A;++C)P[C].call(B,H,$)}function p(L,z,B,H,$,A){if(z)L.call(B,H,$,A);else for(var P=L.length,C=V(L,P),b=0;b<P;++b)C[b].call(B,H,$,A)}function v(L,z,B,H){if(z)L.apply(B,H);else for(var $=L.length,A=V(L,$),P=0;P<$;++P)A[P].apply(B,H)}function m(L,z,B,H){var $,A,P;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if((A=L._events)?(A.newListener&&(L.emit("newListener",z,B.listener?B.listener:B),A=L._events),P=A[z]):(A=L._events=i(null),L._eventsCount=0),P){if(typeof P=="function"?P=A[z]=H?[B,P]:[P,B]:H?P.unshift(B):P.push(B),!P.warned&&($=d(L))&&$>0&&P.length>$){P.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=L,C.type=z,C.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else P=A[z]=B,++L._eventsCount;return L}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var L=new Array(arguments.length),z=0;z<L.length;++z)L[z]=arguments[z];this.listener.apply(this.target,L)}}function k(L,z,B){var H={fired:!1,wrapFn:void 0,target:L,type:z,listener:B},$=u.call(x,H);return $.listener=B,H.wrapFn=$,$}function I(L,z,B){var H=L._events;if(!H)return[];var $=H[z];return $?typeof $=="function"?B?[$.listener||$]:[$]:B?function(A){for(var P=new Array(A.length),C=0;C<P.length;++C)P[C]=A[C].listener||A[C];return P}($):V($,$.length):[]}function D(L){var z=this._events;if(z){var B=z[L];if(typeof B=="function")return 1;if(B)return B.length}return 0}function V(L,z){for(var B=new Array(z),H=0;H<z;++H)B[H]=L[H];return B}s?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(L){if(typeof L!="number"||L<0||L!=L)throw new TypeError('"defaultMaxListeners" must be a positive number');c=L}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||isNaN(L))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=L,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(L){var z,B,H,$,A,P,C=L==="error";if(P=this._events)C=C&&P.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var b=new Error('Unhandled "error" event. ('+z+")");throw b.context=z,b}if(!(B=P[L]))return!1;var _=typeof B=="function";switch(H=arguments.length){case 1:f(B,_,this);break;case 2:g(B,_,this,arguments[1]);break;case 3:y(B,_,this,arguments[1],arguments[2]);break;case 4:p(B,_,this,arguments[1],arguments[2],arguments[3]);break;default:for($=new Array(H-1),A=1;A<H;A++)$[A-1]=arguments[A];v(B,_,this,$)}return!0},l.prototype.addListener=function(L,z){return m(this,L,z,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(L,z){return m(this,L,z,!0)},l.prototype.once=function(L,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.on(L,k(this,L,z)),this},l.prototype.prependOnceListener=function(L,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(L,k(this,L,z)),this},l.prototype.removeListener=function(L,z){var B,H,$,A,P;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(!(H=this._events))return this;if(!(B=H[L]))return this;if(B===z||B.listener===z)--this._eventsCount==0?this._events=i(null):(delete H[L],H.removeListener&&this.emit("removeListener",L,B.listener||z));else if(typeof B!="function"){for($=-1,A=B.length-1;A>=0;A--)if(B[A]===z||B[A].listener===z){P=B[A].listener,$=A;break}if($<0)return this;$===0?B.shift():function(C,b){for(var _=b,w=_+1,S=C.length;w<S;_+=1,w+=1)C[_]=C[w];C.pop()}(B,$),B.length===1&&(H[L]=B[0]),H.removeListener&&this.emit("removeListener",L,P||z)}return this},l.prototype.removeAllListeners=function(L){var z,B,H;if(!(B=this._events))return this;if(!B.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):B[L]&&(--this._eventsCount==0?this._events=i(null):delete B[L]),this;if(arguments.length===0){var $,A=a(B);for(H=0;H<A.length;++H)($=A[H])!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(z=B[L])=="function")this.removeListener(L,z);else if(z)for(H=z.length-1;H>=0;H--)this.removeListener(L,z[H]);return this},l.prototype.listeners=function(L){return I(this,L,!0)},l.prototype.rawListeners=function(L){return I(this,L,!1)},l.listenerCount=function(L,z){return typeof L.listenerCount=="function"?L.listenerCount(z):D.call(L,z)},l.prototype.listenerCount=D,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("md5.js");r.exports=function(u,l,s,c){if(i.isBuffer(u)||(u=i.from(u,"binary")),l&&(i.isBuffer(l)||(l=i.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=s/8,d=i.alloc(h),f=i.alloc(c||0),g=i.alloc(0);h>0||c>0;){var y=new a;y.update(g),y.update(u),l&&y.update(l),g=y.digest();var p=0;if(h>0){var v=d.length-h;p=Math.min(h,g.length),g.copy(d,v,0,p),h-=p}if(p<g.length&&c>0){var m=f.length-c,x=Math.min(c,g.length-p);g.copy(f,m,p,p+x),c-=x}}return g.fill(0),{key:d,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.CsvParserStream=o.ParserOptions=o.parseFile=o.parseStream=o.parseString=o.parse=o.FormatterOptions=o.CsvFormatterStream=o.writeToPath=o.writeToString=o.writeToBuffer=o.writeToStream=o.write=o.format=void 0;var i=t("@fast-csv/format");Object.defineProperty(o,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(o,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(o,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(o,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(o,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(o,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(o,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(o,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=t("@fast-csv/parse");Object.defineProperty(o,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(o,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(o,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(o,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(o,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(o,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("readable-stream").Transform;function u(l){a.call(this),this._block=i.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(u,a),u.prototype._transform=function(l,s,c){var h=null;try{this.update(l,s)}catch(d){h=d}c(h)},u.prototype._flush=function(l){var s=null;try{this.push(this.digest())}catch(c){s=c}l(s)},u.prototype.update=function(l,s){if(function(y,p){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(p+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(l)||(l=i.from(l,s));for(var c=this._block,h=0;this._blockOffset+l.length-h>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)c[d++]=l[h++];this._update(),this._blockOffset=0}for(;h<l.length;)c[this._blockOffset++]=l[h++];for(var f=0,g=8*l.length;g>0;++f)this._length[f]+=g,(g=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*g);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var s=this._digest();l!==void 0&&(s=s.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return s},u.prototype._digest=function(){throw new Error("_digest is not implemented")},r.exports=u},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,r,o){var i=o;i.utils=t("./hash/utils"),i.common=t("./hash/common"),i.sha=t("./hash/sha"),i.ripemd=t("./hash/ripemd"),i.hmac=t("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,r,o){var i=t("./utils"),a=t("minimalistic-assert");function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}o.BlockHash=u,u.prototype.update=function(l,s){if(l=i.toArray(l,s),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var c=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=i.join32(l,0,l.length-c,this.endian);for(var h=0;h<l.length;h+=this._delta32)this._update(l,h,h+this._delta32)}return this},u.prototype.digest=function(l){return this.update(this._pad()),a(this.pending===null),this._digest(l)},u.prototype._pad=function(){var l=this.pendingTotal,s=this._delta8,c=s-(l+this.padLength)%s,h=new Array(c+this.padLength);h[0]=128;for(var d=1;d<c;d++)h[d]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)h[d++]=0;h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=l>>>24&255,h[d++]=l>>>16&255,h[d++]=l>>>8&255,h[d++]=255&l}else for(h[d++]=255&l,h[d++]=l>>>8&255,h[d++]=l>>>16&255,h[d++]=l>>>24&255,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,f=8;f<this.padLength;f++)h[d++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,r,o){var i=t("./utils"),a=t("minimalistic-assert");function u(l,s,c){if(!(this instanceof u))return new u(l,s,c);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(s,c))}r.exports=u,u.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),a(l.length<=this.blockSize);for(var s=l.length;s<this.blockSize;s++)l.push(0);for(s=0;s<l.length;s++)l[s]^=54;for(this.inner=new this.Hash().update(l),s=0;s<l.length;s++)l[s]^=106;this.outer=new this.Hash().update(l)},u.prototype.update=function(l,s){return this.inner.update(l,s),this},u.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,r,o){var i=t("./utils"),a=t("./common"),u=i.rotl32,l=i.sum32,s=i.sum32_3,c=i.sum32_4,h=a.BlockHash;function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(k,I,D,V){return k<=15?I^D^V:k<=31?I&D|~I&V:k<=47?(I|~D)^V:k<=63?I&V|D&~V:I^(D|~V)}function g(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function y(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}i.inherits(d,h),o.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(k,I){for(var D=this.h[0],V=this.h[1],L=this.h[2],z=this.h[3],B=this.h[4],H=D,$=V,A=L,P=z,C=B,b=0;b<80;b++){var _=l(u(c(D,f(b,V,L,z),k[p[b]+I],g(b)),m[b]),B);D=B,B=z,z=u(L,10),L=V,V=_,_=l(u(c(H,f(79-b,$,A,P),k[v[b]+I],y(b)),x[b]),C),H=C,C=P,P=u(A,10),A=$,$=_}_=s(this.h[1],L,P),this.h[1]=s(this.h[2],z,C),this.h[2]=s(this.h[3],B,H),this.h[3]=s(this.h[4],D,$),this.h[4]=s(this.h[0],V,A),this.h[0]=_},d.prototype._digest=function(k){return k==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,r,o){o.sha1=t("./sha/1"),o.sha224=t("./sha/224"),o.sha256=t("./sha/256"),o.sha384=t("./sha/384"),o.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,r,o){var i=t("../utils"),a=t("../common"),u=t("./common"),l=i.rotl32,s=i.sum32,c=i.sum32_5,h=u.ft_1,d=a.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,d),r.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,p){for(var v=this.W,m=0;m<16;m++)v[m]=y[p+m];for(;m<v.length;m++)v[m]=l(v[m-3]^v[m-8]^v[m-14]^v[m-16],1);var x=this.h[0],k=this.h[1],I=this.h[2],D=this.h[3],V=this.h[4];for(m=0;m<v.length;m++){var L=~~(m/20),z=c(l(x,5),h(L,k,I,D),V,v[m],f[L]);V=D,D=I,I=l(k,30),k=x,x=z}this.h[0]=s(this.h[0],x),this.h[1]=s(this.h[1],k),this.h[2]=s(this.h[2],I),this.h[3]=s(this.h[3],D),this.h[4]=s(this.h[4],V)},g.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,r,o){var i=t("../utils"),a=t("./256");function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(u,a),r.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(l){return l==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,r,o){var i=t("../utils"),a=t("../common"),u=t("./common"),l=t("minimalistic-assert"),s=i.sum32,c=i.sum32_4,h=i.sum32_5,d=u.ch32,f=u.maj32,g=u.s0_256,y=u.s1_256,p=u.g0_256,v=u.g1_256,m=a.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}i.inherits(k,m),r.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(I,D){for(var V=this.W,L=0;L<16;L++)V[L]=I[D+L];for(;L<V.length;L++)V[L]=c(v(V[L-2]),V[L-7],p(V[L-15]),V[L-16]);var z=this.h[0],B=this.h[1],H=this.h[2],$=this.h[3],A=this.h[4],P=this.h[5],C=this.h[6],b=this.h[7];for(l(this.k.length===V.length),L=0;L<V.length;L++){var _=h(b,y(A),d(A,P,C),this.k[L],V[L]),w=s(g(z),f(z,B,H));b=C,C=P,P=A,A=s($,_),$=H,H=B,B=z,z=s(_,w)}this.h[0]=s(this.h[0],z),this.h[1]=s(this.h[1],B),this.h[2]=s(this.h[2],H),this.h[3]=s(this.h[3],$),this.h[4]=s(this.h[4],A),this.h[5]=s(this.h[5],P),this.h[6]=s(this.h[6],C),this.h[7]=s(this.h[7],b)},k.prototype._digest=function(I){return I==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,r,o){var i=t("../utils"),a=t("./512");function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(u,a),r.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(l){return l==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,r,o){var i=t("../utils"),a=t("../common"),u=t("minimalistic-assert"),l=i.rotr64_hi,s=i.rotr64_lo,c=i.shr64_hi,h=i.shr64_lo,d=i.sum64,f=i.sum64_hi,g=i.sum64_lo,y=i.sum64_4_hi,p=i.sum64_4_lo,v=i.sum64_5_hi,m=i.sum64_5_lo,x=a.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function D(w,S,N,O,U){var G=w&N^~w&U;return G<0&&(G+=4294967296),G}function V(w,S,N,O,U,G){var W=S&O^~S&G;return W<0&&(W+=4294967296),W}function L(w,S,N,O,U){var G=w&N^w&U^N&U;return G<0&&(G+=4294967296),G}function z(w,S,N,O,U,G){var W=S&O^S&G^O&G;return W<0&&(W+=4294967296),W}function B(w,S){var N=l(w,S,28)^l(S,w,2)^l(S,w,7);return N<0&&(N+=4294967296),N}function H(w,S){var N=s(w,S,28)^s(S,w,2)^s(S,w,7);return N<0&&(N+=4294967296),N}function $(w,S){var N=l(w,S,14)^l(w,S,18)^l(S,w,9);return N<0&&(N+=4294967296),N}function A(w,S){var N=s(w,S,14)^s(w,S,18)^s(S,w,9);return N<0&&(N+=4294967296),N}function P(w,S){var N=l(w,S,1)^l(w,S,8)^c(w,S,7);return N<0&&(N+=4294967296),N}function C(w,S){var N=s(w,S,1)^s(w,S,8)^h(w,S,7);return N<0&&(N+=4294967296),N}function b(w,S){var N=l(w,S,19)^l(S,w,29)^c(w,S,6);return N<0&&(N+=4294967296),N}function _(w,S){var N=s(w,S,19)^s(S,w,29)^h(w,S,6);return N<0&&(N+=4294967296),N}i.inherits(I,x),r.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(w,S){for(var N=this.W,O=0;O<32;O++)N[O]=w[S+O];for(;O<N.length;O+=2){var U=b(N[O-4],N[O-3]),G=_(N[O-4],N[O-3]),W=N[O-14],J=N[O-13],F=P(N[O-30],N[O-29]),Y=C(N[O-30],N[O-29]),j=N[O-32],R=N[O-31];N[O]=y(U,G,W,J,F,Y,j,R),N[O+1]=p(U,G,W,J,F,Y,j,R)}},I.prototype._update=function(w,S){this._prepareBlock(w,S);var N=this.W,O=this.h[0],U=this.h[1],G=this.h[2],W=this.h[3],J=this.h[4],F=this.h[5],Y=this.h[6],j=this.h[7],R=this.h[8],q=this.h[9],K=this.h[10],Q=this.h[11],X=this.h[12],ee=this.h[13],ie=this.h[14],ae=this.h[15];u(this.k.length===N.length);for(var Z=0;Z<N.length;Z+=2){var re=ie,ne=ae,ue=$(R,q),le=A(R,q),de=D(R,q,K,Q,X),he=V(R,q,K,Q,X,ee),pe=this.k[Z],ye=this.k[Z+1],Ae=N[Z],Ne=N[Z+1],ke=v(re,ne,ue,le,de,he,pe,ye,Ae,Ne),Ve=m(re,ne,ue,le,de,he,pe,ye,Ae,Ne);re=B(O,U),ne=H(O,U),ue=L(O,U,G,W,J),le=z(O,U,G,W,J,F);var Ue=f(re,ne,ue,le),ze=g(re,ne,ue,le);ie=X,ae=ee,X=K,ee=Q,K=R,Q=q,R=f(Y,j,ke,Ve),q=g(j,j,ke,Ve),Y=J,j=F,J=G,F=W,G=O,W=U,O=f(ke,Ve,Ue,ze),U=g(ke,Ve,Ue,ze)}d(this.h,0,O,U),d(this.h,2,G,W),d(this.h,4,J,F),d(this.h,6,Y,j),d(this.h,8,R,q),d(this.h,10,K,Q),d(this.h,12,X,ee),d(this.h,14,ie,ae)},I.prototype._digest=function(w){return w==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,r,o){var i=t("../utils").rotr32;function a(s,c,h){return s&c^~s&h}function u(s,c,h){return s&c^s&h^c&h}function l(s,c,h){return s^c^h}o.ft_1=function(s,c,h,d){return s===0?a(c,h,d):s===1||s===3?l(c,h,d):s===2?u(c,h,d):void 0},o.ch32=a,o.maj32=u,o.p32=l,o.s0_256=function(s){return i(s,2)^i(s,13)^i(s,22)},o.s1_256=function(s){return i(s,6)^i(s,11)^i(s,25)},o.g0_256=function(s){return i(s,7)^i(s,18)^s>>>3},o.g1_256=function(s){return i(s,17)^i(s,19)^s>>>10}},{"../utils":437}],437:[function(t,r,o){var i=t("minimalistic-assert"),a=t("inherits");function u(h,d){return(64512&h.charCodeAt(d))==55296&&!(d<0||d+1>=h.length)&&(64512&h.charCodeAt(d+1))==56320}function l(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function s(h){return h.length===1?"0"+h:h}function c(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}o.inherits=a,o.toArray=function(h,d){if(Array.isArray(h))return h.slice();if(!h)return[];var f=[];if(typeof h=="string")if(d){if(d==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),y=0;y<h.length;y+=2)f.push(parseInt(h[y]+h[y+1],16))}else for(var g=0,y=0;y<h.length;y++){var p=h.charCodeAt(y);p<128?f[g++]=p:p<2048?(f[g++]=p>>6|192,f[g++]=63&p|128):u(h,y)?(p=65536+((1023&p)<<10)+(1023&h.charCodeAt(++y)),f[g++]=p>>18|240,f[g++]=p>>12&63|128,f[g++]=p>>6&63|128,f[g++]=63&p|128):(f[g++]=p>>12|224,f[g++]=p>>6&63|128,f[g++]=63&p|128)}else for(y=0;y<h.length;y++)f[y]=0|h[y];return f},o.toHex=function(h){for(var d="",f=0;f<h.length;f++)d+=s(h[f].toString(16));return d},o.htonl=l,o.toHex32=function(h,d){for(var f="",g=0;g<h.length;g++){var y=h[g];d==="little"&&(y=l(y)),f+=c(y.toString(16))}return f},o.zero2=s,o.zero8=c,o.join32=function(h,d,f,g){var y=f-d;i(y%4==0);for(var p=new Array(y/4),v=0,m=d;v<p.length;v++,m+=4){var x;x=g==="big"?h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3]:h[m+3]<<24|h[m+2]<<16|h[m+1]<<8|h[m],p[v]=x>>>0}return p},o.split32=function(h,d){for(var f=new Array(4*h.length),g=0,y=0;g<h.length;g++,y+=4){var p=h[g];d==="big"?(f[y]=p>>>24,f[y+1]=p>>>16&255,f[y+2]=p>>>8&255,f[y+3]=255&p):(f[y+3]=p>>>24,f[y+2]=p>>>16&255,f[y+1]=p>>>8&255,f[y]=255&p)}return f},o.rotr32=function(h,d){return h>>>d|h<<32-d},o.rotl32=function(h,d){return h<<d|h>>>32-d},o.sum32=function(h,d){return h+d>>>0},o.sum32_3=function(h,d,f){return h+d+f>>>0},o.sum32_4=function(h,d,f,g){return h+d+f+g>>>0},o.sum32_5=function(h,d,f,g,y){return h+d+f+g+y>>>0},o.sum64=function(h,d,f,g){var y=h[d],p=g+h[d+1]>>>0,v=(p<g?1:0)+f+y;h[d]=v>>>0,h[d+1]=p},o.sum64_hi=function(h,d,f,g){return(d+g>>>0<d?1:0)+h+f>>>0},o.sum64_lo=function(h,d,f,g){return d+g>>>0},o.sum64_4_hi=function(h,d,f,g,y,p,v,m){var x=0,k=d;return x+=(k=k+g>>>0)<d?1:0,x+=(k=k+p>>>0)<p?1:0,h+f+y+v+(x+=(k=k+m>>>0)<m?1:0)>>>0},o.sum64_4_lo=function(h,d,f,g,y,p,v,m){return d+g+p+m>>>0},o.sum64_5_hi=function(h,d,f,g,y,p,v,m,x,k){var I=0,D=d;return I+=(D=D+g>>>0)<d?1:0,I+=(D=D+p>>>0)<p?1:0,I+=(D=D+m>>>0)<m?1:0,h+f+y+v+x+(I+=(D=D+k>>>0)<k?1:0)>>>0},o.sum64_5_lo=function(h,d,f,g,y,p,v,m,x,k){return d+g+p+m+k>>>0},o.rotr64_hi=function(h,d,f){return(d<<32-f|h>>>f)>>>0},o.rotr64_lo=function(h,d,f){return(h<<32-f|d>>>f)>>>0},o.shr64_hi=function(h,d,f){return h>>>f},o.shr64_lo=function(h,d,f){return(h<<32-f|d>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,r,o){var i=t("hash.js"),a=t("minimalistic-crypto-utils"),u=t("minimalistic-assert");function l(s){if(!(this instanceof l))return new l(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=a.toArray(s.entropy,s.entropyEnc||"hex"),h=a.toArray(s.nonce,s.nonceEnc||"hex"),d=a.toArray(s.pers,s.persEnc||"hex");u(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,h,d)}r.exports=l,l.prototype._init=function(s,c,h){var d=s.concat(c).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},l.prototype._update=function(s){var c=this._hmac().update(this.V).update([0]);s&&(c=c.update(s)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(s,c,h,d){typeof c!="string"&&(d=h,h=c,c=null),s=a.toArray(s,c),h=a.toArray(h,d),u(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(h||[])),this._reseed=1},l.prototype.generate=function(s,c,h,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(d=h,h=c,c=null),h&&(h=a.toArray(h,d||"hex"),this._update(h));for(var f=[];f.length<s;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var g=f.slice(0,s);return this._update(h),this._reseed++,a.encode(g,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,r,o){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */o.read=function(i,a,u,l,s){var c,h,d=8*s-l-1,f=(1<<d)-1,g=f>>1,y=-7,p=u?s-1:0,v=u?-1:1,m=i[a+p];for(p+=v,c=m&(1<<-y)-1,m>>=-y,y+=d;y>0;c=256*c+i[a+p],p+=v,y-=8);for(h=c&(1<<-y)-1,c>>=-y,y+=l;y>0;h=256*h+i[a+p],p+=v,y-=8);if(c===0)c=1-g;else{if(c===f)return h?NaN:1/0*(m?-1:1);h+=Math.pow(2,l),c-=g}return(m?-1:1)*h*Math.pow(2,c-l)},o.write=function(i,a,u,l,s,c){var h,d,f,g=8*c-s-1,y=(1<<g)-1,p=y>>1,v=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?0:c-1,x=l?1:-1,k=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(d=isNaN(a)?1:0,h=y):(h=Math.floor(Math.log(a)/Math.LN2),a*(f=Math.pow(2,-h))<1&&(h--,f*=2),(a+=h+p>=1?v/f:v*Math.pow(2,1-p))*f>=2&&(h++,f/=2),h+p>=y?(d=0,h=y):h+p>=1?(d=(a*f-1)*Math.pow(2,s),h+=p):(d=a*Math.pow(2,p-1)*Math.pow(2,s),h=0));s>=8;i[u+m]=255&d,m+=x,d/=256,s-=8);for(h=h<<s|d,g+=s;g>0;i[u+m]=255&h,m+=x,h/=256,g-=8);i[u+m-x]|=128*k}},{}],440:[function(t,r,o){typeof Object.create=="function"?r.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(i,a){if(a){i.super_=a;var u=function(){};u.prototype=a.prototype,i.prototype=new u,i.prototype.constructor=i}}},{}],441:[function(t,r,o){(function(i,a,u,l,s,c,h,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof o=="object"&&r!==void 0?r.exports=f():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(g,y,p){function v(k,I){if(!y[k]){if(!g[k]){var D=typeof t=="function"&&t;if(!I&&D)return D(k,!0);if(m)return m(k,!0);var V=new Error("Cannot find module '"+k+"'");throw V.code="MODULE_NOT_FOUND",V}var L=y[k]={exports:{}};g[k][0].call(L.exports,function(z){return v(g[k][1][z]||z)},L,L.exports,f,g,y,p)}return y[k].exports}for(var m=typeof t=="function"&&t,x=0;x<p.length;x++)v(p[x]);return v}({1:[function(f,g,y){var p=f("./utils"),v=f("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(x){for(var k,I,D,V,L,z,B,H=[],$=0,A=x.length,P=A,C=p.getTypeOf(x)!=="string";$<x.length;)P=A-$,D=C?(k=x[$++],I=$<A?x[$++]:0,$<A?x[$++]:0):(k=x.charCodeAt($++),I=$<A?x.charCodeAt($++):0,$<A?x.charCodeAt($++):0),V=k>>2,L=(3&k)<<4|I>>4,z=1<P?(15&I)<<2|D>>6:64,B=2<P?63&D:64,H.push(m.charAt(V)+m.charAt(L)+m.charAt(z)+m.charAt(B));return H.join("")},y.decode=function(x){var k,I,D,V,L,z,B=0,H=0,$="data:";if(x.substr(0,$.length)===$)throw new Error("Invalid base64 input, it looks like a data url.");var A,P=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===m.charAt(64)&&P--,x.charAt(x.length-2)===m.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=v.uint8array?new Uint8Array(0|P):new Array(0|P);B<x.length;)k=m.indexOf(x.charAt(B++))<<2|(V=m.indexOf(x.charAt(B++)))>>4,I=(15&V)<<4|(L=m.indexOf(x.charAt(B++)))>>2,D=(3&L)<<6|(z=m.indexOf(x.charAt(B++))),A[H++]=k,L!==64&&(A[H++]=I),z!==64&&(A[H++]=D);return A}},{"./support":30,"./utils":32}],2:[function(f,g,y){var p=f("./external"),v=f("./stream/DataWorker"),m=f("./stream/Crc32Probe"),x=f("./stream/DataLengthProbe");function k(I,D,V,L,z){this.compressedSize=I,this.uncompressedSize=D,this.crc32=V,this.compression=L,this.compressedContent=z}k.prototype={getContentWorker:function(){var I=new v(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),D=this;return I.on("end",function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new v(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(I,D,V){return I.pipe(new m).pipe(new x("uncompressedSize")).pipe(D.compressWorker(V)).pipe(new x("compressedSize")).withStreamInfo("compression",D)},g.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,g,y){var p=f("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},y.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,g,y){var p=f("./utils"),v=function(){for(var m,x=[],k=0;k<256;k++){m=k;for(var I=0;I<8;I++)m=1&m?3988292384^m>>>1:m>>>1;x[k]=m}return x}();g.exports=function(m,x){return m!==void 0&&m.length?p.getTypeOf(m)!=="string"?function(k,I,D,V){var L=v,z=0+D;k^=-1;for(var B=0;B<z;B++)k=k>>>8^L[255&(k^I[B])];return-1^k}(0|x,m,m.length):function(k,I,D,V){var L=v,z=0+D;k^=-1;for(var B=0;B<z;B++)k=k>>>8^L[255&(k^I.charCodeAt(B))];return-1^k}(0|x,m,m.length):0}},{"./utils":32}],5:[function(f,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(f,g,y){var p;p=typeof Promise<"u"?Promise:f("lie"),g.exports={Promise:p}},{lie:37}],7:[function(f,g,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=f("pako"),m=f("./utils"),x=f("./stream/GenericWorker"),k=p?"uint8array":"array";function I(D,V){x.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=V,this.meta={}}y.magic="\b\0",m.inherits(I,x),I.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(k,D.data),!1)},I.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(V){D.push({data:V,meta:D.meta})}},y.compressWorker=function(D){return new I("Deflate",D)},y.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,g,y){function p(L,z){var B,H="";for(B=0;B<z;B++)H+=String.fromCharCode(255&L),L>>>=8;return H}function v(L,z,B,H,$,A){var P,C,b=L.file,_=L.compression,w=A!==k.utf8encode,S=m.transformTo("string",A(b.name)),N=m.transformTo("string",k.utf8encode(b.name)),O=b.comment,U=m.transformTo("string",A(O)),G=m.transformTo("string",k.utf8encode(O)),W=N.length!==b.name.length,J=G.length!==O.length,F="",Y="",j="",R=b.dir,q=b.date,K={crc32:0,compressedSize:0,uncompressedSize:0};z&&!B||(K.crc32=L.crc32,K.compressedSize=L.compressedSize,K.uncompressedSize=L.uncompressedSize);var Q=0;z&&(Q|=8),w||!W&&!J||(Q|=2048);var X=0,ee=0;R&&(X|=16),$==="UNIX"?(ee=798,X|=function(ae,Z){var re=ae;return ae||(re=Z?16893:33204),(65535&re)<<16}(b.unixPermissions,R)):(ee=20,X|=function(ae){return 63&(ae||0)}(b.dosPermissions)),P=q.getUTCHours(),P<<=6,P|=q.getUTCMinutes(),P<<=5,P|=q.getUTCSeconds()/2,C=q.getUTCFullYear()-1980,C<<=4,C|=q.getUTCMonth()+1,C<<=5,C|=q.getUTCDate(),W&&(Y=p(1,1)+p(I(S),4)+N,F+="up"+p(Y.length,2)+Y),J&&(j=p(1,1)+p(I(U),4)+G,F+="uc"+p(j.length,2)+j);var ie="";return ie+=`
\0`,ie+=p(Q,2),ie+=_.magic,ie+=p(P,2),ie+=p(C,2),ie+=p(K.crc32,4),ie+=p(K.compressedSize,4),ie+=p(K.uncompressedSize,4),ie+=p(S.length,2),ie+=p(F.length,2),{fileRecord:D.LOCAL_FILE_HEADER+ie+S+F,dirRecord:D.CENTRAL_FILE_HEADER+p(ee,2)+ie+p(U.length,2)+"\0\0\0\0"+p(X,4)+p(H,4)+S+F+U}}var m=f("../utils"),x=f("../stream/GenericWorker"),k=f("../utf8"),I=f("../crc32"),D=f("../signature");function V(L,z,B,H){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=z,this.zipPlatform=B,this.encodeFileName=H,this.streamFiles=L,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(V,x),V.prototype.push=function(L){var z=L.meta.percent||0,B=this.entriesCount,H=this._sources.length;this.accumulate?this.contentBuffer.push(L):(this.bytesWritten+=L.data.length,x.prototype.push.call(this,{data:L.data,meta:{currentFile:this.currentFile,percent:B?(z+100*(B-H-1))/B:100}}))},V.prototype.openedSource=function(L){this.currentSourceOffset=this.bytesWritten,this.currentFile=L.file.name;var z=this.streamFiles&&!L.file.dir;if(z){var B=v(L,z,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function(L){this.accumulate=!1;var z=this.streamFiles&&!L.file.dir,B=v(L,z,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),z)this.push({data:function(H){return D.DATA_DESCRIPTOR+p(H.crc32,4)+p(H.compressedSize,4)+p(H.uncompressedSize,4)}(L),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var L=this.bytesWritten,z=0;z<this.dirRecords.length;z++)this.push({data:this.dirRecords[z],meta:{percent:100}});var B=this.bytesWritten-L,H=function($,A,P,C,b){var _=m.transformTo("string",b(C));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p($,2)+p($,2)+p(A,4)+p(P,4)+p(_.length,2)+_}(this.dirRecords.length,B,L,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function(L){this._sources.push(L);var z=this;return L.on("data",function(B){z.processChunk(B)}),L.on("end",function(){z.closedSource(z.previous.streamInfo),z._sources.length?z.prepareNextSource():z.end()}),L.on("error",function(B){z.error(B)}),this},V.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function(L){var z=this._sources;if(!x.prototype.error.call(this,L))return!1;for(var B=0;B<z.length;B++)try{z[B].error(L)}catch{}return!0},V.prototype.lock=function(){x.prototype.lock.call(this);for(var L=this._sources,z=0;z<L.length;z++)L[z].lock()},g.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,g,y){var p=f("../compressions"),v=f("./ZipFileWorker");y.generateWorker=function(m,x,k){var I=new v(x.streamFiles,k,x.platform,x.encodeFileName),D=0;try{m.forEach(function(V,L){D++;var z=function(A,P){var C=A||P,b=p[C];if(!b)throw new Error(C+" is not a valid compression method !");return b}(L.options.compression,x.compression),B=L.options.compressionOptions||x.compressionOptions||{},H=L.dir,$=L.date;L._compressWorker(z,B).withStreamInfo("file",{name:V,dir:H,date:$,comment:L.comment||"",unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions}).pipe(I)}),I.entriesCount=D}catch(V){I.error(V)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,g,y){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new p;for(var m in this)typeof this[m]!="function"&&(v[m]=this[m]);return v}}(p.prototype=f("./object")).loadAsync=f("./load"),p.support=f("./support"),p.defaults=f("./defaults"),p.version="3.10.1",p.loadAsync=function(v,m){return new p().loadAsync(v,m)},p.external=f("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,g,y){var p=f("./utils"),v=f("./external"),m=f("./utf8"),x=f("./zipEntries"),k=f("./stream/Crc32Probe"),I=f("./nodejsUtils");function D(V){return new v.Promise(function(L,z){var B=V.decompressed.getContentWorker().pipe(new k);B.on("error",function(H){z(H)}).on("end",function(){B.streamInfo.crc32!==V.decompressed.crc32?z(new Error("Corrupted zip : CRC32 mismatch")):L()}).resume()})}g.exports=function(V,L){var z=this;return L=p.extend(L||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),I.isNode&&I.isStream(V)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",V,!0,L.optimizedBinaryString,L.base64).then(function(B){var H=new x(L);return H.load(B),H}).then(function(B){var H=[v.Promise.resolve(B)],$=B.files;if(L.checkCRC32)for(var A=0;A<$.length;A++)H.push(D($[A]));return v.Promise.all(H)}).then(function(B){for(var H=B.shift(),$=H.files,A=0;A<$.length;A++){var P=$[A],C=P.fileNameStr,b=p.resolve(P.fileNameStr);z.file(b,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:L.createFolders}),P.dir||(z.file(b).unsafeOriginalName=C)}return H.zipComment.length&&(z.comment=H.zipComment),z})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,g,y){var p=f("../utils"),v=f("../stream/GenericWorker");function m(x,k){v.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(k)}p.inherits(m,v),m.prototype._bindStream=function(x){var k=this;(this._stream=x).pause(),x.on("data",function(I){k.push({data:I,meta:{percent:0}})}).on("error",function(I){k.isPaused?this.generatedError=I:k.error(I)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},m.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,g,y){var p=f("readable-stream").Readable;function v(m,x,k){p.call(this,x),this._helper=m;var I=this;m.on("data",function(D,V){I.push(D)||I._helper.pause(),k&&k(V)}).on("error",function(D){I.emit("error",D)}).on("end",function(){I.push(null)})}f("../utils").inherits(v,p),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(f,g,y){g.exports={isNode:u!==void 0,newBufferFrom:function(p,v){if(u.from&&u.from!==Uint8Array.from)return u.from(p,v);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new u(p,v)},allocBuffer:function(p){if(u.alloc)return u.alloc(p);var v=new u(p);return v.fill(0),v},isBuffer:function(p){return u.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(f,g,y){function p(b,_,w){var S,N=m.getTypeOf(_),O=m.extend(w||{},I);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(b=$(b)),O.createFolders&&(S=H(b))&&A.call(this,S,!0);var U=N==="string"&&O.binary===!1&&O.base64===!1;w&&w.binary!==void 0||(O.binary=!U),(_ instanceof D&&_.uncompressedSize===0||O.dir||!_||_.length===0)&&(O.base64=!1,O.binary=!0,_="",O.compression="STORE",N="string");var G;G=_ instanceof D||_ instanceof x?_:z.isNode&&z.isStream(_)?new B(b,_):m.prepareContent(b,_,O.binary,O.optimizedBinaryString,O.base64);var W=new V(b,G,O);this.files[b]=W}var v=f("./utf8"),m=f("./utils"),x=f("./stream/GenericWorker"),k=f("./stream/StreamHelper"),I=f("./defaults"),D=f("./compressedObject"),V=f("./zipObject"),L=f("./generate"),z=f("./nodejsUtils"),B=f("./nodejs/NodejsStreamInputAdapter"),H=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var _=b.lastIndexOf("/");return 0<_?b.substring(0,_):""},$=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},A=function(b,_){return _=_!==void 0?_:I.createFolders,b=$(b),this.files[b]||p.call(this,b,null,{dir:!0,createFolders:_}),this.files[b]};function P(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var _,w,S;for(_ in this.files)S=this.files[_],(w=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&b(w,S)},filter:function(b){var _=[];return this.forEach(function(w,S){b(w,S)&&_.push(S)}),_},file:function(b,_,w){if(arguments.length!==1)return b=this.root+b,p.call(this,b,_,w),this;if(P(b)){var S=b;return this.filter(function(O,U){return!U.dir&&S.test(O)})}var N=this.files[this.root+b];return N&&!N.dir?N:null},folder:function(b){if(!b)return this;if(P(b))return this.filter(function(N,O){return O.dir&&b.test(N)});var _=this.root+b,w=A.call(this,_),S=this.clone();return S.root=w.name,S},remove:function(b){b=this.root+b;var _=this.files[b];if(_||(b.slice(-1)!=="/"&&(b+="/"),_=this.files[b]),_&&!_.dir)delete this.files[b];else for(var w=this.filter(function(N,O){return O.name.slice(0,b.length)===b}),S=0;S<w.length;S++)delete this.files[w[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var _,w={};try{if((w=m.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");m.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var S=w.comment||this.comment||"";_=L.generateWorker(this,w,S)}catch(N){(_=new x("error")).error(N)}return new k(_,w.type||"string",w.mimeType)},generateAsync:function(b,_){return this.generateInternalStream(b).accumulate(_)},generateNodeStream:function(b,_){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(_)}};g.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,g,y){g.exports=f("stream")},{stream:void 0}],17:[function(f,g,y){var p=f("./DataReader");function v(m){p.call(this,m);for(var x=0;x<this.data.length;x++)m[x]=255&m[x]}f("../utils").inherits(v,p),v.prototype.byteAt=function(m){return this.data[this.zero+m]},v.prototype.lastIndexOfSignature=function(m){for(var x=m.charCodeAt(0),k=m.charCodeAt(1),I=m.charCodeAt(2),D=m.charCodeAt(3),V=this.length-4;0<=V;--V)if(this.data[V]===x&&this.data[V+1]===k&&this.data[V+2]===I&&this.data[V+3]===D)return V-this.zero;return-1},v.prototype.readAndCheckSignature=function(m){var x=m.charCodeAt(0),k=m.charCodeAt(1),I=m.charCodeAt(2),D=m.charCodeAt(3),V=this.readData(4);return x===V[0]&&k===V[1]&&I===V[2]&&D===V[3]},v.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(f,g,y){var p=f("../utils");function v(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var x,k=0;for(this.checkOffset(m),x=this.index+m-1;x>=this.index;x--)k=(k<<8)+this.byteAt(x);return this.index+=m,k},readString:function(m){return p.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},g.exports=v},{"../utils":32}],19:[function(f,g,y){var p=f("./Uint8ArrayReader");function v(m){p.call(this,m)}f("../utils").inherits(v,p),v.prototype.readData=function(m){this.checkOffset(m);var x=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,g,y){var p=f("./DataReader");function v(m){p.call(this,m)}f("../utils").inherits(v,p),v.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},v.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},v.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},v.prototype.readData=function(m){this.checkOffset(m);var x=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(f,g,y){var p=f("./ArrayReader");function v(m){p.call(this,m)}f("../utils").inherits(v,p),v.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,x},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(f,g,y){var p=f("../utils"),v=f("../support"),m=f("./ArrayReader"),x=f("./StringReader"),k=f("./NodeBufferReader"),I=f("./Uint8ArrayReader");g.exports=function(D){var V=p.getTypeOf(D);return p.checkSupport(V),V!=="string"||v.uint8array?V==="nodebuffer"?new k(D):v.uint8array?new I(p.transformTo("uint8array",D)):new m(p.transformTo("array",D)):new x(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,g,y){var p=f("./GenericWorker"),v=f("../utils");function m(x){p.call(this,"ConvertWorker to "+x),this.destType=x}v.inherits(m,p),m.prototype.processChunk=function(x){this.push({data:v.transformTo(this.destType,x.data),meta:x.meta})},g.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(f,g,y){var p=f("./GenericWorker"),v=f("../crc32");function m(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(m,p),m.prototype.processChunk=function(x){this.streamInfo.crc32=v(x.data,this.streamInfo.crc32||0),this.push(x)},g.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,g,y){var p=f("../utils"),v=f("./GenericWorker");function m(x){v.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}p.inherits(m,v),m.prototype.processChunk=function(x){if(x){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+x.data.length}v.prototype.processChunk.call(this,x)},g.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(f,g,y){var p=f("../utils"),v=f("./GenericWorker");function m(x){v.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(I){k.dataIsReady=!0,k.data=I,k.max=I&&I.length||0,k.type=p.getTypeOf(I),k.isPaused||k._tickAndRepeat()},function(I){k.error(I)})}p.inherits(m,v),m.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,k);break;case"uint8array":x=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":x=this.data.slice(this.index,k)}return this.index=k,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(f,g,y){function p(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,m){return this._listeners[v].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,m){if(this._listeners[v])for(var x=0;x<this._listeners[v].length;x++)this._listeners[v][x].call(this,m)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var m=this;return v.on("data",function(x){m.processChunk(x)}),v.on("end",function(){m.end()}),v.on("error",function(x){m.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,m){return this.extraStreamInfo[v]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=p},{}],29:[function(f,g,y){var p=f("../utils"),v=f("./ConvertWorker"),m=f("./GenericWorker"),x=f("../base64"),k=f("../support"),I=f("../external"),D=null;if(k.nodestream)try{D=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function V(L,z,B){var H=z;switch(z){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string"}try{this._internalType=H,this._outputType=z,this._mimeType=B,p.checkSupport(H),this._worker=L.pipe(new v(H)),L.lock()}catch($){this._worker=new m("error"),this._worker.error($)}}V.prototype={accumulate:function(L){return function(z,B){return new I.Promise(function(H,$){var A=[],P=z._internalType,C=z._outputType,b=z._mimeType;z.on("data",function(_,w){A.push(_),B&&B(w)}).on("error",function(_){A=[],$(_)}).on("end",function(){try{var _=function(w,S,N){switch(w){case"blob":return p.newBlob(p.transformTo("arraybuffer",S),N);case"base64":return x.encode(S);default:return p.transformTo(w,S)}}(C,function(w,S){var N,O=0,U=null,G=0;for(N=0;N<S.length;N++)G+=S[N].length;switch(w){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(U=new Uint8Array(G),N=0;N<S.length;N++)U.set(S[N],O),O+=S[N].length;return U;case"nodebuffer":return u.concat(S);default:throw new Error("concat : unsupported type '"+w+"'")}}(P,A),b);H(_)}catch(w){$(w)}A=[]}).resume()})}(this,L)},on:function(L,z){var B=this;return L==="data"?this._worker.on(L,function(H){z.call(B,H.data,H.meta)}):this._worker.on(L,function(){p.delay(z,arguments,B)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(L){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},L)}},g.exports=V},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=u!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var p=new ArrayBuffer(0);try{y.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(p),y.blob=v.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!f("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(f,g,y){for(var p=f("./utils"),v=f("./support"),m=f("./nodejsUtils"),x=f("./stream/GenericWorker"),k=new Array(256),I=0;I<256;I++)k[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function D(){x.call(this,"utf-8 decode"),this.leftOver=null}function V(){x.call(this,"utf-8 encode")}k[254]=k[254]=1,y.utf8encode=function(L){return v.nodebuffer?m.newBufferFrom(L,"utf-8"):function(z){var B,H,$,A,P,C=z.length,b=0;for(A=0;A<C;A++)(64512&(H=z.charCodeAt(A)))==55296&&A+1<C&&(64512&($=z.charCodeAt(A+1)))==56320&&(H=65536+(H-55296<<10)+($-56320),A++),b+=H<128?1:H<2048?2:H<65536?3:4;for(B=v.uint8array?new Uint8Array(b):new Array(b),A=P=0;P<b;A++)(64512&(H=z.charCodeAt(A)))==55296&&A+1<C&&(64512&($=z.charCodeAt(A+1)))==56320&&(H=65536+(H-55296<<10)+($-56320),A++),H<128?B[P++]=H:(H<2048?B[P++]=192|H>>>6:(H<65536?B[P++]=224|H>>>12:(B[P++]=240|H>>>18,B[P++]=128|H>>>12&63),B[P++]=128|H>>>6&63),B[P++]=128|63&H);return B}(L)},y.utf8decode=function(L){return v.nodebuffer?p.transformTo("nodebuffer",L).toString("utf-8"):function(z){var B,H,$,A,P=z.length,C=new Array(2*P);for(B=H=0;B<P;)if(($=z[B++])<128)C[H++]=$;else if(4<(A=k[$]))C[H++]=65533,B+=A-1;else{for($&=A===2?31:A===3?15:7;1<A&&B<P;)$=$<<6|63&z[B++],A--;1<A?C[H++]=65533:$<65536?C[H++]=$:($-=65536,C[H++]=55296|$>>10&1023,C[H++]=56320|1023&$)}return C.length!==H&&(C.subarray?C=C.subarray(0,H):C.length=H),p.applyFromCharCode(C)}(L=p.transformTo(v.uint8array?"uint8array":"array",L))},p.inherits(D,x),D.prototype.processChunk=function(L){var z=p.transformTo(v.uint8array?"uint8array":"array",L.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var B=z;(z=new Uint8Array(B.length+this.leftOver.length)).set(this.leftOver,0),z.set(B,this.leftOver.length)}else z=this.leftOver.concat(z);this.leftOver=null}var H=function(A,P){var C;for((P=P||A.length)>A.length&&(P=A.length),C=P-1;0<=C&&(192&A[C])==128;)C--;return C<0||C===0?P:C+k[A[C]]>P?C:P}(z),$=z;H!==z.length&&(v.uint8array?($=z.subarray(0,H),this.leftOver=z.subarray(H,z.length)):($=z.slice(0,H),this.leftOver=z.slice(H,z.length))),this.push({data:y.utf8decode($),meta:L.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=D,p.inherits(V,x),V.prototype.processChunk=function(L){this.push({data:y.utf8encode(L.data),meta:L.meta})},y.Utf8EncodeWorker=V},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,g,y){var p=f("./support"),v=f("./base64"),m=f("./nodejsUtils"),x=f("./external");function k(B){return B}function I(B,H){for(var $=0;$<B.length;++$)H[$]=255&B.charCodeAt($);return H}f("setimmediate"),y.newBlob=function(B,H){y.checkSupport("blob");try{return new Blob([B],{type:H})}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(B),$.getBlob(H)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(B,H,$){var A=[],P=0,C=B.length;if(C<=$)return String.fromCharCode.apply(null,B);for(;P<C;)H==="array"||H==="nodebuffer"?A.push(String.fromCharCode.apply(null,B.slice(P,Math.min(P+$,C)))):A.push(String.fromCharCode.apply(null,B.subarray(P,Math.min(P+$,C)))),P+=$;return A.join("")},stringifyByChar:function(B){for(var H="",$=0;$<B.length;$++)H+=String.fromCharCode(B[$]);return H},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function V(B){var H=65536,$=y.getTypeOf(B),A=!0;if($==="uint8array"?A=D.applyCanBeUsed.uint8array:$==="nodebuffer"&&(A=D.applyCanBeUsed.nodebuffer),A)for(;1<H;)try{return D.stringifyByChunk(B,$,H)}catch{H=Math.floor(H/2)}return D.stringifyByChar(B)}function L(B,H){for(var $=0;$<B.length;$++)H[$]=B[$];return H}y.applyFromCharCode=V;var z={};z.string={string:k,array:function(B){return I(B,new Array(B.length))},arraybuffer:function(B){return z.string.uint8array(B).buffer},uint8array:function(B){return I(B,new Uint8Array(B.length))},nodebuffer:function(B){return I(B,m.allocBuffer(B.length))}},z.array={string:V,array:k,arraybuffer:function(B){return new Uint8Array(B).buffer},uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return m.newBufferFrom(B)}},z.arraybuffer={string:function(B){return V(new Uint8Array(B))},array:function(B){return L(new Uint8Array(B),new Array(B.byteLength))},arraybuffer:k,uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return m.newBufferFrom(new Uint8Array(B))}},z.uint8array={string:V,array:function(B){return L(B,new Array(B.length))},arraybuffer:function(B){return B.buffer},uint8array:k,nodebuffer:function(B){return m.newBufferFrom(B)}},z.nodebuffer={string:V,array:function(B){return L(B,new Array(B.length))},arraybuffer:function(B){return z.nodebuffer.uint8array(B).buffer},uint8array:function(B){return L(B,new Uint8Array(B.length))},nodebuffer:k},y.transformTo=function(B,H){if(H=H||"",!B)return H;y.checkSupport(B);var $=y.getTypeOf(H);return z[$][B](H)},y.resolve=function(B){for(var H=B.split("/"),$=[],A=0;A<H.length;A++){var P=H[A];P==="."||P===""&&A!==0&&A!==H.length-1||(P===".."?$.pop():$.push(P))}return $.join("/")},y.getTypeOf=function(B){return typeof B=="string"?"string":Object.prototype.toString.call(B)==="[object Array]"?"array":p.nodebuffer&&m.isBuffer(B)?"nodebuffer":p.uint8array&&B instanceof Uint8Array?"uint8array":p.arraybuffer&&B instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(B){if(!p[B.toLowerCase()])throw new Error(B+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(B){var H,$,A="";for($=0;$<(B||"").length;$++)A+="\\x"+((H=B.charCodeAt($))<16?"0":"")+H.toString(16).toUpperCase();return A},y.delay=function(B,H,$){d(function(){B.apply($||null,H||[])})},y.inherits=function(B,H){function $(){}$.prototype=H.prototype,B.prototype=new $},y.extend=function(){var B,H,$={};for(B=0;B<arguments.length;B++)for(H in arguments[B])Object.prototype.hasOwnProperty.call(arguments[B],H)&&$[H]===void 0&&($[H]=arguments[B][H]);return $},y.prepareContent=function(B,H,$,A,P){return x.Promise.resolve(H).then(function(C){return p.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new x.Promise(function(b,_){var w=new FileReader;w.onload=function(S){b(S.target.result)},w.onerror=function(S){_(S.target.error)},w.readAsArrayBuffer(C)}):C}).then(function(C){var b=y.getTypeOf(C);return b?(b==="arraybuffer"?C=y.transformTo("uint8array",C):b==="string"&&(P?C=v.decode(C):$&&A!==!0&&(C=function(_){return I(_,p.uint8array?new Uint8Array(_.length):new Array(_.length))}(C))),C):x.Promise.reject(new Error("Can't read the data of '"+B+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,g,y){var p=f("./reader/readerFor"),v=f("./utils"),m=f("./signature"),x=f("./zipEntry"),k=f("./support");function I(D){this.files=[],this.loadOptions=D}I.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var V=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(V)+", expected "+v.pretty(D)+")")}},isSignature:function(D,V){var L=this.reader.index;this.reader.setIndex(D);var z=this.reader.readString(4)===V;return this.reader.setIndex(L),z},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),V=k.uint8array?"uint8array":"array",L=v.transformTo(V,D);this.zipComment=this.loadOptions.decodeFileName(L)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,V,L,z=this.zip64EndOfCentralSize-44;0<z;)D=this.reader.readInt(2),V=this.reader.readInt(4),L=this.reader.readData(V),this.zip64ExtensibleData[D]={id:D,length:V,value:L}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,V;for(D=0;D<this.files.length;D++)V=this.files[D],this.reader.setIndex(V.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),V.readLocalPart(this.reader),V.handleUTF8(),V.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(D=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var V=D;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var L=this.centralDirOffset+this.centralDirSize;this.zip64&&(L+=20,L+=12+this.zip64EndOfCentralSize);var z=V-L;if(0<z)this.isSignature(V,m.CENTRAL_FILE_HEADER)||(this.reader.zero=z);else if(z<0)throw new Error("Corrupted zip: missing "+Math.abs(z)+" bytes.")},prepareReader:function(D){this.reader=p(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,g,y){var p=f("./reader/readerFor"),v=f("./utils"),m=f("./compressedObject"),x=f("./crc32"),k=f("./utf8"),I=f("./compressions"),D=f("./support");function V(L,z){this.options=L,this.loadOptions=z}V.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(L){var z,B;if(L.skip(22),this.fileNameLength=L.readInt(2),B=L.readInt(2),this.fileName=L.readData(this.fileNameLength),L.skip(B),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((z=function(H){for(var $ in I)if(Object.prototype.hasOwnProperty.call(I,$)&&I[$].magic===H)return I[$];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,z,L.readData(this.compressedSize))},readCentralPart:function(L){this.versionMadeBy=L.readInt(2),L.skip(2),this.bitFlag=L.readInt(2),this.compressionMethod=L.readString(2),this.date=L.readDate(),this.crc32=L.readInt(4),this.compressedSize=L.readInt(4),this.uncompressedSize=L.readInt(4);var z=L.readInt(2);if(this.extraFieldsLength=L.readInt(2),this.fileCommentLength=L.readInt(2),this.diskNumberStart=L.readInt(2),this.internalFileAttributes=L.readInt(2),this.externalFileAttributes=L.readInt(4),this.localHeaderOffset=L.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");L.skip(z),this.readExtraFields(L),this.parseZIP64ExtraField(L),this.fileComment=L.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var L=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),L==0&&(this.dosPermissions=63&this.externalFileAttributes),L==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var L=p(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=L.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=L.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=L.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=L.readInt(4))}},readExtraFields:function(L){var z,B,H,$=L.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});L.index+4<$;)z=L.readInt(2),B=L.readInt(2),H=L.readData(B),this.extraFields[z]={id:z,length:B,value:H};L.setIndex($)},handleUTF8:function(){var L=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var z=this.findExtraFieldUnicodePath();if(z!==null)this.fileNameStr=z;else{var B=v.transformTo(L,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(B)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var $=v.transformTo(L,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName($)}}},findExtraFieldUnicodePath:function(){var L=this.extraFields[28789];if(L){var z=p(L.value);return z.readInt(1)!==1||x(this.fileName)!==z.readInt(4)?null:k.utf8decode(z.readData(L.length-5))}return null},findExtraFieldUnicodeComment:function(){var L=this.extraFields[25461];if(L){var z=p(L.value);return z.readInt(1)!==1||x(this.fileComment)!==z.readInt(4)?null:k.utf8decode(z.readData(L.length-5))}return null}},g.exports=V},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,g,y){function p(z,B,H){this.name=z,this.dir=H.dir,this.date=H.date,this.comment=H.comment,this.unixPermissions=H.unixPermissions,this.dosPermissions=H.dosPermissions,this._data=B,this._dataBinary=H.binary,this.options={compression:H.compression,compressionOptions:H.compressionOptions}}var v=f("./stream/StreamHelper"),m=f("./stream/DataWorker"),x=f("./utf8"),k=f("./compressedObject"),I=f("./stream/GenericWorker");p.prototype={internalStream:function(z){var B=null,H="string";try{if(!z)throw new Error("No output type specified.");var $=(H=z.toLowerCase())==="string"||H==="text";H!=="binarystring"&&H!=="text"||(H="string"),B=this._decompressWorker();var A=!this._dataBinary;A&&!$&&(B=B.pipe(new x.Utf8EncodeWorker)),!A&&$&&(B=B.pipe(new x.Utf8DecodeWorker))}catch(P){(B=new I("error")).error(P)}return new v(B,H,"")},async:function(z,B){return this.internalStream(z).accumulate(B)},nodeStream:function(z,B){return this.internalStream(z||"nodebuffer").toNodejsStream(B)},_compressWorker:function(z,B){if(this._data instanceof k&&this._data.compression.magic===z.magic)return this._data.getCompressedWorker();var H=this._decompressWorker();return this._dataBinary||(H=H.pipe(new x.Utf8EncodeWorker)),k.createWorkerFrom(H,z,B)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof I?this._data:new m(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],V=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},L=0;L<D.length;L++)p.prototype[D[L]]=V;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,g,y){(function(p){var v,m,x=p.MutationObserver||p.WebKitMutationObserver;if(x){var k=0,I=new x(z),D=p.document.createTextNode("");I.observe(D,{characterData:!0}),v=function(){D.data=k=++k%2}}else if(p.setImmediate||p.MessageChannel===void 0)v="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var B=p.document.createElement("script");B.onreadystatechange=function(){z(),B.onreadystatechange=null,B.parentNode.removeChild(B),B=null},p.document.documentElement.appendChild(B)}:function(){setTimeout(z,0)};else{var V=new p.MessageChannel;V.port1.onmessage=z,v=function(){V.port2.postMessage(0)}}var L=[];function z(){var B,H;m=!0;for(var $=L.length;$;){for(H=L,L=[],B=-1;++B<$;)H[B]();$=L.length}m=!1}g.exports=function(B){L.push(B)!==1||m||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,g,y){var p=f("immediate");function v(){}var m={},x=["REJECTED"],k=["FULFILLED"],I=["PENDING"];function D($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,$!==v&&B(this,$)}function V($,A,P){this.promise=$,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function L($,A,P){p(function(){var C;try{C=A(P)}catch(b){return m.reject($,b)}C===$?m.reject($,new TypeError("Cannot resolve promise with itself")):m.resolve($,C)})}function z($){var A=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof A=="function")return function(){A.apply($,arguments)}}function B($,A){var P=!1;function C(w){P||(P=!0,m.reject($,w))}function b(w){P||(P=!0,m.resolve($,w))}var _=H(function(){A(b,C)});_.status==="error"&&C(_.value)}function H($,A){var P={};try{P.value=$(A),P.status="success"}catch(C){P.status="error",P.value=C}return P}(g.exports=D).prototype.finally=function($){if(typeof $!="function")return this;var A=this.constructor;return this.then(function(P){return A.resolve($()).then(function(){return P})},function(P){return A.resolve($()).then(function(){throw P})})},D.prototype.catch=function($){return this.then(null,$)},D.prototype.then=function($,A){if(typeof $!="function"&&this.state===k||typeof A!="function"&&this.state===x)return this;var P=new this.constructor(v);return this.state!==I?L(P,this.state===k?$:A,this.outcome):this.queue.push(new V(P,$,A)),P},V.prototype.callFulfilled=function($){m.resolve(this.promise,$)},V.prototype.otherCallFulfilled=function($){L(this.promise,this.onFulfilled,$)},V.prototype.callRejected=function($){m.reject(this.promise,$)},V.prototype.otherCallRejected=function($){L(this.promise,this.onRejected,$)},m.resolve=function($,A){var P=H(z,A);if(P.status==="error")return m.reject($,P.value);var C=P.value;if(C)B($,C);else{$.state=k,$.outcome=A;for(var b=-1,_=$.queue.length;++b<_;)$.queue[b].callFulfilled(A)}return $},m.reject=function($,A){$.state=x,$.outcome=A;for(var P=-1,C=$.queue.length;++P<C;)$.queue[P].callRejected(A);return $},D.resolve=function($){return $ instanceof this?$:m.resolve(new this(v),$)},D.reject=function($){var A=new this(v);return m.reject(A,$)},D.all=function($){var A=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=$.length,C=!1;if(!P)return this.resolve([]);for(var b=new Array(P),_=0,w=-1,S=new this(v);++w<P;)N($[w],w);return S;function N(O,U){A.resolve(O).then(function(G){b[U]=G,++_!==P||C||(C=!0,m.resolve(S,b))},function(G){C||(C=!0,m.reject(S,G))})}},D.race=function($){if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=$.length,P=!1;if(!A)return this.resolve([]);for(var C,b=-1,_=new this(v);++b<A;)C=$[b],this.resolve(C).then(function(w){P||(P=!0,m.resolve(_,w))},function(w){P||(P=!0,m.reject(_,w))});return _}},{immediate:36}],38:[function(f,g,y){var p={};(0,f("./lib/utils/common").assign)(p,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,g,y){var p=f("./zlib/deflate"),v=f("./utils/common"),m=f("./utils/strings"),x=f("./zlib/messages"),k=f("./zlib/zstream"),I=Object.prototype.toString;function D(L){if(!(this instanceof D))return new D(L);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},L||{});var z=this.options;z.raw&&0<z.windowBits?z.windowBits=-z.windowBits:z.gzip&&0<z.windowBits&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var B=p.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(B!==0)throw new Error(x[B]);if(z.header&&p.deflateSetHeader(this.strm,z.header),z.dictionary){var H;if(H=typeof z.dictionary=="string"?m.string2buf(z.dictionary):I.call(z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(z.dictionary):z.dictionary,(B=p.deflateSetDictionary(this.strm,H))!==0)throw new Error(x[B]);this._dict_set=!0}}function V(L,z){var B=new D(z);if(B.push(L,!0),B.err)throw B.msg||x[B.err];return B.result}D.prototype.push=function(L,z){var B,H,$=this.strm,A=this.options.chunkSize;if(this.ended)return!1;H=z===~~z?z:z===!0?4:0,typeof L=="string"?$.input=m.string2buf(L):I.call(L)==="[object ArrayBuffer]"?$.input=new Uint8Array(L):$.input=L,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new v.Buf8(A),$.next_out=0,$.avail_out=A),(B=p.deflate($,H))!==1&&B!==0)return this.onEnd(B),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(v.shrinkBuf($.output,$.next_out))):this.onData(v.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&B!==1);return H===4?(B=p.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===0):H!==2||(this.onEnd(0),!($.avail_out=0))},D.prototype.onData=function(L){this.chunks.push(L)},D.prototype.onEnd=function(L){L===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},y.Deflate=D,y.deflate=V,y.deflateRaw=function(L,z){return(z=z||{}).raw=!0,V(L,z)},y.gzip=function(L,z){return(z=z||{}).gzip=!0,V(L,z)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,g,y){var p=f("./zlib/inflate"),v=f("./utils/common"),m=f("./utils/strings"),x=f("./zlib/constants"),k=f("./zlib/messages"),I=f("./zlib/zstream"),D=f("./zlib/gzheader"),V=Object.prototype.toString;function L(B){if(!(this instanceof L))return new L(B);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},B||{});var H=this.options;H.raw&&0<=H.windowBits&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),!(0<=H.windowBits&&H.windowBits<16)||B&&B.windowBits||(H.windowBits+=32),15<H.windowBits&&H.windowBits<48&&!(15&H.windowBits)&&(H.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var $=p.inflateInit2(this.strm,H.windowBits);if($!==x.Z_OK)throw new Error(k[$]);this.header=new D,p.inflateGetHeader(this.strm,this.header)}function z(B,H){var $=new L(H);if($.push(B,!0),$.err)throw $.msg||k[$.err];return $.result}L.prototype.push=function(B,H){var $,A,P,C,b,_,w=this.strm,S=this.options.chunkSize,N=this.options.dictionary,O=!1;if(this.ended)return!1;A=H===~~H?H:H===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof B=="string"?w.input=m.binstring2buf(B):V.call(B)==="[object ArrayBuffer]"?w.input=new Uint8Array(B):w.input=B,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new v.Buf8(S),w.next_out=0,w.avail_out=S),($=p.inflate(w,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&N&&(_=typeof N=="string"?m.string2buf(N):V.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,$=p.inflateSetDictionary(this.strm,_)),$===x.Z_BUF_ERROR&&O===!0&&($=x.Z_OK,O=!1),$!==x.Z_STREAM_END&&$!==x.Z_OK)return this.onEnd($),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&$!==x.Z_STREAM_END&&(w.avail_in!==0||A!==x.Z_FINISH&&A!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=m.utf8border(w.output,w.next_out),C=w.next_out-P,b=m.buf2string(w.output,P),w.next_out=C,w.avail_out=S-C,C&&v.arraySet(w.output,w.output,P,C,0),this.onData(b)):this.onData(v.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(O=!0)}while((0<w.avail_in||w.avail_out===0)&&$!==x.Z_STREAM_END);return $===x.Z_STREAM_END&&(A=x.Z_FINISH),A===x.Z_FINISH?($=p.inflateEnd(this.strm),this.onEnd($),this.ended=!0,$===x.Z_OK):A!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(w.avail_out=0))},L.prototype.onData=function(B){this.chunks.push(B)},L.prototype.onEnd=function(B){B===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},y.Inflate=L,y.inflate=z,y.inflateRaw=function(B,H){return(H=H||{}).raw=!0,z(B,H)},y.ungzip=z},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,g,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(x){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var I=k.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var D in I)I.hasOwnProperty(D)&&(x[D]=I[D])}}return x},y.shrinkBuf=function(x,k){return x.length===k?x:x.subarray?x.subarray(0,k):(x.length=k,x)};var v={arraySet:function(x,k,I,D,V){if(k.subarray&&x.subarray)x.set(k.subarray(I,I+D),V);else for(var L=0;L<D;L++)x[V+L]=k[I+L]},flattenChunks:function(x){var k,I,D,V,L,z;for(k=D=0,I=x.length;k<I;k++)D+=x[k].length;for(z=new Uint8Array(D),k=V=0,I=x.length;k<I;k++)L=x[k],z.set(L,V),V+=L.length;return z}},m={arraySet:function(x,k,I,D,V){for(var L=0;L<D;L++)x[V+L]=k[I+L]},flattenChunks:function(x){return[].concat.apply([],x)}};y.setTyped=function(x){x?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,v)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,m))},y.setTyped(p)},{}],42:[function(f,g,y){var p=f("./common"),v=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var x=new p.Buf8(256),k=0;k<256;k++)x[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function I(D,V){if(V<65537&&(D.subarray&&m||!D.subarray&&v))return String.fromCharCode.apply(null,p.shrinkBuf(D,V));for(var L="",z=0;z<V;z++)L+=String.fromCharCode(D[z]);return L}x[254]=x[254]=1,y.string2buf=function(D){var V,L,z,B,H,$=D.length,A=0;for(B=0;B<$;B++)(64512&(L=D.charCodeAt(B)))==55296&&B+1<$&&(64512&(z=D.charCodeAt(B+1)))==56320&&(L=65536+(L-55296<<10)+(z-56320),B++),A+=L<128?1:L<2048?2:L<65536?3:4;for(V=new p.Buf8(A),B=H=0;H<A;B++)(64512&(L=D.charCodeAt(B)))==55296&&B+1<$&&(64512&(z=D.charCodeAt(B+1)))==56320&&(L=65536+(L-55296<<10)+(z-56320),B++),L<128?V[H++]=L:(L<2048?V[H++]=192|L>>>6:(L<65536?V[H++]=224|L>>>12:(V[H++]=240|L>>>18,V[H++]=128|L>>>12&63),V[H++]=128|L>>>6&63),V[H++]=128|63&L);return V},y.buf2binstring=function(D){return I(D,D.length)},y.binstring2buf=function(D){for(var V=new p.Buf8(D.length),L=0,z=V.length;L<z;L++)V[L]=D.charCodeAt(L);return V},y.buf2string=function(D,V){var L,z,B,H,$=V||D.length,A=new Array(2*$);for(L=z=0;L<$;)if((B=D[L++])<128)A[z++]=B;else if(4<(H=x[B]))A[z++]=65533,L+=H-1;else{for(B&=H===2?31:H===3?15:7;1<H&&L<$;)B=B<<6|63&D[L++],H--;1<H?A[z++]=65533:B<65536?A[z++]=B:(B-=65536,A[z++]=55296|B>>10&1023,A[z++]=56320|1023&B)}return I(A,z)},y.utf8border=function(D,V){var L;for((V=V||D.length)>D.length&&(V=D.length),L=V-1;0<=L&&(192&D[L])==128;)L--;return L<0||L===0?V:L+x[D[L]]>V?L:V}},{"./common":41}],43:[function(f,g,y){g.exports=function(p,v,m,x){for(var k=65535&p|0,I=p>>>16&65535|0,D=0;m!==0;){for(m-=D=2e3<m?2e3:m;I=I+(k=k+v[x++]|0)|0,--D;);k%=65521,I%=65521}return k|I<<16|0}},{}],44:[function(f,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,g,y){var p=function(){for(var v,m=[],x=0;x<256;x++){v=x;for(var k=0;k<8;k++)v=1&v?3988292384^v>>>1:v>>>1;m[x]=v}return m}();g.exports=function(v,m,x,k){var I=p,D=k+x;v^=-1;for(var V=k;V<D;V++)v=v>>>8^I[255&(v^m[V])];return-1^v}},{}],46:[function(f,g,y){var p,v=f("../utils/common"),m=f("./trees"),x=f("./adler32"),k=f("./crc32"),I=f("./messages"),D=-2,V=258,L=262,z=113;function B(F,Y){return F.msg=I[Y],Y}function H(F){return(F<<1)-(4<F?9:0)}function $(F){for(var Y=F.length;0<=--Y;)F[Y]=0}function A(F){var Y=F.state,j=Y.pending;j>F.avail_out&&(j=F.avail_out),j!==0&&(v.arraySet(F.output,Y.pending_buf,Y.pending_out,j,F.next_out),F.next_out+=j,Y.pending_out+=j,F.total_out+=j,F.avail_out-=j,Y.pending-=j,Y.pending===0&&(Y.pending_out=0))}function P(F,Y){m._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Y),F.block_start=F.strstart,A(F.strm)}function C(F,Y){F.pending_buf[F.pending++]=Y}function b(F,Y){F.pending_buf[F.pending++]=Y>>>8&255,F.pending_buf[F.pending++]=255&Y}function _(F,Y){var j,R,q=F.max_chain_length,K=F.strstart,Q=F.prev_length,X=F.nice_match,ee=F.strstart>F.w_size-L?F.strstart-(F.w_size-L):0,ie=F.window,ae=F.w_mask,Z=F.prev,re=F.strstart+V,ne=ie[K+Q-1],ue=ie[K+Q];F.prev_length>=F.good_match&&(q>>=2),X>F.lookahead&&(X=F.lookahead);do if(ie[(j=Y)+Q]===ue&&ie[j+Q-1]===ne&&ie[j]===ie[K]&&ie[++j]===ie[K+1]){K+=2,j++;do;while(ie[++K]===ie[++j]&&ie[++K]===ie[++j]&&ie[++K]===ie[++j]&&ie[++K]===ie[++j]&&ie[++K]===ie[++j]&&ie[++K]===ie[++j]&&ie[++K]===ie[++j]&&ie[++K]===ie[++j]&&K<re);if(R=V-(re-K),K=re-V,Q<R){if(F.match_start=Y,X<=(Q=R))break;ne=ie[K+Q-1],ue=ie[K+Q]}}while((Y=Z[Y&ae])>ee&&--q!=0);return Q<=F.lookahead?Q:F.lookahead}function w(F){var Y,j,R,q,K,Q,X,ee,ie,ae,Z=F.w_size;do{if(q=F.window_size-F.lookahead-F.strstart,F.strstart>=Z+(Z-L)){for(v.arraySet(F.window,F.window,Z,Z,0),F.match_start-=Z,F.strstart-=Z,F.block_start-=Z,Y=j=F.hash_size;R=F.head[--Y],F.head[Y]=Z<=R?R-Z:0,--j;);for(Y=j=Z;R=F.prev[--Y],F.prev[Y]=Z<=R?R-Z:0,--j;);q+=Z}if(F.strm.avail_in===0)break;if(Q=F.strm,X=F.window,ee=F.strstart+F.lookahead,ae=void 0,(ie=q)<(ae=Q.avail_in)&&(ae=ie),j=ae===0?0:(Q.avail_in-=ae,v.arraySet(X,Q.input,Q.next_in,ae,ee),Q.state.wrap===1?Q.adler=x(Q.adler,X,ae,ee):Q.state.wrap===2&&(Q.adler=k(Q.adler,X,ae,ee)),Q.next_in+=ae,Q.total_in+=ae,ae),F.lookahead+=j,F.lookahead+F.insert>=3)for(K=F.strstart-F.insert,F.ins_h=F.window[K],F.ins_h=(F.ins_h<<F.hash_shift^F.window[K+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[K+3-1])&F.hash_mask,F.prev[K&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=K,K++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<L&&F.strm.avail_in!==0)}function S(F,Y){for(var j,R;;){if(F.lookahead<L){if(w(F),F.lookahead<L&&Y===0)return 1;if(F.lookahead===0)break}if(j=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,j=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),j!==0&&F.strstart-j<=F.w_size-L&&(F.match_length=_(F,j)),F.match_length>=3)if(R=m._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,j=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else R=m._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(R&&(P(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,Y===4?(P(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(P(F,!1),F.strm.avail_out===0)?1:2}function N(F,Y){for(var j,R,q;;){if(F.lookahead<L){if(w(F),F.lookahead<L&&Y===0)return 1;if(F.lookahead===0)break}if(j=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,j=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,j!==0&&F.prev_length<F.max_lazy_match&&F.strstart-j<=F.w_size-L&&(F.match_length=_(F,j),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for(q=F.strstart+F.lookahead-3,R=m._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=q&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,j=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,R&&(P(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((R=m._tr_tally(F,0,F.window[F.strstart-1]))&&P(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(R=m._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,Y===4?(P(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(P(F,!1),F.strm.avail_out===0)?1:2}function O(F,Y,j,R,q){this.good_length=F,this.max_lazy=Y,this.nice_length=j,this.max_chain=R,this.func=q}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(F){var Y;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(Y=F.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?42:z,F.adler=Y.wrap===2?0:1,Y.last_flush=0,m._tr_init(Y),0):B(F,D)}function W(F){var Y=G(F);return Y===0&&function(j){j.window_size=2*j.w_size,$(j.head),j.max_lazy_match=p[j.level].max_lazy,j.good_match=p[j.level].good_length,j.nice_match=p[j.level].nice_length,j.max_chain_length=p[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=2,j.match_available=0,j.ins_h=0}(F.state),Y}function J(F,Y,j,R,q,K){if(!F)return D;var Q=1;if(Y===-1&&(Y=6),R<0?(Q=0,R=-R):15<R&&(Q=2,R-=16),q<1||9<q||j!==8||R<8||15<R||Y<0||9<Y||K<0||4<K)return B(F,D);R===8&&(R=9);var X=new U;return(F.state=X).strm=F,X.wrap=Q,X.gzhead=null,X.w_bits=R,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=q+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+3-1)/3),X.window=new v.Buf8(2*X.w_size),X.head=new v.Buf16(X.hash_size),X.prev=new v.Buf16(X.w_size),X.lit_bufsize=1<<q+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new v.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=Y,X.strategy=K,X.method=j,W(F)}p=[new O(0,0,0,0,function(F,Y){var j=65535;for(j>F.pending_buf_size-5&&(j=F.pending_buf_size-5);;){if(F.lookahead<=1){if(w(F),F.lookahead===0&&Y===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var R=F.block_start+j;if((F.strstart===0||F.strstart>=R)&&(F.lookahead=F.strstart-R,F.strstart=R,P(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-L&&(P(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Y===4?(P(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(P(F,!1),F.strm.avail_out),1)}),new O(4,4,8,4,S),new O(4,5,16,8,S),new O(4,6,32,32,S),new O(4,4,16,16,N),new O(8,16,32,32,N),new O(8,16,128,128,N),new O(8,32,128,256,N),new O(32,128,258,1024,N),new O(32,258,258,4096,N)],y.deflateInit=function(F,Y){return J(F,Y,8,15,8,0)},y.deflateInit2=J,y.deflateReset=W,y.deflateResetKeep=G,y.deflateSetHeader=function(F,Y){return F&&F.state?F.state.wrap!==2?D:(F.state.gzhead=Y,0):D},y.deflate=function(F,Y){var j,R,q,K;if(!F||!F.state||5<Y||Y<0)return F?B(F,D):D;if(R=F.state,!F.output||!F.input&&F.avail_in!==0||R.status===666&&Y!==4)return B(F,F.avail_out===0?-5:D);if(R.strm=F,j=R.last_flush,R.last_flush=Y,R.status===42)if(R.wrap===2)F.adler=0,C(R,31),C(R,139),C(R,8),R.gzhead?(C(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),C(R,255&R.gzhead.time),C(R,R.gzhead.time>>8&255),C(R,R.gzhead.time>>16&255),C(R,R.gzhead.time>>24&255),C(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),C(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(C(R,255&R.gzhead.extra.length),C(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(F.adler=k(F.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(C(R,0),C(R,0),C(R,0),C(R,0),C(R,0),C(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),C(R,3),R.status=z);else{var Q=8+(R.w_bits-8<<4)<<8;Q|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(Q|=32),Q+=31-Q%31,R.status=z,b(R,Q),R.strstart!==0&&(b(R,F.adler>>>16),b(R,65535&F.adler)),F.adler=1}if(R.status===69)if(R.gzhead.extra){for(q=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>q&&(F.adler=k(F.adler,R.pending_buf,R.pending-q,q)),A(F),q=R.pending,R.pending!==R.pending_buf_size));)C(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>q&&(F.adler=k(F.adler,R.pending_buf,R.pending-q,q)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){q=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>q&&(F.adler=k(F.adler,R.pending_buf,R.pending-q,q)),A(F),q=R.pending,R.pending===R.pending_buf_size)){K=1;break}K=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,C(R,K)}while(K!==0);R.gzhead.hcrc&&R.pending>q&&(F.adler=k(F.adler,R.pending_buf,R.pending-q,q)),K===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){q=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>q&&(F.adler=k(F.adler,R.pending_buf,R.pending-q,q)),A(F),q=R.pending,R.pending===R.pending_buf_size)){K=1;break}K=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,C(R,K)}while(K!==0);R.gzhead.hcrc&&R.pending>q&&(F.adler=k(F.adler,R.pending_buf,R.pending-q,q)),K===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&A(F),R.pending+2<=R.pending_buf_size&&(C(R,255&F.adler),C(R,F.adler>>8&255),F.adler=0,R.status=z)):R.status=z),R.pending!==0){if(A(F),F.avail_out===0)return R.last_flush=-1,0}else if(F.avail_in===0&&H(Y)<=H(j)&&Y!==4)return B(F,-5);if(R.status===666&&F.avail_in!==0)return B(F,-5);if(F.avail_in!==0||R.lookahead!==0||Y!==0&&R.status!==666){var X=R.strategy===2?function(ee,ie){for(var ae;;){if(ee.lookahead===0&&(w(ee),ee.lookahead===0)){if(ie===0)return 1;break}if(ee.match_length=0,ae=m._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,ae&&(P(ee,!1),ee.strm.avail_out===0))return 1}return ee.insert=0,ie===4?(P(ee,!0),ee.strm.avail_out===0?3:4):ee.last_lit&&(P(ee,!1),ee.strm.avail_out===0)?1:2}(R,Y):R.strategy===3?function(ee,ie){for(var ae,Z,re,ne,ue=ee.window;;){if(ee.lookahead<=V){if(w(ee),ee.lookahead<=V&&ie===0)return 1;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=3&&0<ee.strstart&&(Z=ue[re=ee.strstart-1])===ue[++re]&&Z===ue[++re]&&Z===ue[++re]){ne=ee.strstart+V;do;while(Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&Z===ue[++re]&&re<ne);ee.match_length=V-(ne-re),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=3?(ae=m._tr_tally(ee,1,ee.match_length-3),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(ae=m._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),ae&&(P(ee,!1),ee.strm.avail_out===0))return 1}return ee.insert=0,ie===4?(P(ee,!0),ee.strm.avail_out===0?3:4):ee.last_lit&&(P(ee,!1),ee.strm.avail_out===0)?1:2}(R,Y):p[R.level].func(R,Y);if(X!==3&&X!==4||(R.status=666),X===1||X===3)return F.avail_out===0&&(R.last_flush=-1),0;if(X===2&&(Y===1?m._tr_align(R):Y!==5&&(m._tr_stored_block(R,0,0,!1),Y===3&&($(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),A(F),F.avail_out===0))return R.last_flush=-1,0}return Y!==4?0:R.wrap<=0?1:(R.wrap===2?(C(R,255&F.adler),C(R,F.adler>>8&255),C(R,F.adler>>16&255),C(R,F.adler>>24&255),C(R,255&F.total_in),C(R,F.total_in>>8&255),C(R,F.total_in>>16&255),C(R,F.total_in>>24&255)):(b(R,F.adler>>>16),b(R,65535&F.adler)),A(F),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?0:1)},y.deflateEnd=function(F){var Y;return F&&F.state?(Y=F.state.status)!==42&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==z&&Y!==666?B(F,D):(F.state=null,Y===z?B(F,-3):0):D},y.deflateSetDictionary=function(F,Y){var j,R,q,K,Q,X,ee,ie,ae=Y.length;if(!F||!F.state||(K=(j=F.state).wrap)===2||K===1&&j.status!==42||j.lookahead)return D;for(K===1&&(F.adler=x(F.adler,Y,ae,0)),j.wrap=0,ae>=j.w_size&&(K===0&&($(j.head),j.strstart=0,j.block_start=0,j.insert=0),ie=new v.Buf8(j.w_size),v.arraySet(ie,Y,ae-j.w_size,j.w_size,0),Y=ie,ae=j.w_size),Q=F.avail_in,X=F.next_in,ee=F.input,F.avail_in=ae,F.next_in=0,F.input=Y,w(j);j.lookahead>=3;){for(R=j.strstart,q=j.lookahead-2;j.ins_h=(j.ins_h<<j.hash_shift^j.window[R+3-1])&j.hash_mask,j.prev[R&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=R,R++,--q;);j.strstart=R,j.lookahead=2,w(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=2,j.match_available=0,F.next_in=X,F.input=ee,F.avail_in=Q,j.wrap=K,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,g,y){g.exports=function(p,v){var m,x,k,I,D,V,L,z,B,H,$,A,P,C,b,_,w,S,N,O,U,G,W,J,F;m=p.state,x=p.next_in,J=p.input,k=x+(p.avail_in-5),I=p.next_out,F=p.output,D=I-(v-p.avail_out),V=I+(p.avail_out-257),L=m.dmax,z=m.wsize,B=m.whave,H=m.wnext,$=m.window,A=m.hold,P=m.bits,C=m.lencode,b=m.distcode,_=(1<<m.lenbits)-1,w=(1<<m.distbits)-1;e:do{P<15&&(A+=J[x++]<<P,P+=8,A+=J[x++]<<P,P+=8),S=C[A&_];t:for(;;){if(A>>>=N=S>>>24,P-=N,(N=S>>>16&255)==0)F[I++]=65535&S;else{if(!(16&N)){if(!(64&N)){S=C[(65535&S)+(A&(1<<N)-1)];continue t}if(32&N){m.mode=12;break e}p.msg="invalid literal/length code",m.mode=30;break e}O=65535&S,(N&=15)&&(P<N&&(A+=J[x++]<<P,P+=8),O+=A&(1<<N)-1,A>>>=N,P-=N),P<15&&(A+=J[x++]<<P,P+=8,A+=J[x++]<<P,P+=8),S=b[A&w];n:for(;;){if(A>>>=N=S>>>24,P-=N,!(16&(N=S>>>16&255))){if(!(64&N)){S=b[(65535&S)+(A&(1<<N)-1)];continue n}p.msg="invalid distance code",m.mode=30;break e}if(U=65535&S,P<(N&=15)&&(A+=J[x++]<<P,(P+=8)<N&&(A+=J[x++]<<P,P+=8)),L<(U+=A&(1<<N)-1)){p.msg="invalid distance too far back",m.mode=30;break e}if(A>>>=N,P-=N,(N=I-D)<U){if(B<(N=U-N)&&m.sane){p.msg="invalid distance too far back",m.mode=30;break e}if(W=$,(G=0)===H){if(G+=z-N,N<O){for(O-=N;F[I++]=$[G++],--N;);G=I-U,W=F}}else if(H<N){if(G+=z+H-N,(N-=H)<O){for(O-=N;F[I++]=$[G++],--N;);if(G=0,H<O){for(O-=N=H;F[I++]=$[G++],--N;);G=I-U,W=F}}}else if(G+=H-N,N<O){for(O-=N;F[I++]=$[G++],--N;);G=I-U,W=F}for(;2<O;)F[I++]=W[G++],F[I++]=W[G++],F[I++]=W[G++],O-=3;O&&(F[I++]=W[G++],1<O&&(F[I++]=W[G++]))}else{for(G=I-U;F[I++]=F[G++],F[I++]=F[G++],F[I++]=F[G++],2<(O-=3););O&&(F[I++]=F[G++],1<O&&(F[I++]=F[G++]))}break}}break}}while(x<k&&I<V);x-=O=P>>3,A&=(1<<(P-=O<<3))-1,p.next_in=x,p.next_out=I,p.avail_in=x<k?k-x+5:5-(x-k),p.avail_out=I<V?V-I+257:257-(I-V),m.hold=A,m.bits=P}},{}],49:[function(f,g,y){var p=f("../utils/common"),v=f("./adler32"),m=f("./crc32"),x=f("./inffast"),k=f("./inftrees"),I=-2;function D(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(_){var w;return _&&_.state?(w=_.state,_.total_in=_.total_out=w.total=0,_.msg="",w.wrap&&(_.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new p.Buf32(852),w.distcode=w.distdyn=new p.Buf32(592),w.sane=1,w.back=-1,0):I}function z(_){var w;return _&&_.state?((w=_.state).wsize=0,w.whave=0,w.wnext=0,L(_)):I}function B(_,w){var S,N;return _&&_.state?(N=_.state,w<0?(S=0,w=-w):(S=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?I:(N.window!==null&&N.wbits!==w&&(N.window=null),N.wrap=S,N.wbits=w,z(_))):I}function H(_,w){var S,N;return _?(N=new V,(_.state=N).window=null,(S=B(_,w))!==0&&(_.state=null),S):I}var $,A,P=!0;function C(_){if(P){var w;for($=new p.Buf32(512),A=new p.Buf32(32),w=0;w<144;)_.lens[w++]=8;for(;w<256;)_.lens[w++]=9;for(;w<280;)_.lens[w++]=7;for(;w<288;)_.lens[w++]=8;for(k(1,_.lens,0,288,$,0,_.work,{bits:9}),w=0;w<32;)_.lens[w++]=5;k(2,_.lens,0,32,A,0,_.work,{bits:5}),P=!1}_.lencode=$,_.lenbits=9,_.distcode=A,_.distbits=5}function b(_,w,S,N){var O,U=_.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new p.Buf8(U.wsize)),N>=U.wsize?(p.arraySet(U.window,w,S-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(N<(O=U.wsize-U.wnext)&&(O=N),p.arraySet(U.window,w,S-N,O,U.wnext),(N-=O)?(p.arraySet(U.window,w,S-N,N,0),U.wnext=N,U.whave=U.wsize):(U.wnext+=O,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=O))),0}y.inflateReset=z,y.inflateReset2=B,y.inflateResetKeep=L,y.inflateInit=function(_){return H(_,15)},y.inflateInit2=H,y.inflate=function(_,w){var S,N,O,U,G,W,J,F,Y,j,R,q,K,Q,X,ee,ie,ae,Z,re,ne,ue,le,de,he=0,pe=new p.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return I;(S=_.state).mode===12&&(S.mode=13),G=_.next_out,O=_.output,J=_.avail_out,U=_.next_in,N=_.input,W=_.avail_in,F=S.hold,Y=S.bits,j=W,R=J,ue=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;Y<16;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(2&S.wrap&&F===35615){pe[S.check=0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0),Y=F=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&F)<<8)+(F>>8))%31){_.msg="incorrect header check",S.mode=30;break}if((15&F)!=8){_.msg="unknown compression method",S.mode=30;break}if(Y-=4,ne=8+(15&(F>>>=4)),S.wbits===0)S.wbits=ne;else if(ne>S.wbits){_.msg="invalid window size",S.mode=30;break}S.dmax=1<<ne,_.adler=S.check=1,S.mode=512&F?10:12,Y=F=0;break;case 2:for(;Y<16;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(S.flags=F,(255&S.flags)!=8){_.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){_.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=F>>8&1),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0)),Y=F=0,S.mode=3;case 3:for(;Y<32;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}S.head&&(S.head.time=F),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,pe[2]=F>>>16&255,pe[3]=F>>>24&255,S.check=m(S.check,pe,4,0)),Y=F=0,S.mode=4;case 4:for(;Y<16;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}S.head&&(S.head.xflags=255&F,S.head.os=F>>8),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0)),Y=F=0,S.mode=5;case 5:if(1024&S.flags){for(;Y<16;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}S.length=F,S.head&&(S.head.extra_len=F),512&S.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,S.check=m(S.check,pe,2,0)),Y=F=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(W<(q=S.length)&&(q=W),q&&(S.head&&(ne=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),p.arraySet(S.head.extra,N,U,q,ne)),512&S.flags&&(S.check=m(S.check,N,q,U)),W-=q,U+=q,S.length-=q),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(W===0)break e;for(q=0;ne=N[U+q++],S.head&&ne&&S.length<65536&&(S.head.name+=String.fromCharCode(ne)),ne&&q<W;);if(512&S.flags&&(S.check=m(S.check,N,q,U)),W-=q,U+=q,ne)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(W===0)break e;for(q=0;ne=N[U+q++],S.head&&ne&&S.length<65536&&(S.head.comment+=String.fromCharCode(ne)),ne&&q<W;);if(512&S.flags&&(S.check=m(S.check,N,q,U)),W-=q,U+=q,ne)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;Y<16;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(F!==(65535&S.check)){_.msg="header crc mismatch",S.mode=30;break}Y=F=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),_.adler=S.check=0,S.mode=12;break;case 10:for(;Y<32;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}_.adler=S.check=D(F),Y=F=0,S.mode=11;case 11:if(S.havedict===0)return _.next_out=G,_.avail_out=J,_.next_in=U,_.avail_in=W,S.hold=F,S.bits=Y,2;_.adler=S.check=1,S.mode=12;case 12:if(w===5||w===6)break e;case 13:if(S.last){F>>>=7&Y,Y-=7&Y,S.mode=27;break}for(;Y<3;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}switch(S.last=1&F,Y-=1,3&(F>>>=1)){case 0:S.mode=14;break;case 1:if(C(S),S.mode=20,w!==6)break;F>>>=2,Y-=2;break e;case 2:S.mode=17;break;case 3:_.msg="invalid block type",S.mode=30}F>>>=2,Y-=2;break;case 14:for(F>>>=7&Y,Y-=7&Y;Y<32;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if((65535&F)!=(F>>>16^65535)){_.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&F,Y=F=0,S.mode=15,w===6)break e;case 15:S.mode=16;case 16:if(q=S.length){if(W<q&&(q=W),J<q&&(q=J),q===0)break e;p.arraySet(O,N,U,q,G),W-=q,U+=q,J-=q,G+=q,S.length-=q;break}S.mode=12;break;case 17:for(;Y<14;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(S.nlen=257+(31&F),F>>>=5,Y-=5,S.ndist=1+(31&F),F>>>=5,Y-=5,S.ncode=4+(15&F),F>>>=4,Y-=4,286<S.nlen||30<S.ndist){_.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;Y<3;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}S.lens[ye[S.have++]]=7&F,F>>>=3,Y-=3}for(;S.have<19;)S.lens[ye[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,le={bits:S.lenbits},ue=k(0,S.lens,0,19,S.lencode,0,S.work,le),S.lenbits=le.bits,ue){_.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ee=(he=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ie=65535&he,!((X=he>>>24)<=Y);){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(ie<16)F>>>=X,Y-=X,S.lens[S.have++]=ie;else{if(ie===16){for(de=X+2;Y<de;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(F>>>=X,Y-=X,S.have===0){_.msg="invalid bit length repeat",S.mode=30;break}ne=S.lens[S.have-1],q=3+(3&F),F>>>=2,Y-=2}else if(ie===17){for(de=X+3;Y<de;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}Y-=X,ne=0,q=3+(7&(F>>>=X)),F>>>=3,Y-=3}else{for(de=X+7;Y<de;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}Y-=X,ne=0,q=11+(127&(F>>>=X)),F>>>=7,Y-=7}if(S.have+q>S.nlen+S.ndist){_.msg="invalid bit length repeat",S.mode=30;break}for(;q--;)S.lens[S.have++]=ne}}if(S.mode===30)break;if(S.lens[256]===0){_.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,le={bits:S.lenbits},ue=k(1,S.lens,0,S.nlen,S.lencode,0,S.work,le),S.lenbits=le.bits,ue){_.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,le={bits:S.distbits},ue=k(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,le),S.distbits=le.bits,ue){_.msg="invalid distances set",S.mode=30;break}if(S.mode=20,w===6)break e;case 20:S.mode=21;case 21:if(6<=W&&258<=J){_.next_out=G,_.avail_out=J,_.next_in=U,_.avail_in=W,S.hold=F,S.bits=Y,x(_,R),G=_.next_out,O=_.output,J=_.avail_out,U=_.next_in,N=_.input,W=_.avail_in,F=S.hold,Y=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ee=(he=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ie=65535&he,!((X=he>>>24)<=Y);){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(ee&&!(240&ee)){for(ae=X,Z=ee,re=ie;ee=(he=S.lencode[re+((F&(1<<ae+Z)-1)>>ae)])>>>16&255,ie=65535&he,!(ae+(X=he>>>24)<=Y);){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}F>>>=ae,Y-=ae,S.back+=ae}if(F>>>=X,Y-=X,S.back+=X,S.length=ie,ee===0){S.mode=26;break}if(32&ee){S.back=-1,S.mode=12;break}if(64&ee){_.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ee,S.mode=22;case 22:if(S.extra){for(de=S.extra;Y<de;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}S.length+=F&(1<<S.extra)-1,F>>>=S.extra,Y-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ee=(he=S.distcode[F&(1<<S.distbits)-1])>>>16&255,ie=65535&he,!((X=he>>>24)<=Y);){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(!(240&ee)){for(ae=X,Z=ee,re=ie;ee=(he=S.distcode[re+((F&(1<<ae+Z)-1)>>ae)])>>>16&255,ie=65535&he,!(ae+(X=he>>>24)<=Y);){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}F>>>=ae,Y-=ae,S.back+=ae}if(F>>>=X,Y-=X,S.back+=X,64&ee){_.msg="invalid distance code",S.mode=30;break}S.offset=ie,S.extra=15&ee,S.mode=24;case 24:if(S.extra){for(de=S.extra;Y<de;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}S.offset+=F&(1<<S.extra)-1,F>>>=S.extra,Y-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){_.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(J===0)break e;if(q=R-J,S.offset>q){if((q=S.offset-q)>S.whave&&S.sane){_.msg="invalid distance too far back",S.mode=30;break}K=q>S.wnext?(q-=S.wnext,S.wsize-q):S.wnext-q,q>S.length&&(q=S.length),Q=S.window}else Q=O,K=G-S.offset,q=S.length;for(J<q&&(q=J),J-=q,S.length-=q;O[G++]=Q[K++],--q;);S.length===0&&(S.mode=21);break;case 26:if(J===0)break e;O[G++]=S.length,J--,S.mode=21;break;case 27:if(S.wrap){for(;Y<32;){if(W===0)break e;W--,F|=N[U++]<<Y,Y+=8}if(R-=J,_.total_out+=R,S.total+=R,R&&(_.adler=S.check=S.flags?m(S.check,O,R,G-R):v(S.check,O,R,G-R)),R=J,(S.flags?F:D(F))!==S.check){_.msg="incorrect data check",S.mode=30;break}Y=F=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;Y<32;){if(W===0)break e;W--,F+=N[U++]<<Y,Y+=8}if(F!==(4294967295&S.total)){_.msg="incorrect length check",S.mode=30;break}Y=F=0}S.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return I}return _.next_out=G,_.avail_out=J,_.next_in=U,_.avail_in=W,S.hold=F,S.bits=Y,(S.wsize||R!==_.avail_out&&S.mode<30&&(S.mode<27||w!==4))&&b(_,_.output,_.next_out,R-_.avail_out)?(S.mode=31,-4):(j-=_.avail_in,R-=_.avail_out,_.total_in+=j,_.total_out+=R,S.total+=R,S.wrap&&R&&(_.adler=S.check=S.flags?m(S.check,O,R,_.next_out-R):v(S.check,O,R,_.next_out-R)),_.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(j==0&&R===0||w===4)&&ue===0&&(ue=-5),ue)},y.inflateEnd=function(_){if(!_||!_.state)return I;var w=_.state;return w.window&&(w.window=null),_.state=null,0},y.inflateGetHeader=function(_,w){var S;return _&&_.state&&2&(S=_.state).wrap?((S.head=w).done=!1,0):I},y.inflateSetDictionary=function(_,w){var S,N=w.length;return _&&_.state?(S=_.state).wrap!==0&&S.mode!==11?I:S.mode===11&&v(1,w,N,0)!==S.check?-3:b(_,w,N,N)?(S.mode=31,-4):(S.havedict=1,0):I},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,g,y){var p=f("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(I,D,V,L,z,B,H,$){var A,P,C,b,_,w,S,N,O,U=$.bits,G=0,W=0,J=0,F=0,Y=0,j=0,R=0,q=0,K=0,Q=0,X=null,ee=0,ie=new p.Buf16(16),ae=new p.Buf16(16),Z=null,re=0;for(G=0;G<=15;G++)ie[G]=0;for(W=0;W<L;W++)ie[D[V+W]]++;for(Y=U,F=15;1<=F&&ie[F]===0;F--);if(F<Y&&(Y=F),F===0)return z[B++]=20971520,z[B++]=20971520,$.bits=1,0;for(J=1;J<F&&ie[J]===0;J++);for(Y<J&&(Y=J),G=q=1;G<=15;G++)if(q<<=1,(q-=ie[G])<0)return-1;if(0<q&&(I===0||F!==1))return-1;for(ae[1]=0,G=1;G<15;G++)ae[G+1]=ae[G]+ie[G];for(W=0;W<L;W++)D[V+W]!==0&&(H[ae[D[V+W]]++]=W);if(w=I===0?(X=Z=H,19):I===1?(X=v,ee-=257,Z=m,re-=257,256):(X=x,Z=k,-1),G=J,_=B,R=W=Q=0,C=-1,b=(K=1<<(j=Y))-1,I===1&&852<K||I===2&&592<K)return 1;for(;;){for(S=G-R,O=H[W]<w?(N=0,H[W]):H[W]>w?(N=Z[re+H[W]],X[ee+H[W]]):(N=96,0),A=1<<G-R,J=P=1<<j;z[_+(Q>>R)+(P-=A)]=S<<24|N<<16|O|0,P!==0;);for(A=1<<G-1;Q&A;)A>>=1;if(A!==0?(Q&=A-1,Q+=A):Q=0,W++,--ie[G]==0){if(G===F)break;G=D[V+H[W]]}if(Y<G&&(Q&b)!==C){for(R===0&&(R=Y),_+=J,q=1<<(j=G-R);j+R<F&&!((q-=ie[j+R])<=0);)j++,q<<=1;if(K+=1<<j,I===1&&852<K||I===2&&592<K)return 1;z[C=Q&b]=Y<<24|j<<16|_-B|0}}return Q!==0&&(z[_+Q]=G-R<<24|64<<16|0),$.bits=Y,0}},{"../utils/common":41}],51:[function(f,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,g,y){var p=f("../utils/common");function v(Z){for(var re=Z.length;0<=--re;)Z[re]=0}var m=256,x=286,k=30,I=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(576);v(B);var H=new Array(60);v(H);var $=new Array(512);v($);var A=new Array(256);v(A);var P=new Array(29);v(P);var C,b,_,w=new Array(k);function S(Z,re,ne,ue,le){this.static_tree=Z,this.extra_bits=re,this.extra_base=ne,this.elems=ue,this.max_length=le,this.has_stree=Z&&Z.length}function N(Z,re){this.dyn_tree=Z,this.max_code=0,this.stat_desc=re}function O(Z){return Z<256?$[Z]:$[256+(Z>>>7)]}function U(Z,re){Z.pending_buf[Z.pending++]=255&re,Z.pending_buf[Z.pending++]=re>>>8&255}function G(Z,re,ne){Z.bi_valid>16-ne?(Z.bi_buf|=re<<Z.bi_valid&65535,U(Z,Z.bi_buf),Z.bi_buf=re>>16-Z.bi_valid,Z.bi_valid+=ne-16):(Z.bi_buf|=re<<Z.bi_valid&65535,Z.bi_valid+=ne)}function W(Z,re,ne){G(Z,ne[2*re],ne[2*re+1])}function J(Z,re){for(var ne=0;ne|=1&Z,Z>>>=1,ne<<=1,0<--re;);return ne>>>1}function F(Z,re,ne){var ue,le,de=new Array(16),he=0;for(ue=1;ue<=I;ue++)de[ue]=he=he+ne[ue-1]<<1;for(le=0;le<=re;le++){var pe=Z[2*le+1];pe!==0&&(Z[2*le]=J(de[pe]++,pe))}}function Y(Z){var re;for(re=0;re<x;re++)Z.dyn_ltree[2*re]=0;for(re=0;re<k;re++)Z.dyn_dtree[2*re]=0;for(re=0;re<19;re++)Z.bl_tree[2*re]=0;Z.dyn_ltree[512]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function j(Z){8<Z.bi_valid?U(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function R(Z,re,ne,ue){var le=2*re,de=2*ne;return Z[le]<Z[de]||Z[le]===Z[de]&&ue[re]<=ue[ne]}function q(Z,re,ne){for(var ue=Z.heap[ne],le=ne<<1;le<=Z.heap_len&&(le<Z.heap_len&&R(re,Z.heap[le+1],Z.heap[le],Z.depth)&&le++,!R(re,ue,Z.heap[le],Z.depth));)Z.heap[ne]=Z.heap[le],ne=le,le<<=1;Z.heap[ne]=ue}function K(Z,re,ne){var ue,le,de,he,pe=0;if(Z.last_lit!==0)for(;ue=Z.pending_buf[Z.d_buf+2*pe]<<8|Z.pending_buf[Z.d_buf+2*pe+1],le=Z.pending_buf[Z.l_buf+pe],pe++,ue===0?W(Z,le,re):(W(Z,(de=A[le])+m+1,re),(he=D[de])!==0&&G(Z,le-=P[de],he),W(Z,de=O(--ue),ne),(he=V[de])!==0&&G(Z,ue-=w[de],he)),pe<Z.last_lit;);W(Z,256,re)}function Q(Z,re){var ne,ue,le,de=re.dyn_tree,he=re.stat_desc.static_tree,pe=re.stat_desc.has_stree,ye=re.stat_desc.elems,Ae=-1;for(Z.heap_len=0,Z.heap_max=573,ne=0;ne<ye;ne++)de[2*ne]!==0?(Z.heap[++Z.heap_len]=Ae=ne,Z.depth[ne]=0):de[2*ne+1]=0;for(;Z.heap_len<2;)de[2*(le=Z.heap[++Z.heap_len]=Ae<2?++Ae:0)]=1,Z.depth[le]=0,Z.opt_len--,pe&&(Z.static_len-=he[2*le+1]);for(re.max_code=Ae,ne=Z.heap_len>>1;1<=ne;ne--)q(Z,de,ne);for(le=ye;ne=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],q(Z,de,1),ue=Z.heap[1],Z.heap[--Z.heap_max]=ne,Z.heap[--Z.heap_max]=ue,de[2*le]=de[2*ne]+de[2*ue],Z.depth[le]=(Z.depth[ne]>=Z.depth[ue]?Z.depth[ne]:Z.depth[ue])+1,de[2*ne+1]=de[2*ue+1]=le,Z.heap[1]=le++,q(Z,de,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(Ne,ke){var Ve,Ue,ze,He,Ie,we,Me=ke.dyn_tree,Fe=ke.max_code,je=ke.stat_desc.static_tree,ct=ke.stat_desc.has_stree,Ct=ke.stat_desc.extra_bits,qe=ke.stat_desc.extra_base,yt=ke.stat_desc.max_length,at=0;for(He=0;He<=I;He++)Ne.bl_count[He]=0;for(Me[2*Ne.heap[Ne.heap_max]+1]=0,Ve=Ne.heap_max+1;Ve<573;Ve++)yt<(He=Me[2*Me[2*(Ue=Ne.heap[Ve])+1]+1]+1)&&(He=yt,at++),Me[2*Ue+1]=He,Fe<Ue||(Ne.bl_count[He]++,Ie=0,qe<=Ue&&(Ie=Ct[Ue-qe]),we=Me[2*Ue],Ne.opt_len+=we*(He+Ie),ct&&(Ne.static_len+=we*(je[2*Ue+1]+Ie)));if(at!==0){do{for(He=yt-1;Ne.bl_count[He]===0;)He--;Ne.bl_count[He]--,Ne.bl_count[He+1]+=2,Ne.bl_count[yt]--,at-=2}while(0<at);for(He=yt;He!==0;He--)for(Ue=Ne.bl_count[He];Ue!==0;)Fe<(ze=Ne.heap[--Ve])||(Me[2*ze+1]!==He&&(Ne.opt_len+=(He-Me[2*ze+1])*Me[2*ze],Me[2*ze+1]=He),Ue--)}}(Z,re),F(de,Ae,Z.bl_count)}function X(Z,re,ne){var ue,le,de=-1,he=re[1],pe=0,ye=7,Ae=4;for(he===0&&(ye=138,Ae=3),re[2*(ne+1)+1]=65535,ue=0;ue<=ne;ue++)le=he,he=re[2*(ue+1)+1],++pe<ye&&le===he||(pe<Ae?Z.bl_tree[2*le]+=pe:le!==0?(le!==de&&Z.bl_tree[2*le]++,Z.bl_tree[32]++):pe<=10?Z.bl_tree[34]++:Z.bl_tree[36]++,de=le,Ae=(pe=0)===he?(ye=138,3):le===he?(ye=6,3):(ye=7,4))}function ee(Z,re,ne){var ue,le,de=-1,he=re[1],pe=0,ye=7,Ae=4;for(he===0&&(ye=138,Ae=3),ue=0;ue<=ne;ue++)if(le=he,he=re[2*(ue+1)+1],!(++pe<ye&&le===he)){if(pe<Ae)for(;W(Z,le,Z.bl_tree),--pe!=0;);else le!==0?(le!==de&&(W(Z,le,Z.bl_tree),pe--),W(Z,16,Z.bl_tree),G(Z,pe-3,2)):pe<=10?(W(Z,17,Z.bl_tree),G(Z,pe-3,3)):(W(Z,18,Z.bl_tree),G(Z,pe-11,7));de=le,Ae=(pe=0)===he?(ye=138,3):le===he?(ye=6,3):(ye=7,4)}}v(w);var ie=!1;function ae(Z,re,ne,ue){G(Z,0+(ue?1:0),3),function(le,de,he,pe){j(le),U(le,he),U(le,~he),p.arraySet(le.pending_buf,le.window,de,he,le.pending),le.pending+=he}(Z,re,ne)}y._tr_init=function(Z){ie||(function(){var re,ne,ue,le,de,he=new Array(16);for(le=ue=0;le<28;le++)for(P[le]=ue,re=0;re<1<<D[le];re++)A[ue++]=le;for(A[ue-1]=le,le=de=0;le<16;le++)for(w[le]=de,re=0;re<1<<V[le];re++)$[de++]=le;for(de>>=7;le<k;le++)for(w[le]=de<<7,re=0;re<1<<V[le]-7;re++)$[256+de++]=le;for(ne=0;ne<=I;ne++)he[ne]=0;for(re=0;re<=143;)B[2*re+1]=8,re++,he[8]++;for(;re<=255;)B[2*re+1]=9,re++,he[9]++;for(;re<=279;)B[2*re+1]=7,re++,he[7]++;for(;re<=287;)B[2*re+1]=8,re++,he[8]++;for(F(B,287,he),re=0;re<k;re++)H[2*re+1]=5,H[2*re]=J(re,5);C=new S(B,D,257,x,I),b=new S(H,V,0,k,I),_=new S(new Array(0),L,0,19,7)}(),ie=!0),Z.l_desc=new N(Z.dyn_ltree,C),Z.d_desc=new N(Z.dyn_dtree,b),Z.bl_desc=new N(Z.bl_tree,_),Z.bi_buf=0,Z.bi_valid=0,Y(Z)},y._tr_stored_block=ae,y._tr_flush_block=function(Z,re,ne,ue){var le,de,he=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(pe){var ye,Ae=4093624447;for(ye=0;ye<=31;ye++,Ae>>>=1)if(1&Ae&&pe.dyn_ltree[2*ye]!==0)return 0;if(pe.dyn_ltree[18]!==0||pe.dyn_ltree[20]!==0||pe.dyn_ltree[26]!==0)return 1;for(ye=32;ye<m;ye++)if(pe.dyn_ltree[2*ye]!==0)return 1;return 0}(Z)),Q(Z,Z.l_desc),Q(Z,Z.d_desc),he=function(pe){var ye;for(X(pe,pe.dyn_ltree,pe.l_desc.max_code),X(pe,pe.dyn_dtree,pe.d_desc.max_code),Q(pe,pe.bl_desc),ye=18;3<=ye&&pe.bl_tree[2*z[ye]+1]===0;ye--);return pe.opt_len+=3*(ye+1)+5+5+4,ye}(Z),le=Z.opt_len+3+7>>>3,(de=Z.static_len+3+7>>>3)<=le&&(le=de)):le=de=ne+5,ne+4<=le&&re!==-1?ae(Z,re,ne,ue):Z.strategy===4||de===le?(G(Z,2+(ue?1:0),3),K(Z,B,H)):(G(Z,4+(ue?1:0),3),function(pe,ye,Ae,Ne){var ke;for(G(pe,ye-257,5),G(pe,Ae-1,5),G(pe,Ne-4,4),ke=0;ke<Ne;ke++)G(pe,pe.bl_tree[2*z[ke]+1],3);ee(pe,pe.dyn_ltree,ye-1),ee(pe,pe.dyn_dtree,Ae-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,he+1),K(Z,Z.dyn_ltree,Z.dyn_dtree)),Y(Z),ue&&j(Z)},y._tr_tally=function(Z,re,ne){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=re>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&re,Z.pending_buf[Z.l_buf+Z.last_lit]=255&ne,Z.last_lit++,re===0?Z.dyn_ltree[2*ne]++:(Z.matches++,re--,Z.dyn_ltree[2*(A[ne]+m+1)]++,Z.dyn_dtree[2*O(re)]++),Z.last_lit===Z.lit_bufsize-1},y._tr_align=function(Z){G(Z,2,3),W(Z,256,B),function(re){re.bi_valid===16?(U(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):8<=re.bi_valid&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(f,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,g,y){(function(p){(function(v,m){if(!v.setImmediate){var x,k,I,D,V=1,L={},z=!1,B=v.document,H=Object.getPrototypeOf&&Object.getPrototypeOf(v);H=H&&H.setTimeout?H:v,x={}.toString.call(v.process)==="[object process]"?function(C){i.nextTick(function(){A(C)})}:function(){if(v.postMessage&&!v.importScripts){var C=!0,b=v.onmessage;return v.onmessage=function(){C=!1},v.postMessage("","*"),v.onmessage=b,C}}()?(D="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",P,!1):v.attachEvent("onmessage",P),function(C){v.postMessage(D+C,"*")}):v.MessageChannel?((I=new MessageChannel).port1.onmessage=function(C){A(C.data)},function(C){I.port2.postMessage(C)}):B&&"onreadystatechange"in B.createElement("script")?(k=B.documentElement,function(C){var b=B.createElement("script");b.onreadystatechange=function(){A(C),b.onreadystatechange=null,k.removeChild(b),b=null},k.appendChild(b)}):function(C){setTimeout(A,0,C)},H.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var b=new Array(arguments.length-1),_=0;_<b.length;_++)b[_]=arguments[_+1];var w={callback:C,args:b};return L[V]=w,x(V),V++},H.clearImmediate=$}function $(C){delete L[C]}function A(C){if(z)setTimeout(A,0,C);else{var b=L[C];if(b){z=!0;try{(function(_){var w=_.callback,S=_.args;switch(S.length){case 0:w();break;case 1:w(S[0]);break;case 2:w(S[0],S[1]);break;case 3:w(S[0],S[1],S[2]);break;default:w.apply(void 0,S)}})(b)}finally{$(C),z=!1}}}}function P(C){C.source===v&&typeof C.data=="string"&&C.data.indexOf(D)===0&&A(+C.data.slice(D.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,r,o){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,u=RegExp(a.source),l=typeof i=="object"&&i&&i.Object===Object&&i,s=typeof self=="object"&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),h=Object.prototype.toString,d=c.Symbol,f=d?d.prototype:void 0,g=f?f.toString:void 0;function y(p){if(typeof p=="string")return p;if(function(m){return typeof m=="symbol"||function(x){return!!x&&typeof x=="object"}(m)&&h.call(m)=="[object Symbol]"}(p))return g?g.call(p):"";var v=p+"";return v=="0"&&1/p==-1/0?"-0":v}r.exports=function(p){var v;return(p=(v=p)==null?"":y(v))&&u.test(p)?p.replace(a,"\\$&"):p}}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,r,o){(function(i){(function(){var a="[object Arguments]",u="[object Map]",l="[object Object]",s="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[u]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[s]=v["[object String]"]=v["[object WeakMap]"]=!1;var m=typeof i=="object"&&i&&i.Object===Object&&i,x=typeof self=="object"&&self&&self.Object===Object&&self,k=m||x||Function("return this")(),I=typeof o=="object"&&o&&!o.nodeType&&o,D=I&&typeof r=="object"&&r&&!r.nodeType&&r,V=D&&D.exports===I&&m.process,L=function(){try{return V&&V.binding("util")}catch{}}(),z=L&&L.isTypedArray;function B(te,fe,ge,ve){for(var Le=-1,_e=te?te.length:0;++Le<_e;){var Se=te[Le];fe(ve,Se,ge(Se),te)}return ve}function H(te,fe){for(var ge=-1,ve=te?te.length:0;++ge<ve;)if(fe(te[ge],ge,te))return!0;return!1}function $(te){var fe=!1;if(te!=null&&typeof te.toString!="function")try{fe=!!(te+"")}catch{}return fe}function A(te){var fe=-1,ge=Array(te.size);return te.forEach(function(ve,Le){ge[++fe]=[Le,ve]}),ge}function P(te){var fe=-1,ge=Array(te.size);return te.forEach(function(ve){ge[++fe]=ve}),ge}var C,b,_,w=Array.prototype,S=Function.prototype,N=Object.prototype,O=k["__core-js_shared__"],U=(C=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",G=S.toString,W=N.hasOwnProperty,J=N.toString,F=RegExp("^"+G.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=k.Symbol,j=k.Uint8Array,R=N.propertyIsEnumerable,q=w.splice,K=(b=Object.keys,_=Object,function(te){return b(_(te))}),Q=Ke(k,"DataView"),X=Ke(k,"Map"),ee=Ke(k,"Promise"),ie=Ke(k,"Set"),ae=Ke(k,"WeakMap"),Z=Ke(Object,"create"),re=ce(Q),ne=ce(X),ue=ce(ee),le=ce(ie),de=ce(ae),he=Y?Y.prototype:void 0,pe=he?he.valueOf:void 0,ye=he?he.toString:void 0;function Ae(te){var fe=-1,ge=te?te.length:0;for(this.clear();++fe<ge;){var ve=te[fe];this.set(ve[0],ve[1])}}function Ne(te){var fe=-1,ge=te?te.length:0;for(this.clear();++fe<ge;){var ve=te[fe];this.set(ve[0],ve[1])}}function ke(te){var fe=-1,ge=te?te.length:0;for(this.clear();++fe<ge;){var ve=te[fe];this.set(ve[0],ve[1])}}function Ve(te){var fe=-1,ge=te?te.length:0;for(this.__data__=new ke;++fe<ge;)this.add(te[fe])}function Ue(te){this.__data__=new Ne(te)}function ze(te,fe){var ge=We(te)||Xe(te)?function(Se,lt){for(var st=-1,it=Array(Se);++st<Se;)it[st]=lt(st);return it}(te.length,String):[],ve=ge.length,Le=!!ve;for(var _e in te)!fe&&!W.call(te,_e)||Le&&(_e=="length"||At(_e,ve))||ge.push(_e);return ge}function He(te,fe){for(var ge=te.length;ge--;)if(Te(te[ge][0],fe))return ge;return-1}function Ie(te,fe,ge,ve){return Me(te,function(Le,_e,Se){fe(ve,Le,ge(Le),Se)}),ve}Ae.prototype.clear=function(){this.__data__=Z?Z(null):{}},Ae.prototype.delete=function(te){return this.has(te)&&delete this.__data__[te]},Ae.prototype.get=function(te){var fe=this.__data__;if(Z){var ge=fe[te];return ge==="__lodash_hash_undefined__"?void 0:ge}return W.call(fe,te)?fe[te]:void 0},Ae.prototype.has=function(te){var fe=this.__data__;return Z?fe[te]!==void 0:W.call(fe,te)},Ae.prototype.set=function(te,fe){return this.__data__[te]=Z&&fe===void 0?"__lodash_hash_undefined__":fe,this},Ne.prototype.clear=function(){this.__data__=[]},Ne.prototype.delete=function(te){var fe=this.__data__,ge=He(fe,te);return!(ge<0)&&(ge==fe.length-1?fe.pop():q.call(fe,ge,1),!0)},Ne.prototype.get=function(te){var fe=this.__data__,ge=He(fe,te);return ge<0?void 0:fe[ge][1]},Ne.prototype.has=function(te){return He(this.__data__,te)>-1},Ne.prototype.set=function(te,fe){var ge=this.__data__,ve=He(ge,te);return ve<0?ge.push([te,fe]):ge[ve][1]=fe,this},ke.prototype.clear=function(){this.__data__={hash:new Ae,map:new(X||Ne),string:new Ae}},ke.prototype.delete=function(te){return vt(this,te).delete(te)},ke.prototype.get=function(te){return vt(this,te).get(te)},ke.prototype.has=function(te){return vt(this,te).has(te)},ke.prototype.set=function(te,fe){return vt(this,te).set(te,fe),this},Ve.prototype.add=Ve.prototype.push=function(te){return this.__data__.set(te,"__lodash_hash_undefined__"),this},Ve.prototype.has=function(te){return this.__data__.has(te)},Ue.prototype.clear=function(){this.__data__=new Ne},Ue.prototype.delete=function(te){return this.__data__.delete(te)},Ue.prototype.get=function(te){return this.__data__.get(te)},Ue.prototype.has=function(te){return this.__data__.has(te)},Ue.prototype.set=function(te,fe){var ge=this.__data__;if(ge instanceof Ne){var ve=ge.__data__;if(!X||ve.length<199)return ve.push([te,fe]),this;ge=this.__data__=new ke(ve)}return ge.set(te,fe),this};var we,Me=(we=function(te,fe){return te&&Fe(te,fe,tn)},function(te,fe){if(te==null)return te;if(!$e(te))return we(te,fe);for(var ge=te.length,ve=-1,Le=Object(te);++ve<ge&&fe(Le[ve],ve,Le)!==!1;);return te}),Fe=function(te){return function(fe,ge,ve){for(var Le=-1,_e=Object(fe),Se=ve(fe),lt=Se.length;lt--;){var st=Se[te?lt:++Le];if(ge(_e[st],st,_e)===!1)break}return fe}}();function je(te,fe){for(var ge=0,ve=(fe=Je(fe,te)?[fe]:Qe(fe)).length;te!=null&&ge<ve;)te=te[se(fe[ge++])];return ge&&ge==ve?te:void 0}function ct(te,fe){return te!=null&&fe in Object(te)}function Ct(te,fe,ge,ve,Le){return te===fe||(te==null||fe==null||!ot(te)&&!Gt(fe)?te!=te&&fe!=fe:function(_e,Se,lt,st,it,Ye){var Tt=We(_e),Dt=We(Se),mt="[object Array]",Bt="[object Array]";Tt||(mt=(mt=pt(_e))==a?l:mt),Dt||(Bt=(Bt=pt(Se))==a?l:Bt);var Xt=mt==l&&!$(_e),hn=Bt==l&&!$(Se),Xn=mt==Bt;if(Xn&&!Xt)return Ye||(Ye=new Ue),Tt||en(_e)?Rt(_e,Se,lt,st,it,Ye):function(Et,gt,Dr,mi,Do,Rn,yr){switch(Dr){case"[object DataView]":if(Et.byteLength!=gt.byteLength||Et.byteOffset!=gt.byteOffset)return!1;Et=Et.buffer,gt=gt.buffer;case"[object ArrayBuffer]":return!(Et.byteLength!=gt.byteLength||!mi(new j(Et),new j(gt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Te(+Et,+gt);case"[object Error]":return Et.name==gt.name&&Et.message==gt.message;case"[object RegExp]":case"[object String]":return Et==gt+"";case u:var Or=A;case s:var Rs=2&Rn;if(Or||(Or=P),Et.size!=gt.size&&!Rs)return!1;var Oo=yr.get(Et);if(Oo)return Oo==gt;Rn|=1,yr.set(Et,gt);var Fi=Rt(Or(Et),Or(gt),mi,Do,Rn,yr);return yr.delete(Et),Fi;case"[object Symbol]":if(pe)return pe.call(Et)==pe.call(gt)}return!1}(_e,Se,mt,lt,st,it,Ye);if(!(2&it)){var lr=Xt&&W.call(_e,"__wrapped__"),Di=hn&&W.call(Se,"__wrapped__");if(lr||Di){var Oi=lr?_e.value():_e,Li=Di?Se.value():Se;return Ye||(Ye=new Ue),lt(Oi,Li,st,it,Ye)}}return Xn?(Ye||(Ye=new Ue),function(Et,gt,Dr,mi,Do,Rn){var yr=2&Do,Or=tn(Et),Rs=Or.length,Oo=tn(gt).length;if(Rs!=Oo&&!yr)return!1;for(var Fi=Rs;Fi--;){var Lr=Or[Fi];if(!(yr?Lr in gt:W.call(gt,Lr)))return!1}var zd=Rn.get(Et);if(zd&&Rn.get(gt))return zd==gt;var Lo=!0;Rn.set(Et,gt),Rn.set(gt,Et);for(var $l=yr;++Fi<Rs;){Lr=Or[Fi];var Fo=Et[Lr],Bo=gt[Lr];if(mi)var Vd=yr?mi(Bo,Fo,Lr,gt,Et,Rn):mi(Fo,Bo,Lr,Et,gt,Rn);if(!(Vd===void 0?Fo===Bo||Dr(Fo,Bo,mi,Do,Rn):Vd)){Lo=!1;break}$l||($l=Lr=="constructor")}if(Lo&&!$l){var Uo=Et.constructor,zo=gt.constructor;Uo==zo||!("constructor"in Et)||!("constructor"in gt)||typeof Uo=="function"&&Uo instanceof Uo&&typeof zo=="function"&&zo instanceof zo||(Lo=!1)}return Rn.delete(Et),Rn.delete(gt),Lo}(_e,Se,lt,st,it,Ye)):!1}(te,fe,Ct,ge,ve,Le))}function qe(te){return!(!ot(te)||function(fe){return!!U&&U in fe}(te))&&(et(te)||$(te)?F:y).test(ce(te))}function yt(te){return typeof te=="function"?te:te==null?kn:typeof te=="object"?We(te)?function(ve,Le){return Je(ve)&&wt(Le)?It(se(ve),Le):function(_e){var Se=function(lt,st,it){var Ye=lt==null?void 0:je(lt,st);return Ye===void 0?it:Ye}(_e,ve);return Se===void 0&&Se===Le?function(lt,st){return lt!=null&&function(it,Ye,Tt){Ye=Je(Ye,it)?[Ye]:Qe(Ye);for(var Dt,mt=-1,Bt=Ye.length;++mt<Bt;){var Xt=se(Ye[mt]);if(!(Dt=it!=null&&Tt(it,Xt)))break;it=it[Xt]}return Dt||!!(Bt=it?it.length:0)&&Ze(Bt)&&At(Xt,Bt)&&(We(it)||Xe(it))}(lt,st,ct)}(_e,ve):Ct(Le,Se,void 0,3)}}(te[0],te[1]):function(ve){var Le=function(_e){for(var Se=tn(_e),lt=Se.length;lt--;){var st=Se[lt],it=_e[st];Se[lt]=[st,it,wt(it)]}return Se}(ve);return Le.length==1&&Le[0][2]?It(Le[0][0],Le[0][1]):function(_e){return _e===ve||function(Se,lt,st,it){var Ye=st.length,Tt=Ye,Dt=!it;if(Se==null)return!Tt;for(Se=Object(Se);Ye--;){var mt=st[Ye];if(Dt&&mt[2]?mt[1]!==Se[mt[0]]:!(mt[0]in Se))return!1}for(;++Ye<Tt;){var Bt=(mt=st[Ye])[0],Xt=Se[Bt],hn=mt[1];if(Dt&&mt[2]){if(Xt===void 0&&!(Bt in Se))return!1}else{var Xn=new Ue;if(it)var lr=it(Xt,hn,Bt,Se,lt,Xn);if(!(lr===void 0?Ct(hn,Xt,it,3,Xn):lr))return!1}}return!0}(_e,ve,Le)}}(te):Je(fe=te)?(ge=se(fe),function(ve){return ve==null?void 0:ve[ge]}):function(ve){return function(Le){return je(Le,ve)}}(fe);var fe,ge}function at(te){if(ge=(fe=te)&&fe.constructor,ve=typeof ge=="function"&&ge.prototype||N,fe!==ve)return K(te);var fe,ge,ve,Le=[];for(var _e in Object(te))W.call(te,_e)&&_e!="constructor"&&Le.push(_e);return Le}function Qe(te){return We(te)?te:tt(te)}function Rt(te,fe,ge,ve,Le,_e){var Se=2&Le,lt=te.length,st=fe.length;if(lt!=st&&!(Se&&st>lt))return!1;var it=_e.get(te);if(it&&_e.get(fe))return it==fe;var Ye=-1,Tt=!0,Dt=1&Le?new Ve:void 0;for(_e.set(te,fe),_e.set(fe,te);++Ye<lt;){var mt=te[Ye],Bt=fe[Ye];if(ve)var Xt=Se?ve(Bt,mt,Ye,fe,te,_e):ve(mt,Bt,Ye,te,fe,_e);if(Xt!==void 0){if(Xt)continue;Tt=!1;break}if(Dt){if(!H(fe,function(hn,Xn){if(!Dt.has(Xn)&&(mt===hn||ge(mt,hn,ve,Le,_e)))return Dt.add(Xn)})){Tt=!1;break}}else if(mt!==Bt&&!ge(mt,Bt,ve,Le,_e)){Tt=!1;break}}return _e.delete(te),_e.delete(fe),Tt}function vt(te,fe){var ge,ve,Le=te.__data__;return((ve=typeof(ge=fe))=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?ge!=="__proto__":ge===null)?Le[typeof fe=="string"?"string":"hash"]:Le.map}function Ke(te,fe){var ge=function(ve,Le){return ve==null?void 0:ve[Le]}(te,fe);return qe(ge)?ge:void 0}var pt=function(te){return J.call(te)};function At(te,fe){return!!(fe=fe??9007199254740991)&&(typeof te=="number"||p.test(te))&&te>-1&&te%1==0&&te<fe}function Je(te,fe){if(We(te))return!1;var ge=typeof te;return!(ge!="number"&&ge!="symbol"&&ge!="boolean"&&te!=null&&!Pt(te))||h.test(te)||!c.test(te)||fe!=null&&te in Object(fe)}function wt(te){return te==te&&!ot(te)}function It(te,fe){return function(ge){return ge!=null&&ge[te]===fe&&(fe!==void 0||te in Object(ge))}}(Q&&pt(new Q(new ArrayBuffer(1)))!="[object DataView]"||X&&pt(new X)!=u||ee&&pt(ee.resolve())!="[object Promise]"||ie&&pt(new ie)!=s||ae&&pt(new ae)!="[object WeakMap]")&&(pt=function(te){var fe=J.call(te),ge=fe==l?te.constructor:void 0,ve=ge?ce(ge):void 0;if(ve)switch(ve){case re:return"[object DataView]";case ne:return u;case ue:return"[object Promise]";case le:return s;case de:return"[object WeakMap]"}return fe});var tt=Ge(function(te){var fe;te=(fe=te)==null?"":function(ve){if(typeof ve=="string")return ve;if(Pt(ve))return ye?ye.call(ve):"";var Le=ve+"";return Le=="0"&&1/ve==-1/0?"-0":Le}(fe);var ge=[];return d.test(te)&&ge.push(""),te.replace(f,function(ve,Le,_e,Se){ge.push(_e?Se.replace(g,"$1"):Le||ve)}),ge});function se(te){if(typeof te=="string"||Pt(te))return te;var fe=te+"";return fe=="0"&&1/te==-1/0?"-0":fe}function ce(te){if(te!=null){try{return G.call(te)}catch{}try{return te+""}catch{}}return""}var me,Ce=(me=function(te,fe,ge){W.call(te,ge)?te[ge].push(fe):te[ge]=[fe]},function(te,fe){var ge=We(te)?B:Ie,ve={};return ge(te,me,yt(fe),ve)});function Ge(te,fe){if(typeof te!="function"||fe&&typeof fe!="function")throw new TypeError("Expected a function");var ge=function(){var ve=arguments,Le=fe?fe.apply(this,ve):ve[0],_e=ge.cache;if(_e.has(Le))return _e.get(Le);var Se=te.apply(this,ve);return ge.cache=_e.set(Le,Se),Se};return ge.cache=new(Ge.Cache||ke),ge}function Te(te,fe){return te===fe||te!=te&&fe!=fe}function Xe(te){return function(fe){return Gt(fe)&&$e(fe)}(te)&&W.call(te,"callee")&&(!R.call(te,"callee")||J.call(te)==a)}Ge.Cache=ke;var We=Array.isArray;function $e(te){return te!=null&&Ze(te.length)&&!et(te)}function et(te){var fe=ot(te)?J.call(te):"";return fe=="[object Function]"||fe=="[object GeneratorFunction]"}function Ze(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=9007199254740991}function ot(te){var fe=typeof te;return!!te&&(fe=="object"||fe=="function")}function Gt(te){return!!te&&typeof te=="object"}function Pt(te){return typeof te=="symbol"||Gt(te)&&J.call(te)=="[object Symbol]"}var en=z?function(te){return function(fe){return te(fe)}}(z):function(te){return Gt(te)&&Ze(te.length)&&!!v[J.call(te)]};function tn(te){return $e(te)?ze(te):at(te)}function kn(te){return te}r.exports=Ce}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,r,o){var i=Object.prototype.toString;r.exports=function(a){return a===!0||a===!1||function(u){return!!u&&typeof u=="object"}(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(t,r,o){(function(i){(function(){var a="[object Arguments]",u="[object Map]",l="[object Object]",s="[object Set]",c=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[a]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[u]=d["[object Number]"]=d[l]=d["[object RegExp]"]=d[s]=d["[object String]"]=d["[object WeakMap]"]=!1;var f=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,y=f||g||Function("return this")(),p=typeof o=="object"&&o&&!o.nodeType&&o,v=p&&typeof r=="object"&&r&&!r.nodeType&&r,m=v&&v.exports===p,x=m&&f.process,k=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),I=k&&k.isTypedArray;function D(se,ce){for(var me=-1,Ce=se==null?0:se.length;++me<Ce;)if(ce(se[me],me,se))return!0;return!1}function V(se){var ce=-1,me=Array(se.size);return se.forEach(function(Ce,Ge){me[++ce]=[Ge,Ce]}),me}function L(se){var ce=-1,me=Array(se.size);return se.forEach(function(Ce){me[++ce]=Ce}),me}var z,B,H,$=Array.prototype,A=Function.prototype,P=Object.prototype,C=y["__core-js_shared__"],b=A.toString,_=P.hasOwnProperty,w=(z=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",S=P.toString,N=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=m?y.Buffer:void 0,U=y.Symbol,G=y.Uint8Array,W=P.propertyIsEnumerable,J=$.splice,F=U?U.toStringTag:void 0,Y=Object.getOwnPropertySymbols,j=O?O.isBuffer:void 0,R=(B=Object.keys,H=Object,function(se){return B(H(se))}),q=ct(y,"DataView"),K=ct(y,"Map"),Q=ct(y,"Promise"),X=ct(y,"Set"),ee=ct(y,"WeakMap"),ie=ct(Object,"create"),ae=at(q),Z=at(K),re=at(Q),ne=at(X),ue=at(ee),le=U?U.prototype:void 0,de=le?le.valueOf:void 0;function he(se){var ce=-1,me=se==null?0:se.length;for(this.clear();++ce<me;){var Ce=se[ce];this.set(Ce[0],Ce[1])}}function pe(se){var ce=-1,me=se==null?0:se.length;for(this.clear();++ce<me;){var Ce=se[ce];this.set(Ce[0],Ce[1])}}function ye(se){var ce=-1,me=se==null?0:se.length;for(this.clear();++ce<me;){var Ce=se[ce];this.set(Ce[0],Ce[1])}}function Ae(se){var ce=-1,me=se==null?0:se.length;for(this.__data__=new ye;++ce<me;)this.add(se[ce])}function Ne(se){var ce=this.__data__=new pe(se);this.size=ce.size}function ke(se,ce){var me=vt(se),Ce=!me&&Rt(se),Ge=!me&&!Ce&&Ke(se),Te=!me&&!Ce&&!Ge&&It(se),Xe=me||Ce||Ge||Te,We=Xe?function(Ze,ot){for(var Gt=-1,Pt=Array(Ze);++Gt<Ze;)Pt[Gt]=ot(Gt);return Pt}(se.length,String):[],$e=We.length;for(var et in se)!ce&&!_.call(se,et)||Xe&&(et=="length"||Ge&&(et=="offset"||et=="parent")||Te&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||yt(et,$e))||We.push(et);return We}function Ve(se,ce){for(var me=se.length;me--;)if(Qe(se[me][0],ce))return me;return-1}function Ue(se){return se==null?se===void 0?"[object Undefined]":"[object Null]":F&&F in Object(se)?function(ce){var me=_.call(ce,F),Ce=ce[F];try{ce[F]=void 0;var Ge=!0}catch{}var Te=S.call(ce);return Ge&&(me?ce[F]=Ce:delete ce[F]),Te}(se):function(ce){return S.call(ce)}(se)}function ze(se){return wt(se)&&Ue(se)==a}function He(se,ce,me,Ce,Ge){return se===ce||(se==null||ce==null||!wt(se)&&!wt(ce)?se!=se&&ce!=ce:function(Te,Xe,We,$e,et,Ze){var ot=vt(Te),Gt=vt(Xe),Pt=ot?"[object Array]":qe(Te),en=Gt?"[object Array]":qe(Xe),tn=(Pt=Pt==a?l:Pt)==l,kn=(en=en==a?l:en)==l,te=Pt==en;if(te&&Ke(Te)){if(!Ke(Xe))return!1;ot=!0,tn=!1}if(te&&!tn)return Ze||(Ze=new Ne),ot||It(Te)?Me(Te,Xe,We,$e,et,Ze):function(_e,Se,lt,st,it,Ye,Tt){switch(lt){case"[object DataView]":if(_e.byteLength!=Se.byteLength||_e.byteOffset!=Se.byteOffset)return!1;_e=_e.buffer,Se=Se.buffer;case"[object ArrayBuffer]":return!(_e.byteLength!=Se.byteLength||!Ye(new G(_e),new G(Se)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Qe(+_e,+Se);case"[object Error]":return _e.name==Se.name&&_e.message==Se.message;case"[object RegExp]":case"[object String]":return _e==Se+"";case u:var Dt=V;case s:var mt=1&st;if(Dt||(Dt=L),_e.size!=Se.size&&!mt)return!1;var Bt=Tt.get(_e);if(Bt)return Bt==Se;st|=2,Tt.set(_e,Se);var Xt=Me(Dt(_e),Dt(Se),st,it,Ye,Tt);return Tt.delete(_e),Xt;case"[object Symbol]":if(de)return de.call(_e)==de.call(Se)}return!1}(Te,Xe,Pt,We,$e,et,Ze);if(!(1&We)){var fe=tn&&_.call(Te,"__wrapped__"),ge=kn&&_.call(Xe,"__wrapped__");if(fe||ge){var ve=fe?Te.value():Te,Le=ge?Xe.value():Xe;return Ze||(Ze=new Ne),et(ve,Le,We,$e,Ze)}}return te?(Ze||(Ze=new Ne),function(_e,Se,lt,st,it,Ye){var Tt=1&lt,Dt=Fe(_e),mt=Dt.length,Bt=Fe(Se).length;if(mt!=Bt&&!Tt)return!1;for(var Xt=mt;Xt--;){var hn=Dt[Xt];if(!(Tt?hn in Se:_.call(Se,hn)))return!1}var Xn=Ye.get(_e);if(Xn&&Ye.get(Se))return Xn==Se;var lr=!0;Ye.set(_e,Se),Ye.set(Se,_e);for(var Di=Tt;++Xt<mt;){hn=Dt[Xt];var Oi=_e[hn],Li=Se[hn];if(st)var Et=Tt?st(Li,Oi,hn,Se,_e,Ye):st(Oi,Li,hn,_e,Se,Ye);if(!(Et===void 0?Oi===Li||it(Oi,Li,lt,st,Ye):Et)){lr=!1;break}Di||(Di=hn=="constructor")}if(lr&&!Di){var gt=_e.constructor,Dr=Se.constructor;gt==Dr||!("constructor"in _e)||!("constructor"in Se)||typeof gt=="function"&&gt instanceof gt&&typeof Dr=="function"&&Dr instanceof Dr||(lr=!1)}return Ye.delete(_e),Ye.delete(Se),lr}(Te,Xe,We,$e,et,Ze)):!1}(se,ce,me,Ce,He,Ge))}function Ie(se){return!(!Je(se)||function(ce){return!!w&&w in ce}(se))&&(pt(se)?N:c).test(at(se))}function we(se){if(me=(ce=se)&&ce.constructor,Ce=typeof me=="function"&&me.prototype||P,ce!==Ce)return R(se);var ce,me,Ce,Ge=[];for(var Te in Object(se))_.call(se,Te)&&Te!="constructor"&&Ge.push(Te);return Ge}function Me(se,ce,me,Ce,Ge,Te){var Xe=1&me,We=se.length,$e=ce.length;if(We!=$e&&!(Xe&&$e>We))return!1;var et=Te.get(se);if(et&&Te.get(ce))return et==ce;var Ze=-1,ot=!0,Gt=2&me?new Ae:void 0;for(Te.set(se,ce),Te.set(ce,se);++Ze<We;){var Pt=se[Ze],en=ce[Ze];if(Ce)var tn=Xe?Ce(en,Pt,Ze,ce,se,Te):Ce(Pt,en,Ze,se,ce,Te);if(tn!==void 0){if(tn)continue;ot=!1;break}if(Gt){if(!D(ce,function(kn,te){if(fe=te,!Gt.has(fe)&&(Pt===kn||Ge(Pt,kn,me,Ce,Te)))return Gt.push(te);var fe})){ot=!1;break}}else if(Pt!==en&&!Ge(Pt,en,me,Ce,Te)){ot=!1;break}}return Te.delete(se),Te.delete(ce),ot}function Fe(se){return function(ce,me,Ce){var Ge=me(ce);return vt(ce)?Ge:function(Te,Xe){for(var We=-1,$e=Xe.length,et=Te.length;++We<$e;)Te[et+We]=Xe[We];return Te}(Ge,Ce(ce))}(se,tt,Ct)}function je(se,ce){var me,Ce,Ge=se.__data__;return((Ce=typeof(me=ce))=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?me!=="__proto__":me===null)?Ge[typeof ce=="string"?"string":"hash"]:Ge.map}function ct(se,ce){var me=function(Ce,Ge){return Ce==null?void 0:Ce[Ge]}(se,ce);return Ie(me)?me:void 0}he.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},he.prototype.delete=function(se){var ce=this.has(se)&&delete this.__data__[se];return this.size-=ce?1:0,ce},he.prototype.get=function(se){var ce=this.__data__;if(ie){var me=ce[se];return me==="__lodash_hash_undefined__"?void 0:me}return _.call(ce,se)?ce[se]:void 0},he.prototype.has=function(se){var ce=this.__data__;return ie?ce[se]!==void 0:_.call(ce,se)},he.prototype.set=function(se,ce){var me=this.__data__;return this.size+=this.has(se)?0:1,me[se]=ie&&ce===void 0?"__lodash_hash_undefined__":ce,this},pe.prototype.clear=function(){this.__data__=[],this.size=0},pe.prototype.delete=function(se){var ce=this.__data__,me=Ve(ce,se);return!(me<0)&&(me==ce.length-1?ce.pop():J.call(ce,me,1),--this.size,!0)},pe.prototype.get=function(se){var ce=this.__data__,me=Ve(ce,se);return me<0?void 0:ce[me][1]},pe.prototype.has=function(se){return Ve(this.__data__,se)>-1},pe.prototype.set=function(se,ce){var me=this.__data__,Ce=Ve(me,se);return Ce<0?(++this.size,me.push([se,ce])):me[Ce][1]=ce,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(K||pe),string:new he}},ye.prototype.delete=function(se){var ce=je(this,se).delete(se);return this.size-=ce?1:0,ce},ye.prototype.get=function(se){return je(this,se).get(se)},ye.prototype.has=function(se){return je(this,se).has(se)},ye.prototype.set=function(se,ce){var me=je(this,se),Ce=me.size;return me.set(se,ce),this.size+=me.size==Ce?0:1,this},Ae.prototype.add=Ae.prototype.push=function(se){return this.__data__.set(se,"__lodash_hash_undefined__"),this},Ae.prototype.has=function(se){return this.__data__.has(se)},Ne.prototype.clear=function(){this.__data__=new pe,this.size=0},Ne.prototype.delete=function(se){var ce=this.__data__,me=ce.delete(se);return this.size=ce.size,me},Ne.prototype.get=function(se){return this.__data__.get(se)},Ne.prototype.has=function(se){return this.__data__.has(se)},Ne.prototype.set=function(se,ce){var me=this.__data__;if(me instanceof pe){var Ce=me.__data__;if(!K||Ce.length<199)return Ce.push([se,ce]),this.size=++me.size,this;me=this.__data__=new ye(Ce)}return me.set(se,ce),this.size=me.size,this};var Ct=Y?function(se){return se==null?[]:(se=Object(se),function(ce,me){for(var Ce=-1,Ge=ce==null?0:ce.length,Te=0,Xe=[];++Ce<Ge;){var We=ce[Ce];me(We,Ce,ce)&&(Xe[Te++]=We)}return Xe}(Y(se),function(ce){return W.call(se,ce)}))}:function(){return[]},qe=Ue;function yt(se,ce){return!!(ce=ce??9007199254740991)&&(typeof se=="number"||h.test(se))&&se>-1&&se%1==0&&se<ce}function at(se){if(se!=null){try{return b.call(se)}catch{}try{return se+""}catch{}}return""}function Qe(se,ce){return se===ce||se!=se&&ce!=ce}(q&&qe(new q(new ArrayBuffer(1)))!="[object DataView]"||K&&qe(new K)!=u||Q&&qe(Q.resolve())!="[object Promise]"||X&&qe(new X)!=s||ee&&qe(new ee)!="[object WeakMap]")&&(qe=function(se){var ce=Ue(se),me=ce==l?se.constructor:void 0,Ce=me?at(me):"";if(Ce)switch(Ce){case ae:return"[object DataView]";case Z:return u;case re:return"[object Promise]";case ne:return s;case ue:return"[object WeakMap]"}return ce});var Rt=ze(function(){return arguments}())?ze:function(se){return wt(se)&&_.call(se,"callee")&&!W.call(se,"callee")},vt=Array.isArray,Ke=j||function(){return!1};function pt(se){if(!Je(se))return!1;var ce=Ue(se);return ce=="[object Function]"||ce=="[object GeneratorFunction]"||ce=="[object AsyncFunction]"||ce=="[object Proxy]"}function At(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=9007199254740991}function Je(se){var ce=typeof se;return se!=null&&(ce=="object"||ce=="function")}function wt(se){return se!=null&&typeof se=="object"}var It=I?function(se){return function(ce){return se(ce)}}(I):function(se){return wt(se)&&At(se.length)&&!!d[Ue(se)]};function tt(se){return(ce=se)!=null&&At(ce.length)&&!pt(ce)?ke(se):we(se);var ce}r.exports=function(se,ce){return He(se,ce)}}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,r,o){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,l=a||u||Function("return this")(),s=Object.prototype,c=s.hasOwnProperty,h=s.toString,d=l.Symbol,f=d?d.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":f&&f in Object(y)?function(p){var v=c.call(p,f),m=p[f];try{p[f]=void 0;var x=!0}catch{}var k=h.call(p);return x&&(v?p[f]=m:delete p[f]),k}(y):function(p){return h.call(p)}(y)}r.exports=function(y){if(!function(v){var m=typeof v;return v!=null&&(m=="object"||m=="function")}(y))return!1;var p=g(y);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,r,o){r.exports=function(i){return i==null}},{}],448:[function(t,r,o){r.exports=function(i){return i===void 0}},{}],449:[function(t,r,o){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,u=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,s=u||l||Function("return this")();function c(G,W){return!!(G&&G.length)&&function(J,F,Y){if(F!=F)return function(q,K,Q,X){for(var ee=q.length,ie=Q+(X?1:-1);X?ie--:++ie<ee;)if(K(q[ie],ie,q))return ie;return-1}(J,d,Y);for(var j=Y-1,R=J.length;++j<R;)if(J[j]===F)return j;return-1}(G,W,0)>-1}function h(G,W,J){for(var F=-1,Y=G?G.length:0;++F<Y;)if(J(W,G[F]))return!0;return!1}function d(G){return G!=G}function f(G,W){return G.has(W)}function g(G){var W=-1,J=Array(G.size);return G.forEach(function(F){J[++W]=F}),J}var y,p=Array.prototype,v=Function.prototype,m=Object.prototype,x=s["__core-js_shared__"],k=(y=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",I=v.toString,D=m.hasOwnProperty,V=m.toString,L=RegExp("^"+I.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=p.splice,B=O(s,"Map"),H=O(s,"Set"),$=O(Object,"create");function A(G){var W=-1,J=G?G.length:0;for(this.clear();++W<J;){var F=G[W];this.set(F[0],F[1])}}function P(G){var W=-1,J=G?G.length:0;for(this.clear();++W<J;){var F=G[W];this.set(F[0],F[1])}}function C(G){var W=-1,J=G?G.length:0;for(this.clear();++W<J;){var F=G[W];this.set(F[0],F[1])}}function b(G){var W=-1,J=G?G.length:0;for(this.__data__=new C;++W<J;)this.add(G[W])}function _(G,W){for(var J,F,Y=G.length;Y--;)if((J=G[Y][0])===(F=W)||J!=J&&F!=F)return Y;return-1}function w(G){return!(!U(G)||(W=G,k&&k in W))&&(function(J){var F=U(J)?V.call(J):"";return F=="[object Function]"||F=="[object GeneratorFunction]"}(G)||function(J){var F=!1;if(J!=null&&typeof J.toString!="function")try{F=!!(J+"")}catch{}return F}(G)?L:a).test(function(J){if(J!=null){try{return I.call(J)}catch{}try{return J+""}catch{}}return""}(G));var W}A.prototype.clear=function(){this.__data__=$?$(null):{}},A.prototype.delete=function(G){return this.has(G)&&delete this.__data__[G]},A.prototype.get=function(G){var W=this.__data__;if($){var J=W[G];return J==="__lodash_hash_undefined__"?void 0:J}return D.call(W,G)?W[G]:void 0},A.prototype.has=function(G){var W=this.__data__;return $?W[G]!==void 0:D.call(W,G)},A.prototype.set=function(G,W){return this.__data__[G]=$&&W===void 0?"__lodash_hash_undefined__":W,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(G){var W=this.__data__,J=_(W,G);return!(J<0)&&(J==W.length-1?W.pop():z.call(W,J,1),!0)},P.prototype.get=function(G){var W=this.__data__,J=_(W,G);return J<0?void 0:W[J][1]},P.prototype.has=function(G){return _(this.__data__,G)>-1},P.prototype.set=function(G,W){var J=this.__data__,F=_(J,G);return F<0?J.push([G,W]):J[F][1]=W,this},C.prototype.clear=function(){this.__data__={hash:new A,map:new(B||P),string:new A}},C.prototype.delete=function(G){return N(this,G).delete(G)},C.prototype.get=function(G){return N(this,G).get(G)},C.prototype.has=function(G){return N(this,G).has(G)},C.prototype.set=function(G,W){return N(this,G).set(G,W),this},b.prototype.add=b.prototype.push=function(G){return this.__data__.set(G,"__lodash_hash_undefined__"),this},b.prototype.has=function(G){return this.__data__.has(G)};var S=H&&1/g(new H([,-0]))[1]==1/0?function(G){return new H(G)}:function(){};function N(G,W){var J,F,Y=G.__data__;return((F=typeof(J=W))=="string"||F=="number"||F=="symbol"||F=="boolean"?J!=="__proto__":J===null)?Y[typeof W=="string"?"string":"hash"]:Y.map}function O(G,W){var J=function(F,Y){return F==null?void 0:F[Y]}(G,W);return w(J)?J:void 0}function U(G){var W=typeof G;return!!G&&(W=="object"||W=="function")}r.exports=function(G){return G&&G.length?function(W,J,F){var Y=-1,j=c,R=W.length,q=!0,K=[],Q=K;if(F)q=!1,j=h;else if(R>=200){var X=J?null:S(W);if(X)return g(X);q=!1,j=f,Q=new b}else Q=J?[]:K;e:for(;++Y<R;){var ee=W[Y],ie=J?J(ee):ee;if(ee=F||ee!==0?ee:0,q&&ie==ie){for(var ae=Q.length;ae--;)if(Q[ae]===ie)continue e;J&&Q.push(ie),K.push(ee)}else j(Q,ie,F)||(Q!==K&&Q.push(ie),K.push(ee))}return K}(G):[]}}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,r,o){var i=t("inherits"),a=t("hash-base"),u=t("safe-buffer").Buffer,l=new Array(16);function s(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(y,p){return y<<p|y>>>32-p}function h(y,p,v,m,x,k,I){return c(y+(p&v|~p&m)+x+k|0,I)+p|0}function d(y,p,v,m,x,k,I){return c(y+(p&m|v&~m)+x+k|0,I)+p|0}function f(y,p,v,m,x,k,I){return c(y+(p^v^m)+x+k|0,I)+p|0}function g(y,p,v,m,x,k,I){return c(y+(v^(p|~m))+x+k|0,I)+p|0}i(s,a),s.prototype._update=function(){for(var y=l,p=0;p<16;++p)y[p]=this._block.readInt32LE(4*p);var v=this._a,m=this._b,x=this._c,k=this._d;v=h(v,m,x,k,y[0],3614090360,7),k=h(k,v,m,x,y[1],3905402710,12),x=h(x,k,v,m,y[2],606105819,17),m=h(m,x,k,v,y[3],3250441966,22),v=h(v,m,x,k,y[4],4118548399,7),k=h(k,v,m,x,y[5],1200080426,12),x=h(x,k,v,m,y[6],2821735955,17),m=h(m,x,k,v,y[7],4249261313,22),v=h(v,m,x,k,y[8],1770035416,7),k=h(k,v,m,x,y[9],2336552879,12),x=h(x,k,v,m,y[10],4294925233,17),m=h(m,x,k,v,y[11],2304563134,22),v=h(v,m,x,k,y[12],1804603682,7),k=h(k,v,m,x,y[13],4254626195,12),x=h(x,k,v,m,y[14],2792965006,17),v=d(v,m=h(m,x,k,v,y[15],1236535329,22),x,k,y[1],4129170786,5),k=d(k,v,m,x,y[6],3225465664,9),x=d(x,k,v,m,y[11],643717713,14),m=d(m,x,k,v,y[0],3921069994,20),v=d(v,m,x,k,y[5],3593408605,5),k=d(k,v,m,x,y[10],38016083,9),x=d(x,k,v,m,y[15],3634488961,14),m=d(m,x,k,v,y[4],3889429448,20),v=d(v,m,x,k,y[9],568446438,5),k=d(k,v,m,x,y[14],3275163606,9),x=d(x,k,v,m,y[3],4107603335,14),m=d(m,x,k,v,y[8],1163531501,20),v=d(v,m,x,k,y[13],2850285829,5),k=d(k,v,m,x,y[2],4243563512,9),x=d(x,k,v,m,y[7],1735328473,14),v=f(v,m=d(m,x,k,v,y[12],2368359562,20),x,k,y[5],4294588738,4),k=f(k,v,m,x,y[8],2272392833,11),x=f(x,k,v,m,y[11],1839030562,16),m=f(m,x,k,v,y[14],4259657740,23),v=f(v,m,x,k,y[1],2763975236,4),k=f(k,v,m,x,y[4],1272893353,11),x=f(x,k,v,m,y[7],4139469664,16),m=f(m,x,k,v,y[10],3200236656,23),v=f(v,m,x,k,y[13],681279174,4),k=f(k,v,m,x,y[0],3936430074,11),x=f(x,k,v,m,y[3],3572445317,16),m=f(m,x,k,v,y[6],76029189,23),v=f(v,m,x,k,y[9],3654602809,4),k=f(k,v,m,x,y[12],3873151461,11),x=f(x,k,v,m,y[15],530742520,16),v=g(v,m=f(m,x,k,v,y[2],3299628645,23),x,k,y[0],4096336452,6),k=g(k,v,m,x,y[7],1126891415,10),x=g(x,k,v,m,y[14],2878612391,15),m=g(m,x,k,v,y[5],4237533241,21),v=g(v,m,x,k,y[12],1700485571,6),k=g(k,v,m,x,y[3],2399980690,10),x=g(x,k,v,m,y[10],4293915773,15),m=g(m,x,k,v,y[1],2240044497,21),v=g(v,m,x,k,y[8],1873313359,6),k=g(k,v,m,x,y[15],4264355552,10),x=g(x,k,v,m,y[6],2734768916,15),m=g(m,x,k,v,y[13],1309151649,21),v=g(v,m,x,k,y[4],4149444226,6),k=g(k,v,m,x,y[11],3174756917,10),x=g(x,k,v,m,y[2],718787259,15),m=g(m,x,k,v,y[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+m|0,this._c=this._c+x|0,this._d=this._d+k|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=u.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},r.exports=s},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,r,o){var i=t("bn.js"),a=t("brorand");function u(l){this.rand=l||new a.Rand}r.exports=u,u.create=function(l){return new u(l)},u.prototype._randbelow=function(l){var s=l.bitLength(),c=Math.ceil(s/8);do var h=new i(this.rand.generate(c));while(h.cmp(l)>=0);return h},u.prototype._randrange=function(l,s){var c=s.sub(l);return l.add(this._randbelow(c))},u.prototype.test=function(l,s,c){var h=l.bitLength(),d=i.mont(l),f=new i(1).toRed(d);s||(s=Math.max(1,h/48|0));for(var g=l.subn(1),y=0;!g.testn(y);y++);for(var p=l.shrn(y),v=g.toRed(d);s>0;s--){var m=this._randrange(new i(2),g);c&&c(m);var x=m.toRed(d).redPow(p);if(x.cmp(f)!==0&&x.cmp(v)!==0){for(var k=1;k<y;k++){if((x=x.redSqr()).cmp(f)===0)return!1;if(x.cmp(v)===0)break}if(k===y)return!1}}return!0},u.prototype.getDivisor=function(l,s){var c=l.bitLength(),h=i.mont(l),d=new i(1).toRed(h);s||(s=Math.max(1,c/48|0));for(var f=l.subn(1),g=0;!f.testn(g);g++);for(var y=l.shrn(g),p=f.toRed(h);s>0;s--){var v=this._randrange(new i(2),f),m=l.gcd(v);if(m.cmpn(1)!==0)return m;var x=v.toRed(h).redPow(y);if(x.cmp(d)!==0&&x.cmp(p)!==0){for(var k=1;k<g;k++){if((x=x.redSqr()).cmp(d)===0)return x.fromRed().subn(1).gcd(l);if(x.cmp(p)===0)break}if(k===g)return(x=x.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,r,o){arguments[4][184][0].apply(o,arguments)},{buffer:188,dup:184}],453:[function(t,r,o){function i(a,u){if(!a)throw new Error(u||"Assertion failed")}r.exports=i,i.equal=function(a,u,l){if(a!=u)throw new Error(l||"Assertion failed: "+a+" != "+u)}},{}],454:[function(t,r,o){var i=o;function a(l){return l.length===1?"0"+l:l}function u(l){for(var s="",c=0;c<l.length;c++)s+=a(l[c].toString(16));return s}i.toArray=function(l,s){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l!="string"){for(var h=0;h<l.length;h++)c[h]=0|l[h];return c}if(s==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),h=0;h<l.length;h+=2)c.push(parseInt(l[h]+l[h+1],16));else for(h=0;h<l.length;h++){var d=l.charCodeAt(h),f=d>>8,g=255&d;f?c.push(f,g):c.push(g)}return c},i.zero2=a,i.toHex=u,i.encode=function(l,s){return s==="hex"?u(l):l}},{}],455:[function(t,r,o){r.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,r,o){var i=t("asn1.js");o.certificate=t("./certificate");var a=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});o.RSAPrivateKey=a;var u=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});o.RSAPublicKey=u;var l=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});o.PublicKey=l;var s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});o.PrivateKey=c;var h=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});o.EncryptedPrivateKey=h;var d=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});o.DSAPrivateKey=d,o.DSAparam=i.define("DSAparam",function(){this.int()});var f=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});o.ECPrivateKey=f;var g=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});o.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,r,o){var i=t("asn1.js"),a=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),u=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(u)}),h=i.define("RDNSequence",function(){this.seqof(c)}),d=i.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),f=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),g=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(d),this.key("validity").use(f),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});r.exports=p},{"asn1.js":170}],458:[function(t,r,o){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=t("evp_bytestokey"),s=t("browserify-aes"),c=t("safe-buffer").Buffer;r.exports=function(h,d){var f,g=h.toString(),y=g.match(i);if(y){var p="aes"+y[1],v=c.from(y[2],"hex"),m=c.from(y[3].replace(/[\r\n]/g,""),"base64"),x=l(d,v.slice(0,8),parseInt(y[1],10)).key,k=[],I=s.createDecipheriv(p,x,v);k.push(I.update(m)),k.push(I.final()),f=c.concat(k)}else{var D=g.match(u);f=c.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,r,o){var i=t("./asn1"),a=t("./aesid.json"),u=t("./fixProc"),l=t("browserify-aes"),s=t("pbkdf2"),c=t("safe-buffer").Buffer;function h(d){var f;typeof d!="object"||c.isBuffer(d)||(f=d.passphrase,d=d.key),typeof d=="string"&&(d=c.from(d));var g,y,p=u(d,f),v=p.tag,m=p.data;switch(v){case"CERTIFICATE":y=i.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(m,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=function(x,k){var I=x.algorithm.decrypt.kde.kdeparams.salt,D=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=a[x.algorithm.decrypt.cipher.algo.join(".")],L=x.algorithm.decrypt.cipher.iv,z=x.subjectPrivateKey,B=parseInt(V.split("-")[1],10)/8,H=s.pbkdf2Sync(k,I,D,B,"sha1"),$=l.createDecipheriv(V,H,L),A=[];return A.push($.update(z)),A.push($.final()),c.concat(A)}(m=i.EncryptedPrivateKey.decode(m,"der"),f);case"PRIVATE KEY":switch(g=(y=i.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=i.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+v)}}r.exports=h,h.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,r,o){o.pbkdf2=t("./lib/async"),o.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,r,o){(function(i){(function(){var a,u,l=t("safe-buffer").Buffer,s=t("./precondition"),c=t("./default-encoding"),h=t("./sync"),d=t("./to-buffer"),f=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function p(){return u||(u=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(m,x,k,I,D){return f.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(V){return f.deriveBits({name:"PBKDF2",salt:x,iterations:k,hash:{name:D}},V,I<<3)}).then(function(V){return l.from(V)})}r.exports=function(m,x,k,I,D,V){typeof D=="function"&&(V=D,D=void 0);var L=g[(D=D||"sha1").toLowerCase()];if(L&&typeof i.Promise=="function"){if(s(k,I),m=d(m,c,"Password"),x=d(x,c,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");(function(z,B){z.then(function(H){p()(function(){B(null,H)})},function(H){p()(function(){B(H)})})})(function(z){if(i.process&&!i.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(y[z]!==void 0)return y[z];var B=v(a=a||l.alloc(8),a,10,128,z).then(function(){return!0}).catch(function(){return!1});return y[z]=B,B}(L).then(function(z){return z?v(m,x,k,I,L):h(m,x,k,I,D)}),V)}else p()(function(){var z;try{z=h(m,x,k,I,D)}catch(B){return V(B)}V(null,z)})}}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,r,o){(function(i,a){(function(){var u;a.process&&a.process.browser?u="utf-8":a.process&&a.process.version?u=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":u="utf-8",r.exports=u}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,r,o){var i=Math.pow(2,30)-1;r.exports=function(a,u){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof u!="number")throw new TypeError("Key length not a number");if(u<0||u>i||u!=u)throw new TypeError("Bad key length")}},{}],464:[function(t,r,o){var i=t("create-hash/md5"),a=t("ripemd160"),u=t("sha.js"),l=t("safe-buffer").Buffer,s=t("./precondition"),c=t("./default-encoding"),h=t("./to-buffer"),d=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,p,v){var m=function(L){function z(B){return u(L).update(B).digest()}return L==="rmd160"||L==="ripemd160"?function(B){return new a().update(B).digest()}:L==="md5"?i:z}(y),x=y==="sha512"||y==="sha384"?128:64;p.length>x?p=m(p):p.length<x&&(p=l.concat([p,d],x));for(var k=l.allocUnsafe(x+f[y]),I=l.allocUnsafe(x+f[y]),D=0;D<x;D++)k[D]=54^p[D],I[D]=92^p[D];var V=l.allocUnsafe(x+v+4);k.copy(V,0,0,x),this.ipad1=V,this.ipad2=k,this.opad=I,this.alg=y,this.blocksize=x,this.hash=m,this.size=f[y]}g.prototype.run=function(y,p){return y.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},r.exports=function(y,p,v,m,x){s(v,m);var k=new g(x=x||"sha1",y=h(y,c,"Password"),(p=h(p,c,"Salt")).length),I=l.allocUnsafe(m),D=l.allocUnsafe(p.length+4);p.copy(D,0,0,p.length);for(var V=0,L=f[x],z=Math.ceil(m/L),B=1;B<=z;B++){D.writeUInt32BE(B,p.length);for(var H=k.run(D,k.ipad1),$=H,A=1;A<v;A++){$=k.run($,k.ipad2);for(var P=0;P<L;P++)H[P]^=$[P]}H.copy(I,V),V+=L}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,r,o){var i=t("safe-buffer").Buffer;r.exports=function(a,u,l){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,u);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,r,o){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(a,u,l,s){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var c,h,d=arguments.length;switch(d){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick(function(){a.call(null,u)});case 3:return i.nextTick(function(){a.call(null,u,l)});case 4:return i.nextTick(function(){a.call(null,u,l,s)});default:for(c=new Array(d-1),h=0;h<c.length;)c[h++]=arguments[h];return i.nextTick(function(){a.apply(null,c)})}}}:r.exports=i}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,r,o){var i,a,u=r.exports={};function l(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(x){if(i===setTimeout)return setTimeout(x,0);if((i===l||!i)&&setTimeout)return i=setTimeout,setTimeout(x,0);try{return i(x,0)}catch{try{return i.call(null,x,0)}catch{return i.call(this,x,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:l}catch{i=l}try{a=typeof clearTimeout=="function"?clearTimeout:s}catch{a=s}})();var h,d=[],f=!1,g=-1;function y(){f&&h&&(f=!1,h.length?d=h.concat(d):g=-1,d.length&&p())}function p(){if(!f){var x=c(y);f=!0;for(var k=d.length;k;){for(h=d,d=[];++g<k;)h&&h[g].run();g=-1,k=d.length}h=null,f=!1,function(I){if(a===clearTimeout)return clearTimeout(I);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(I);try{a(I)}catch{try{return a.call(null,I)}catch{return a.call(this,I)}}}(x)}}function v(x,k){this.fun=x,this.array=k}function m(){}u.nextTick=function(x){var k=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)k[I-1]=arguments[I];d.push(new v(x,k)),d.length!==1||f||c(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=m,u.addListener=m,u.once=m,u.off=m,u.removeListener=m,u.removeAllListeners=m,u.emit=m,u.prependListener=m,u.prependOnceListener=m,u.listeners=function(x){return[]},u.binding=function(x){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(x){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],468:[function(t,r,o){o.publicEncrypt=t("./publicEncrypt"),o.privateDecrypt=t("./privateDecrypt"),o.privateEncrypt=function(i,a){return o.publicEncrypt(i,a,!0)},o.publicDecrypt=function(i,a){return o.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,r,o){var i=t("create-hash"),a=t("safe-buffer").Buffer;function u(l){var s=a.allocUnsafe(4);return s.writeUInt32BE(l,0),s}r.exports=function(l,s){for(var c,h=a.alloc(0),d=0;h.length<s;)c=u(d++),h=a.concat([h,i("sha1").update(l).update(c).digest()]);return h.slice(0,s)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,r,o){arguments[4][184][0].apply(o,arguments)},{buffer:188,dup:184}],471:[function(t,r,o){var i=t("parse-asn1"),a=t("./mgf"),u=t("./xor"),l=t("bn.js"),s=t("browserify-rsa"),c=t("create-hash"),h=t("./withPublic"),d=t("safe-buffer").Buffer;r.exports=function(f,g,y){var p;p=f.padding?f.padding:y?1:4;var v,m=i(f),x=m.modulus.byteLength();if(g.length>x||new l(g).cmp(m.modulus)>=0)throw new Error("decryption error");v=y?h(new l(g),m):s(g,m);var k=d.alloc(x-v.length);if(v=d.concat([k,v],x),p===4)return function(I,D){var V=I.modulus.byteLength(),L=c("sha1").update(d.alloc(0)).digest(),z=L.length;if(D[0]!==0)throw new Error("decryption error");var B=D.slice(1,z+1),H=D.slice(z+1),$=u(B,a(H,z)),A=u(H,a($,V-z-1));if(function(C,b){C=d.from(C),b=d.from(b);var _=0,w=C.length;C.length!==b.length&&(_++,w=Math.min(C.length,b.length));for(var S=-1;++S<w;)_+=C[S]^b[S];return _}(L,A.slice(0,z)))throw new Error("decryption error");for(var P=z;A[P]===0;)P++;if(A[P++]!==1)throw new Error("decryption error");return A.slice(P)}(m,v);if(p===1)return function(I,D,V){for(var L=D.slice(0,2),z=2,B=0;D[z++]!==0;)if(z>=D.length){B++;break}var H=D.slice(2,z-1);if((L.toString("hex")!=="0002"&&!V||L.toString("hex")!=="0001"&&V)&&B++,H.length<8&&B++,B)throw new Error("decryption error");return D.slice(z)}(0,v,y);if(p===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,r,o){var i=t("parse-asn1"),a=t("randombytes"),u=t("create-hash"),l=t("./mgf"),s=t("./xor"),c=t("bn.js"),h=t("./withPublic"),d=t("browserify-rsa"),f=t("safe-buffer").Buffer;r.exports=function(g,y,p){var v;v=g.padding?g.padding:p?1:4;var m,x=i(g);if(v===4)m=function(k,I){var D=k.modulus.byteLength(),V=I.length,L=u("sha1").update(f.alloc(0)).digest(),z=L.length,B=2*z;if(V>D-B-2)throw new Error("message too long");var H=f.alloc(D-V-B-2),$=D-z-1,A=a(z),P=s(f.concat([L,H,f.alloc(1,1),I],$),l(A,$)),C=s(A,l(P,z));return new c(f.concat([f.alloc(1),C,P],D))}(x,y);else if(v===1)m=function(k,I,D){var V,L=I.length,z=k.modulus.byteLength();if(L>z-11)throw new Error("message too long");return V=D?f.alloc(z-L-3,255):function(B){for(var H,$=f.allocUnsafe(B),A=0,P=a(2*B),C=0;A<B;)C===P.length&&(P=a(2*B),C=0),(H=P[C++])&&($[A++]=H);return $}(z-L-3),new c(f.concat([f.from([0,D?1:2]),V,f.alloc(1),I],z))}(x,y,p);else{if(v!==3)throw new Error("unknown padding");if((m=new c(y)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return p?d(m,x):h(m,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,r,o){var i=t("bn.js"),a=t("safe-buffer").Buffer;r.exports=function(u,l){return a.from(u.toRed(i.mont(l.modulus)).redPow(new i(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,r,o){r.exports=function(i,a){for(var u=i.length,l=-1;++l<u;)i[l]^=a[l];return i}},{}],475:[function(t,r,o){(function(i,a){(function(){var u=t("safe-buffer").Buffer,l=a.crypto||a.msCrypto;l&&l.getRandomValues?r.exports=function(s,c){if(s>4294967295)throw new RangeError("requested too many random bytes");var h=u.allocUnsafe(s);if(s>0)if(s>65536)for(var d=0;d<s;d+=65536)l.getRandomValues(h.slice(d,d+65536));else l.getRandomValues(h);return typeof c=="function"?i.nextTick(function(){c(null,h)}):h}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,r,o){(function(i,a){(function(){function u(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=t("safe-buffer"),s=t("randombytes"),c=l.Buffer,h=l.kMaxLength,d=a.crypto||a.msCrypto,f=Math.pow(2,32)-1;function g(v,m){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>f||v<0)throw new TypeError("offset must be a uint32");if(v>h||v>m)throw new RangeError("offset out of range")}function y(v,m,x){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>f||v<0)throw new TypeError("size must be a uint32");if(v+m>x||v>h)throw new RangeError("buffer too small")}function p(v,m,x,k){if(i.browser){var I=v.buffer,D=new Uint8Array(I,m,x);return d.getRandomValues(D),k?void i.nextTick(function(){k(null,v)}):v}if(!k)return s(x).copy(v,m),v;s(x,function(V,L){if(V)return k(V);L.copy(v,m),k(null,v)})}d&&d.getRandomValues||!i.browser?(o.randomFill=function(v,m,x,k){if(!(c.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")k=m,m=0,x=v.length;else if(typeof x=="function")k=x,x=v.length-m;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return g(m,v.length),y(x,m,v.length),p(v,m,x,k)},o.randomFillSync=function(v,m,x){if(m===void 0&&(m=0),!(c.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(m,v.length),x===void 0&&(x=v.length-m),y(x,m,v.length),p(v,m,x)}):(o.randomFill=u,o.randomFillSync=u)}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,r,o){var i={};function a(l,s,c){c||(c=Error);var h=function(d){var f,g;function y(p,v,m){return d.call(this,function(x,k,I){return typeof s=="string"?s:s(x,k,I)}(p,v,m))||this}return g=d,(f=y).prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g,y}(c);h.prototype.name=c.name,h.prototype.code=l,i[l]=h}function u(l,s){if(Array.isArray(l)){var c=l.length;return l=l.map(function(h){return String(h)}),c>2?"one of ".concat(s," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(s," ").concat(l[0]," or ").concat(l[1]):"of ".concat(s," ").concat(l[0])}return"of ".concat(s," ").concat(String(l))}a("ERR_INVALID_OPT_VALUE",function(l,s){return'The value "'+s+'" is invalid for option "'+l+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(l,s,c){var h,d,f;if(typeof s=="string"&&(d="not ",s.substr(0,d.length)===d)?(h="must not be",s=s.replace(/^not /,"")):h="must be",function(y,p,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-p.length,v)===p}(l," argument"))f="The ".concat(l," ").concat(h," ").concat(u(s,"type"));else{var g=function(y,p,v){return typeof v!="number"&&(v=0),!(v+p.length>y.length)&&y.indexOf(p,v)!==-1}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(g," ").concat(h," ").concat(u(s,"type"))}return f+=". Received type ".concat(typeof c)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=i},{}],478:[function(t,r,o){(function(i){(function(){var a=Object.keys||function(y){var p=[];for(var v in y)p.push(v);return p};r.exports=d;var u=t("./_stream_readable"),l=t("./_stream_writable");t("inherits")(d,u);for(var s=a(l.prototype),c=0;c<s.length;c++){var h=s[c];d.prototype[h]||(d.prototype[h]=l.prototype[h])}function d(y){if(!(this instanceof d))return new d(y);u.call(this,y),l.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,r,o){r.exports=a;var i=t("./_stream_transform");function a(u){if(!(this instanceof a))return new a(u);i.call(this,u)}t("inherits")(a,i),a.prototype._transform=function(u,l,s){s(null,u)}},{"./_stream_transform":481,inherits:440}],480:[function(t,r,o){(function(i,a){(function(){var u;r.exports=$,$.ReadableState=H,t("events").EventEmitter;var l=function(j,R){return j.listeners(R).length},s=t("./internal/streams/stream"),c=t("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,f=t("util");d=f&&f.debuglog?f.debuglog("stream"):function(){};var g,y,p,v=t("./internal/streams/buffer_list"),m=t("./internal/streams/destroy"),x=t("./internal/streams/state").getHighWaterMark,k=t("../errors").codes,I=k.ERR_INVALID_ARG_TYPE,D=k.ERR_STREAM_PUSH_AFTER_EOF,V=k.ERR_METHOD_NOT_IMPLEMENTED,L=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")($,s);var z=m.errorOrDestroy,B=["error","close","destroy","pause","resume"];function H(j,R,q){u=u||t("./_stream_duplex"),j=j||{},typeof q!="boolean"&&(q=R instanceof u),this.objectMode=!!j.objectMode,q&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=x(this,j,"readableHighWaterMark",q),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(g||(g=t("string_decoder/").StringDecoder),this.decoder=new g(j.encoding),this.encoding=j.encoding)}function $(j){if(u=u||t("./_stream_duplex"),!(this instanceof $))return new $(j);var R=this instanceof u;this._readableState=new H(j,this,R),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),s.call(this)}function A(j,R,q,K,Q){d("readableAddChunk",R);var X,ee=j._readableState;if(R===null)ee.reading=!1,function(ie,ae){if(d("onEofChunk"),!ae.ended){if(ae.decoder){var Z=ae.decoder.end();Z&&Z.length&&(ae.buffer.push(Z),ae.length+=ae.objectMode?1:Z.length)}ae.ended=!0,ae.sync?b(ie):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,_(ie)))}}(j,ee);else if(Q||(X=function(ie,ae){var Z;re=ae,c.isBuffer(re)||re instanceof h||typeof ae=="string"||ae===void 0||ie.objectMode||(Z=new I("chunk",["string","Buffer","Uint8Array"],ae));var re;return Z}(ee,R)),X)z(j,X);else if(ee.objectMode||R&&R.length>0)if(typeof R=="string"||ee.objectMode||Object.getPrototypeOf(R)===c.prototype||(R=function(ie){return c.from(ie)}(R)),K)ee.endEmitted?z(j,new L):P(j,ee,R,!0);else if(ee.ended)z(j,new D);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!q?(R=ee.decoder.write(R),ee.objectMode||R.length!==0?P(j,ee,R,!1):w(j,ee)):P(j,ee,R,!1)}else K||(ee.reading=!1,w(j,ee));return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function P(j,R,q,K){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,j.emit("data",q)):(R.length+=R.objectMode?1:q.length,K?R.buffer.unshift(q):R.buffer.push(q),R.needReadable&&b(j)),w(j,R)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),$.prototype.destroy=m.destroy,$.prototype._undestroy=m.undestroy,$.prototype._destroy=function(j,R){R(j)},$.prototype.push=function(j,R){var q,K=this._readableState;return K.objectMode?q=!0:typeof j=="string"&&((R=R||K.defaultEncoding)!==K.encoding&&(j=c.from(j,R),R=""),q=!0),A(this,j,R,!1,q)},$.prototype.unshift=function(j){return A(this,j,null,!0,!1)},$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(j){g||(g=t("string_decoder/").StringDecoder);var R=new g(j);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var q=this._readableState.buffer.head,K="";q!==null;)K+=R.write(q.data),q=q.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};function C(j,R){return j<=0||R.length===0&&R.ended?0:R.objectMode?1:j!=j?R.flowing&&R.length?R.buffer.head.data.length:R.length:(j>R.highWaterMark&&(R.highWaterMark=function(q){return q>=1073741824?q=1073741824:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}(j)),j<=R.length?j:R.ended?R.length:(R.needReadable=!0,0))}function b(j){var R=j._readableState;d("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(d("emitReadable",R.flowing),R.emittedReadable=!0,i.nextTick(_,j))}function _(j){var R=j._readableState;d("emitReadable_",R.destroyed,R.length,R.ended),R.destroyed||!R.length&&!R.ended||(j.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,G(j)}function w(j,R){R.readingMore||(R.readingMore=!0,i.nextTick(S,j,R))}function S(j,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var q=R.length;if(d("maybeReadMore read 0"),j.read(0),q===R.length)break}R.readingMore=!1}function N(j){var R=j._readableState;R.readableListening=j.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:j.listenerCount("data")>0&&j.resume()}function O(j){d("readable nexttick read 0"),j.read(0)}function U(j,R){d("resume",R.reading),R.reading||j.read(0),R.resumeScheduled=!1,j.emit("resume"),G(j),R.flowing&&!R.reading&&j.read(0)}function G(j){var R=j._readableState;for(d("flow",R.flowing);R.flowing&&j.read()!==null;);}function W(j,R){return R.length===0?null:(R.objectMode?q=R.buffer.shift():!j||j>=R.length?(q=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.first():R.buffer.concat(R.length),R.buffer.clear()):q=R.buffer.consume(j,R.decoder),q);var q}function J(j){var R=j._readableState;d("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,i.nextTick(F,R,j))}function F(j,R){if(d("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,R.readable=!1,R.emit("end"),j.autoDestroy)){var q=R._writableState;(!q||q.autoDestroy&&q.finished)&&R.destroy()}}function Y(j,R){for(var q=0,K=j.length;q<K;q++)if(j[q]===R)return q;return-1}$.prototype.read=function(j){d("read",j),j=parseInt(j,10);var R=this._readableState,q=j;if(j!==0&&(R.emittedReadable=!1),j===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return d("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?J(this):b(this),null;if((j=C(j,R))===0&&R.ended)return R.length===0&&J(this),null;var K,Q=R.needReadable;return d("need readable",Q),(R.length===0||R.length-j<R.highWaterMark)&&d("length less than watermark",Q=!0),R.ended||R.reading?d("reading or ended",Q=!1):Q&&(d("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(j=C(q,R))),(K=j>0?W(j,R):null)===null?(R.needReadable=R.length<=R.highWaterMark,j=0):(R.length-=j,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),q!==j&&R.ended&&J(this)),K!==null&&this.emit("data",K),K},$.prototype._read=function(j){z(this,new V("_read()"))},$.prototype.pipe=function(j,R){var q=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=j;break;case 1:K.pipes=[K.pipes,j];break;default:K.pipes.push(j)}K.pipesCount+=1,d("pipe count=%d opts=%j",K.pipesCount,R);var Q=(!R||R.end!==!1)&&j!==i.stdout&&j!==i.stderr?ee:le;function X(de,he){d("onunpipe"),de===q&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,d("cleanup"),j.removeListener("close",ne),j.removeListener("finish",ue),j.removeListener("drain",ie),j.removeListener("error",re),j.removeListener("unpipe",X),q.removeListener("end",ee),q.removeListener("end",le),q.removeListener("data",Z),ae=!0,!K.awaitDrain||j._writableState&&!j._writableState.needDrain||ie())}function ee(){d("onend"),j.end()}K.endEmitted?i.nextTick(Q):q.once("end",Q),j.on("unpipe",X);var ie=function(de){return function(){var he=de._readableState;d("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&l(de,"data")&&(he.flowing=!0,G(de))}}(q);j.on("drain",ie);var ae=!1;function Z(de){d("ondata");var he=j.write(de);d("dest.write",he),he===!1&&((K.pipesCount===1&&K.pipes===j||K.pipesCount>1&&Y(K.pipes,j)!==-1)&&!ae&&(d("false write response, pause",K.awaitDrain),K.awaitDrain++),q.pause())}function re(de){d("onerror",de),le(),j.removeListener("error",re),l(j,"error")===0&&z(j,de)}function ne(){j.removeListener("finish",ue),le()}function ue(){d("onfinish"),j.removeListener("close",ne),le()}function le(){d("unpipe"),q.unpipe(j)}return q.on("data",Z),function(de,he,pe){if(typeof de.prependListener=="function")return de.prependListener(he,pe);de._events&&de._events[he]?Array.isArray(de._events[he])?de._events[he].unshift(pe):de._events[he]=[pe,de._events[he]]:de.on(he,pe)}(j,"error",re),j.once("close",ne),j.once("finish",ue),j.emit("pipe",q),K.flowing||(d("pipe resume"),q.resume()),j},$.prototype.unpipe=function(j){var R=this._readableState,q={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return j&&j!==R.pipes||(j||(j=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,j&&j.emit("unpipe",this,q)),this;if(!j){var K=R.pipes,Q=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var X=0;X<Q;X++)K[X].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=Y(R.pipes,j);return ee===-1||(R.pipes.splice(ee,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),j.emit("unpipe",this,q)),this},$.prototype.on=function(j,R){var q=s.prototype.on.call(this,j,R),K=this._readableState;return j==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):j==="readable"&&(K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,d("on readable",K.length,K.reading),K.length?b(this):K.reading||i.nextTick(O,this))),q},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(j,R){var q=s.prototype.removeListener.call(this,j,R);return j==="readable"&&i.nextTick(N,this),q},$.prototype.removeAllListeners=function(j){var R=s.prototype.removeAllListeners.apply(this,arguments);return j!=="readable"&&j!==void 0||i.nextTick(N,this),R},$.prototype.resume=function(){var j=this._readableState;return j.flowing||(d("resume"),j.flowing=!j.readableListening,function(R,q){q.resumeScheduled||(q.resumeScheduled=!0,i.nextTick(U,R,q))}(this,j)),j.paused=!1,this},$.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},$.prototype.wrap=function(j){var R=this,q=this._readableState,K=!1;for(var Q in j.on("end",function(){if(d("wrapped end"),q.decoder&&!q.ended){var ee=q.decoder.end();ee&&ee.length&&R.push(ee)}R.push(null)}),j.on("data",function(ee){d("wrapped data"),q.decoder&&(ee=q.decoder.write(ee)),q.objectMode&&ee==null||(q.objectMode||ee&&ee.length)&&(R.push(ee)||(K=!0,j.pause()))}),j)this[Q]===void 0&&typeof j[Q]=="function"&&(this[Q]=function(ee){return function(){return j[ee].apply(j,arguments)}}(Q));for(var X=0;X<B.length;X++)j.on(B[X],this.emit.bind(this,B[X]));return this._read=function(ee){d("wrapped _read",ee),K&&(K=!1,j.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=t("./internal/streams/async_iterator")),y(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),$._fromList=W,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&($.from=function(j,R){return p===void 0&&(p=t("./internal/streams/from")),p($,j,R)})}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,r,o){r.exports=d;var i=t("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,u=i.ERR_MULTIPLE_CALLBACK,l=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,c=t("./_stream_duplex");function h(y,p){var v=this._transformState;v.transforming=!1;var m=v.writecb;if(m===null)return this.emit("error",new u);v.writechunk=null,v.writecb=null,p!=null&&this.push(p),m(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function d(y){if(!(this instanceof d))return new d(y);c.call(this,y),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",f)}function f(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(p,v){g(y,p,v)})}function g(y,p,v){if(p)return y.emit("error",p);if(v!=null&&y.push(v),y._writableState.length)throw new s;if(y._transformState.transforming)throw new l;return y.push(null)}t("inherits")(d,c),d.prototype.push=function(y,p){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,p)},d.prototype._transform=function(y,p,v){v(new a("_transform()"))},d.prototype._write=function(y,p,v){var m=this._transformState;if(m.writecb=v,m.writechunk=y,m.writeencoding=p,!m.transforming){var x=this._readableState;(m.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},d.prototype._read=function(y){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},d.prototype._destroy=function(y,p){c.prototype._destroy.call(this,y,function(v){p(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,r,o){(function(i,a){(function(){function u(S){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(O,U,G){var W=O.entry;for(O.entry=null;W;){var J=W.callback;U.pendingcb--,J(G),W=W.next}U.corkedRequestsFree.next=O})(N,S)}}var l;r.exports=$,$.WritableState=H;var s={deprecate:t("util-deprecate")},c=t("./internal/streams/stream"),h=t("buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,g=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,p=t("../errors").codes,v=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,x=p.ERR_MULTIPLE_CALLBACK,k=p.ERR_STREAM_CANNOT_PIPE,I=p.ERR_STREAM_DESTROYED,D=p.ERR_STREAM_NULL_VALUES,V=p.ERR_STREAM_WRITE_AFTER_END,L=p.ERR_UNKNOWN_ENCODING,z=g.errorOrDestroy;function B(){}function H(S,N,O){l=l||t("./_stream_duplex"),S=S||{},typeof O!="boolean"&&(O=N instanceof l),this.objectMode=!!S.objectMode,O&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=y(this,S,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=S.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(W,J){var F=W._writableState,Y=F.sync,j=F.writecb;if(typeof j!="function")throw new x;if(function(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}(F),J)(function(q,K,Q,X,ee){--K.pendingcb,Q?(i.nextTick(ee,X),i.nextTick(w,q,K),q._writableState.errorEmitted=!0,z(q,X)):(ee(X),q._writableState.errorEmitted=!0,z(q,X),w(q,K))})(W,F,Y,J,j);else{var R=b(F)||W.destroyed;R||F.corked||F.bufferProcessing||!F.bufferedRequest||C(W,F),Y?i.nextTick(P,W,F,R,j):P(W,F,R,j)}})(N,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function $(S){var N=this instanceof(l=l||t("./_stream_duplex"));if(!N&&!f.call($,this))return new $(S);this._writableState=new H(S,this,N),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function A(S,N,O,U,G,W,J){N.writelen=U,N.writecb=J,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new I("write")):O?S._writev(G,N.onwrite):S._write(G,W,N.onwrite),N.sync=!1}function P(S,N,O,U){O||function(G,W){W.length===0&&W.needDrain&&(W.needDrain=!1,G.emit("drain"))}(S,N),N.pendingcb--,U(),w(S,N)}function C(S,N){N.bufferProcessing=!0;var O=N.bufferedRequest;if(S._writev&&O&&O.next){var U=N.bufferedRequestCount,G=new Array(U),W=N.corkedRequestsFree;W.entry=O;for(var J=0,F=!0;O;)G[J]=O,O.isBuf||(F=!1),O=O.next,J+=1;G.allBuffers=F,A(S,N,!0,N.length,G,"",W.finish),N.pendingcb++,N.lastBufferedRequest=null,W.next?(N.corkedRequestsFree=W.next,W.next=null):N.corkedRequestsFree=new u(N),N.bufferedRequestCount=0}else{for(;O;){var Y=O.chunk,j=O.encoding,R=O.callback;if(A(S,N,!1,N.objectMode?1:Y.length,Y,j,R),O=O.next,N.bufferedRequestCount--,N.writing)break}O===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=O,N.bufferProcessing=!1}function b(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function _(S,N){S._final(function(O){N.pendingcb--,O&&z(S,O),N.prefinished=!0,S.emit("prefinish"),w(S,N)})}function w(S,N){var O=b(N);if(O&&(function(G,W){W.prefinished||W.finalCalled||(typeof G._final!="function"||W.destroyed?(W.prefinished=!0,G.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,i.nextTick(_,G,W)))}(S,N),N.pendingcb===0&&(N.finished=!0,S.emit("finish"),N.autoDestroy))){var U=S._readableState;(!U||U.autoDestroy&&U.endEmitted)&&S.destroy()}return O}t("inherits")($,c),H.prototype.getBuffer=function(){for(var S=this.bufferedRequest,N=[];S;)N.push(S),S=S.next;return N},function(){try{Object.defineProperty(H.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(S){return!!f.call(this,S)||this===$&&S&&S._writableState instanceof H}})):f=function(S){return S instanceof this},$.prototype.pipe=function(){z(this,new k)},$.prototype.write=function(S,N,O){var U,G=this._writableState,W=!1,J=!G.objectMode&&(U=S,h.isBuffer(U)||U instanceof d);return J&&!h.isBuffer(S)&&(S=function(F){return h.from(F)}(S)),typeof N=="function"&&(O=N,N=null),J?N="buffer":N||(N=G.defaultEncoding),typeof O!="function"&&(O=B),G.ending?function(F,Y){var j=new V;z(F,j),i.nextTick(Y,j)}(this,O):(J||function(F,Y,j,R){var q;return j===null?q=new D:typeof j=="string"||Y.objectMode||(q=new v("chunk",["string","Buffer"],j)),!q||(z(F,q),i.nextTick(R,q),!1)}(this,G,S,O))&&(G.pendingcb++,W=function(F,Y,j,R,q,K){if(!j){var Q=function(ae,Z,re){return ae.objectMode||ae.decodeStrings===!1||typeof Z!="string"||(Z=h.from(Z,re)),Z}(Y,R,q);R!==Q&&(j=!0,q="buffer",R=Q)}var X=Y.objectMode?1:R.length;Y.length+=X;var ee=Y.length<Y.highWaterMark;if(ee||(Y.needDrain=!0),Y.writing||Y.corked){var ie=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:R,encoding:q,isBuf:j,callback:K,next:null},ie?ie.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else A(F,Y,!1,X,R,q,K);return ee}(this,G,J,S,N,O)),W},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||C(this,S))},$.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new L(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(S,N,O){O(new m("_write()"))},$.prototype._writev=null,$.prototype.end=function(S,N,O){var U=this._writableState;return typeof S=="function"?(O=S,S=null,N=null):typeof N=="function"&&(O=N,N=null),S!=null&&this.write(S,N),U.corked&&(U.corked=1,this.uncork()),U.ending||function(G,W,J){W.ending=!0,w(G,W),J&&(W.finished?i.nextTick(J):G.once("finish",J)),W.ended=!0,G.writable=!1}(this,U,O),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),$.prototype.destroy=g.destroy,$.prototype._undestroy=g.undestroy,$.prototype._destroy=function(S,N){N(S)}}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,r,o){(function(i){(function(){var a;function u(I,D,V){return(D=function(L){var z=function(B,H){if(typeof B!="object"||B===null)return B;var $=B[Symbol.toPrimitive];if($!==void 0){var A=$.call(B,H||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(B)}(L,"string");return typeof z=="symbol"?z:String(z)}(D))in I?Object.defineProperty(I,D,{value:V,enumerable:!0,configurable:!0,writable:!0}):I[D]=V,I}var l=t("./end-of-stream"),s=Symbol("lastResolve"),c=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),f=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function p(I,D){return{value:I,done:D}}function v(I){var D=I[s];if(D!==null){var V=I[y].read();V!==null&&(I[f]=null,I[s]=null,I[c]=null,D(p(V,!1)))}}function m(I){i.nextTick(v,I)}var x=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((u(a={get stream(){return this[y]},next:function(){var I=this,D=this[h];if(D!==null)return Promise.reject(D);if(this[d])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise(function(B,H){i.nextTick(function(){I[h]?H(I[h]):B(p(void 0,!0))})});var V,L=this[f];if(L)V=new Promise(function(B,H){return function($,A){B.then(function(){H[d]?$(p(void 0,!0)):H[g]($,A)},A)}}(L,this));else{var z=this[y].read();if(z!==null)return Promise.resolve(p(z,!1));V=new Promise(this[g])}return this[f]=V,V}},Symbol.asyncIterator,function(){return this}),u(a,"return",function(){var I=this;return new Promise(function(D,V){I[y].destroy(null,function(L){L?V(L):D(p(void 0,!0))})})}),a),x);r.exports=function(I){var D,V=Object.create(k,(u(D={},y,{value:I,writable:!0}),u(D,s,{value:null,writable:!0}),u(D,c,{value:null,writable:!0}),u(D,h,{value:null,writable:!0}),u(D,d,{value:I._readableState.endEmitted,writable:!0}),u(D,g,{value:function(L,z){var B=V[y].read();B?(V[f]=null,V[s]=null,V[c]=null,L(p(B,!1))):(V[s]=L,V[c]=z)},writable:!0}),D));return V[f]=null,l(I,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=V[c];return z!==null&&(V[f]=null,V[s]=null,V[c]=null,z(L)),void(V[h]=L)}var B=V[s];B!==null&&(V[f]=null,V[s]=null,V[c]=null,B(p(void 0,!0))),V[d]=!0}),I.on("readable",m.bind(null,V)),V}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,r,o){function i(f,g){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);g&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),y.push.apply(y,p)}return y}function a(f){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?i(Object(y),!0).forEach(function(p){u(f,p,y[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(y,p))})}return f}function u(f,g,y){return(g=s(g))in f?Object.defineProperty(f,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[g]=y,f}function l(f,g){for(var y=0;y<g.length;y++){var p=g[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,s(p.key),p)}}function s(f){var g=function(y,p){if(typeof y!="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var m=v.call(y,p||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(y)}(f,"string");return typeof g=="symbol"?g:String(g)}var c=t("buffer").Buffer,h=t("util").inspect,d=h&&h.custom||"inspect";r.exports=function(){function f(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var g,y;return g=f,(y=[{key:"push",value:function(p){var v={data:p,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(p){var v={data:p,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var v=this.head,m=""+v.data;v=v.next;)m+=p+v.data;return m}},{key:"concat",value:function(p){if(this.length===0)return c.alloc(0);for(var v,m,x,k=c.allocUnsafe(p>>>0),I=this.head,D=0;I;)v=I.data,m=k,x=D,c.prototype.copy.call(v,m,x),D+=I.data.length,I=I.next;return k}},{key:"consume",value:function(p,v){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):m=p===this.head.data.length?this.shift():v?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var v=this.head,m=1,x=v.data;for(p-=x.length;v=v.next;){var k=v.data,I=p>k.length?k.length:p;if(I===k.length?x+=k:x+=k.slice(0,p),(p-=I)==0){I===k.length?(++m,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=k.slice(I));break}++m}return this.length-=m,x}},{key:"_getBuffer",value:function(p){var v=c.allocUnsafe(p),m=this.head,x=1;for(m.data.copy(v),p-=m.data.length;m=m.next;){var k=m.data,I=p>k.length?k.length:p;if(k.copy(v,v.length-p,0,I),(p-=I)==0){I===k.length?(++x,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=k.slice(I));break}++x}return this.length-=x,v}},{key:d,value:function(p,v){return h(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&l(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(t,r,o){(function(i){(function(){function a(s,c){l(s,c),u(s)}function u(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function l(s,c){s.emit("error",c)}r.exports={destroy:function(s,c){var h=this,d=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return d||f?(c?c(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(l,this,s)):i.nextTick(l,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(g){!c&&g?h._writableState?h._writableState.errorEmitted?i.nextTick(u,h):(h._writableState.errorEmitted=!0,i.nextTick(a,h,g)):i.nextTick(a,h,g):c?(i.nextTick(u,h),c(g)):i.nextTick(u,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(s,c){var h=s._readableState,d=s._writableState;h&&h.autoDestroy||d&&d.autoDestroy?s.destroy(c):s.emit("error",c)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,r,o){var i=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}r.exports=function u(l,s,c){if(typeof s=="function")return u(l,null,s);s||(s={}),c=function(I){var D=!1;return function(){if(!D){D=!0;for(var V=arguments.length,L=new Array(V),z=0;z<V;z++)L[z]=arguments[z];I.apply(this,L)}}}(c||a);var h=s.readable||s.readable!==!1&&l.readable,d=s.writable||s.writable!==!1&&l.writable,f=function(){l.writable||y()},g=l._writableState&&l._writableState.finished,y=function(){d=!1,g=!0,h||c.call(l)},p=l._readableState&&l._readableState.endEmitted,v=function(){h=!1,p=!0,d||c.call(l)},m=function(I){c.call(l,I)},x=function(){var I;return h&&!p?(l._readableState&&l._readableState.ended||(I=new i),c.call(l,I)):d&&!g?(l._writableState&&l._writableState.ended||(I=new i),c.call(l,I)):void 0},k=function(){l.req.on("finish",y)};return function(I){return I.setHeader&&typeof I.abort=="function"}(l)?(l.on("complete",y),l.on("abort",x),l.req?k():l.on("request",k)):d&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",v),l.on("finish",y),s.error!==!1&&l.on("error",m),l.on("close",x),function(){l.removeListener("complete",y),l.removeListener("abort",x),l.removeListener("request",k),l.req&&l.req.removeListener("finish",y),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",y),l.removeListener("end",v),l.removeListener("error",m),l.removeListener("close",x)}}},{"../../../errors":477}],487:[function(t,r,o){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,r,o){var i,a=t("../../../errors").codes,u=a.ERR_MISSING_ARGS,l=a.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function c(g,y,p,v){v=function(k){var I=!1;return function(){I||(I=!0,k.apply(void 0,arguments))}}(v);var m=!1;g.on("close",function(){m=!0}),i===void 0&&(i=t("./end-of-stream")),i(g,{readable:y,writable:p},function(k){if(k)return v(k);m=!0,v()});var x=!1;return function(k){if(!m&&!x)return x=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(k||new l("pipe"))}}function h(g){g()}function d(g,y){return g.pipe(y)}function f(g){return g.length?typeof g[g.length-1]!="function"?s:g.pop():s}r.exports=function(){for(var g=arguments.length,y=new Array(g),p=0;p<g;p++)y[p]=arguments[p];var v,m=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new u("streams");var x=y.map(function(k,I){var D=I<y.length-1;return c(k,D,I>0,function(V){v||(v=V),V&&x.forEach(h),D||(x.forEach(h),m(v))})});return y.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,r,o){var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;r.exports={getHighWaterMark:function(a,u,l,s){var c=function(h,d,f){return h.highWaterMark!=null?h.highWaterMark:d?h[f]:null}(u,s,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new i(s?l:"highWaterMark",c);return Math.floor(c)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,r,o){r.exports=t("events").EventEmitter},{events:422}],491:[function(t,r,o){(o=r.exports=t("./lib/_stream_readable.js")).Stream=o,o.Readable=o,o.Writable=t("./lib/_stream_writable.js"),o.Duplex=t("./lib/_stream_duplex.js"),o.Transform=t("./lib/_stream_transform.js"),o.PassThrough=t("./lib/_stream_passthrough.js"),o.finished=t("./lib/internal/streams/end-of-stream.js"),o.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,r,o){var i=function(a){var u=Object.prototype,l=u.hasOwnProperty,s=Object.defineProperty||function(w,S,N){w[S]=N.value},c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function g(w,S,N){return Object.defineProperty(w,S,{value:N,enumerable:!0,configurable:!0,writable:!0}),w[S]}try{g({},"")}catch{g=function(S,N,O){return S[N]=O}}function y(w,S,N,O){var U=S&&S.prototype instanceof m?S:m,G=Object.create(U.prototype),W=new C(O||[]);return s(G,"_invoke",{value:H(w,N,W)}),G}function p(w,S,N){try{return{type:"normal",arg:w.call(S,N)}}catch(O){return{type:"throw",arg:O}}}a.wrap=y;var v={};function m(){}function x(){}function k(){}var I={};g(I,h,function(){return this});var D=Object.getPrototypeOf,V=D&&D(D(b([])));V&&V!==u&&l.call(V,h)&&(I=V);var L=k.prototype=m.prototype=Object.create(I);function z(w){["next","throw","return"].forEach(function(S){g(w,S,function(N){return this._invoke(S,N)})})}function B(w,S){var N;s(this,"_invoke",{value:function(O,U){function G(){return new S(function(W,J){(function F(Y,j,R,q){var K=p(w[Y],w,j);if(K.type!=="throw"){var Q=K.arg,X=Q.value;return X&&typeof X=="object"&&l.call(X,"__await")?S.resolve(X.__await).then(function(ee){F("next",ee,R,q)},function(ee){F("throw",ee,R,q)}):S.resolve(X).then(function(ee){Q.value=ee,R(Q)},function(ee){return F("throw",ee,R,q)})}q(K.arg)})(O,U,W,J)})}return N=N?N.then(G,G):G()}})}function H(w,S,N){var O="suspendedStart";return function(U,G){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(U==="throw")throw G;return _()}for(N.method=U,N.arg=G;;){var W=N.delegate;if(W){var J=$(W,N);if(J){if(J===v)continue;return J}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(O==="suspendedStart")throw O="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);O="executing";var F=p(w,S,N);if(F.type==="normal"){if(O=N.done?"completed":"suspendedYield",F.arg===v)continue;return{value:F.arg,done:N.done}}F.type==="throw"&&(O="completed",N.method="throw",N.arg=F.arg)}}}function $(w,S){var N=S.method,O=w.iterator[N];if(O===void 0)return S.delegate=null,N==="throw"&&w.iterator.return&&(S.method="return",S.arg=void 0,$(w,S),S.method==="throw")||N!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+N+"' method")),v;var U=p(O,w.iterator,S.arg);if(U.type==="throw")return S.method="throw",S.arg=U.arg,S.delegate=null,v;var G=U.arg;return G?G.done?(S[w.resultName]=G.value,S.next=w.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,v):G:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,v)}function A(w){var S={tryLoc:w[0]};1 in w&&(S.catchLoc=w[1]),2 in w&&(S.finallyLoc=w[2],S.afterLoc=w[3]),this.tryEntries.push(S)}function P(w){var S=w.completion||{};S.type="normal",delete S.arg,w.completion=S}function C(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(A,this),this.reset(!0)}function b(w){if(w){var S=w[h];if(S)return S.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var N=-1,O=function U(){for(;++N<w.length;)if(l.call(w,N))return U.value=w[N],U.done=!1,U;return U.value=void 0,U.done=!0,U};return O.next=O}}return{next:_}}function _(){return{value:void 0,done:!0}}return x.prototype=k,s(L,"constructor",{value:k,configurable:!0}),s(k,"constructor",{value:x,configurable:!0}),x.displayName=g(k,f,"GeneratorFunction"),a.isGeneratorFunction=function(w){var S=typeof w=="function"&&w.constructor;return!!S&&(S===x||(S.displayName||S.name)==="GeneratorFunction")},a.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,k):(w.__proto__=k,g(w,f,"GeneratorFunction")),w.prototype=Object.create(L),w},a.awrap=function(w){return{__await:w}},z(B.prototype),g(B.prototype,d,function(){return this}),a.AsyncIterator=B,a.async=function(w,S,N,O,U){U===void 0&&(U=Promise);var G=new B(y(w,S,N,O),U);return a.isGeneratorFunction(S)?G:G.next().then(function(W){return W.done?W.value:G.next()})},z(L),g(L,f,"Generator"),g(L,h,function(){return this}),g(L,"toString",function(){return"[object Generator]"}),a.keys=function(w){var S=Object(w),N=[];for(var O in S)N.push(O);return N.reverse(),function U(){for(;N.length;){var G=N.pop();if(G in S)return U.value=G,U.done=!1,U}return U.done=!0,U}},a.values=b,C.prototype={constructor:C,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!w)for(var S in this)S.charAt(0)==="t"&&l.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var S=this;function N(F,Y){return G.type="throw",G.arg=w,S.next=F,Y&&(S.method="next",S.arg=void 0),!!Y}for(var O=this.tryEntries.length-1;O>=0;--O){var U=this.tryEntries[O],G=U.completion;if(U.tryLoc==="root")return N("end");if(U.tryLoc<=this.prev){var W=l.call(U,"catchLoc"),J=l.call(U,"finallyLoc");if(W&&J){if(this.prev<U.catchLoc)return N(U.catchLoc,!0);if(this.prev<U.finallyLoc)return N(U.finallyLoc)}else if(W){if(this.prev<U.catchLoc)return N(U.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return N(U.finallyLoc)}}}},abrupt:function(w,S){for(var N=this.tryEntries.length-1;N>=0;--N){var O=this.tryEntries[N];if(O.tryLoc<=this.prev&&l.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var U=O;break}}U&&(w==="break"||w==="continue")&&U.tryLoc<=S&&S<=U.finallyLoc&&(U=null);var G=U?U.completion:{};return G.type=w,G.arg=S,U?(this.method="next",this.next=U.finallyLoc,v):this.complete(G)},complete:function(w,S){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&S&&(this.next=S),v},finish:function(w){for(var S=this.tryEntries.length-1;S>=0;--S){var N=this.tryEntries[S];if(N.finallyLoc===w)return this.complete(N.completion,N.afterLoc),P(N),v}},catch:function(w){for(var S=this.tryEntries.length-1;S>=0;--S){var N=this.tryEntries[S];if(N.tryLoc===w){var O=N.completion;if(O.type==="throw"){var U=O.arg;P(N)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(w,S,N){return this.delegate={iterator:b(w),resultName:S,nextLoc:N},this.method==="next"&&(this.arg=void 0),v}},a}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(t,r,o){var i=t("buffer").Buffer,a=t("inherits"),u=t("hash-base"),l=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(D,V){return D<<V|D>>>32-V}function v(D,V,L,z,B,H,$,A){return p(D+(V^L^z)+H+$|0,A)+B|0}function m(D,V,L,z,B,H,$,A){return p(D+(V&L|~V&z)+H+$|0,A)+B|0}function x(D,V,L,z,B,H,$,A){return p(D+((V|~L)^z)+H+$|0,A)+B|0}function k(D,V,L,z,B,H,$,A){return p(D+(V&z|L&~z)+H+$|0,A)+B|0}function I(D,V,L,z,B,H,$,A){return p(D+(V^(L|~z))+H+$|0,A)+B|0}a(y,u),y.prototype._update=function(){for(var D=l,V=0;V<16;++V)D[V]=this._block.readInt32LE(4*V);for(var L=0|this._a,z=0|this._b,B=0|this._c,H=0|this._d,$=0|this._e,A=0|this._a,P=0|this._b,C=0|this._c,b=0|this._d,_=0|this._e,w=0;w<80;w+=1){var S,N;w<16?(S=v(L,z,B,H,$,D[s[w]],f[0],h[w]),N=I(A,P,C,b,_,D[c[w]],g[0],d[w])):w<32?(S=m(L,z,B,H,$,D[s[w]],f[1],h[w]),N=k(A,P,C,b,_,D[c[w]],g[1],d[w])):w<48?(S=x(L,z,B,H,$,D[s[w]],f[2],h[w]),N=x(A,P,C,b,_,D[c[w]],g[2],d[w])):w<64?(S=k(L,z,B,H,$,D[s[w]],f[3],h[w]),N=m(A,P,C,b,_,D[c[w]],g[3],d[w])):(S=I(L,z,B,H,$,D[s[w]],f[4],h[w]),N=v(A,P,C,b,_,D[c[w]],g[4],d[w])),L=$,$=H,H=p(B,10),B=z,z=S,A=_,_=b,b=p(C,10),C=P,P=N}var O=this._b+B+b|0;this._b=this._c+H+_|0,this._c=this._d+$+A|0,this._d=this._e+L+P|0,this._e=this._a+z+C|0,this._a=O},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=i.alloc?i.alloc(20):new i(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},r.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,r,o){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=t("buffer"),a=i.Buffer;function u(s,c){for(var h in s)c[h]=s[h]}function l(s,c,h){return a(s,c,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=i:(u(i,o),o.Buffer=l),l.prototype=Object.create(a.prototype),u(a,l),l.from=function(s,c,h){if(typeof s=="number")throw new TypeError("Argument must not be a number");return a(s,c,h)},l.alloc=function(s,c,h){if(typeof s!="number")throw new TypeError("Argument must be a number");var d=a(s);return c!==void 0?typeof h=="string"?d.fill(c,h):d.fill(c):d.fill(0),d},l.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return a(s)},l.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(s)}},{buffer:220}],495:[function(t,r,o){(function(i){(function(){var a,u=t("buffer"),l=u.Buffer,s={};for(a in u)u.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(s[a]=u[a]);var c=s.Buffer={};for(a in l)l.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(c[a]=l[a]);if(s.Buffer.prototype=l.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(h,d,f){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return l(h,d,f)}),c.alloc||(c.alloc=function(h,d,f){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var g=l(h);return d&&d.length!==0?typeof f=="string"?g.fill(d,f):g.fill(d):g.fill(0),g}),!s.kStringMaxLength)try{s.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),r.exports=s}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0});const i=t("xmlchars/xml/1.0/ed5"),a=t("xmlchars/xml/1.1/ed2"),u=t("xmlchars/xmlns/1.0/ed3");var l=i.isS,s=i.isChar,c=i.isNameStartChar,h=i.isNameChar,d=i.S_LIST,f=i.NAME_RE,g=a.isChar,y=u.isNCNameStartChar,p=u.isNCNameChar,v=u.NC_NAME_RE;const m="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:m,xmlns:x},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D=b=>b===34||b===39,V=[34,39],L=[...V,91,62],z=[...V,60,93],B=[61,63,...d],H=[...d,62,38,60];function $(b,_,w){switch(_){case"xml":w!==m&&b.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":w!==x&&b.fail(`xmlns prefix must be bound to ${x}.`)}switch(w){case x:b.fail(_===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case m:switch(_){case"xml":break;case"":b.fail(`the default namespace may not be set to ${w}.`);break;default:b.fail("may not assign the xml namespace to another prefix.")}}}const A=b=>v.test(b),P=b=>f.test(b);o.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};o.SaxesParser=class{constructor(b){this.opt=b??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=y,this.nameCheck=p,this.isName=A,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const w=this.opt.additionalNamespaces;w!=null&&(function(S,N){for(const O of Object.keys(N))$(S,O,N[O])}(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=c,this.nameCheck=h,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var b;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(b=this.readyHandler)===null||b===void 0||b.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(b,_){this[C[b]]=_}off(b){this[C[b]]=void 0}makeError(b){var _;let w=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+b)}fail(b){const _=this.makeError(b),w=this.errorHandler;if(w===void 0)throw _;return w(_),this}write(b){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;b===null?(_=!0,b=""):typeof b=="object"&&(b=b.toString()),this.carriedFromPrevious!==void 0&&(b=`${this.carriedFromPrevious}${b}`,this.carriedFromPrevious=void 0);let w=b.length;const S=b.charCodeAt(w-1);!_&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=b[w-1],w--,b=b.slice(0,w));const{stateTable:N}=this;for(this.chunk=b,this.i=0;this.i<w;)N[this.state].call(this);return this.chunkPosition+=w,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:b,i:_}=this;if(this.prevI=_,this.i=_+1,_>=b.length)return-1;const w=b.charCodeAt(_);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return b.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const S=65536+1024*(w-55296)+(b.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:b,i:_}=this;if(this.prevI=_,this.i=_+1,_>=b.length)return-1;const w=b.charCodeAt(_);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const N=b.charCodeAt(_+1);N!==10&&N!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const S=65536+1024*(w-55296)+(b.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const b=this.getCode();return b===-2?10:b}unget(){this.i=this.prevI,this.column--}captureTo(b){let{i:_}=this;const{chunk:w}=this;for(;;){const S=this.getCode(),N=S===-2,O=N?10:S;if(O===-1||b.includes(O))return this.text+=w.slice(_,this.prevI),O;N&&(this.text+=w.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(b){let{i:_}=this;const{chunk:w}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=w.slice(_,this.prevI)+`
`,_=this.i,S=10;break;case-1:return this.text+=w.slice(_),!1}if(S===b)return this.text+=w.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:b,i:_}=this;for(;;){const w=this.getCode();if(w===-1)return this.name+=b.slice(_),-1;if(!h(w))return this.name+=b.slice(_,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){const b=this.getCodeNorm();if(b===-1||!l(b))return b}}setXMLVersion(b){this.currentXMLVersion=b,b==="1.0"?(this.isChar=s,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const b=this.i,_=this.skipSpaces();switch(this.prevI!==b&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var b;const _=this.captureTo(L);switch(_){case 62:(b=this.doctypeHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:D(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.q=null,this.state=2)}sDTD(){const b=this.captureTo(z);b!==-1&&(this.text+=String.fromCodePoint(b),b===93?this.state=2:b===60?this.state=6:D(b)&&(this.state=5,this.q=b))}sDTDQuoted(){const b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.state=4,this.q=null)}sDTDOpenWaka(){const b=this.getCodeNorm();switch(this.text+=String.fromCodePoint(b),b){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const b=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=b;this.text+=b,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const b=this.getCodeNorm();this.text+=String.fromCodePoint(b),this.state=b===45?10:8}sDTDCommentEnded(){const b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:b}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(b,this.prevI)+`
`,b=this.i;break;case 59:{const{entityReturnState:w}=this,S=this.entity+_.slice(b,this.prevI);let N;this.state=w,S===""?(this.fail("empty entity name."),N="&;"):(N=this.parseEntity(S),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=N);break e}case-1:this.entity+=_.slice(b);break e}}sOpenWaka(){const b=this.getCode();if(c(b))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(b){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var b;const _=this.getCodeNorm();_===45?(this.state=19,(b=this.commentHandler)===null||b===void 0||b.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const b=this.getCodeNorm();b!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(b),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const b=this.getCodeNorm();b===93?this.state=22:(this.text+="]"+String.fromCodePoint(b),this.state=20)}sCDataEnding2(){var b;const _=this.getCodeNorm();switch(_){case 62:(b=this.cdataHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const b=this.getCodeNorm();this.nameStartCheck(b)?(this.piTarget+=String.fromCodePoint(b),this.state=24):b===63||l(b)?(this.fail("processing instruction without a target."),this.state=b===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(b),this.state=24)}sPIRest(){const{chunk:b,i:_}=this;for(;;){const w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=b.slice(_));if(!this.nameCheck(w)){this.piTarget+=b.slice(_,this.prevI);const S=w===63;S||l(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){const b=this.getCodeNorm();b===63?this.state=26:l(b)||(this.text=String.fromCodePoint(b))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var b;const _=this.getCodeNorm();if(_===62){const{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(b=this.piHandler)===null||b===void 0||b.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const b=this.skipSpaces();b!==63?b!==-1&&(this.state=28,this.name=String.fromCodePoint(b)):this.state=33}sXMLDeclName(){const b=this.captureTo(B);if(b===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(b)||b===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=b===61?30:29}}sXMLDeclEq(){const b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(b)||(b!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(b)||(D(b)?this.q=b:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const b=this.captureTo([this.q,63]);if(b===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(b===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const w=_;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const b=this.getCodeNorm();b!==63?(l(b)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var b;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(b=this.xmldeclHandler)===null||b===void 0||b.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var b;const _=this.captureNameChars();if(_===-1)return;const w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(b=this.openTagStartHandler)===null||b===void 0||b.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:l(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const b=this.skipSpaces();b!==-1&&(c(b)?(this.unget(),this.state=37):b===62?this.openTag():b===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const b=this.captureNameChars();b===61?this.state=39:l(b)?this.state=38:b===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):b!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const b=this.skipSpaces();switch(b){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",b===62?this.openTag():c(b)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const b=this.getCodeNorm();D(b)?(this.q=b,this.state=40):l(b)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:b,chunk:_}=this;let{i:w}=this;for(;;)switch(this.getCode()){case b:return this.pushAttrib(this.name,this.text+_.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=_.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(w))}}sAttribValueClosed(){const b=this.getCodeNorm();l(b)?this.state=36:b===62?this.openTag():b===47?this.state=35:c(b)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const b=this.captureTo(H);switch(b){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",b===62?this.openTag():this.state=36}}sCloseTag(){const b=this.captureNameChars();b===62?this.closeTag():l(b)?this.state=44:b!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:b,forbiddenState:_}=this;const{chunk:w,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:N}=this,O=w.slice(b,this.prevI);N.length!==0?(S(N+O),this.text=""):O.length!==0&&S(O)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=w.slice(b,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:S!==void 0&&(this.text+=w.slice(b,this.prevI)+`
`),b=this.i,_=0;break;case-1:S!==void 0&&(this.text+=w.slice(b));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:b}=this;const{chunk:_,textHandler:w}=this;let S=!1;e:for(;;){const N=this.getCode();switch(N){case 60:if(this.state=15,w!==void 0){const{text:O}=this,U=_.slice(b,this.prevI);O.length!==0?(w(O+U),this.text=""):U.length!==0&&w(U)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=_.slice(b,this.prevI)),S=!0;break e;case-2:w!==void 0&&(this.text+=_.slice(b,this.prevI)+`
`),b=this.i;break;case-1:w!==void 0&&(this.text+=_.slice(b));break e;default:l(N)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(b,_){var w;const{prefix:S,local:N}=this.qname(b),O={name:b,prefix:S,local:N,value:_};if(this.attribList.push(O),(w=this.attributeHandler)===null||w===void 0||w.call(this,O),S==="xmlns"){const U=_.trim();this.currentXMLVersion==="1.0"&&U===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[N]=U,$(this,N,U)}else if(b==="xmlns"){const U=_.trim();this.topNS[""]=U,$(this,"",U)}}pushAttribPlain(b,_){var w;const S={name:b,value:_};this.attribList.push(S),(w=this.attributeHandler)===null||w===void 0||w.call(this,S)}end(){var b,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:w}=this;for(;w.length>0;){const N=w.pop();this.fail("unclosed tag: "+N.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((b=this.textHandler)===null||b===void 0||b.call(this,S),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(b){var _,w;let S=this.topNS[b];if(S!==void 0)return S;const{tags:N}=this;for(let O=N.length-1;O>=0;O--)if(S=N[O].ns[b],S!==void 0)return S;return S=this.ns[b],S!==void 0?S:(w=(_=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(_,b)}qname(b){const _=b.indexOf(":");if(_===-1)return{prefix:"",local:b};const w=b.slice(_+1),S=b.slice(0,_);return(S===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${b}.`),{prefix:S,local:w}}processAttribsNS(){var b;const{attribList:_}=this,w=this.tag;{const{prefix:O,local:U}=this.qname(w.name);w.prefix=O,w.local=U;const G=w.uri=(b=this.resolve(O))!==null&&b!==void 0?b:"";O!==""&&(O==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),G===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(O)}.`),w.uri=O))}if(_.length===0)return;const{attributes:S}=w,N=new Set;for(const O of _){const{name:U,prefix:G,local:W}=O;let J,F;G===""?(J=U==="xmlns"?x:"",F=U):(J=this.resolve(G),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(G)}.`),J=G),F=`{${J}}${W}`),N.has(F)&&this.fail(`duplicate attribute: ${F}.`),N.add(F),O.uri=J,S[U]=O}this.attribList=[]}processAttribsPlain(){const{attribList:b}=this,_=this.tag.attributes;for(const{name:w,value:S}of b)_[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),_[w]=S;this.attribList=[]}openTag(){var b;this.processAttribs();const{tags:_}=this,w=this.tag;w.isSelfClosing=!1,(b=this.openTagHandler)===null||b===void 0||b.call(this,w),_.push(w),this.state=13,this.name=""}openSelfClosingTag(){var b,_,w;this.processAttribs();const{tags:S}=this,N=this.tag;N.isSelfClosing=!0,(b=this.openTagHandler)===null||b===void 0||b.call(this,N),(_=this.closeTagHandler)===null||_===void 0||_.call(this,N),(this.tag=(w=S[S.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:b,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const w=this.closeTagHandler;let S=b.length;for(;S-- >0;){const N=this.tag=b.pop();if(this.topNS=N.ns,w==null||w(N),N.name===_)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(b){if(b[0]!=="#"){const w=this.ENTITIES[b];return w!==void 0?w:(this.fail(this.isName(b)?"undefined entity.":"disallowed character in entity name."),`&${b};`)}let _=NaN;return b[1]==="x"&&/^#x[0-9a-f]+$/i.test(b)?_=parseInt(b.slice(2),16):/^#[0-9]+$/.test(b)&&(_=parseInt(b.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${b};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,r,o){var i=t("safe-buffer").Buffer;function a(u,l){this._block=i.alloc(u),this._finalSize=l,this._blockSize=u,this._len=0}a.prototype.update=function(u,l){typeof u=="string"&&(l=l||"utf8",u=i.from(u,l));for(var s=this._block,c=this._blockSize,h=u.length,d=this._len,f=0;f<h;){for(var g=d%c,y=Math.min(h-f,c-g),p=0;p<y;p++)s[g+p]=u[f+p];f+=y,(d+=y)%c==0&&this._update(s)}return this._len+=h,this},a.prototype.digest=function(u){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=8*this._len;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var c=(4294967295&s)>>>0,h=(s-c)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var d=this._hash();return u?d.toString(u):d},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},r.exports=a},{"safe-buffer":494}],498:[function(t,r,o){var i=r.exports=function(a){a=a.toLowerCase();var u=i[a];if(!u)throw new Error(a+" is not supported (we accept pull requests)");return new u};i.sha=t("./sha"),i.sha1=t("./sha1"),i.sha224=t("./sha224"),i.sha256=t("./sha256"),i.sha384=t("./sha384"),i.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,r,o){var i=t("inherits"),a=t("./hash"),u=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,a.call(this,64,56)}function h(f){return f<<30|f>>>2}function d(f,g,y,p){return f===0?g&y|~g&p:f===2?g&y|g&p|y&p:g^y^p}i(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(f){for(var g,y=this._w,p=0|this._a,v=0|this._b,m=0|this._c,x=0|this._d,k=0|this._e,I=0;I<16;++I)y[I]=f.readInt32BE(4*I);for(;I<80;++I)y[I]=y[I-3]^y[I-8]^y[I-14]^y[I-16];for(var D=0;D<80;++D){var V=~~(D/20),L=0|((g=p)<<5|g>>>27)+d(V,v,m,x)+k+y[D]+l[V];k=x,x=m,m=h(v),v=p,p=L}this._a=p+this._a|0,this._b=v+this._b|0,this._c=m+this._c|0,this._d=x+this._d|0,this._e=k+this._e|0},c.prototype._hash=function(){var f=u.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,r,o){var i=t("inherits"),a=t("./hash"),u=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,a.call(this,64,56)}function h(g){return g<<5|g>>>27}function d(g){return g<<30|g>>>2}function f(g,y,p,v){return g===0?y&p|~y&v:g===2?y&p|y&v|p&v:y^p^v}i(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(g){for(var y,p=this._w,v=0|this._a,m=0|this._b,x=0|this._c,k=0|this._d,I=0|this._e,D=0;D<16;++D)p[D]=g.readInt32BE(4*D);for(;D<80;++D)p[D]=(y=p[D-3]^p[D-8]^p[D-14]^p[D-16])<<1|y>>>31;for(var V=0;V<80;++V){var L=~~(V/20),z=h(v)+f(L,m,x,k)+I+p[V]+l[L]|0;I=k,k=x,x=d(m),m=v,v=z}this._a=v+this._a|0,this._b=m+this._b|0,this._c=x+this._c|0,this._d=k+this._d|0,this._e=I+this._e|0},c.prototype._hash=function(){var g=u.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,r,o){var i=t("inherits"),a=t("./sha256"),u=t("./hash"),l=t("safe-buffer").Buffer,s=new Array(64);function c(){this.init(),this._w=s,u.call(this,64,56)}i(c,a),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var h=l.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},r.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,r,o){var i=t("inherits"),a=t("./hash"),u=t("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,a.call(this,64,56)}function h(p,v,m){return m^p&(v^m)}function d(p,v,m){return p&v|m&(p|v)}function f(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function y(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}i(c,a),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(p){for(var v,m=this._w,x=0|this._a,k=0|this._b,I=0|this._c,D=0|this._d,V=0|this._e,L=0|this._f,z=0|this._g,B=0|this._h,H=0;H<16;++H)m[H]=p.readInt32BE(4*H);for(;H<64;++H)m[H]=0|(((v=m[H-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+m[H-7]+y(m[H-15])+m[H-16];for(var $=0;$<64;++$){var A=B+g(V)+h(V,L,z)+l[$]+m[$]|0,P=f(x)+d(x,k,I)|0;B=z,z=L,L=V,V=D+A|0,D=I,I=k,k=x,x=A+P|0}this._a=x+this._a|0,this._b=k+this._b|0,this._c=I+this._c|0,this._d=D+this._d|0,this._e=V+this._e|0,this._f=L+this._f|0,this._g=z+this._g|0,this._h=B+this._h|0},c.prototype._hash=function(){var p=u.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,r,o){var i=t("inherits"),a=t("./sha512"),u=t("./hash"),l=t("safe-buffer").Buffer,s=new Array(160);function c(){this.init(),this._w=s,u.call(this,128,112)}i(c,a),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var h=l.allocUnsafe(48);function d(f,g,y){h.writeInt32BE(f,y),h.writeInt32BE(g,y+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),h},r.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,r,o){var i=t("inherits"),a=t("./hash"),u=t("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,a.call(this,128,112)}function h(k,I,D){return D^k&(I^D)}function d(k,I,D){return k&I|D&(k|I)}function f(k,I){return(k>>>28|I<<4)^(I>>>2|k<<30)^(I>>>7|k<<25)}function g(k,I){return(k>>>14|I<<18)^(k>>>18|I<<14)^(I>>>9|k<<23)}function y(k,I){return(k>>>1|I<<31)^(k>>>8|I<<24)^k>>>7}function p(k,I){return(k>>>1|I<<31)^(k>>>8|I<<24)^(k>>>7|I<<25)}function v(k,I){return(k>>>19|I<<13)^(I>>>29|k<<3)^k>>>6}function m(k,I){return(k>>>19|I<<13)^(I>>>29|k<<3)^(k>>>6|I<<26)}function x(k,I){return k>>>0<I>>>0?1:0}i(c,a),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(k){for(var I=this._w,D=0|this._ah,V=0|this._bh,L=0|this._ch,z=0|this._dh,B=0|this._eh,H=0|this._fh,$=0|this._gh,A=0|this._hh,P=0|this._al,C=0|this._bl,b=0|this._cl,_=0|this._dl,w=0|this._el,S=0|this._fl,N=0|this._gl,O=0|this._hl,U=0;U<32;U+=2)I[U]=k.readInt32BE(4*U),I[U+1]=k.readInt32BE(4*U+4);for(;U<160;U+=2){var G=I[U-30],W=I[U-30+1],J=y(G,W),F=p(W,G),Y=v(G=I[U-4],W=I[U-4+1]),j=m(W,G),R=I[U-14],q=I[U-14+1],K=I[U-32],Q=I[U-32+1],X=F+q|0,ee=J+R+x(X,F)|0;ee=(ee=ee+Y+x(X=X+j|0,j)|0)+K+x(X=X+Q|0,Q)|0,I[U]=ee,I[U+1]=X}for(var ie=0;ie<160;ie+=2){ee=I[ie],X=I[ie+1];var ae=d(D,V,L),Z=d(P,C,b),re=f(D,P),ne=f(P,D),ue=g(B,w),le=g(w,B),de=l[ie],he=l[ie+1],pe=h(B,H,$),ye=h(w,S,N),Ae=O+le|0,Ne=A+ue+x(Ae,O)|0;Ne=(Ne=(Ne=Ne+pe+x(Ae=Ae+ye|0,ye)|0)+de+x(Ae=Ae+he|0,he)|0)+ee+x(Ae=Ae+X|0,X)|0;var ke=ne+Z|0,Ve=re+ae+x(ke,ne)|0;A=$,O=N,$=H,N=S,H=B,S=w,B=z+Ne+x(w=_+Ae|0,_)|0,z=L,_=b,L=V,b=C,V=D,C=P,D=Ne+Ve+x(P=Ae+ke|0,Ae)|0}this._al=this._al+P|0,this._bl=this._bl+C|0,this._cl=this._cl+b|0,this._dl=this._dl+_|0,this._el=this._el+w|0,this._fl=this._fl+S|0,this._gl=this._gl+N|0,this._hl=this._hl+O|0,this._ah=this._ah+D+x(this._al,P)|0,this._bh=this._bh+V+x(this._bl,C)|0,this._ch=this._ch+L+x(this._cl,b)|0,this._dh=this._dh+z+x(this._dl,_)|0,this._eh=this._eh+B+x(this._el,w)|0,this._fh=this._fh+H+x(this._fl,S)|0,this._gh=this._gh+$+x(this._gl,N)|0,this._hh=this._hh+A+x(this._hl,O)|0},c.prototype._hash=function(){var k=u.allocUnsafe(64);function I(D,V,L){k.writeInt32BE(D,L),k.writeInt32BE(V,L+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),k},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,r,o){r.exports=a;var i=t("events").EventEmitter;function a(){i.call(this)}t("inherits")(a,i),a.Readable=t("readable-stream/readable.js"),a.Writable=t("readable-stream/writable.js"),a.Duplex=t("readable-stream/duplex.js"),a.Transform=t("readable-stream/transform.js"),a.PassThrough=t("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(u,l){var s=this;function c(v){u.writable&&u.write(v)===!1&&s.pause&&s.pause()}function h(){s.readable&&s.resume&&s.resume()}s.on("data",c),u.on("drain",h),u._isStdio||l&&l.end===!1||(s.on("end",f),s.on("close",g));var d=!1;function f(){d||(d=!0,u.end())}function g(){d||(d=!0,typeof u.destroy=="function"&&u.destroy())}function y(v){if(p(),i.listenerCount(this,"error")===0)throw v}function p(){s.removeListener("data",c),u.removeListener("drain",h),s.removeListener("end",f),s.removeListener("close",g),s.removeListener("error",y),u.removeListener("error",y),s.removeListener("end",p),s.removeListener("close",p),u.removeListener("close",p)}return s.on("error",y),u.on("error",y),s.on("end",p),s.on("close",p),u.on("close",p),u.emit("pipe",s),u}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,r,o){var i={}.toString;r.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(t,r,o){r.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,r,o){var i=t("process-nextick-args"),a=Object.keys||function(p){var v=[];for(var m in p)v.push(m);return v};r.exports=f;var u=Object.create(t("core-util-is"));u.inherits=t("inherits");var l=t("./_stream_readable"),s=t("./_stream_writable");u.inherits(f,l);for(var c=a(s.prototype),h=0;h<c.length;h++){var d=c[h];f.prototype[d]||(f.prototype[d]=s.prototype[d])}function f(p){if(!(this instanceof f))return new f(p);l.call(this,p),s.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(p){p.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),f.prototype._destroy=function(p,v){this.push(null),this.end(),i.nextTick(v,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,r,o){r.exports=u;var i=t("./_stream_transform"),a=Object.create(t("core-util-is"));function u(l){if(!(this instanceof u))return new u(l);i.call(this,l)}a.inherits=t("inherits"),a.inherits(u,i),u.prototype._transform=function(l,s,c){c(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,r,o){(function(i,a){(function(){var u=t("process-nextick-args");r.exports=D;var l,s=t("isarray");D.ReadableState=I,t("events").EventEmitter;var c=function(O,U){return O.listeners(U).length},h=t("./internal/streams/stream"),d=t("safe-buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(t("core-util-is"));g.inherits=t("inherits");var y=t("util"),p=void 0;p=y&&y.debuglog?y.debuglog("stream"):function(){};var v,m=t("./internal/streams/BufferList"),x=t("./internal/streams/destroy");g.inherits(D,h);var k=["error","close","destroy","pause","resume"];function I(O,U){O=O||{};var G=U instanceof(l=l||t("./_stream_duplex"));this.objectMode=!!O.objectMode,G&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var W=O.highWaterMark,J=O.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:G&&(J||J===0)?J:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(v||(v=t("string_decoder/").StringDecoder),this.decoder=new v(O.encoding),this.encoding=O.encoding)}function D(O){if(l=l||t("./_stream_duplex"),!(this instanceof D))return new D(O);this._readableState=new I(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),h.call(this)}function V(O,U,G,W,J){var F,Y=O._readableState;return U===null?(Y.reading=!1,function(j,R){if(!R.ended){if(R.decoder){var q=R.decoder.end();q&&q.length&&(R.buffer.push(q),R.length+=R.objectMode?1:q.length)}R.ended=!0,B(j)}}(O,Y)):(J||(F=function(j,R){var q;K=R,d.isBuffer(K)||K instanceof f||typeof R=="string"||R===void 0||j.objectMode||(q=new TypeError("Invalid non-string/buffer chunk"));var K;return q}(Y,U)),F?O.emit("error",F):Y.objectMode||U&&U.length>0?(typeof U=="string"||Y.objectMode||Object.getPrototypeOf(U)===d.prototype||(U=function(j){return d.from(j)}(U)),W?Y.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):L(O,Y,U,!0):Y.ended?O.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!G?(U=Y.decoder.write(U),Y.objectMode||U.length!==0?L(O,Y,U,!1):$(O,Y)):L(O,Y,U,!1))):W||(Y.reading=!1)),function(j){return!j.ended&&(j.needReadable||j.length<j.highWaterMark||j.length===0)}(Y)}function L(O,U,G,W){U.flowing&&U.length===0&&!U.sync?(O.emit("data",G),O.read(0)):(U.length+=U.objectMode?1:G.length,W?U.buffer.unshift(G):U.buffer.push(G),U.needReadable&&B(O)),$(O,U)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),D.prototype.destroy=x.destroy,D.prototype._undestroy=x.undestroy,D.prototype._destroy=function(O,U){this.push(null),U(O)},D.prototype.push=function(O,U){var G,W=this._readableState;return W.objectMode?G=!0:typeof O=="string"&&((U=U||W.defaultEncoding)!==W.encoding&&(O=d.from(O,U),U=""),G=!0),V(this,O,U,!1,G)},D.prototype.unshift=function(O){return V(this,O,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(O){return v||(v=t("string_decoder/").StringDecoder),this._readableState.decoder=new v(O),this._readableState.encoding=O,this};function z(O,U){return O<=0||U.length===0&&U.ended?0:U.objectMode?1:O!=O?U.flowing&&U.length?U.buffer.head.data.length:U.length:(O>U.highWaterMark&&(U.highWaterMark=function(G){return G>=8388608?G=8388608:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(O)),O<=U.length?O:U.ended?U.length:(U.needReadable=!0,0))}function B(O){var U=O._readableState;U.needReadable=!1,U.emittedReadable||(p("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?u.nextTick(H,O):H(O))}function H(O){p("emit readable"),O.emit("readable"),b(O)}function $(O,U){U.readingMore||(U.readingMore=!0,u.nextTick(A,O,U))}function A(O,U){for(var G=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(p("maybeReadMore read 0"),O.read(0),G!==U.length);)G=U.length;U.readingMore=!1}function P(O){p("readable nexttick read 0"),O.read(0)}function C(O,U){U.reading||(p("resume read 0"),O.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,O.emit("resume"),b(O),U.flowing&&!U.reading&&O.read(0)}function b(O){var U=O._readableState;for(p("flow",U.flowing);U.flowing&&O.read()!==null;);}function _(O,U){return U.length===0?null:(U.objectMode?G=U.buffer.shift():!O||O>=U.length?(G=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):G=function(W,J,F){var Y;return W<J.head.data.length?(Y=J.head.data.slice(0,W),J.head.data=J.head.data.slice(W)):Y=W===J.head.data.length?J.shift():F?function(j,R){var q=R.head,K=1,Q=q.data;for(j-=Q.length;q=q.next;){var X=q.data,ee=j>X.length?X.length:j;if(ee===X.length?Q+=X:Q+=X.slice(0,j),(j-=ee)===0){ee===X.length?(++K,q.next?R.head=q.next:R.head=R.tail=null):(R.head=q,q.data=X.slice(ee));break}++K}return R.length-=K,Q}(W,J):function(j,R){var q=d.allocUnsafe(j),K=R.head,Q=1;for(K.data.copy(q),j-=K.data.length;K=K.next;){var X=K.data,ee=j>X.length?X.length:j;if(X.copy(q,q.length-j,0,ee),(j-=ee)===0){ee===X.length?(++Q,K.next?R.head=K.next:R.head=R.tail=null):(R.head=K,K.data=X.slice(ee));break}++Q}return R.length-=Q,q}(W,J),Y}(O,U.buffer,U.decoder),G);var G}function w(O){var U=O._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,u.nextTick(S,U,O))}function S(O,U){O.endEmitted||O.length!==0||(O.endEmitted=!0,U.readable=!1,U.emit("end"))}function N(O,U){for(var G=0,W=O.length;G<W;G++)if(O[G]===U)return G;return-1}D.prototype.read=function(O){p("read",O),O=parseInt(O,10);var U=this._readableState,G=O;if(O!==0&&(U.emittedReadable=!1),O===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return p("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?w(this):B(this),null;if((O=z(O,U))===0&&U.ended)return U.length===0&&w(this),null;var W,J=U.needReadable;return p("need readable",J),(U.length===0||U.length-O<U.highWaterMark)&&p("length less than watermark",J=!0),U.ended||U.reading?p("reading or ended",J=!1):J&&(p("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(O=z(G,U))),(W=O>0?_(O,U):null)===null?(U.needReadable=!0,O=0):U.length-=O,U.length===0&&(U.ended||(U.needReadable=!0),G!==O&&U.ended&&w(this)),W!==null&&this.emit("data",W),W},D.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(O,U){var G=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=O;break;case 1:W.pipes=[W.pipes,O];break;default:W.pipes.push(O)}W.pipesCount+=1,p("pipe count=%d opts=%j",W.pipesCount,U);var J=(!U||U.end!==!1)&&O!==i.stdout&&O!==i.stderr?Y:ie;function F(ae,Z){p("onunpipe"),ae===G&&Z&&Z.hasUnpiped===!1&&(Z.hasUnpiped=!0,p("cleanup"),O.removeListener("close",X),O.removeListener("finish",ee),O.removeListener("drain",j),O.removeListener("error",Q),O.removeListener("unpipe",F),G.removeListener("end",Y),G.removeListener("end",ie),G.removeListener("data",K),R=!0,!W.awaitDrain||O._writableState&&!O._writableState.needDrain||j())}function Y(){p("onend"),O.end()}W.endEmitted?u.nextTick(J):G.once("end",J),O.on("unpipe",F);var j=function(ae){return function(){var Z=ae._readableState;p("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&c(ae,"data")&&(Z.flowing=!0,b(ae))}}(G);O.on("drain",j);var R=!1,q=!1;function K(ae){p("ondata"),q=!1,O.write(ae)!==!1||q||((W.pipesCount===1&&W.pipes===O||W.pipesCount>1&&N(W.pipes,O)!==-1)&&!R&&(p("false write response, pause",W.awaitDrain),W.awaitDrain++,q=!0),G.pause())}function Q(ae){p("onerror",ae),ie(),O.removeListener("error",Q),c(O,"error")===0&&O.emit("error",ae)}function X(){O.removeListener("finish",ee),ie()}function ee(){p("onfinish"),O.removeListener("close",X),ie()}function ie(){p("unpipe"),G.unpipe(O)}return G.on("data",K),function(ae,Z,re){if(typeof ae.prependListener=="function")return ae.prependListener(Z,re);ae._events&&ae._events[Z]?s(ae._events[Z])?ae._events[Z].unshift(re):ae._events[Z]=[re,ae._events[Z]]:ae.on(Z,re)}(O,"error",Q),O.once("close",X),O.once("finish",ee),O.emit("pipe",G),W.flowing||(p("pipe resume"),G.resume()),O},D.prototype.unpipe=function(O){var U=this._readableState,G={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return O&&O!==U.pipes||(O||(O=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,O&&O.emit("unpipe",this,G)),this;if(!O){var W=U.pipes,J=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var F=0;F<J;F++)W[F].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=N(U.pipes,O);return Y===-1||(U.pipes.splice(Y,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),O.emit("unpipe",this,G)),this},D.prototype.on=function(O,U){var G=h.prototype.on.call(this,O,U);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&B(this):u.nextTick(P,this))}return G},D.prototype.addListener=D.prototype.on,D.prototype.resume=function(){var O=this._readableState;return O.flowing||(p("resume"),O.flowing=!0,function(U,G){G.resumeScheduled||(G.resumeScheduled=!0,u.nextTick(C,U,G))}(this,O)),this},D.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(O){var U=this,G=this._readableState,W=!1;for(var J in O.on("end",function(){if(p("wrapped end"),G.decoder&&!G.ended){var Y=G.decoder.end();Y&&Y.length&&U.push(Y)}U.push(null)}),O.on("data",function(Y){p("wrapped data"),G.decoder&&(Y=G.decoder.write(Y)),G.objectMode&&Y==null||(G.objectMode||Y&&Y.length)&&(U.push(Y)||(W=!0,O.pause()))}),O)this[J]===void 0&&typeof O[J]=="function"&&(this[J]=function(Y){return function(){return O[Y].apply(O,arguments)}}(J));for(var F=0;F<k.length;F++)O.on(k[F],this.emit.bind(this,k[F]));return this._read=function(Y){p("wrapped _read",Y),W&&(W=!1,O.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=_}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,r,o){r.exports=l;var i=t("./_stream_duplex"),a=Object.create(t("core-util-is"));function u(h,d){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,d!=null&&this.push(d),g(h);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);i.call(this,h),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",s)}function s(){var h=this;typeof this._flush=="function"?this._flush(function(d,f){c(h,d,f)}):c(this,null,null)}function c(h,d,f){if(d)return h.emit("error",d);if(f!=null&&h.push(f),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}a.inherits=t("inherits"),a.inherits(l,i),l.prototype.push=function(h,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,h,d)},l.prototype._transform=function(h,d,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(h,d,f){var g=this._transformState;if(g.writecb=f,g.writechunk=h,g.writeencoding=d,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},l.prototype._read=function(h){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},l.prototype._destroy=function(h,d){var f=this;i.prototype._destroy.call(this,h,function(g){d(g),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,r,o){(function(i,a,u){(function(){var l=t("process-nextick-args");function s($){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(P,C,b){var _=P.entry;for(P.entry=null;_;){var w=_.callback;C.pendingcb--,w(b),_=_.next}C.corkedRequestsFree.next=P})(A,$)}}r.exports=I;var c,h=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?u:l.nextTick;I.WritableState=k;var d=Object.create(t("core-util-is"));d.inherits=t("inherits");var f={deprecate:t("util-deprecate")},g=t("./internal/streams/stream"),y=t("safe-buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,m=t("./internal/streams/destroy");function x(){}function k($,A){c=c||t("./_stream_duplex"),$=$||{};var P=A instanceof c;this.objectMode=!!$.objectMode,P&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var C=$.highWaterMark,b=$.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:P&&(b||b===0)?b:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=$.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(N,O){var U=N._writableState,G=U.sync,W=U.writecb;if(function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}(U),O)(function(F,Y,j,R,q){--Y.pendingcb,j?(l.nextTick(q,R),l.nextTick(H,F,Y),F._writableState.errorEmitted=!0,F.emit("error",R)):(q(R),F._writableState.errorEmitted=!0,F.emit("error",R),H(F,Y))})(N,U,G,O,W);else{var J=z(U);J||U.corked||U.bufferProcessing||!U.bufferedRequest||L(N,U),G?h(V,N,U,J,W):V(N,U,J,W)}})(A,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function I($){if(c=c||t("./_stream_duplex"),!(v.call(I,this)||this instanceof c))return new I($);this._writableState=new k($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),g.call(this)}function D($,A,P,C,b,_,w){A.writelen=C,A.writecb=w,A.writing=!0,A.sync=!0,P?$._writev(b,A.onwrite):$._write(b,_,A.onwrite),A.sync=!1}function V($,A,P,C){P||function(b,_){_.length===0&&_.needDrain&&(_.needDrain=!1,b.emit("drain"))}($,A),A.pendingcb--,C(),H($,A)}function L($,A){A.bufferProcessing=!0;var P=A.bufferedRequest;if($._writev&&P&&P.next){var C=A.bufferedRequestCount,b=new Array(C),_=A.corkedRequestsFree;_.entry=P;for(var w=0,S=!0;P;)b[w]=P,P.isBuf||(S=!1),P=P.next,w+=1;b.allBuffers=S,D($,A,!0,A.length,b,"",_.finish),A.pendingcb++,A.lastBufferedRequest=null,_.next?(A.corkedRequestsFree=_.next,_.next=null):A.corkedRequestsFree=new s(A),A.bufferedRequestCount=0}else{for(;P;){var N=P.chunk,O=P.encoding,U=P.callback;if(D($,A,!1,A.objectMode?1:N.length,N,O,U),P=P.next,A.bufferedRequestCount--,A.writing)break}P===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=P,A.bufferProcessing=!1}function z($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function B($,A){$._final(function(P){A.pendingcb--,P&&$.emit("error",P),A.prefinished=!0,$.emit("prefinish"),H($,A)})}function H($,A){var P=z(A);return P&&(function(C,b){b.prefinished||b.finalCalled||(typeof C._final=="function"?(b.pendingcb++,b.finalCalled=!0,l.nextTick(B,C,b)):(b.prefinished=!0,C.emit("prefinish")))}($,A),A.pendingcb===0&&(A.finished=!0,$.emit("finish"))),P}d.inherits(I,g),k.prototype.getBuffer=function(){for(var $=this.bufferedRequest,A=[];$;)A.push($),$=$.next;return A},function(){try{Object.defineProperty(k.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function($){return!!v.call(this,$)||this===I&&$&&$._writableState instanceof k}})):v=function($){return $ instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function($,A,P){var C,b=this._writableState,_=!1,w=!b.objectMode&&(C=$,y.isBuffer(C)||C instanceof p);return w&&!y.isBuffer($)&&($=function(S){return y.from(S)}($)),typeof A=="function"&&(P=A,A=null),w?A="buffer":A||(A=b.defaultEncoding),typeof P!="function"&&(P=x),b.ended?function(S,N){var O=new Error("write after end");S.emit("error",O),l.nextTick(N,O)}(this,P):(w||function(S,N,O,U){var G=!0,W=!1;return O===null?W=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||N.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(S.emit("error",W),l.nextTick(U,W),G=!1),G}(this,b,$,P))&&(b.pendingcb++,_=function(S,N,O,U,G,W){if(!O){var J=function(R,q,K){return R.objectMode||R.decodeStrings===!1||typeof q!="string"||(q=y.from(q,K)),q}(N,U,G);U!==J&&(O=!0,G="buffer",U=J)}var F=N.objectMode?1:U.length;N.length+=F;var Y=N.length<N.highWaterMark;if(Y||(N.needDrain=!0),N.writing||N.corked){var j=N.lastBufferedRequest;N.lastBufferedRequest={chunk:U,encoding:G,isBuf:O,callback:W,next:null},j?j.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else D(S,N,!1,F,U,G,W);return Y}(this,b,w,$,A,P)),_},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.bufferProcessing||!$.bufferedRequest||L(this,$))},I.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function($,A,P){P(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function($,A,P){var C=this._writableState;typeof $=="function"?(P=$,$=null,A=null):typeof A=="function"&&(P=A,A=null),$!=null&&this.write($,A),C.corked&&(C.corked=1,this.uncork()),C.ending||function(b,_,w){_.ending=!0,H(b,_),w&&(_.finished?l.nextTick(w):b.once("finish",w)),_.ended=!0,b.writable=!1}(this,C,P)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function($,A){this.end(),A($)}}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,r,o){var i=t("safe-buffer").Buffer,a=t("util");r.exports=function(){function u(){(function(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(l){var s={data:l,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},u.prototype.unshift=function(l){var s={data:l,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},u.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(l){if(this.length===0)return"";for(var s=this.head,c=""+s.data;s=s.next;)c+=l+s.data;return c},u.prototype.concat=function(l){if(this.length===0)return i.alloc(0);for(var s,c,h,d=i.allocUnsafe(l>>>0),f=this.head,g=0;f;)s=f.data,c=d,h=g,s.copy(c,h),g+=f.data.length,f=f.next;return d},u}(),a&&a.inspect&&a.inspect.custom&&(r.exports.prototype[a.inspect.custom]=function(){var u=a.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":520,util:188}],514:[function(t,r,o){var i=t("process-nextick-args");function a(u,l){u.emit("error",l)}r.exports={destroy:function(u,l){var s=this,c=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return c||h?(l?l(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,u)):i.nextTick(a,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(d){!l&&d?s._writableState?s._writableState.errorEmitted||(s._writableState.errorEmitted=!0,i.nextTick(a,s,d)):i.nextTick(a,s,d):l&&l(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,r,o){arguments[4][490][0].apply(o,arguments)},{dup:490,events:422}],516:[function(t,r,o){r.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,r,o){(o=r.exports=t("./lib/_stream_readable.js")).Stream=o,o.Readable=o,o.Writable=t("./lib/_stream_writable.js"),o.Duplex=t("./lib/_stream_duplex.js"),o.Transform=t("./lib/_stream_transform.js"),o.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,r,o){r.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,r,o){r.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,r,o){arguments[4][217][0].apply(o,arguments)},{buffer:220,dup:217}],521:[function(t,r,o){arguments[4][218][0].apply(o,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,r,o){arguments[4][218][0].apply(o,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,r,o){(function(i,a){(function(){var u=t("process/browser.js").nextTick,l=Function.prototype.apply,s=Array.prototype.slice,c={},h=0;function d(f,g){this._id=f,this._clearFn=g}o.setTimeout=function(){return new d(l.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new d(l.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(f){f.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(f,g){clearTimeout(f._idleTimeoutId),f._idleTimeout=g},o.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},o._unrefActive=o.active=function(f){clearTimeout(f._idleTimeoutId);var g=f._idleTimeout;g>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},g))},o.setImmediate=typeof i=="function"?i:function(f){var g=h++,y=!(arguments.length<2)&&s.call(arguments,1);return c[g]=!0,u(function(){c[g]&&(y?f.apply(null,y):f.call(null),o.clearImmediate(g))}),g},o.clearImmediate=typeof a=="function"?a:function(f){delete c[f]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,r,o){(function(i){(function(){function a(u){try{if(!i.localStorage)return!1}catch{return!1}var l=i.localStorage[u];return l!=null&&String(l).toLowerCase()==="true"}r.exports=function(u,l){if(a("noDeprecation"))return u;var s=!1;return function(){if(!s){if(a("throwDeprecation"))throw new Error(l);a("traceDeprecation")?console.trace(l):console.warn(l),s=!0}return u.apply(this,arguments)}}}).call(this)}).call(this,typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,r,o){typeof Object.create=="function"?r.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(i,a){i.super_=a;var u=function(){};u.prototype=a.prototype,i.prototype=new u,i.prototype.constructor=i}},{}],526:[function(t,r,o){r.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(t,r,o){(function(i,a){(function(){var u=/%[sdj%]/g;o.format=function(b){if(!k(b)){for(var _=[],w=0;w<arguments.length;w++)_.push(c(arguments[w]));return _.join(" ")}w=1;for(var S=arguments,N=S.length,O=String(b).replace(u,function(G){if(G==="%%")return"%";if(w>=N)return G;switch(G){case"%s":return String(S[w++]);case"%d":return Number(S[w++]);case"%j":try{return JSON.stringify(S[w++])}catch{return"[Circular]"}default:return G}}),U=S[w];w<N;U=S[++w])m(U)||!V(U)?O+=" "+U:O+=" "+c(U);return O},o.deprecate=function(b,_){if(I(a.process))return function(){return o.deprecate(b,_).apply(this,arguments)};if(i.noDeprecation===!0)return b;var w=!1;return function(){if(!w){if(i.throwDeprecation)throw new Error(_);i.traceDeprecation?console.trace(_):console.error(_),w=!0}return b.apply(this,arguments)}};var l,s={};function c(b,_){var w={seen:[],stylize:d};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),v(_)?w.showHidden=_:_&&o._extend(w,_),I(w.showHidden)&&(w.showHidden=!1),I(w.depth)&&(w.depth=2),I(w.colors)&&(w.colors=!1),I(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=h),f(w,b,w.depth)}function h(b,_){var w=c.styles[_];return w?"\x1B["+c.colors[w][0]+"m"+b+"\x1B["+c.colors[w][1]+"m":b}function d(b,_){return b}function f(b,_,w){if(b.customInspect&&_&&B(_.inspect)&&_.inspect!==o.inspect&&(!_.constructor||_.constructor.prototype!==_)){var S=_.inspect(w,b);return k(S)||(S=f(b,S,w)),S}var N=function(j,R){if(I(R))return j.stylize("undefined","undefined");if(k(R)){var q="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return j.stylize(q,"string")}if(x(R))return j.stylize(""+R,"number");if(v(R))return j.stylize(""+R,"boolean");if(m(R))return j.stylize("null","null")}(b,_);if(N)return N;var O=Object.keys(_),U=function(j){var R={};return j.forEach(function(q,K){R[q]=!0}),R}(O);if(b.showHidden&&(O=Object.getOwnPropertyNames(_)),z(_)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return g(_);if(O.length===0){if(B(_)){var G=_.name?": "+_.name:"";return b.stylize("[Function"+G+"]","special")}if(D(_))return b.stylize(RegExp.prototype.toString.call(_),"regexp");if(L(_))return b.stylize(Date.prototype.toString.call(_),"date");if(z(_))return g(_)}var W,J="",F=!1,Y=["{","}"];return p(_)&&(F=!0,Y=["[","]"]),B(_)&&(J=" [Function"+(_.name?": "+_.name:"")+"]"),D(_)&&(J=" "+RegExp.prototype.toString.call(_)),L(_)&&(J=" "+Date.prototype.toUTCString.call(_)),z(_)&&(J=" "+g(_)),O.length!==0||F&&_.length!=0?w<0?D(_)?b.stylize(RegExp.prototype.toString.call(_),"regexp"):b.stylize("[Object]","special"):(b.seen.push(_),W=F?function(j,R,q,K,Q){for(var X=[],ee=0,ie=R.length;ee<ie;++ee)C(R,String(ee))?X.push(y(j,R,q,K,String(ee),!0)):X.push("");return Q.forEach(function(ae){ae.match(/^\d+$/)||X.push(y(j,R,q,K,ae,!0))}),X}(b,_,w,U,O):O.map(function(j){return y(b,_,w,U,j,F)}),b.seen.pop(),function(j,R,q){return j.reduce(function(K,Q){return Q.indexOf(`
`)>=0,K+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?q[0]+(R===""?"":R+`
 `)+" "+j.join(`,
  `)+" "+q[1]:q[0]+R+" "+j.join(", ")+" "+q[1]}(W,J,Y)):Y[0]+J+Y[1]}function g(b){return"["+Error.prototype.toString.call(b)+"]"}function y(b,_,w,S,N,O){var U,G,W;if((W=Object.getOwnPropertyDescriptor(_,N)||{value:_[N]}).get?G=W.set?b.stylize("[Getter/Setter]","special"):b.stylize("[Getter]","special"):W.set&&(G=b.stylize("[Setter]","special")),C(S,N)||(U="["+N+"]"),G||(b.seen.indexOf(W.value)<0?(G=m(w)?f(b,W.value,null):f(b,W.value,w-1)).indexOf(`
`)>-1&&(G=O?G.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+G.split(`
`).map(function(J){return"   "+J}).join(`
`)):G=b.stylize("[Circular]","special")),I(U)){if(O&&N.match(/^\d+$/))return G;(U=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=b.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=b.stylize(U,"string"))}return U+": "+G}function p(b){return Array.isArray(b)}function v(b){return typeof b=="boolean"}function m(b){return b===null}function x(b){return typeof b=="number"}function k(b){return typeof b=="string"}function I(b){return b===void 0}function D(b){return V(b)&&H(b)==="[object RegExp]"}function V(b){return typeof b=="object"&&b!==null}function L(b){return V(b)&&H(b)==="[object Date]"}function z(b){return V(b)&&(H(b)==="[object Error]"||b instanceof Error)}function B(b){return typeof b=="function"}function H(b){return Object.prototype.toString.call(b)}function $(b){return b<10?"0"+b.toString(10):b.toString(10)}o.debuglog=function(b){if(I(l)&&(l=i.env.NODE_DEBUG||""),b=b.toUpperCase(),!s[b])if(new RegExp("\\b"+b+"\\b","i").test(l)){var _=i.pid;s[b]=function(){var w=o.format.apply(o,arguments);console.error("%s %d: %s",b,_,w)}}else s[b]=function(){};return s[b]},o.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=p,o.isBoolean=v,o.isNull=m,o.isNullOrUndefined=function(b){return b==null},o.isNumber=x,o.isString=k,o.isSymbol=function(b){return typeof b=="symbol"},o.isUndefined=I,o.isRegExp=D,o.isObject=V,o.isDate=L,o.isError=z,o.isFunction=B,o.isPrimitive=function(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||b===void 0},o.isBuffer=t("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var b=new Date,_=[$(b.getHours()),$(b.getMinutes()),$(b.getSeconds())].join(":");return[b.getDate(),A[b.getMonth()],_].join(" ")}function C(b,_){return Object.prototype.hasOwnProperty.call(b,_)}o.log=function(){console.log("%s - %s",P(),o.format.apply(o,arguments))},o.inherits=t("inherits"),o._extend=function(b,_){if(!_||!V(_))return b;for(var w=Object.keys(_),S=w.length;S--;)b[w[S]]=_[w[S]];return b}}).call(this)}).call(this,t("_process"),typeof ht<"u"?ht:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(o,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(o,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(o,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(o,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(o,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(o,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(o,"parse",{enumerable:!0,get:function(){return f.default}});var i=g(t("./v1.js")),a=g(t("./v3.js")),u=g(t("./v4.js")),l=g(t("./v5.js")),s=g(t("./nil.js")),c=g(t("./version.js")),h=g(t("./validate.js")),d=g(t("./stringify.js")),f=g(t("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,r,o){function i(f){return 14+(f+64>>>9<<4)+1}function a(f,g){const y=(65535&f)+(65535&g);return(f>>16)+(g>>16)+(y>>16)<<16|65535&y}function u(f,g,y,p,v,m){return a((x=a(a(g,f),a(p,m)))<<(k=v)|x>>>32-k,y);var x,k}function l(f,g,y,p,v,m,x){return u(g&y|~g&p,f,g,v,m,x)}function s(f,g,y,p,v,m,x){return u(g&p|y&~p,f,g,v,m,x)}function c(f,g,y,p,v,m,x){return u(g^y^p,f,g,v,m,x)}function h(f,g,y,p,v,m,x){return u(y^(g|~p),f,g,v,m,x)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var d=function(f){if(typeof f=="string"){const g=unescape(encodeURIComponent(f));f=new Uint8Array(g.length);for(let y=0;y<g.length;++y)f[y]=g.charCodeAt(y)}return function(g){const y=[],p=32*g.length;for(let v=0;v<p;v+=8){const m=g[v>>5]>>>v%32&255,x=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);y.push(x)}return y}(function(g,y){g[y>>5]|=128<<y%32,g[i(y)-1]=y;let p=1732584193,v=-271733879,m=-1732584194,x=271733878;for(let k=0;k<g.length;k+=16){const I=p,D=v,V=m,L=x;p=l(p,v,m,x,g[k],7,-680876936),x=l(x,p,v,m,g[k+1],12,-389564586),m=l(m,x,p,v,g[k+2],17,606105819),v=l(v,m,x,p,g[k+3],22,-1044525330),p=l(p,v,m,x,g[k+4],7,-176418897),x=l(x,p,v,m,g[k+5],12,1200080426),m=l(m,x,p,v,g[k+6],17,-1473231341),v=l(v,m,x,p,g[k+7],22,-45705983),p=l(p,v,m,x,g[k+8],7,1770035416),x=l(x,p,v,m,g[k+9],12,-1958414417),m=l(m,x,p,v,g[k+10],17,-42063),v=l(v,m,x,p,g[k+11],22,-1990404162),p=l(p,v,m,x,g[k+12],7,1804603682),x=l(x,p,v,m,g[k+13],12,-40341101),m=l(m,x,p,v,g[k+14],17,-1502002290),v=l(v,m,x,p,g[k+15],22,1236535329),p=s(p,v,m,x,g[k+1],5,-165796510),x=s(x,p,v,m,g[k+6],9,-1069501632),m=s(m,x,p,v,g[k+11],14,643717713),v=s(v,m,x,p,g[k],20,-373897302),p=s(p,v,m,x,g[k+5],5,-701558691),x=s(x,p,v,m,g[k+10],9,38016083),m=s(m,x,p,v,g[k+15],14,-660478335),v=s(v,m,x,p,g[k+4],20,-405537848),p=s(p,v,m,x,g[k+9],5,568446438),x=s(x,p,v,m,g[k+14],9,-1019803690),m=s(m,x,p,v,g[k+3],14,-187363961),v=s(v,m,x,p,g[k+8],20,1163531501),p=s(p,v,m,x,g[k+13],5,-1444681467),x=s(x,p,v,m,g[k+2],9,-51403784),m=s(m,x,p,v,g[k+7],14,1735328473),v=s(v,m,x,p,g[k+12],20,-1926607734),p=c(p,v,m,x,g[k+5],4,-378558),x=c(x,p,v,m,g[k+8],11,-2022574463),m=c(m,x,p,v,g[k+11],16,1839030562),v=c(v,m,x,p,g[k+14],23,-35309556),p=c(p,v,m,x,g[k+1],4,-1530992060),x=c(x,p,v,m,g[k+4],11,1272893353),m=c(m,x,p,v,g[k+7],16,-155497632),v=c(v,m,x,p,g[k+10],23,-1094730640),p=c(p,v,m,x,g[k+13],4,681279174),x=c(x,p,v,m,g[k],11,-358537222),m=c(m,x,p,v,g[k+3],16,-722521979),v=c(v,m,x,p,g[k+6],23,76029189),p=c(p,v,m,x,g[k+9],4,-640364487),x=c(x,p,v,m,g[k+12],11,-421815835),m=c(m,x,p,v,g[k+15],16,530742520),v=c(v,m,x,p,g[k+2],23,-995338651),p=h(p,v,m,x,g[k],6,-198630844),x=h(x,p,v,m,g[k+7],10,1126891415),m=h(m,x,p,v,g[k+14],15,-1416354905),v=h(v,m,x,p,g[k+5],21,-57434055),p=h(p,v,m,x,g[k+12],6,1700485571),x=h(x,p,v,m,g[k+3],10,-1894986606),m=h(m,x,p,v,g[k+10],15,-1051523),v=h(v,m,x,p,g[k+1],21,-2054922799),p=h(p,v,m,x,g[k+8],6,1873313359),x=h(x,p,v,m,g[k+15],10,-30611744),m=h(m,x,p,v,g[k+6],15,-1560198380),v=h(v,m,x,p,g[k+13],21,1309151649),p=h(p,v,m,x,g[k+4],6,-145523070),x=h(x,p,v,m,g[k+11],10,-1120210379),m=h(m,x,p,v,g[k+2],15,718787259),v=h(v,m,x,p,g[k+9],21,-343485551),p=a(p,I),v=a(v,D),m=a(m,V),x=a(x,L)}return[p,v,m,x]}(function(g){if(g.length===0)return[];const y=8*g.length,p=new Uint32Array(i(y));for(let v=0;v<y;v+=8)p[v>>5]|=(255&g[v/8])<<v%32;return p}(f),8*f.length))};o.default=d},{}],530:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i},u=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");let s;const c=new Uint8Array(16);return c[0]=(s=parseInt(l.slice(0,8),16))>>>24,c[1]=s>>>16&255,c[2]=s>>>8&255,c[3]=255&s,c[4]=(s=parseInt(l.slice(9,13),16))>>>8,c[5]=255&s,c[6]=(s=parseInt(l.slice(14,18),16))>>>8,c[7]=255&s,c[8]=(s=parseInt(l.slice(19,23),16))>>>8,c[9]=255&s,c[10]=(s=parseInt(l.slice(24,36),16))/1099511627776&255,c[11]=s/4294967296&255,c[12]=s>>>24&255,c[13]=s>>>16&255,c[14]=s>>>8&255,c[15]=255&s,c};o.default=u},{"./validate.js":541}],532:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,r,o){let i;Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(t,r,o){function i(l,s,c,h){switch(l){case 0:return s&c^~s&h;case 1:return s^c^h;case 2:return s&c^s&h^c&h;case 3:return s^c^h}}function a(l,s){return l<<s|l>>>32-s}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var u=function(l){const s=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const g=unescape(encodeURIComponent(l));l=[];for(let y=0;y<g.length;++y)l.push(g.charCodeAt(y))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const h=l.length/4+2,d=Math.ceil(h/16),f=new Array(d);for(let g=0;g<d;++g){const y=new Uint32Array(16);for(let p=0;p<16;++p)y[p]=l[64*g+4*p]<<24|l[64*g+4*p+1]<<16|l[64*g+4*p+2]<<8|l[64*g+4*p+3];f[g]=y}f[d-1][14]=8*(l.length-1)/Math.pow(2,32),f[d-1][14]=Math.floor(f[d-1][14]),f[d-1][15]=8*(l.length-1)&4294967295;for(let g=0;g<d;++g){const y=new Uint32Array(80);for(let I=0;I<16;++I)y[I]=f[g][I];for(let I=16;I<80;++I)y[I]=a(y[I-3]^y[I-8]^y[I-14]^y[I-16],1);let p=c[0],v=c[1],m=c[2],x=c[3],k=c[4];for(let I=0;I<80;++I){const D=Math.floor(I/20),V=a(p,5)+i(D,v,m,x)+k+s[D]+y[I]>>>0;k=x,x=m,m=a(v,30)>>>0,v=p,p=V}c[0]=c[0]+p>>>0,c[1]=c[1]+v>>>0,c[2]=c[2]+m>>>0,c[3]=c[3]+x>>>0,c[4]=c[4]+k>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};o.default=u},{}],535:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i};const u=[];for(let s=0;s<256;++s)u.push((s+256).toString(16).substr(1));var l=function(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(u[s[c+0]]+u[s[c+1]]+u[s[c+2]]+u[s[c+3]]+"-"+u[s[c+4]]+u[s[c+5]]+"-"+u[s[c+6]]+u[s[c+7]]+"-"+u[s[c+8]]+u[s[c+9]]+"-"+u[s[c+10]]+u[s[c+11]]+u[s[c+12]]+u[s[c+13]]+u[s[c+14]]+u[s[c+15]]).toLowerCase();if(!(0,a.default)(h))throw TypeError("Stringified UUID is invalid");return h};o.default=l},{"./validate.js":541}],536:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=u(t("./rng.js")),a=u(t("./stringify.js"));function u(f){return f&&f.__esModule?f:{default:f}}let l,s,c=0,h=0;var d=function(f,g,y){let p=g&&y||0;const v=g||new Array(16);let m=(f=f||{}).node||l,x=f.clockseq!==void 0?f.clockseq:s;if(m==null||x==null){const z=f.random||(f.rng||i.default)();m==null&&(m=l=[1|z[0],z[1],z[2],z[3],z[4],z[5]]),x==null&&(x=s=16383&(z[6]<<8|z[7]))}let k=f.msecs!==void 0?f.msecs:Date.now(),I=f.nsecs!==void 0?f.nsecs:h+1;const D=k-c+(I-h)/1e4;if(D<0&&f.clockseq===void 0&&(x=x+1&16383),(D<0||k>c)&&f.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=k,h=I,s=x,k+=122192928e5;const V=(1e4*(268435455&k)+I)%4294967296;v[p++]=V>>>24&255,v[p++]=V>>>16&255,v[p++]=V>>>8&255,v[p++]=255&V;const L=k/4294967296*1e4&268435455;v[p++]=L>>>8&255,v[p++]=255&L,v[p++]=L>>>24&15|16,v[p++]=L>>>16&255,v[p++]=x>>>8|128,v[p++]=255&x;for(let z=0;z<6;++z)v[p+z]=m[z];return g||(0,a.default)(v)};o.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=u(t("./v35.js")),a=u(t("./md5.js"));function u(s){return s&&s.__esModule?s:{default:s}}var l=(0,i.default)("v3",48,a.default);o.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(c,h,d){function f(g,y,p,v){if(typeof g=="string"&&(g=function(x){x=unescape(encodeURIComponent(x));const k=[];for(let I=0;I<x.length;++I)k.push(x.charCodeAt(I));return k}(g)),typeof y=="string"&&(y=(0,a.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+g.length);if(m.set(y),m.set(g,y.length),m=d(m),m[6]=15&m[6]|h,m[8]=63&m[8]|128,p){v=v||0;for(let x=0;x<16;++x)p[v+x]=m[x];return p}return(0,i.default)(m)}try{f.name=c}catch{}return f.DNS=l,f.URL=s,f},o.URL=o.DNS=void 0;var i=u(t("./stringify.js")),a=u(t("./parse.js"));function u(c){return c&&c.__esModule?c:{default:c}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";o.DNS=l;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";o.URL=s},{"./parse.js":531,"./stringify.js":535}],539:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=u(t("./rng.js")),a=u(t("./stringify.js"));function u(s){return s&&s.__esModule?s:{default:s}}var l=function(s,c,h){const d=(s=s||{}).random||(s.rng||i.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,c){h=h||0;for(let f=0;f<16;++f)c[h+f]=d[f];return c}return(0,a.default)(d)};o.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=u(t("./v35.js")),a=u(t("./sha1.js"));function u(s){return s&&s.__esModule?s:{default:s}}var l=(0,i.default)("v5",80,a.default);o.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i,a=(i=t("./regex.js"))&&i.__esModule?i:{default:i},u=function(l){return typeof l=="string"&&a.default.test(l)};o.default=u},{"./regex.js":532}],542:[function(t,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i},u=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};o.default=u},{"./validate.js":541}],543:[function(t,r,o){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(o,"__esModule",{value:!0}),o.CHAR=`	
\r ---`,o.S=` 	\r
`,o.NAME_START_CHAR=":A-Z_a-z-----------",o.NAME_CHAR="-"+o.NAME_START_CHAR+".0-9--",o.CHAR_RE=new RegExp("^["+o.CHAR+"]$","u"),o.S_RE=new RegExp("^["+o.S+"]+$","u"),o.NAME_START_CHAR_RE=new RegExp("^["+o.NAME_START_CHAR+"]$","u"),o.NAME_CHAR_RE=new RegExp("^["+o.NAME_CHAR+"]$","u"),o.NAME_RE=new RegExp("^["+o.NAME_START_CHAR+"]["+o.NAME_CHAR+"]*$","u"),o.NMTOKEN_RE=new RegExp("^["+o.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}o.S_LIST=[32,10,13,9],o.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},o.isS=function(a){return a===32||a===10||a===13||a===9},o.isNameStartChar=i,o.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(t,r,o){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(o,"__esModule",{value:!0}),o.CHAR="---",o.RESTRICTED_CHAR="-\b\v\f---",o.S=` 	\r
`,o.NAME_START_CHAR=":A-Z_a-z-----------",o.NAME_CHAR="-"+o.NAME_START_CHAR+".0-9--",o.CHAR_RE=new RegExp("^["+o.CHAR+"]$","u"),o.RESTRICTED_CHAR_RE=new RegExp("^["+o.RESTRICTED_CHAR+"]$","u"),o.S_RE=new RegExp("^["+o.S+"]+$","u"),o.NAME_START_CHAR_RE=new RegExp("^["+o.NAME_START_CHAR+"]$","u"),o.NAME_CHAR_RE=new RegExp("^["+o.NAME_CHAR+"]$","u"),o.NAME_RE=new RegExp("^["+o.NAME_START_CHAR+"]["+o.NAME_CHAR+"]*$","u"),o.NMTOKEN_RE=new RegExp("^["+o.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}o.S_LIST=[32,10,13,9],o.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},o.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},o.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},o.isS=function(a){return a===32||a===10||a===13||a===9},o.isNameStartChar=i,o.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(t,r,o){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(o,"__esModule",{value:!0}),o.NC_NAME_START_CHAR="A-Z_a-z------------",o.NC_NAME_CHAR="-"+o.NC_NAME_START_CHAR+".0-9--",o.NC_NAME_START_CHAR_RE=new RegExp("^["+o.NC_NAME_START_CHAR+"]$","u"),o.NC_NAME_CHAR_RE=new RegExp("^["+o.NC_NAME_CHAR+"]$","u"),o.NC_NAME_RE=new RegExp("^["+o.NC_NAME_START_CHAR+"]["+o.NC_NAME_CHAR+"]*$","u"),o.isNCNameStartChar=i,o.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)})})(c1);var Q5=c1.exports,St;(function(n){n.assertEqual=o=>{};function e(o){}n.assertIs=e;function t(o){throw new Error}n.assertNever=t,n.arrayToEnum=o=>{const i={};for(const a of o)i[a]=a;return i},n.getValidEnumValues=o=>{const i=n.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),a={};for(const u of i)a[u]=o[u];return n.objectValues(a)},n.objectValues=o=>n.objectKeys(o).map(function(i){return o[i]}),n.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},n.find=(o,i)=>{for(const a of o)if(i(a))return a},n.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(St||(St={}));var Fp;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Fp||(Fp={}));const Oe=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vr=n=>{switch(typeof n){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(n)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(n)?Oe.array:n===null?Oe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Oe.promise:typeof Map<"u"&&n instanceof Map?Oe.map:typeof Set<"u"&&n instanceof Set?Oe.set:typeof Date<"u"&&n instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},xe=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ir extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},r={_errors:[]},o=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let u=r,l=0;for(;l<a.path.length;){const s=a.path[l];l===a.path.length-1?(u[s]=u[s]||{_errors:[]},u[s]._errors.push(t(a))):u[s]=u[s]||{_errors:[]},u=u[s],l++}}};return o(this),r}static assert(e){if(!(e instanceof Ir))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const o of this.issues)if(o.path.length>0){const i=o.path[0];t[i]=t[i]||[],t[i].push(e(o))}else r.push(e(o));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ir.create=n=>new Ir(n);const e8=(n,e)=>{let t;switch(n.code){case xe.invalid_type:n.received===Oe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case xe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,St.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:t=`Unrecognized key(s) in object: ${St.joinValues(n.keys,", ")}`;break;case xe.invalid_union:t="Invalid input";break;case xe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${St.joinValues(n.options)}`;break;case xe.invalid_enum_value:t=`Invalid enum value. Expected ${St.joinValues(n.options)}, received '${n.received}'`;break;case xe.invalid_arguments:t="Invalid function arguments";break;case xe.invalid_return_type:t="Invalid function return type";break;case xe.invalid_date:t="Invalid date";break;case xe.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:St.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case xe.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case xe.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case xe.custom:t="Invalid input";break;case xe.invalid_intersection_types:t="Intersection results could not be merged";break;case xe.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case xe.not_finite:t="Number must be finite";break;default:t=e.defaultError,St.assertNever(n)}return{message:t}},Tc=e8;let t8=Tc;function n8(){return t8}const r8=n=>{const{data:e,path:t,errorMaps:r,issueData:o}=n,i=[...t,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let u="";const l=r.filter(s=>!!s).slice().reverse();for(const s of l)u=s(a,{data:e,defaultError:u}).message;return{...o,path:i,message:u}};function Pe(n,e){const t=n8(),r=r8({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Tc?void 0:Tc].filter(o=>!!o)});n.common.issues.push(r)}class Fn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const o of t){if(o.status==="aborted")return nt;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const o of t){const i=await o.key,a=await o.value;r.push({key:i,value:a})}return Fn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const o of t){const{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return nt;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const nt=Object.freeze({status:"aborted"}),Gs=n=>({status:"dirty",value:n}),Jn=n=>({status:"valid",value:n}),Bp=n=>n.status==="aborted",Up=n=>n.status==="dirty",vs=n=>n.status==="valid",al=n=>typeof Promise<"u"&&n instanceof Promise;var Be;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Be||(Be={}));class ui{constructor(e,t,r,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zp=(n,e)=>{if(vs(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ir(n.common.issues);return this._error=t,this._error}}};function ut(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:o}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(a,u)=>{const{message:l}=n;return a.code==="invalid_enum_value"?{message:l??u.defaultError}:typeof u.data>"u"?{message:l??r??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:l??t??u.defaultError}},description:o}}class xt{get description(){return this._def.description}_getType(e){return Vr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Vr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fn,ctx:{common:e.parent.common,data:e.data,parsedType:Vr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(al(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vr(e)},o=this._parseSync({data:e,path:r.path,parent:r});return zp(r,o)}"~validate"(e){var r,o;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return vs(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(o=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>vs(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vr(e)},o=this._parse({data:e,path:r.path,parent:r}),i=await(al(o)?o:Promise.resolve(o));return zp(r,i)}refine(e,t){const r=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,i)=>{const a=e(o),u=()=>i.addIssue({code:xe.custom,...r(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof t=="function"?t(r,o):t),!1))}_refinement(e){return new ws({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return si.create(this,this._def)}nullable(){return _s.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mr.create(this)}promise(){return dl.create(this,this._def)}or(e){return ul.create([this,e],this._def)}and(e){return cl.create(this,e,this._def)}transform(e){return new ws({...ut(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Nc({...ut(this._def),innerType:this,defaultValue:t,typeName:rt.ZodDefault})}brand(){return new T8({typeName:rt.ZodBranded,type:this,...ut(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ac({...ut(this._def),innerType:this,catchValue:t,typeName:rt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ud.create(this,e)}readonly(){return Ic.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const i8=/^c[^\s-]{8,}$/i,s8=/^[0-9a-z]+$/,o8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,a8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,l8=/^[a-z0-9_-]{21}$/i,u8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,c8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bu;const h8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,m8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,g8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,y8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,v8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,d1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",b8=new RegExp(`^${d1}$`);function f1(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function x8(n){return new RegExp(`^${f1(n)}$`)}function w8(n){let e=`${d1}T${f1(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function _8(n,e){return!!((e==="v4"||!e)&&h8.test(n)||(e==="v6"||!e)&&m8.test(n))}function S8(n,e){if(!u8.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function k8(n,e){return!!((e==="v4"||!e)&&p8.test(n)||(e==="v6"||!e)&&g8.test(n))}class Yr extends xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Oe.string){const i=this._getOrReturnCtx(e);return Pe(i,{code:xe.invalid_type,expected:Oe.string,received:i.parsedType}),nt}const r=new Fn;let o;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,u=e.data.length<i.value;(a||u)&&(o=this._getOrReturnCtx(e,o),a?Pe(o,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&Pe(o,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")d8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"email",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")bu||(bu=new RegExp(f8,"u")),bu.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"emoji",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")a8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"uuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")l8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"nanoid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")i8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"cuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")s8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"cuid2",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")o8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"ulid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),Pe(o,{validation:"url",code:xe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"regex",code:xe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?w8(i).test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?b8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?x8(i).test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?c8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"duration",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?_8(e.data,i.version)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"ip",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?S8(e.data,i.alg)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"jwt",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?k8(e.data,i.version)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"cidr",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?y8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"base64",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?v8.test(e.data)||(o=this._getOrReturnCtx(e,o),Pe(o,{validation:"base64url",code:xe.invalid_string,message:i.message}),r.dirty()):St.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(o=>e.test(o),{validation:t,code:xe.invalid_string,...Be.errToObj(r)})}_addCheck(e){return new Yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Be.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Be.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Be.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Be.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Be.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Be.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Be.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Be.errToObj(t)})}nonempty(e){return this.min(1,Be.errToObj(e))}trim(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Yr.create=n=>new Yr({checks:[],typeName:rt.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...ut(n)});function C8(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=t>r?t:r,i=Number.parseInt(n.toFixed(o).replace(".","")),a=Number.parseInt(e.toFixed(o).replace(".",""));return i%a/10**o}class bs extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Oe.number){const i=this._getOrReturnCtx(e);return Pe(i,{code:xe.invalid_type,expected:Oe.number,received:i.parsedType}),nt}let r;const o=new Fn;for(const i of this._def.checks)i.kind==="int"?St.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?C8(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.not_finite,message:i.message}),o.dirty()):St.assertNever(i);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Be.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Be.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Be.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Be.toString(t))}setLimit(e,t,r,o){return new bs({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Be.toString(o)}]})}_addCheck(e){return new bs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&St.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}bs.create=n=>new bs({checks:[],typeName:rt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ut(n)});class Co extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Oe.bigint)return this._getInvalidInput(e);let r;const o=new Fn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):St.assertNever(i);return{status:o.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Pe(t,{code:xe.invalid_type,expected:Oe.bigint,received:t.parsedType}),nt}gte(e,t){return this.setLimit("min",e,!0,Be.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Be.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Be.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Be.toString(t))}setLimit(e,t,r,o){return new Co({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Be.toString(o)}]})}_addCheck(e){return new Co({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Co.create=n=>new Co({checks:[],typeName:rt.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...ut(n)});class Vp extends xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Oe.boolean){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Oe.boolean,received:r.parsedType}),nt}return Jn(e.data)}}Vp.create=n=>new Vp({typeName:rt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ut(n)});class ll extends xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Oe.date){const i=this._getOrReturnCtx(e);return Pe(i,{code:xe.invalid_type,expected:Oe.date,received:i.parsedType}),nt}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Pe(i,{code:xe.invalid_date}),nt}const r=new Fn;let o;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),Pe(o,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):St.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ll({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Be.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Be.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ll.create=n=>new ll({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:rt.ZodDate,...ut(n)});class $p extends xt{_parse(e){if(this._getType(e)!==Oe.symbol){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Oe.symbol,received:r.parsedType}),nt}return Jn(e.data)}}$p.create=n=>new $p({typeName:rt.ZodSymbol,...ut(n)});class Hp extends xt{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Oe.undefined,received:r.parsedType}),nt}return Jn(e.data)}}Hp.create=n=>new Hp({typeName:rt.ZodUndefined,...ut(n)});class qp extends xt{_parse(e){if(this._getType(e)!==Oe.null){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Oe.null,received:r.parsedType}),nt}return Jn(e.data)}}qp.create=n=>new qp({typeName:rt.ZodNull,...ut(n)});class Gp extends xt{constructor(){super(...arguments),this._any=!0}_parse(e){return Jn(e.data)}}Gp.create=n=>new Gp({typeName:rt.ZodAny,...ut(n)});class Wp extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jn(e.data)}}Wp.create=n=>new Wp({typeName:rt.ZodUnknown,...ut(n)});class ci extends xt{_parse(e){const t=this._getOrReturnCtx(e);return Pe(t,{code:xe.invalid_type,expected:Oe.never,received:t.parsedType}),nt}}ci.create=n=>new ci({typeName:rt.ZodNever,...ut(n)});class Yp extends xt{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Oe.void,received:r.parsedType}),nt}return Jn(e.data)}}Yp.create=n=>new Yp({typeName:rt.ZodVoid,...ut(n)});class mr extends xt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),o=this._def;if(t.parsedType!==Oe.array)return Pe(t,{code:xe.invalid_type,expected:Oe.array,received:t.parsedType}),nt;if(o.exactLength!==null){const a=t.data.length>o.exactLength.value,u=t.data.length<o.exactLength.value;(a||u)&&(Pe(t,{code:a?xe.too_big:xe.too_small,minimum:u?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(Pe(t,{code:xe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(Pe(t,{code:xe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,u)=>o.type._parseAsync(new ui(t,a,t.path,u)))).then(a=>Fn.mergeArray(r,a));const i=[...t.data].map((a,u)=>o.type._parseSync(new ui(t,a,t.path,u)));return Fn.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new mr({...this._def,minLength:{value:e,message:Be.toString(t)}})}max(e,t){return new mr({...this._def,maxLength:{value:e,message:Be.toString(t)}})}length(e,t){return new mr({...this._def,exactLength:{value:e,message:Be.toString(t)}})}nonempty(e){return this.min(1,e)}}mr.create=(n,e)=>new mr({type:n,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ut(e)});function Ui(n){if(n instanceof Wt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=si.create(Ui(r))}return new Wt({...n._def,shape:()=>e})}else return n instanceof mr?new mr({...n._def,type:Ui(n.element)}):n instanceof si?si.create(Ui(n.unwrap())):n instanceof _s?_s.create(Ui(n.unwrap())):n instanceof Ni?Ni.create(n.items.map(e=>Ui(e))):n}class Wt extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=St.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Oe.object){const s=this._getOrReturnCtx(e);return Pe(s,{code:xe.invalid_type,expected:Oe.object,received:s.parsedType}),nt}const{status:r,ctx:o}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof ci&&this._def.unknownKeys==="strip"))for(const s in o.data)a.includes(s)||u.push(s);const l=[];for(const s of a){const c=i[s],h=o.data[s];l.push({key:{status:"valid",value:s},value:c._parse(new ui(o,h,o.path,s)),alwaysSet:s in o.data})}if(this._def.catchall instanceof ci){const s=this._def.unknownKeys;if(s==="passthrough")for(const c of u)l.push({key:{status:"valid",value:c},value:{status:"valid",value:o.data[c]}});else if(s==="strict")u.length>0&&(Pe(o,{code:xe.unrecognized_keys,keys:u}),r.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const s=this._def.catchall;for(const c of u){const h=o.data[c];l.push({key:{status:"valid",value:c},value:s._parse(new ui(o,h,o.path,c)),alwaysSet:c in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const s=[];for(const c of l){const h=await c.key,d=await c.value;s.push({key:h,value:d,alwaysSet:c.alwaysSet})}return s}).then(s=>Fn.mergeObjectSync(r,s)):Fn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Be.errToObj,new Wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,a;const o=((a=(i=this._def).errorMap)==null?void 0:a.call(i,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:Be.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Wt({...this._def,unknownKeys:"strip"})}passthrough(){return new Wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Wt({...this._def,catchall:e})}pick(e){const t={};for(const r of St.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Wt({...this._def,shape:()=>t})}omit(e){const t={};for(const r of St.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Wt({...this._def,shape:()=>t})}deepPartial(){return Ui(this)}partial(e){const t={};for(const r of St.objectKeys(this.shape)){const o=this.shape[r];e&&!e[r]?t[r]=o:t[r]=o.optional()}return new Wt({...this._def,shape:()=>t})}required(e){const t={};for(const r of St.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof si;)i=i._def.innerType;t[r]=i}return new Wt({...this._def,shape:()=>t})}keyof(){return h1(St.objectKeys(this.shape))}}Wt.create=(n,e)=>new Wt({shape:()=>n,unknownKeys:"strip",catchall:ci.create(),typeName:rt.ZodObject,...ut(e)});Wt.strictCreate=(n,e)=>new Wt({shape:()=>n,unknownKeys:"strict",catchall:ci.create(),typeName:rt.ZodObject,...ut(e)});Wt.lazycreate=(n,e)=>new Wt({shape:n,unknownKeys:"strip",catchall:ci.create(),typeName:rt.ZodObject,...ut(e)});class ul extends xt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function o(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const a=i.map(u=>new Ir(u.ctx.common.issues));return Pe(t,{code:xe.invalid_union,unionErrors:a}),nt}if(t.common.async)return Promise.all(r.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(o);{let i;const a=[];for(const l of r){const s={...t,common:{...t.common,issues:[]},parent:null},c=l._parseSync({data:t.data,path:t.path,parent:s});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:s}),s.common.issues.length&&a.push(s.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const u=a.map(l=>new Ir(l));return Pe(t,{code:xe.invalid_union,unionErrors:u}),nt}}get options(){return this._def.options}}ul.create=(n,e)=>new ul({options:n,typeName:rt.ZodUnion,...ut(e)});function Ec(n,e){const t=Vr(n),r=Vr(e);if(n===e)return{valid:!0,data:n};if(t===Oe.object&&r===Oe.object){const o=St.objectKeys(e),i=St.objectKeys(n).filter(u=>o.indexOf(u)!==-1),a={...n,...e};for(const u of i){const l=Ec(n[u],e[u]);if(!l.valid)return{valid:!1};a[u]=l.data}return{valid:!0,data:a}}else if(t===Oe.array&&r===Oe.array){if(n.length!==e.length)return{valid:!1};const o=[];for(let i=0;i<n.length;i++){const a=n[i],u=e[i],l=Ec(a,u);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return t===Oe.date&&r===Oe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class cl extends xt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),o=(i,a)=>{if(Bp(i)||Bp(a))return nt;const u=Ec(i.value,a.value);return u.valid?((Up(i)||Up(a))&&t.dirty(),{status:t.value,value:u.data}):(Pe(r,{code:xe.invalid_intersection_types}),nt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}cl.create=(n,e,t)=>new cl({left:n,right:e,typeName:rt.ZodIntersection,...ut(t)});class Ni extends xt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.array)return Pe(r,{code:xe.invalid_type,expected:Oe.array,received:r.parsedType}),nt;if(r.data.length<this._def.items.length)return Pe(r,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&r.data.length>this._def.items.length&&(Pe(r,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((a,u)=>{const l=this._def.items[u]||this._def.rest;return l?l._parse(new ui(r,a,r.path,u)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Fn.mergeArray(t,a)):Fn.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Ni({...this._def,rest:e})}}Ni.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ni({items:n,typeName:rt.ZodTuple,rest:null,...ut(e)})};class Kp extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.map)return Pe(r,{code:xe.invalid_type,expected:Oe.map,received:r.parsedType}),nt;const o=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([u,l],s)=>({key:o._parse(new ui(r,u,r.path,[s,"key"])),value:i._parse(new ui(r,l,r.path,[s,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const l of a){const s=await l.key,c=await l.value;if(s.status==="aborted"||c.status==="aborted")return nt;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(s.value,c.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const l of a){const s=l.key,c=l.value;if(s.status==="aborted"||c.status==="aborted")return nt;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),u.set(s.value,c.value)}return{status:t.value,value:u}}}}Kp.create=(n,e,t)=>new Kp({valueType:e,keyType:n,typeName:rt.ZodMap,...ut(t)});class To extends xt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.set)return Pe(r,{code:xe.invalid_type,expected:Oe.set,received:r.parsedType}),nt;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(Pe(r,{code:xe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(Pe(r,{code:xe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const i=this._def.valueType;function a(l){const s=new Set;for(const c of l){if(c.status==="aborted")return nt;c.status==="dirty"&&t.dirty(),s.add(c.value)}return{status:t.value,value:s}}const u=[...r.data.values()].map((l,s)=>i._parse(new ui(r,l,r.path,s)));return r.common.async?Promise.all(u).then(l=>a(l)):a(u)}min(e,t){return new To({...this._def,minSize:{value:e,message:Be.toString(t)}})}max(e,t){return new To({...this._def,maxSize:{value:e,message:Be.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}To.create=(n,e)=>new To({valueType:n,minSize:null,maxSize:null,typeName:rt.ZodSet,...ut(e)});class Jp extends xt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Jp.create=(n,e)=>new Jp({getter:n,typeName:rt.ZodLazy,...ut(e)});class Xp extends xt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Pe(t,{received:t.data,code:xe.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xp.create=(n,e)=>new Xp({value:n,typeName:rt.ZodLiteral,...ut(e)});function h1(n,e){return new xs({values:n,typeName:rt.ZodEnum,...ut(e)})}class xs extends xt{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Pe(t,{expected:St.joinValues(r),received:t.parsedType,code:xe.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Pe(t,{received:t.data,code:xe.invalid_enum_value,options:r}),nt}return Jn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return xs.create(e,{...this._def,...t})}exclude(e,t=this._def){return xs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}xs.create=h1;class Zp extends xt{_parse(e){const t=St.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Oe.string&&r.parsedType!==Oe.number){const o=St.objectValues(t);return Pe(r,{expected:St.joinValues(o),received:r.parsedType,code:xe.invalid_type}),nt}if(this._cache||(this._cache=new Set(St.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=St.objectValues(t);return Pe(r,{received:r.data,code:xe.invalid_enum_value,options:o}),nt}return Jn(e.data)}get enum(){return this._def.values}}Zp.create=(n,e)=>new Zp({values:n,typeName:rt.ZodNativeEnum,...ut(e)});class dl extends xt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Oe.promise&&t.common.async===!1)return Pe(t,{code:xe.invalid_type,expected:Oe.promise,received:t.parsedType}),nt;const r=t.parsedType===Oe.promise?t.data:Promise.resolve(t.data);return Jn(r.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}}dl.create=(n,e)=>new dl({type:n,typeName:rt.ZodPromise,...ut(e)});class ws extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:a=>{Pe(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){const a=o.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async u=>{if(t.value==="aborted")return nt;const l=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return l.status==="aborted"?nt:l.status==="dirty"||t.value==="dirty"?Gs(l.value):l});{if(t.value==="aborted")return nt;const u=this._def.schema._parseSync({data:a,path:r.path,parent:r});return u.status==="aborted"?nt:u.status==="dirty"||t.value==="dirty"?Gs(u.value):u}}if(o.type==="refinement"){const a=u=>{const l=o.refinement(u,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?nt:(u.status==="dirty"&&t.dirty(),a(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?nt:(u.status==="dirty"&&t.dirty(),a(u.value).then(()=>({status:t.value,value:u.value}))))}if(o.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vs(a))return nt;const u=o.transform(a.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>vs(a)?Promise.resolve(o.transform(a.value,i)).then(u=>({status:t.value,value:u})):nt);St.assertNever(o)}}ws.create=(n,e,t)=>new ws({schema:n,typeName:rt.ZodEffects,effect:e,...ut(t)});ws.createWithPreprocess=(n,e,t)=>new ws({schema:e,effect:{type:"preprocess",transform:n},typeName:rt.ZodEffects,...ut(t)});class si extends xt{_parse(e){return this._getType(e)===Oe.undefined?Jn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}si.create=(n,e)=>new si({innerType:n,typeName:rt.ZodOptional,...ut(e)});class _s extends xt{_parse(e){return this._getType(e)===Oe.null?Jn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_s.create=(n,e)=>new _s({innerType:n,typeName:rt.ZodNullable,...ut(e)});class Nc extends xt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Nc.create=(n,e)=>new Nc({innerType:n,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class Ac extends xt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return al(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ir(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ir(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ac.create=(n,e)=>new Ac({innerType:n,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class Qp extends xt{_parse(e){if(this._getType(e)!==Oe.nan){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Oe.nan,received:r.parsedType}),nt}return{status:"valid",value:e.data}}}Qp.create=n=>new Qp({typeName:rt.ZodNaN,...ut(n)});class T8 extends xt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ud extends xt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?nt:i.status==="dirty"?(t.dirty(),Gs(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?nt:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,t){return new Ud({in:e,out:t,typeName:rt.ZodPipeline})}}class Ic extends xt{_parse(e){const t=this._def.innerType._parse(e),r=o=>(vs(o)&&(o.value=Object.freeze(o.value)),o);return al(t)?t.then(o=>r(o)):r(t)}unwrap(){return this._def.innerType}}Ic.create=(n,e)=>new Ic({innerType:n,typeName:rt.ZodReadonly,...ut(e)});Wt.lazycreate;var rt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(rt||(rt={}));const cn=Yr.create,E8=bs.create;ci.create;const Vl=mr.create,p1=Wt.create;Wt.strictCreate;ul.create;cl.create;Ni.create;xs.create;dl.create;si.create;_s.create;const N8=p1({name:cn(),contactInfo:cn().optional(),role:cn(),rate:E8(),currency:cn().optional(),skills:Vl(cn()).optional(),bio:cn().optional(),status:cn().optional(),timezone:cn().optional()}),A8=Vl(N8),I8=p1({name:cn(),clientName:cn(),description:cn().optional(),priority:cn().optional(),status:cn().optional(),budget:cn().optional(),startDate:cn().optional(),dueDate:cn().optional(),tags:Vl(cn()).optional()}),M8=Vl(I8),R8={type:_t.ARRAY,items:{type:_t.OBJECT,properties:{name:{type:_t.STRING},contactInfo:{type:_t.STRING},role:{type:_t.STRING},rate:{type:_t.NUMBER},currency:{type:_t.STRING},skills:{type:_t.ARRAY,items:{type:_t.STRING}},bio:{type:_t.STRING},status:{type:_t.STRING},timezone:{type:_t.STRING}},required:["name","role","rate"]}},P8={type:_t.ARRAY,items:{type:_t.OBJECT,properties:{name:{type:_t.STRING},clientName:{type:_t.STRING},description:{type:_t.STRING},priority:{type:_t.STRING},status:{type:_t.STRING},budget:{type:_t.STRING},startDate:{type:_t.STRING},dueDate:{type:_t.STRING},tags:{type:_t.ARRAY,items:{type:_t.STRING}}},required:["name","clientName"]}},j8=({onImport:n,existingFreelancers:e=[],existingProjects:t=[]})=>{const[r,o]=oe.useState("freelancer"),[i,a]=oe.useState("excel"),[u,l]=oe.useState(1),[s,c]=oe.useState(null),[h,d]=oe.useState(""),[f,g]=oe.useState(!1),[y,p]=oe.useState(0),[v,m]=oe.useState("IDLE"),[x,k]=oe.useState([]),[I,D]=oe.useState([]),[V,L]=oe.useState(null),[z,B]=oe.useState(""),H=async(b,_,w,S)=>{m(w);const N=10,O=(_-b)/N;for(let U=0;U<N;U++)await new Promise(G=>setTimeout(G,S/N)),p(G=>Math.min(G+O,_))},$=async b=>{c(b),g(!0),p(0),B("");try{if(await H(0,30,"ENCRYPTING & UPLOADING STREAM",1200),await H(30,50,"DISPATCHING JOB TO WORKER QUEUE",800),L(`job-${Date.now().toString().slice(-6)}`),await H(50,80,"WORKER: PARSING BINARY DATA",1500),b.name.endsWith(".xlsx")||b.name.endsWith(".csv")){const _=await b.arrayBuffer(),w=new Q5.Workbook;await w.xlsx.load(_);const S=w.worksheets[0],N=[];S.eachRow({includeEmpty:!1},(O,U)=>{const G=O.values;N.push(G.slice(1))}),N.length>0&&(D(N[0]),k(N.slice(1)))}else{await H(50,60,"UPLOADING TO SECURE STORAGE",500);const w=(await dt.assets.upload(b)).data;await H(60,80,"BACKEND: DEEP READING & OCR",1500);const S=await dt.knowledge.createFromAsset("global",w.id,w);if(S.data.status==="error")throw new Error("Text extraction failed on server. The file may be corrupted or in an unsupported format.");const N=S.data.originalContent;if(!N)throw new Error("No text content extracted from the file. The document may be empty or unreadable.");await P(N)}await H(80,100,"VALIDATING SCHEMA",500),l(2)}catch(_){console.error(_);const w=_ instanceof Error?_.message:"Unknown error occurred";alert(`Import Failed: ${w}`)}finally{g(!1)}},A=async()=>{if(h.trim()){g(!0),p(0),B("");try{await H(0,40,"STREAMING TEXT TO VECTOR STORE",1e3),await H(40,80,"GEMINI 2.0: STRUCTURING UNSTRUCTURED DATA",2500),await P(h),await H(80,100,"FINALIZING",200),l(2)}catch(b){console.error(b);const _=b instanceof Error?b.message:"Unknown error occurred";alert(`Analysis Failed: ${_}`)}finally{g(!1)}}},P=async b=>{var K;const _=new ji({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),w=r==="freelancer",S=w?R8:P8,N=w?A8:M8,O=w?"freelancer roster":"project",U=w?"freelancers":"projects",W=`You are a data extraction specialist.

TASK: Extract ${O} information from the content below.

RULES:
1. Extract ALL ${U} mentioned in the document
2. Fill in as many fields as possible from the available information
3. If a required field is missing, use reasonable defaults:
   ${w?`- role: "Unknown"
   - rate: 0`:'- clientName: "TBD"'}
4. Preserve original names and contact information exactly as written
5. Return a JSON array even if only one ${w?"person":"project"} is found
6. Extract skills/tags as arrays when mentioned
7. Dates should be in ISO format (YYYY-MM-DD) when possible

CONTENT (first 100,000 characters):
${b.slice(0,1e5)}

${b.length>1e5?`
 Note: Content was truncated. Extract as much as possible from the visible portion.`:""}

Return ONLY the JSON array, no markdown formatting.`,J=await Ns(_,{model:"gemini-2.0-flash-exp",contents:W,config:{responseMimeType:"application/json",responseSchema:S}}),F=typeof J.text=="function"?J.text():J.text;if(!F||typeof F!="string")throw new Error(`AI returned invalid response. Expected JSON string, got ${typeof F}. This may indicate an API issue or model error.`);let Y;try{Y=JSON.parse(F)}catch{throw new Error(`AI returned malformed JSON: ${F.substring(0,200)}... Please try again or contact support.`)}let j;try{j=N.parse(Y)}catch(Q){console.error("Zod validation error:",Q),j=Array.isArray(Y)?Y:[],j.length>0&&B("Some extracted data may not match the expected format. Please review carefully.")}const R=j;if(R.length===0)throw new Error(`No ${U} found in the content. The AI may have misunderstood the format. Please check that the uploaded file contains ${O} data.`);const q=((K=b.match(/(?:^|\n)\d+\./gm))==null?void 0:K.length)||0;if(q>0&&q>R.length*1.5&&B(` Extracted ${R.length} ${U}, but document may contain ~${q} items. Some may have been missed.`),console.info(` Successfully extracted ${R.length} ${U}`),R.length>0){const Q=R[0],X=Object.keys(Q);D(X),k(R.map(ee=>Object.values(ee)))}},C=async()=>{g(!0),await H(0,100,"ATOMIC DATABASE COMMIT",1500);const b=x.map(_=>{const w={};return I.forEach((S,N)=>{w[S]=_[N]}),w.id||(w.id=`${r==="freelancer"?"f":"p"}-${Date.now()}-${Math.random().toString(36).substr(2,5)}`),r==="freelancer"&&!w.avatar&&(w.avatar=`https://ui-avatars.com/api/?name=${encodeURIComponent(w.name||"User")}&background=random`),r==="project"&&!w.status&&(w.status=nr.PLANNED),r==="freelancer"&&!w.status&&(w.status=fr.ACTIVE),w});n(r,b),g(!1),l(4)};return E.jsxs("div",{className:"p-12 max-w-6xl mx-auto min-h-screen flex flex-col font-sans text-ink-primary animate-enter",children:[E.jsxs("div",{className:"flex items-center justify-between mb-12",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-display font-bold tracking-tighter text-ink-primary",children:"Data Ingestion Portal"}),E.jsx("div",{className:"flex items-center gap-3 mt-2",children:E.jsxs("p",{className:"text-xs text-ink-secondary uppercase tracking-widest font-bold",children:["Pipeline v2.4 ",E.jsx("span",{className:"text-border-hover mx-2",children:"|"})," Secure TLS 1.3"]})})]}),E.jsx(wn,{to:"/",className:"text-ink-tertiary hover:text-ink-primary p-3 rounded-full hover:bg-subtle transition-colors",children:E.jsx(Mn,{size:24})})]}),E.jsx("div",{className:"flex items-center gap-4 mb-10",children:[1,2,3,4].map(b=>E.jsx("div",{className:`h-1 rounded-full flex-1 transition-all duration-700 ${b<=u?"bg-ink-primary":"bg-border-subtle"}`},b))}),u===1&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[E.jsxs("button",{onClick:()=>o("freelancer"),className:`p-10 rounded-3xl transition-all duration-300 group relative text-left border ${r==="freelancer"?"bg-ink-primary text-white border-ink-primary shadow-card":"bg-surface text-ink-secondary border-border-subtle hover:border-ink-secondary"}`,children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:`p-3 rounded-xl ${r==="freelancer"?"bg-white/20 text-white":"bg-subtle text-ink-secondary"}`,children:E.jsx(Ig,{size:24})}),E.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Roster Import"})]}),E.jsx("p",{className:`text-xs font-medium leading-relaxed ${r==="freelancer"?"text-white/70":"text-ink-tertiary"}`,children:"Bulk ingest talent profiles via Excel or Resume PDF. AI auto-extraction enabled."})]}),E.jsxs("button",{onClick:()=>o("project"),className:`p-10 rounded-3xl transition-all duration-300 group relative text-left border ${r==="project"?"bg-ink-primary text-white border-ink-primary shadow-card":"bg-surface text-ink-secondary border-border-subtle hover:border-ink-secondary"}`,children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:`p-3 rounded-xl ${r==="project"?"bg-white/20 text-white":"bg-subtle text-ink-secondary"}`,children:E.jsx(kg,{size:24})}),E.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Project Import"})]}),E.jsx("p",{className:`text-xs font-medium leading-relaxed ${r==="project"?"text-white/70":"text-ink-tertiary"}`,children:"Ingest campaign briefs or manifests. AI extracts dates, budgets, and roles."})]})]}),E.jsxs("div",{className:"bg-surface border border-border-subtle rounded-3xl flex-1 flex flex-col shadow-card overflow-hidden min-h-[500px]",children:[E.jsxs("div",{className:"px-10 pt-10 flex gap-8 border-b border-border-subtle",children:[E.jsx("button",{onClick:()=>a("excel"),className:`pb-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${i==="excel"?"border-ink-primary text-ink-primary":"border-transparent text-ink-tertiary hover:text-ink-secondary"}`,children:"Upload Binary"}),E.jsx("button",{onClick:()=>a("paste"),className:`pb-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${i==="paste"?"border-ink-primary text-ink-primary":"border-transparent text-ink-tertiary hover:text-ink-secondary"}`,children:"Raw Text Stream"})]}),E.jsxs("div",{className:"flex-1 flex flex-col p-12 bg-app/50 relative",children:[f&&E.jsx("div",{className:"absolute inset-0 z-50 bg-surface/90 backdrop-blur-lg flex flex-col items-center justify-center animate-in fade-in duration-500",children:E.jsxs("div",{className:"w-96 text-center space-y-6",children:[E.jsxs("div",{className:"relative w-24 h-24 mx-auto flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-border-subtle"}),E.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-ink-primary border-r-transparent border-b-transparent border-l-transparent animate-spin"}),E.jsx(D2,{size:32,className:"text-ink-primary animate-pulse"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"text-2xl font-display font-bold text-ink-primary tracking-tight",children:[Math.round(y),"%"]}),E.jsxs("div",{className:"text-[10px] font-bold text-edge-teal uppercase tracking-widest flex items-center justify-center gap-2",children:[E.jsx(wg,{size:12,className:"animate-bounce"}),v]})]}),E.jsxs("div",{className:"w-full bg-ink-primary rounded-lg p-4 text-left font-mono text-[10px] text-green-400 h-24 overflow-hidden relative shadow-inner border border-ink-secondary",children:[E.jsx("div",{className:"opacity-50 absolute top-2 right-2 text-[8px] uppercase",children:"System Log"}),E.jsx("p",{children:"> Initiating secure handshake..."}),E.jsx("p",{children:"> Stream opened (Port 443)"}),V&&E.jsxs("p",{children:["> Job Assigned: ",V]}),y>50&&E.jsx("p",{children:"> Worker Node 04: Analyzing payload..."}),y>80&&E.jsx("p",{children:"> Structuring data models..."}),E.jsx("div",{className:"animate-pulse mt-1",children:"_"})]})]})}),i==="excel"?E.jsxs("div",{className:`w-full h-full border-2 border-dashed rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all min-h-[300px] group ${s?"border-state-success bg-state-success-bg/10":"border-border-subtle hover:border-ink-primary hover:bg-white"}`,onClick:()=>{var b;return(b=document.getElementById("fileInput"))==null?void 0:b.click()},onDragOver:b=>b.preventDefault(),onDrop:b=>{b.preventDefault(),b.dataTransfer.files[0]&&$(b.dataTransfer.files[0])},children:[E.jsx("input",{type:"file",id:"fileInput",className:"hidden",onChange:b=>{var _;(_=b.target.files)!=null&&_[0]&&$(b.target.files[0])}}),s?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-16 h-16 bg-state-success-bg rounded-2xl text-state-success flex items-center justify-center mb-6 shadow-sm",children:E.jsx(g2,{size:32})}),E.jsx("p",{className:"font-bold text-ink-primary text-sm",children:s.name})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-16 h-16 bg-white border border-border-subtle rounded-2xl text-ink-tertiary group-hover:text-ink-primary flex items-center justify-center mb-6 shadow-float transition-colors",children:E.jsx(ko,{size:32})}),E.jsx("p",{className:"font-bold text-ink-primary text-sm uppercase tracking-wide",children:"Drop Asset (XLSX, CSV, PDF)"}),E.jsx("p",{className:"text-ink-tertiary text-xs mt-2 font-medium",children:"Maximum payload: 500MB"})]})]}):E.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[E.jsx("div",{className:"relative flex-1",children:E.jsx("textarea",{className:"absolute inset-0 w-full h-full p-8 bg-white border border-border-subtle rounded-2xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm font-mono resize-none shadow-sm placeholder-ink-tertiary/50 text-ink-primary custom-scrollbar leading-relaxed",placeholder:"// Paste raw unstructured text here...",value:h,onChange:b=>d(b.target.value)})}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"text-[10px] text-ink-tertiary font-bold uppercase tracking-widest flex items-center gap-2",children:[E.jsx(h2,{size:12})," Neural Processing Enabled"]}),E.jsxs("button",{onClick:A,disabled:!h.trim()||f,className:"px-8 py-4 bg-ink-primary text-white rounded-2xl text-xs font-bold uppercase tracking-widest hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center gap-3 disabled:opacity-50",children:[E.jsx(Nr,{size:14})," Initiate Analysis"]})]})]})]})]})]}),u===2&&E.jsxs("div",{className:"flex-1 flex flex-col gap-8 animate-in slide-in-from-bottom-4 duration-500",children:[E.jsx("div",{className:"bg-surface border border-border-subtle rounded-3xl overflow-hidden shadow-card flex-1 overflow-x-auto relative",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:E.jsx("tr",{children:I.map(b=>E.jsx("th",{className:`px-8 py-6 text-[10px] font-bold uppercase tracking-widest ${["name","email","role"].includes(b.toLowerCase())?"text-ink-primary":"text-ink-tertiary"}`,children:b},b))})}),E.jsx("tbody",{className:"divide-y divide-border-subtle",children:x.slice(0,10).map((b,_)=>E.jsx("tr",{className:"hover:bg-subtle/30 transition-colors",children:b.map((w,S)=>E.jsx("td",{className:"px-8 py-4 text-xs text-ink-secondary font-medium whitespace-nowrap max-w-[250px] truncate",children:Array.isArray(w)?w.join(", "):String(w)},S))},_))})]})}),E.jsxs("div",{className:"flex justify-end gap-4",children:[E.jsx("button",{onClick:()=>{l(1),c(null),d(""),L(null)},className:"px-6 py-3 text-ink-secondary hover:text-ink-primary font-bold uppercase tracking-wide hover:bg-subtle rounded-xl text-xs transition-colors",children:"Abort"}),E.jsxs("button",{onClick:()=>l(3),className:"px-8 py-3 bg-ink-primary text-white font-bold rounded-xl text-xs uppercase tracking-widest hover:bg-black shadow-lg flex items-center gap-3",children:["Review Impact ",E.jsx(Pl,{size:14})]})]})]}),u===3&&E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center animate-in slide-in-from-bottom-8 duration-500",children:[E.jsxs("div",{className:"w-full max-w-3xl grid grid-cols-3 gap-8 mb-12",children:[E.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center",children:[E.jsx("div",{className:"w-12 h-12 rounded-2xl bg-state-success-bg text-state-success flex items-center justify-center mb-4",children:E.jsx(Po,{size:24})}),E.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"12"}),E.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"New Records"})]}),E.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center",children:[E.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center mb-4",children:E.jsx(Qa,{size:24})}),E.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"4"}),E.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Updates"})]}),E.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center opacity-50",children:[E.jsx("div",{className:"w-12 h-12 rounded-2xl bg-state-danger-bg text-state-danger flex items-center justify-center mb-4",children:E.jsx(Ro,{size:24})}),E.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"0"}),E.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Conflicts"})]})]}),E.jsxs("button",{onClick:C,disabled:f,className:"w-full max-w-md px-8 py-5 bg-ink-primary text-white font-bold rounded-2xl text-sm uppercase tracking-widest hover:bg-black shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center justify-center gap-3 disabled:opacity-70",children:[f?E.jsx(Hn,{className:"animate-spin"}):E.jsx(Za,{size:20}),f?"Committing Transaction...":"Execute Commit"]})]}),u===4&&E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center animate-in zoom-in-95 duration-500",children:[E.jsx("div",{className:"w-24 h-24 bg-state-success-bg rounded-3xl text-state-success flex items-center justify-center mb-8 shadow-lg shadow-state-success/20",children:E.jsx(Za,{size:48,strokeWidth:3})}),E.jsx("h2",{className:"text-4xl font-display font-bold text-ink-primary mb-4 tracking-tighter",children:"Ingestion Complete"}),E.jsxs("p",{className:"text-ink-secondary mb-12 text-sm font-medium max-w-md leading-relaxed",children:["Data has been successfully synchronized to the Master Node.",V&&E.jsxs("span",{className:"block mt-4 text-[10px] uppercase tracking-widest font-bold text-edge-teal font-mono",children:["Job ID: ",V]})]}),E.jsxs("div",{className:"flex gap-6",children:[E.jsx("button",{onClick:()=>{l(1),c(null),d(""),L(null)},className:"px-8 py-4 bg-surface border border-border-subtle text-ink-primary font-bold hover:border-ink-tertiary transition-all rounded-2xl text-xs uppercase tracking-widest shadow-sm",children:"New Stream"}),E.jsx(wn,{to:r==="freelancer"?"/freelancers":"/projects",className:"px-8 py-4 bg-ink-primary text-white font-bold hover:bg-black transition-all rounded-2xl text-xs uppercase tracking-widest shadow-lg",children:"View Roster"})]})]})]})},D8=({projects:n,assignments:e,freelancers:t})=>{const{token:r}=Ed(),[o,i]=oe.useState(!0),[a,u]=oe.useState(void 0),[l,s]=oe.useState({assignments:[],freelancers:[]});if(oe.useEffect(()=>{const g=n.length===0&&!!r;(async()=>{try{if(g){console.log("Guest Access: Loading Public Data...");const[p,v,m]=await Promise.all([dt.projects.list(),dt.assignments.list(),dt.freelancers.list()]),x=p.data.find(k=>k.shareToken===r);x&&(u(x),s({assignments:v.data,freelancers:m.data}))}else{const p=n.find(v=>v.shareToken===r);p&&(u(p),s({assignments:e,freelancers:t}))}}catch(p){console.error("Failed to load project data",p)}finally{i(!1)}})()},[r,n,e,t]),o)return E.jsx("div",{className:"min-h-screen bg-[#F5F5F7] flex items-center justify-center font-sans",children:E.jsxs("div",{className:"flex flex-col items-center gap-4 text-pencil",children:[E.jsx(Hn,{size:32,className:"animate-spin text-indigo-500"}),E.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Verifying Secure Link..."})]})});if(!a||a.shareTokenRevokedAt)return E.jsx("div",{className:"min-h-screen bg-[#F4F4F0] flex items-center justify-center font-sans",children:E.jsxs("div",{className:"bg-white p-16 border border-mist text-center max-w-lg rounded-3xl shadow-soft",children:[E.jsx("div",{className:"w-16 h-16 bg-gray-50 text-pencil border border-mist flex items-center justify-center mx-auto mb-8 rounded-2xl",children:E.jsx(uh,{size:24})}),E.jsx("h2",{className:"text-2xl font-semibold text-ink mb-3 tracking-tight",children:"Access Revoked"}),E.jsxs("p",{className:"text-pencil text-xs font-bold uppercase tracking-widest leading-relaxed",children:["This secure link has expired or is invalid.",E.jsx("br",{}),"Please contact the studio administrator."]})]})});const c=l.assignments.filter(g=>g.projectId===a.id),h=c.length,d=a.roleRequirements.reduce((g,y)=>g+y.count,0),f=d>0?Math.round(h/d*100):0;return E.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] font-sans text-ink",children:[E.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-mist sticky top-0 z-10",children:E.jsxs("div",{className:"max-w-5xl mx-auto px-10 h-24 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Studio."}),E.jsx("div",{className:"w-10 h-10 bg-ink flex items-center justify-center text-white font-bold text-lg rounded-xl shadow-sm",children:E.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]}),E.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-pencil font-bold uppercase tracking-widest border border-mist px-4 py-1.5 bg-gray-50 rounded-full",children:[E.jsx(uh,{size:12})," External View"]})]})}),E.jsxs("div",{className:"max-w-5xl mx-auto px-10 py-20 animate-in fade-in duration-700",children:[E.jsxs("div",{className:"bg-white border border-mist mb-16 rounded-3xl shadow-soft overflow-hidden",children:[E.jsx("div",{className:"p-12 border-b border-mist bg-white",children:E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-10",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-pencil font-bold mb-4 uppercase tracking-widest text-[10px]",children:a.clientName||"Client Confidential"}),E.jsx("h1",{className:"text-6xl font-semibold mb-6 text-ink leading-[0.9] tracking-tighter",children:a.name}),E.jsxs("div",{className:"flex items-center gap-4 text-sm mt-8",children:[E.jsx("span",{className:"bg-ink text-white px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest rounded-lg shadow-sm",children:a.status}),a.dueDate&&E.jsxs("span",{className:"flex items-center gap-2 font-mono text-xs font-bold text-ink bg-gray-50 px-3 py-1.5 rounded-lg border border-mist",children:[E.jsx(jl,{size:12})," Due ",new Date(a.dueDate).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"text-right hidden md:block",children:[E.jsxs("div",{className:"text-7xl font-light text-ink tracking-tighter",children:[f,"%"]}),E.jsx("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest mt-2",children:"Staffing Complete"})]})]})}),E.jsxs("div",{className:"p-12",children:[E.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-10 border-b border-mist pb-4",children:"Roster Assignment"}),E.jsx("div",{className:"space-y-10",children:a.roleRequirements.map(g=>{const y=c.filter(p=>p.role===g.role);return E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-5",children:[E.jsx("h4",{className:"text-xl font-semibold text-ink tracking-tight",children:g.role}),E.jsxs("span",{className:"text-xs font-mono font-bold text-pencil bg-canvas px-2 py-1 rounded border border-mist",children:[y.length," / ",g.count," Filled"]})]}),y.length>0?E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(p=>{const v=l.freelancers.find(m=>m.id===p.freelancerId);return E.jsxs("div",{className:"flex items-center gap-5 p-5 bg-white border border-mist rounded-2xl shadow-sm",children:[(v==null?void 0:v.avatar)&&E.jsx("img",{src:v.avatar,className:"w-12 h-12 border border-mist object-cover grayscale rounded-full"}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-ink text-sm tracking-tight mb-1",children:(v==null?void 0:v.name)||"Unknown"}),E.jsxs("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-wide",children:[new Date(p.startDate).toLocaleDateString(),"  ",new Date(p.endDate).toLocaleDateString()]})]})]},p.id)})}):E.jsx("div",{className:"p-6 border border-dashed border-mist text-center text-xs text-pencil font-bold uppercase tracking-widest bg-gray-50/30 rounded-2xl",children:"Pending Assignment"})]},g.id)})})]})]}),E.jsx("div",{className:"text-center text-pencil/50 text-[10px] font-bold uppercase tracking-widest",children:"Studio Roster OS  2025"})]})]})},O8=({projects:n,freelancers:e,assignments:t,onSaveScript:r})=>{var w;const[o,i]=Qb(),a=o.get("project"),[u,l]=oe.useState(""),[s,c]=oe.useState(""),[h,d]=oe.useState(""),[f,g]=oe.useState(""),[y,p]=oe.useState(!0),[v,m]=oe.useState(!1),[x,k]=oe.useState([]),[I,D]=oe.useState([]),[V,L]=oe.useState(!1),[z,B]=oe.useState(!1),H=n.find(S=>S.id===s),$=((w=H==null?void 0:H.knowledgeBase)==null?void 0:w.map(S=>`[${S.category}] ${S.title}: ${S.content.substring(0,500)}...`).join(`

`))||"";oe.useEffect(()=>{a&&a!==s&&c(a)},[a]),oe.useEffect(()=>{var S,N;if(H){const O=[];(S=H.knowledgeBase)==null||S.forEach(U=>{const G={General:"url",Research:"wiki",Technical:"file",Brand:"text"};O.push({id:U.id,type:G[U.category]||"text",title:U.title,originalContent:U.content,summary:`Project Context (${U.category})`,status:"indexed",chunks:[],createdAt:U.updatedAt})}),(N=H.toneAttributes)!=null&&N.length&&O.push({id:"tone-1",type:"text",title:"Tone & Mood",originalContent:H.toneAttributes.join(", "),summary:"Creative Direction",status:"indexed",chunks:[],createdAt:new Date().toISOString()}),H.brandGuidelines&&O.push({id:"brand-1",type:"text",title:"Brand Guidelines",originalContent:`DO: ${H.brandGuidelines.dos.join(", ")}. DONT: ${H.brandGuidelines.donts.join(", ")}`,summary:"Brand Rules",status:"indexed",chunks:[],createdAt:new Date().toISOString()}),k(O)}},[H==null?void 0:H.id,H==null?void 0:H.updatedAt]);const A=async(S,N)=>{if(S==="update_script"){const O=N.content;return l(U=>N.mode==="replace"?O:U?U+`
`+O:O),setTimeout(()=>P(O),1e3),{status:"success",message:"Editor updated"}}if(S==="generate_rag_content"&&H)try{return{status:"success",content:await B5.generate(N.prompt,x,H)}}catch{return{status:"error",message:"RAG Generation failed"}}return{status:"error",message:"Unknown tool"}},P=async S=>{var U,G,W;if(!H||!S)return;L(!0);const N=[...H.tags||[],"Maintain consistent voice",...H.toneAttributes||[],...(((U=H.brandGuidelines)==null?void 0:U.dos)||[]).map(J=>`Do: ${J}`),...(((G=H.brandGuidelines)==null?void 0:G.donts)||[]).map(J=>`Don't: ${J}`),...((W=H.knowledgeBase)==null?void 0:W.map(J=>J.content.slice(0,50)))||[]],O=await F5.validate(S,N);D(O.violations),L(!1)},C=async()=>{if(u.trim()){B(!0);try{const S=new ji({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),N=`Refine and structure this creative writing. Use markdown headers and bullet points. Content: ${u}`,O=await Ns(S,{model:"gemini-2.0-flash-exp",contents:N});O.text&&(l(O.text),setTimeout(()=>P(O.text),500))}catch(S){console.error(S)}finally{B(!1)}}},b=async()=>{if(r){const S=await r({id:f||`scr-${Date.now()}`,title:h||"Untitled Script",content:u,version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),projectId:s});g(S.id),i(N=>(N.set("script",S.id),N))}},_=async S=>{if(S.preventDefault(),S.stopPropagation(),m(!1),S.dataTransfer.files&&S.dataTransfer.files[0]){const N=S.dataTransfer.files[0];try{const O=await a1.ingestFile(N);l(U=>U?U+`

`+O.originalContent:O.originalContent)}catch(O){console.error(O),alert("Could not read file.")}}};return E.jsxs("div",{className:"flex h-[calc(100vh-64px)] min-h-[600px] bg-[#F5F5F7] font-sans text-gray-900 overflow-hidden",children:[E.jsxs("div",{className:"flex-1 flex flex-col relative bg-white shadow-soft z-10 mx-6 my-6 rounded-2xl border border-gray-100 overflow-hidden",onDragOver:S=>{S.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:_,children:[v&&E.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-md flex flex-col items-center justify-center border-2 border-indigo-500 border-dashed m-3 rounded-xl transition-all duration-300",children:[E.jsx(ys,{size:48,className:"text-indigo-600 mb-3 animate-bounce"}),E.jsx("h3",{className:"text-xl font-bold text-indigo-900 tracking-tight",children:"Drop to Import"}),E.jsx("p",{className:"text-sm text-indigo-700 font-medium",children:"Appends file content to editor"})]}),E.jsxs("div",{className:"h-16 border-b border-gray-100 bg-white/80 backdrop-blur-sm flex items-center justify-between px-6 sticky top-0 z-30",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsxs("select",{value:s,onChange:S=>{c(S.target.value),i(N=>(N.set("project",S.target.value),N))},className:"bg-transparent text-xs font-bold text-gray-700 focus:outline-none cursor-pointer hover:bg-gray-50 px-3 py-2 rounded-lg transition-colors border border-transparent hover:border-gray-100 uppercase tracking-wide",children:[E.jsx("option",{value:"",children:"Select Context..."}),n.map(S=>E.jsx("option",{value:S.id,children:S.name},S.id))]})}),E.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 hidden md:flex items-center gap-2",children:E.jsx("input",{type:"text",value:h,onChange:S=>d(S.target.value),placeholder:"Untitled Script",className:"text-center text-sm font-semibold text-gray-900 focus:outline-none placeholder-gray-300 hover:bg-gray-50 rounded-lg px-4 py-1.5 transition-colors tracking-tight"})}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:C,disabled:z,className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-50",children:z?E.jsx(Hn,{size:18,className:"animate-spin"}):E.jsx(Nr,{size:18})}),E.jsxs("button",{onClick:b,className:"bg-gray-900 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-black transition-all flex items-center gap-2 shadow-sm uppercase tracking-widest",children:[E.jsx(R2,{size:14})," Save"]}),E.jsx("div",{className:"h-6 w-px bg-gray-100 mx-1"}),E.jsx("button",{onClick:()=>p(!y),className:`p-2 rounded-lg transition-colors ${y?"bg-indigo-50 text-indigo-600":"text-gray-400 hover:text-gray-900 hover:bg-gray-50"}`,children:E.jsx(A2,{size:20})})]})]}),E.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[!s&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50/50 z-20 pointer-events-none backdrop-blur-[2px]",children:E.jsx("p",{className:"text-sm text-gray-400 font-medium tracking-wide",children:"Select a project to enable AI tools"})}),E.jsx("textarea",{className:"absolute inset-0 w-full h-full p-10 resize-none focus:outline-none font-mono text-sm leading-8 text-gray-800 z-10 bg-transparent custom-scrollbar",value:u,onChange:S=>l(S.target.value),spellCheck:!1,placeholder:"Start writing or drop a text file here..."})]}),E.jsxs("div",{className:"h-10 border-t border-gray-100 bg-gray-50/50 flex items-center justify-between px-6 text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("span",{children:[u.length," chars"]}),E.jsxs("span",{className:"flex items-center gap-2",children:[E.jsx(Po,{size:12,className:"text-gray-400"})," ",x.length," active sources"]})]}),E.jsx("div",{children:V?E.jsxs("span",{className:"text-amber-500 flex items-center gap-2",children:[E.jsx(O2,{size:14})," Scanning Content..."]}):I.length>0?E.jsxs("span",{className:"text-rose-500 flex items-center gap-2",children:[E.jsx(Ro,{size:14})," ",I.length," Issues Detected"]}):E.jsxs("span",{className:"text-emerald-600 flex items-center gap-2",children:[E.jsx(Cg,{size:14})," Guard Active"]})})]})]}),E.jsx("div",{className:`flex-shrink-0 border-l border-gray-100 bg-white z-20 transition-all duration-500 cubic-bezier(0.2,0.8,0.2,1) ${y?"w-[420px] translate-x-0":"w-0 translate-x-full opacity-0 overflow-hidden"}`,children:E.jsx("div",{className:"w-[420px] h-full",children:E.jsx(Mg,{freelancers:e,projects:n,assignments:t,onCallAction:A,agentMode:!0,customTitle:"Creative Assistant",contextData:$},s||"default")})})]})},L8=({toast:n})=>{const{removeToast:e}=jo(),[t,r]=oe.useState(!1),o=()=>{r(!0),setTimeout(()=>e(n.id),300)};oe.useEffect(()=>{if(n.duration&&n.duration>0){const u=setTimeout(()=>{r(!0)},n.duration-300);return()=>clearTimeout(u)}},[n.duration]);const i={success:E.jsx(Cg,{size:18,className:"text-emerald-500"}),error:E.jsx(_g,{size:18,className:"text-rose-500"}),info:E.jsx(_2,{size:18,className:"text-indigo-500"}),warning:E.jsx(Ro,{size:18,className:"text-amber-500"})},a={success:"bg-emerald-50 border-emerald-100 text-emerald-900",error:"bg-rose-50 border-rose-100 text-rose-900",info:"bg-indigo-50 border-indigo-100 text-indigo-900",warning:"bg-amber-50 border-amber-100 text-amber-900"};return E.jsxs("div",{className:`
                flex items-start gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-md transition-all duration-300 transform
                ${a[n.type]}
                ${t?"opacity-0 translate-x-full scale-95":"opacity-100 translate-x-0 scale-100"}
                animate-in slide-in-from-right-full fade-in
            `,role:"alert",children:[E.jsx("div",{className:"mt-0.5 flex-shrink-0",children:i[n.type]}),E.jsx("div",{className:"flex-1 text-sm font-medium leading-relaxed",children:n.message}),E.jsx("button",{onClick:o,className:"p-1 -mr-1 -mt-1 rounded-lg hover:bg-black/5 transition-colors opacity-60 hover:opacity-100",children:E.jsx(Mn,{size:14})})]})},F8=()=>{const{toasts:n}=jo();return E.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3 w-full max-w-sm pointer-events-none",children:E.jsx("div",{className:"pointer-events-auto flex flex-col gap-3",children:n.map(e=>E.jsx(L8,{toast:e},e.id))})})},B8=n=>{const e=Es();return E.jsx(rx,{...n,onCallAction:(t,r)=>n.onAgentAction(t,r,e)})},U8=()=>{const[n,e]=oe.useState(!1),[t,r]=oe.useState(!0),o=jo(),[i,a]=oe.useState(()=>ii("freelancers",[])),[u,l]=oe.useState(()=>ii("projects",[])),[s,c]=oe.useState(()=>ii("assignments",[])),h=(B,H)=>{console.log(`[Activity] ${B}: ${H}`)},d=hl.useCallback(async()=>{try{const[B,H,$]=await Promise.all([dt.freelancers.list({limit:1e3}),dt.projects.list({limit:1e3}),dt.assignments.list({limit:5e3})]);a(B.data||[]),l(H.data||[]),c($.data||[])}catch(B){console.error("Failed to fetch data",B),o.error("Failed to sync data with server")}finally{r(!1)}},[o]);oe.useEffect(()=>{localStorage.getItem("studio_roster_v1_auth_token")?(e(!0),d()):r(!1)},[d]);const f=async(B,H)=>{r(!0);try{if(B==="freelancer"){const $=await dt.freelancers.importBatch(H);h("Import Completed",`Imported/Updated ${$.data.created+$.data.updated} freelancers.`),o.success(`Successfully imported ${$.data.created+$.data.updated} freelancers`)}else{const $=await dt.projects.importBatch(H);h("Import Completed",`Imported/Updated ${$.data.created+$.data.updated} projects.`),o.success(`Successfully imported ${$.data.created+$.data.updated} projects`)}await d()}catch($){console.error($),o.error("Import Failed. Please check your file format.")}finally{r(!1)}},g=async B=>{const H=await dt.freelancers.update(B);a($=>$.map(A=>A.id===H.data.id?H.data:A)),h("Freelancer Updated",`Updated profile for ${H.data.name}`),o.success("Freelancer profile updated")},y=async B=>{await dt.freelancers.delete(B),a(H=>H.filter($=>$.id!==B)),c(H=>H.filter($=>$.freelancerId!==B)),h("Freelancer Deleted","Removed freelancer from roster"),o.info("Freelancer removed from roster")},p=async B=>{const H=await dt.projects.update(B);l($=>$.map(A=>A.id===H.data.id?H.data:A)),o.success("Project updated successfully")},v=async B=>{await dt.projects.delete(B),l(H=>H.filter($=>$.id!==B)),c(H=>H.filter($=>$.projectId!==B)),h("Project Deleted","Deleted project and associated assignments"),o.info("Project deleted")},m=async B=>{if(window.confirm(`Are you sure you want to delete ${B.length} projects? This action cannot be undone.`))try{await dt.projects.deleteBatch(B),l(H=>H.filter($=>!B.includes($.id))),c(H=>H.filter($=>!B.includes($.projectId))),o.success(`Deleted ${B.length} projects`)}catch(H){console.error("Failed to delete projects",H),o.error("Failed to delete projects")}},x=(B,H,$,A)=>{const P=new Date(H),C=new Date($);return s.find(b=>{if(b.freelancerId!==B||A&&b.id===A)return!1;const _=new Date(b.startDate),w=new Date(b.endDate);return _<=C&&w>=P})},k=async B=>{var H,$;try{const A=s.find(C=>C.id===B.id);let P;if(A)P=await dt.assignments.update(B),c(C=>C.map(b=>b.id===B.id?P.data:b)),h("Assignment Updated","Updated assignment details"),o.success("Assignment updated");else{P=await dt.assignments.create(B),c(w=>[...w,P.data]);const C=((H=i.find(w=>w.id===P.data.freelancerId))==null?void 0:H.name)||"Unknown",b=(($=u.find(w=>w.id===P.data.projectId))==null?void 0:$.name)||"Unknown";h("Assignment Confirmed",`${C} assigned to ${b}`),o.success("Assignment confirmed");const _=await dt.projects.list({limit:1e3});l(_.data)}}catch(A){A instanceof Error&&A.message==="CONFLICT_DETECTED"?o.error("Server Conflict: Assignment overlaps with existing booking."):o.error("Failed to save assignment")}},I=async B=>{const H={id:`p-${Date.now()}`,name:(B==null?void 0:B.name)||"New Project",clientName:B==null?void 0:B.clientName,status:(B==null?void 0:B.status)||nr.PLANNED,priority:(B==null?void 0:B.priority)||sr.NORMAL,description:B==null?void 0:B.description,category:B==null?void 0:B.category,startDate:B==null?void 0:B.startDate,dueDate:B==null?void 0:B.dueDate,roleRequirements:(B==null?void 0:B.roleRequirements)||[],tags:B==null?void 0:B.tags,notes:B==null?void 0:B.notes,createdAt:new Date().toISOString()},$=await dt.projects.create(H);return l(A=>[...A,$.data]),h("Project Created",`Created new project: ${H.name}`),o.success("New project created"),$.data},D=async B=>{const H={id:`f-${Date.now()}`,name:(B==null?void 0:B.name)||"New Talent",role:(B==null?void 0:B.role)||"Generalist",skills:[],rate:(B==null?void 0:B.rate)||0,currency:"USD",timezone:"UTC",status:fr.ACTIVE,contactInfo:(B==null?void 0:B.contactInfo)||"email@example.com",utilization:0,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent((B==null?void 0:B.name)||"New Talent")}&background=random`},$=await dt.freelancers.create(H);return a(A=>[...A,$.data]),h("Talent Added",`Added new freelancer: ${H.name}`),o.success("New freelancer added to roster"),$.data},V=async B=>{var A;const H=await dt.scripts.create(B),$=((A=u.find(P=>P.id===B.projectId))==null?void 0:A.name)||"Unknown Project";return h("Script Saved",`Saved "${B.title}" to ${$}`),o.success("Script saved"),H.data},L=async B=>{try{await dt.auth.login(B),e(!0),o.success("Welcome back to Studio Roster")}catch(H){throw console.error("Auth Error:",H),o.error("Authentication failed"),H}},z=async(B,H,$)=>{var A,P,C;switch(B){case"create_project":return await I(H);case"update_project":{const b=u.find(_=>_.id===H.id);if(b){const _={...b,...H};return await p(_),_}throw new Error("Project not found")}case"create_freelancer":return await D(H);case"assign_freelancer":{const b={id:`asn-${Date.now()}`,projectId:H.projectId,freelancerId:H.freelancerId,role:H.role||"Contributor",startDate:H.startDate||new Date().toISOString(),endDate:H.endDate||new Date(Date.now()+6048e5).toISOString(),allocation:100,status:"Confirmed"};return await k(b),{status:"Assigned"}}case"navigate":return $(H.path),{status:"Navigated"};case"get_storage_info":try{const b=await dt.storage.getInfo();return{bucket:((A=b.data)==null?void 0:A.bucket)||"Unknown",project:((P=b.data)==null?void 0:P.projectId)||"Unknown",status:(C=b.data)!=null&&C.configured?"Connected":"Not Configured"}}catch(b){return console.error(b),{error:"Failed to retrieve storage info"}}default:return{error:"Unknown action"}}};return t?E.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F6F6FA]",children:E.jsx(Qa,{className:"animate-spin text-gray-400"})}):n?E.jsx(Wb,{children:E.jsxs(Fb,{children:[E.jsxs(Pn,{path:"/",element:E.jsx(q2,{}),children:[E.jsx(Pn,{index:!0,element:E.jsx(B8,{projects:u,freelancers:i,assignments:s,onAgentAction:z,isLoading:t})}),E.jsx(Pn,{path:"projects",element:E.jsx(R5,{projects:u,onCreate:I,onUpdate:p,onDelete:v,onBulkDelete:m,isLoading:t})}),E.jsx(Pn,{path:"projects/:id",element:E.jsx(X5,{projects:u,freelancers:i,assignments:s,onAssign:k,checkConflict:x,onUpdateProject:p})}),E.jsx(Pn,{path:"freelancers",element:E.jsx(P5,{freelancers:i,assignments:s,onCreate:()=>D()})}),E.jsx(Pn,{path:"freelancers/:id",element:E.jsx(D5,{freelancers:i,projects:u,assignments:s,onUpdate:g,onDelete:y})}),E.jsx(Pn,{path:"assignments",element:E.jsx(Z5,{freelancers:i,projects:u,assignments:s,onAssign:k,checkConflict:x})}),E.jsx(Pn,{path:"studio",element:E.jsx(O8,{projects:u,freelancers:i,assignments:s,onSaveScript:V})}),E.jsx(Pn,{path:"moodboard",element:E.jsx(u1,{})}),E.jsx(Pn,{path:"imports",element:E.jsx(j8,{onImport:f})})]}),E.jsx(Pn,{path:"/public/projects/:token",element:E.jsx(D8,{projects:u,assignments:s,freelancers:i})}),E.jsx(Pn,{path:"*",element:E.jsx(Db,{to:"/",replace:!0})})]})}):E.jsx(G2,{onLogin:L})},z8=()=>E.jsxs(G5,{children:[E.jsx(U8,{}),E.jsx(F8,{})]}),m1=document.getElementById("root");if(!m1)throw new Error("Could not find root element to mount to");const V8=xu.createRoot(m1);V8.render(E.jsx(hl.StrictMode,{children:E.jsx(z8,{})}));
