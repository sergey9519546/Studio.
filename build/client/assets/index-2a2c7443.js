function vg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function wg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ip={exports:{}},xo={},sp={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi=Symbol.for("react.element"),_g=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),kg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),Ig=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),Bu=Symbol.iterator;function Rg(t){return t===null||typeof t!="object"?null:(t=Bu&&t[Bu]||t["@@iterator"],typeof t=="function"?t:null)}var op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ap=Object.assign,lp={};function Ur(t,e,n){this.props=t,this.context=e,this.refs=lp,this.updater=n||op}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function up(){}up.prototype=Ur.prototype;function Ll(t,e,n){this.props=t,this.context=e,this.refs=lp,this.updater=n||op}var Ul=Ll.prototype=new up;Ul.constructor=Ll;ap(Ul,Ur.prototype);Ul.isPureReactComponent=!0;var Ou=Array.isArray,dp=Object.prototype.hasOwnProperty,jl={current:null},cp={key:!0,ref:!0,__self:!0,__source:!0};function fp(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dp.call(e,r)&&!cp.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Fi,type:t,key:s,ref:o,props:i,_owner:jl.current}}function Pg(t,e){return{$$typeof:Fi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fi}function Mg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ju=/\/+/g;function Wo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mg(""+t.key):e.toString(36)}function ms(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fi:case _g:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wo(o,0):r,Ou(i)?(n="",t!=null&&(n=t.replace(Ju,"$&/")+"/"),ms(i,e,n,"",function(f){return f})):i!=null&&(Fl(i)&&(i=Pg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ju,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ou(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+Wo(s,u);o+=ms(s,e,n,c,i)}else if(c=Rg(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+Wo(s,u++),o+=ms(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yi(t,e,n){if(t==null)return t;var r=[],i=0;return ms(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Dg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $e={current:null},hs={transition:null},Lg={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:hs,ReactCurrentOwner:jl};function pp(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Yi,forEach:function(t,e,n){Yi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yi(t,function(){e++}),e},toArray:function(t){return Yi(t,function(e){return e})||[]},only:function(t){if(!Fl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Ur;ee.Fragment=Sg;ee.Profiler=Ng;ee.PureComponent=Ll;ee.StrictMode=Cg;ee.Suspense=bg;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg;ee.act=pp;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ap({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)dp.call(e,c)&&!cp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Fi,type:t.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:Tg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kg,_context:t},t.Consumer=t};ee.createElement=fp;ee.createFactory=function(t){var e=fp.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:Eg,render:t}};ee.isValidElement=Fl;ee.lazy=function(t){return{$$typeof:Ag,_payload:{_status:-1,_result:t},_init:Dg}};ee.memo=function(t,e){return{$$typeof:Ig,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=hs.transition;hs.transition={};try{t()}finally{hs.transition=e}};ee.unstable_act=pp;ee.useCallback=function(t,e){return $e.current.useCallback(t,e)};ee.useContext=function(t){return $e.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return $e.current.useDeferredValue(t)};ee.useEffect=function(t,e){return $e.current.useEffect(t,e)};ee.useId=function(){return $e.current.useId()};ee.useImperativeHandle=function(t,e,n){return $e.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return $e.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return $e.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return $e.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return $e.current.useReducer(t,e,n)};ee.useRef=function(t){return $e.current.useRef(t)};ee.useState=function(t){return $e.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return $e.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return $e.current.useTransition()};ee.version="18.3.1";sp.exports=ee;var N=sp.exports;const Vi=wg(N),Ug=vg({__proto__:null,default:Vi},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=N,Fg=Symbol.for("react.element"),Vg=Symbol.for("react.fragment"),zg=Object.prototype.hasOwnProperty,Gg=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$g={key:!0,ref:!0,__self:!0,__source:!0};function mp(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zg.call(e,r)&&!$g.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Fg,type:t,key:s,ref:o,props:i,_owner:Gg.current}}xo.Fragment=Vg;xo.jsx=mp;xo.jsxs=mp;ip.exports=xo;var a=ip.exports,Na={},hp={exports:{}},rt={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,D){var H=P.length;P.push(D);e:for(;0<H;){var W=H-1>>>1,te=P[W];if(0<i(te,D))P[W]=D,P[H]=te,H=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var D=P[0],H=P.pop();if(H!==D){P[0]=H;e:for(var W=0,te=P.length,Mt=te>>>1;W<Mt;){var kt=2*(W+1)-1,Dt=P[kt],Pn=kt+1,Wi=P[Pn];if(0>i(Dt,H))Pn<te&&0>i(Wi,Dt)?(P[W]=Wi,P[Pn]=H,W=Pn):(P[W]=Dt,P[kt]=H,W=kt);else if(Pn<te&&0>i(Wi,H))P[W]=Wi,P[Pn]=H,W=Pn;else break e}}return D}function i(P,D){var H=P.sortIndex-D.sortIndex;return H!==0?H:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],f=[],p=1,m=null,h=3,w=!1,C=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var D=n(f);D!==null;){if(D.callback===null)r(f);else if(D.startTime<=P)r(f),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(f)}}function _(P){if(v=!1,x(P),!C)if(n(c)!==null)C=!0,A(k);else{var D=n(f);D!==null&&z(_,D.startTime-P)}}function k(P,D){C=!1,v&&(v=!1,y(M),M=-1),w=!0;var H=h;try{for(x(D),m=n(c);m!==null&&(!(m.expirationTime>D)||P&&!R());){var W=m.callback;if(typeof W=="function"){m.callback=null,h=m.priorityLevel;var te=W(m.expirationTime<=D);D=t.unstable_now(),typeof te=="function"?m.callback=te:m===n(c)&&r(c),x(D)}else r(c);m=n(c)}if(m!==null)var Mt=!0;else{var kt=n(f);kt!==null&&z(_,kt.startTime-D),Mt=!1}return Mt}finally{m=null,h=H,w=!1}}var T=!1,b=null,M=-1,j=5,E=-1;function R(){return!(t.unstable_now()-E<j)}function I(){if(b!==null){var P=t.unstable_now();E=P;var D=!0;try{D=b(!0,P)}finally{D?O():(T=!1,b=null)}}else T=!1}var O;if(typeof g=="function")O=function(){g(I)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,q=Z.port2;Z.port1.onmessage=I,O=function(){q.postMessage(null)}}else O=function(){S(I,0)};function A(P){b=P,T||(T=!0,O())}function z(P,D){M=S(function(){P(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,A(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var H=h;h=D;try{return P()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=h;h=P;try{return D()}finally{h=H}},t.unstable_scheduleCallback=function(P,D,H){var W=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=H+te,P={id:p++,callback:D,priorityLevel:P,startTime:H,expirationTime:te,sortIndex:-1},H>W?(P.sortIndex=H,e(f,P),n(c)===null&&P===n(f)&&(v?(y(M),M=-1):v=!0,z(_,H-W))):(P.sortIndex=te,e(c,P),C||w||(C=!0,A(k))),P},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(P){var D=h;return function(){var H=h;h=D;try{return P.apply(this,arguments)}finally{h=H}}}})(yp);gp.exports=yp;var qg=gp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=N,tt=qg;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xp=new Set,hi={};function On(t,e){Sr(t,e),Sr(t+"Capture",e)}function Sr(t,e){for(hi[t]=e,t=0;t<e.length;t++)xp.add(e[t])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=Object.prototype.hasOwnProperty,Bg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wu={},Yu={};function Og(t){return ka.call(Yu,t)?!0:ka.call(Wu,t)?!1:Bg.test(t)?Yu[t]=!0:(Wu[t]=!0,!1)}function Jg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wg(t,e,n,r){if(e===null||typeof e>"u"||Jg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vl=/[\-:]([a-z])/g;function zl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vl,zl);Me[e]=new qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vl,zl);Me[e]=new qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vl,zl);Me[e]=new qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gl(t,e,n,r){var i=Me.hasOwnProperty(e)?Me[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wg(e,n,i,r)&&(n=null),r||i===null?Og(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yt=Hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ki=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),Ta=Symbol.for("react.profiler"),vp=Symbol.for("react.provider"),wp=Symbol.for("react.context"),ql=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),ba=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),_p=Symbol.for("react.offscreen"),Ku=Symbol.iterator;function Br(t){return t===null||typeof t!="object"?null:(t=Ku&&t[Ku]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Yo;function ei(t){if(Yo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yo=e&&e[1]||""}return`
`+Yo+t}var Ko=!1;function Zo(t,e){if(!t||Ko)return"";Ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Ko=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ei(t):""}function Yg(t){switch(t.tag){case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return t=Zo(t.type,!1),t;case 11:return t=Zo(t.type.render,!1),t;case 1:return t=Zo(t.type,!0),t;default:return""}}function Ia(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tr:return"Fragment";case er:return"Portal";case Ta:return"Profiler";case $l:return"StrictMode";case Ea:return"Suspense";case ba:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wp:return(t.displayName||"Context")+".Consumer";case vp:return(t._context.displayName||"Context")+".Provider";case ql:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hl:return e=t.displayName||null,e!==null?e:Ia(t.type)||"Memo";case tn:e=t._payload,t=t._init;try{return Ia(t(e))}catch{}}return null}function Kg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(e);case 8:return e===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zg(t){var e=Sp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zi(t){t._valueTracker||(t._valueTracker=Zg(t))}function Cp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Sp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Aa(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Np(t,e){e=e.checked,e!=null&&Gl(t,"checked",e,!1)}function Ra(t,e){Np(t,e);var n=Cn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pa(t,e.type,Cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pa(t,e,n){(e!=="number"||Is(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ti=Array.isArray;function pr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ma(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(ti(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cn(n)}}function kp(t,e){var n=Cn(e.value),r=Cn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ed(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Da(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qi,Ep=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qg=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(t){Qg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),si[e]=si[t]})});function bp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||si.hasOwnProperty(t)&&si[t]?(""+e).trim():e+"px"}function Ip(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xg=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(t,e){if(e){if(Xg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Ua(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Bl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fa=null,mr=null,hr=null;function td(t){if(t=$i(t)){if(typeof Fa!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Co(e),Fa(t.stateNode,t.type,e))}}function Ap(t){mr?hr?hr.push(t):hr=[t]:mr=t}function Rp(){if(mr){var t=mr,e=hr;if(hr=mr=null,td(t),e)for(t=0;t<e.length;t++)td(e[t])}}function Pp(t,e){return t(e)}function Mp(){}var Qo=!1;function Dp(t,e,n){if(Qo)return t(e,n);Qo=!0;try{return Pp(t,e,n)}finally{Qo=!1,(mr!==null||hr!==null)&&(Mp(),Rp())}}function yi(t,e){var n=t.stateNode;if(n===null)return null;var r=Co(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Va=!1;if($t)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Va=!1}function ey(t,e,n,r,i,s,o,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var oi=!1,As=null,Rs=!1,za=null,ty={onError:function(t){oi=!0,As=t}};function ny(t,e,n,r,i,s,o,u,c){oi=!1,As=null,ey.apply(ty,arguments)}function ry(t,e,n,r,i,s,o,u,c){if(ny.apply(this,arguments),oi){if(oi){var f=As;oi=!1,As=null}else throw Error(L(198));Rs||(Rs=!0,za=f)}}function Jn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nd(t){if(Jn(t)!==t)throw Error(L(188))}function iy(t){var e=t.alternate;if(!e){if(e=Jn(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nd(i),t;if(s===r)return nd(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function Up(t){return t=iy(t),t!==null?jp(t):null}function jp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jp(t);if(e!==null)return e;t=t.sibling}return null}var Fp=tt.unstable_scheduleCallback,rd=tt.unstable_cancelCallback,sy=tt.unstable_shouldYield,oy=tt.unstable_requestPaint,_e=tt.unstable_now,ay=tt.unstable_getCurrentPriorityLevel,Ol=tt.unstable_ImmediatePriority,Vp=tt.unstable_UserBlockingPriority,Ps=tt.unstable_NormalPriority,ly=tt.unstable_LowPriority,zp=tt.unstable_IdlePriority,vo=null,It=null;function uy(t){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(vo,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:fy,dy=Math.log,cy=Math.LN2;function fy(t){return t>>>=0,t===0?32:31-(dy(t)/cy|0)|0}var Xi=64,es=4194304;function ni(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ms(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=ni(u):(s&=o,s!==0&&(r=ni(s)))}else o=n&~i,o!==0?r=ni(o):s!==0&&(r=ni(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wt(e),i=1<<n,r|=t[n],e&=~i;return r}function py(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function my(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wt(s),u=1<<o,c=i[o];c===-1?(!(u&n)||u&r)&&(i[o]=py(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Ga(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gp(){var t=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),t}function Xo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wt(e),t[e]=n}function hy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function $p(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qp,Wl,Hp,Bp,Op,$a=!1,ts=[],fn=null,pn=null,mn=null,xi=new Map,vi=new Map,sn=[],gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(e.pointerId)}}function Jr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$i(e),e!==null&&Wl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yy(t,e,n,r,i){switch(e){case"focusin":return fn=Jr(fn,t,e,n,r,i),!0;case"dragenter":return pn=Jr(pn,t,e,n,r,i),!0;case"mouseover":return mn=Jr(mn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xi.set(s,Jr(xi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vi.set(s,Jr(vi.get(s)||null,t,e,n,r,i)),!0}return!1}function Jp(t){var e=Ln(t.target);if(e!==null){var n=Jn(e);if(n!==null){if(e=n.tag,e===13){if(e=Lp(n),e!==null){t.blockedOn=e,Op(t.priority,function(){Hp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return e=$i(n),e!==null&&Wl(e),t.blockedOn=n,!1;e.shift()}return!0}function sd(t,e,n){gs(t)&&n.delete(e)}function xy(){$a=!1,fn!==null&&gs(fn)&&(fn=null),pn!==null&&gs(pn)&&(pn=null),mn!==null&&gs(mn)&&(mn=null),xi.forEach(sd),vi.forEach(sd)}function Wr(t,e){t.blockedOn===e&&(t.blockedOn=null,$a||($a=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,xy)))}function wi(t){function e(i){return Wr(i,t)}if(0<ts.length){Wr(ts[0],t);for(var n=1;n<ts.length;n++){var r=ts[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fn!==null&&Wr(fn,t),pn!==null&&Wr(pn,t),mn!==null&&Wr(mn,t),xi.forEach(e),vi.forEach(e),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Jp(n),n.blockedOn===null&&sn.shift()}var gr=Yt.ReactCurrentBatchConfig,Ds=!0;function vy(t,e,n,r){var i=ae,s=gr.transition;gr.transition=null;try{ae=1,Yl(t,e,n,r)}finally{ae=i,gr.transition=s}}function wy(t,e,n,r){var i=ae,s=gr.transition;gr.transition=null;try{ae=4,Yl(t,e,n,r)}finally{ae=i,gr.transition=s}}function Yl(t,e,n,r){if(Ds){var i=qa(t,e,n,r);if(i===null)ua(t,e,r,Ls,n),id(t,r);else if(yy(i,t,e,n,r))r.stopPropagation();else if(id(t,r),e&4&&-1<gy.indexOf(t)){for(;i!==null;){var s=$i(i);if(s!==null&&qp(s),s=qa(t,e,n,r),s===null&&ua(t,e,r,Ls,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ua(t,e,r,null,n)}}var Ls=null;function qa(t,e,n,r){if(Ls=null,t=Bl(r),t=Ln(t),t!==null)if(e=Jn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function Wp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ay()){case Ol:return 1;case Vp:return 4;case Ps:case ly:return 16;case zp:return 536870912;default:return 16}default:return 16}}var an=null,Kl=null,ys=null;function Yp(){if(ys)return ys;var t,e=Kl,n=e.length,r,i="value"in an?an.value:an.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ys=i.slice(t,1<r?1-r:void 0)}function xs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function od(){return!1}function it(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ns:od,this.isPropagationStopped=od,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),e}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=it(jr),Gi=ye({},jr,{view:0,detail:0}),_y=it(Gi),ea,ta,Yr,wo=ye({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yr&&(Yr&&t.type==="mousemove"?(ea=t.screenX-Yr.screenX,ta=t.screenY-Yr.screenY):ta=ea=0,Yr=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),ad=it(wo),Sy=ye({},wo,{dataTransfer:0}),Cy=it(Sy),Ny=ye({},Gi,{relatedTarget:0}),na=it(Ny),ky=ye({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ty=it(ky),Ey=ye({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),by=it(Ey),Iy=ye({},jr,{data:0}),ld=it(Iy),Ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function My(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Py[t])?!!e[t]:!1}function Ql(){return My}var Dy=ye({},Gi,{key:function(t){if(t.key){var e=Ay[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ry[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(t){return t.type==="keypress"?xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ly=it(Dy),Uy=ye({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=it(Uy),jy=ye({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),Fy=it(jy),Vy=ye({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zy=it(Vy),Gy=ye({},wo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$y=it(Gy),qy=[9,13,27,32],Xl=$t&&"CompositionEvent"in window,ai=null;$t&&"documentMode"in document&&(ai=document.documentMode);var Hy=$t&&"TextEvent"in window&&!ai,Kp=$t&&(!Xl||ai&&8<ai&&11>=ai),dd=String.fromCharCode(32),cd=!1;function Zp(t,e){switch(t){case"keyup":return qy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nr=!1;function By(t,e){switch(t){case"compositionend":return Qp(e);case"keypress":return e.which!==32?null:(cd=!0,dd);case"textInput":return t=e.data,t===dd&&cd?null:t;default:return null}}function Oy(t,e){if(nr)return t==="compositionend"||!Xl&&Zp(t,e)?(t=Yp(),ys=Kl=an=null,nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kp&&e.locale!=="ko"?null:e.data;default:return null}}var Jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jy[t.type]:e==="textarea"}function Xp(t,e,n,r){Ap(r),e=Us(e,"onChange"),0<e.length&&(n=new Zl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var li=null,_i=null;function Wy(t){dm(t,0)}function _o(t){var e=sr(t);if(Cp(e))return t}function Yy(t,e){if(t==="change")return e}var em=!1;if($t){var ra;if($t){var ia="oninput"in document;if(!ia){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),ia=typeof pd.oninput=="function"}ra=ia}else ra=!1;em=ra&&(!document.documentMode||9<document.documentMode)}function md(){li&&(li.detachEvent("onpropertychange",tm),_i=li=null)}function tm(t){if(t.propertyName==="value"&&_o(_i)){var e=[];Xp(e,_i,t,Bl(t)),Dp(Wy,e)}}function Ky(t,e,n){t==="focusin"?(md(),li=e,_i=n,li.attachEvent("onpropertychange",tm)):t==="focusout"&&md()}function Zy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _o(_i)}function Qy(t,e){if(t==="click")return _o(e)}function Xy(t,e){if(t==="input"||t==="change")return _o(e)}function ex(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:ex;function Si(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ka.call(e,i)||!Ct(t[i],e[i]))return!1}return!0}function hd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gd(t,e){var n=hd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hd(n)}}function nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rm(){for(var t=window,e=Is();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Is(t.document)}return e}function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tx(t){var e=rm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nm(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gd(n,s);var o=gd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nx=$t&&"documentMode"in document&&11>=document.documentMode,rr=null,Ha=null,ui=null,Ba=!1;function yd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ba||rr==null||rr!==Is(r)||(r=rr,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ui&&Si(ui,r)||(ui=r,r=Us(Ha,"onSelect"),0<r.length&&(e=new Zl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rr)))}function rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ir={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},sa={},im={};$t&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function So(t){if(sa[t])return sa[t];if(!ir[t])return t;var e=ir[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in im)return sa[t]=e[n];return t}var sm=So("animationend"),om=So("animationiteration"),am=So("animationstart"),lm=So("transitionend"),um=new Map,xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(t,e){um.set(t,e),On(e,[t])}for(var oa=0;oa<xd.length;oa++){var aa=xd[oa],rx=aa.toLowerCase(),ix=aa[0].toUpperCase()+aa.slice(1);bn(rx,"on"+ix)}bn(sm,"onAnimationEnd");bn(om,"onAnimationIteration");bn(am,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(lm,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function vd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ry(r,e,void 0,t),t.currentTarget=null}function dm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;vd(i,u,f),s=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;vd(i,u,f),s=c}}}if(Rs)throw t=za,Rs=!1,za=null,t}function ue(t,e){var n=e[Ka];n===void 0&&(n=e[Ka]=new Set);var r=t+"__bubble";n.has(r)||(cm(e,t,2,!1),n.add(r))}function la(t,e,n){var r=0;e&&(r|=4),cm(n,t,r,e)}var is="_reactListening"+Math.random().toString(36).slice(2);function Ci(t){if(!t[is]){t[is]=!0,xp.forEach(function(n){n!=="selectionchange"&&(sx.has(n)||la(n,!1,t),la(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[is]||(e[is]=!0,la("selectionchange",!1,e))}}function cm(t,e,n,r){switch(Wp(e)){case 1:var i=vy;break;case 4:i=wy;break;default:i=Yl}n=i.bind(null,e,n,t),i=void 0,!Va||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ua(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ln(u),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}u=u.parentNode}}r=r.return}Dp(function(){var f=s,p=Bl(n),m=[];e:{var h=um.get(t);if(h!==void 0){var w=Zl,C=t;switch(t){case"keypress":if(xs(n)===0)break e;case"keydown":case"keyup":w=Ly;break;case"focusin":C="focus",w=na;break;case"focusout":C="blur",w=na;break;case"beforeblur":case"afterblur":w=na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Fy;break;case sm:case om:case am:w=Ty;break;case lm:w=zy;break;case"scroll":w=_y;break;case"wheel":w=$y;break;case"copy":case"cut":case"paste":w=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ud}var v=(e&4)!==0,S=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=f,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=yi(g,y),_!=null&&v.push(Ni(g,_,x)))),S)break;g=g.return}0<v.length&&(h=new w(h,C,null,n,p),m.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",h&&n!==ja&&(C=n.relatedTarget||n.fromElement)&&(Ln(C)||C[qt]))break e;if((w||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,w?(C=n.relatedTarget||n.toElement,w=f,C=C?Ln(C):null,C!==null&&(S=Jn(C),C!==S||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=f),w!==C)){if(v=ad,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=ud,_="onPointerLeave",y="onPointerEnter",g="pointer"),S=w==null?h:sr(w),x=C==null?h:sr(C),h=new v(_,g+"leave",w,n,p),h.target=S,h.relatedTarget=x,_=null,Ln(p)===f&&(v=new v(y,g+"enter",C,n,p),v.target=x,v.relatedTarget=S,_=v),S=_,w&&C)t:{for(v=w,y=C,g=0,x=v;x;x=Zn(x))g++;for(x=0,_=y;_;_=Zn(_))x++;for(;0<g-x;)v=Zn(v),g--;for(;0<x-g;)y=Zn(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Zn(v),y=Zn(y)}v=null}else v=null;w!==null&&wd(m,h,w,v,!1),C!==null&&S!==null&&wd(m,S,C,v,!0)}}e:{if(h=f?sr(f):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var k=Yy;else if(fd(h))if(em)k=Xy;else{k=Zy;var T=Ky}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Qy);if(k&&(k=k(t,f))){Xp(m,k,n,p);break e}T&&T(t,h,f),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Pa(h,"number",h.value)}switch(T=f?sr(f):window,t){case"focusin":(fd(T)||T.contentEditable==="true")&&(rr=T,Ha=f,ui=null);break;case"focusout":ui=Ha=rr=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,yd(m,n,p);break;case"selectionchange":if(nx)break;case"keydown":case"keyup":yd(m,n,p)}var b;if(Xl)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else nr?Zp(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Kp&&n.locale!=="ko"&&(nr||M!=="onCompositionStart"?M==="onCompositionEnd"&&nr&&(b=Yp()):(an=p,Kl="value"in an?an.value:an.textContent,nr=!0)),T=Us(f,M),0<T.length&&(M=new ld(M,t,null,n,p),m.push({event:M,listeners:T}),b?M.data=b:(b=Qp(n),b!==null&&(M.data=b)))),(b=Hy?By(t,n):Oy(t,n))&&(f=Us(f,"onBeforeInput"),0<f.length&&(p=new ld("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=b))}dm(m,e)})}function Ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Us(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yi(t,n),s!=null&&r.unshift(Ni(t,s,i)),s=yi(t,e),s!=null&&r.push(Ni(t,s,i))),t=t.return}return r}function Zn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=yi(n,s),c!=null&&o.unshift(Ni(n,c,u))):i||(c=yi(n,s),c!=null&&o.push(Ni(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ox=/\r\n?/g,ax=/\u0000|\uFFFD/g;function _d(t){return(typeof t=="string"?t:""+t).replace(ox,`
`).replace(ax,"")}function ss(t,e,n){if(e=_d(e),_d(t)!==e&&n)throw Error(L(425))}function js(){}var Oa=null,Ja=null;function Wa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ya=typeof setTimeout=="function"?setTimeout:void 0,lx=typeof clearTimeout=="function"?clearTimeout:void 0,Sd=typeof Promise=="function"?Promise:void 0,ux=typeof queueMicrotask=="function"?queueMicrotask:typeof Sd<"u"?function(t){return Sd.resolve(null).then(t).catch(dx)}:Ya;function dx(t){setTimeout(function(){throw t})}function da(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wi(e)}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),bt="__reactFiber$"+Fr,ki="__reactProps$"+Fr,qt="__reactContainer$"+Fr,Ka="__reactEvents$"+Fr,cx="__reactListeners$"+Fr,fx="__reactHandles$"+Fr;function Ln(t){var e=t[bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cd(t);t!==null;){if(n=t[bt])return n;t=Cd(t)}return e}t=n,n=t.parentNode}return null}function $i(t){return t=t[bt]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Co(t){return t[ki]||null}var Za=[],or=-1;function In(t){return{current:t}}function ce(t){0>or||(t.current=Za[or],Za[or]=null,or--)}function le(t,e){or++,Za[or]=t.current,t.current=e}var Nn={},Fe=In(Nn),Je=In(!1),zn=Nn;function Cr(t,e){var n=t.type.contextTypes;if(!n)return Nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function We(t){return t=t.childContextTypes,t!=null}function Fs(){ce(Je),ce(Fe)}function Nd(t,e,n){if(Fe.current!==Nn)throw Error(L(168));le(Fe,e),le(Je,n)}function fm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,Kg(t)||"Unknown",i));return ye({},n,r)}function Vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nn,zn=Fe.current,le(Fe,t),le(Je,Je.current),!0}function kd(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=fm(t,e,zn),r.__reactInternalMemoizedMergedChildContext=t,ce(Je),ce(Fe),le(Fe,t)):ce(Je),le(Je,n)}var jt=null,No=!1,ca=!1;function pm(t){jt===null?jt=[t]:jt.push(t)}function px(t){No=!0,pm(t)}function An(){if(!ca&&jt!==null){ca=!0;var t=0,e=ae;try{var n=jt;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jt=null,No=!1}catch(i){throw jt!==null&&(jt=jt.slice(t+1)),Fp(Ol,An),i}finally{ae=e,ca=!1}}return null}var ar=[],lr=0,zs=null,Gs=0,st=[],ot=0,Gn=null,Vt=1,zt="";function Mn(t,e){ar[lr++]=Gs,ar[lr++]=zs,zs=t,Gs=e}function mm(t,e,n){st[ot++]=Vt,st[ot++]=zt,st[ot++]=Gn,Gn=t;var r=Vt;t=zt;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var s=32-wt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vt=1<<32-wt(e)+i|n<<i|r,zt=s+t}else Vt=1<<s|n<<i|r,zt=t}function tu(t){t.return!==null&&(Mn(t,1),mm(t,1,0))}function nu(t){for(;t===zs;)zs=ar[--lr],ar[lr]=null,Gs=ar[--lr],ar[lr]=null;for(;t===Gn;)Gn=st[--ot],st[ot]=null,zt=st[--ot],st[ot]=null,Vt=st[--ot],st[ot]=null}var et=null,Xe=null,pe=!1,vt=null;function hm(t,e){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,et=t,Xe=hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,et=t,Xe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gn!==null?{id:Vt,overflow:zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,et=t,Xe=null,!0):!1;default:return!1}}function Qa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xa(t){if(pe){var e=Xe;if(e){var n=e;if(!Td(t,e)){if(Qa(t))throw Error(L(418));e=hn(n.nextSibling);var r=et;e&&Td(t,e)?hm(r,n):(t.flags=t.flags&-4097|2,pe=!1,et=t)}}else{if(Qa(t))throw Error(L(418));t.flags=t.flags&-4097|2,pe=!1,et=t}}}function Ed(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;et=t}function os(t){if(t!==et)return!1;if(!pe)return Ed(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wa(t.type,t.memoizedProps)),e&&(e=Xe)){if(Qa(t))throw gm(),Error(L(418));for(;e;)hm(t,e),e=hn(e.nextSibling)}if(Ed(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xe=hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xe=null}}else Xe=et?hn(t.stateNode.nextSibling):null;return!0}function gm(){for(var t=Xe;t;)t=hn(t.nextSibling)}function Nr(){Xe=et=null,pe=!1}function ru(t){vt===null?vt=[t]:vt.push(t)}var mx=Yt.ReactCurrentBatchConfig;function Kr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function as(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bd(t){var e=t._init;return e(t._payload)}function ym(t){function e(y,g){if(t){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=vn(y,g),y.index=0,y.sibling=null,y}function s(y,g,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function u(y,g,x,_){return g===null||g.tag!==6?(g=xa(x,y.mode,_),g.return=y,g):(g=i(g,x),g.return=y,g)}function c(y,g,x,_){var k=x.type;return k===tr?p(y,g,x.props.children,_,x.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===tn&&bd(k)===g.type)?(_=i(g,x.props),_.ref=Kr(y,g,x),_.return=y,_):(_=ks(x.type,x.key,x.props,null,y.mode,_),_.ref=Kr(y,g,x),_.return=y,_)}function f(y,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=va(x,y.mode,_),g.return=y,g):(g=i(g,x.children||[]),g.return=y,g)}function p(y,g,x,_,k){return g===null||g.tag!==7?(g=Vn(x,y.mode,_,k),g.return=y,g):(g=i(g,x),g.return=y,g)}function m(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xa(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ki:return x=ks(g.type,g.key,g.props,null,y.mode,x),x.ref=Kr(y,null,g),x.return=y,x;case er:return g=va(g,y.mode,x),g.return=y,g;case tn:var _=g._init;return m(y,_(g._payload),x)}if(ti(g)||Br(g))return g=Vn(g,y.mode,x,null),g.return=y,g;as(y,g)}return null}function h(y,g,x,_){var k=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:u(y,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ki:return x.key===k?c(y,g,x,_):null;case er:return x.key===k?f(y,g,x,_):null;case tn:return k=x._init,h(y,g,k(x._payload),_)}if(ti(x)||Br(x))return k!==null?null:p(y,g,x,_,null);as(y,x)}return null}function w(y,g,x,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,u(g,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ki:return y=y.get(_.key===null?x:_.key)||null,c(g,y,_,k);case er:return y=y.get(_.key===null?x:_.key)||null,f(g,y,_,k);case tn:var T=_._init;return w(y,g,x,T(_._payload),k)}if(ti(_)||Br(_))return y=y.get(x)||null,p(g,y,_,k,null);as(g,_)}return null}function C(y,g,x,_){for(var k=null,T=null,b=g,M=g=0,j=null;b!==null&&M<x.length;M++){b.index>M?(j=b,b=null):j=b.sibling;var E=h(y,b,x[M],_);if(E===null){b===null&&(b=j);break}t&&b&&E.alternate===null&&e(y,b),g=s(E,g,M),T===null?k=E:T.sibling=E,T=E,b=j}if(M===x.length)return n(y,b),pe&&Mn(y,M),k;if(b===null){for(;M<x.length;M++)b=m(y,x[M],_),b!==null&&(g=s(b,g,M),T===null?k=b:T.sibling=b,T=b);return pe&&Mn(y,M),k}for(b=r(y,b);M<x.length;M++)j=w(b,y,M,x[M],_),j!==null&&(t&&j.alternate!==null&&b.delete(j.key===null?M:j.key),g=s(j,g,M),T===null?k=j:T.sibling=j,T=j);return t&&b.forEach(function(R){return e(y,R)}),pe&&Mn(y,M),k}function v(y,g,x,_){var k=Br(x);if(typeof k!="function")throw Error(L(150));if(x=k.call(x),x==null)throw Error(L(151));for(var T=k=null,b=g,M=g=0,j=null,E=x.next();b!==null&&!E.done;M++,E=x.next()){b.index>M?(j=b,b=null):j=b.sibling;var R=h(y,b,E.value,_);if(R===null){b===null&&(b=j);break}t&&b&&R.alternate===null&&e(y,b),g=s(R,g,M),T===null?k=R:T.sibling=R,T=R,b=j}if(E.done)return n(y,b),pe&&Mn(y,M),k;if(b===null){for(;!E.done;M++,E=x.next())E=m(y,E.value,_),E!==null&&(g=s(E,g,M),T===null?k=E:T.sibling=E,T=E);return pe&&Mn(y,M),k}for(b=r(y,b);!E.done;M++,E=x.next())E=w(b,y,M,E.value,_),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?M:E.key),g=s(E,g,M),T===null?k=E:T.sibling=E,T=E);return t&&b.forEach(function(I){return e(y,I)}),pe&&Mn(y,M),k}function S(y,g,x,_){if(typeof x=="object"&&x!==null&&x.type===tr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ki:e:{for(var k=x.key,T=g;T!==null;){if(T.key===k){if(k=x.type,k===tr){if(T.tag===7){n(y,T.sibling),g=i(T,x.props.children),g.return=y,y=g;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===tn&&bd(k)===T.type){n(y,T.sibling),g=i(T,x.props),g.ref=Kr(y,T,x),g.return=y,y=g;break e}n(y,T);break}else e(y,T);T=T.sibling}x.type===tr?(g=Vn(x.props.children,y.mode,_,x.key),g.return=y,y=g):(_=ks(x.type,x.key,x.props,null,y.mode,_),_.ref=Kr(y,g,x),_.return=y,y=_)}return o(y);case er:e:{for(T=x.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(y,g.sibling),g=i(g,x.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=va(x,y.mode,_),g.return=y,y=g}return o(y);case tn:return T=x._init,S(y,g,T(x._payload),_)}if(ti(x))return C(y,g,x,_);if(Br(x))return v(y,g,x,_);as(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,x),g.return=y,y=g):(n(y,g),g=xa(x,y.mode,_),g.return=y,y=g),o(y)):n(y,g)}return S}var kr=ym(!0),xm=ym(!1),$s=In(null),qs=null,ur=null,iu=null;function su(){iu=ur=qs=null}function ou(t){var e=$s.current;ce($s),t._currentValue=e}function el(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yr(t,e){qs=t,iu=ur=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function pt(t){var e=t._currentValue;if(iu!==t)if(t={context:t,memoizedValue:e,next:null},ur===null){if(qs===null)throw Error(L(308));ur=t,qs.dependencies={lanes:0,firstContext:t}}else ur=ur.next=t;return e}var Un=null;function au(t){Un===null?Un=[t]:Un.push(t)}function vm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,au(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ht(t,r)}function Ht(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nn=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ht(t,n)}return i=r.interleaved,i===null?(e.next=e,au(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ht(t,n)}function vs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jl(t,n)}}function Id(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hs(t,e,n,r){var i=t.updateQueue;nn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,o===null?s=f:o.next=f,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==o&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,p=f=c=null,u=s;do{var h=u.lane,w=u.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=t,v=u;switch(h=e,w=n,v.tag){case 1:if(C=v.payload,typeof C=="function"){m=C.call(w,m,h);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=v.payload,h=typeof C=="function"?C.call(w,m,h):C,h==null)break e;m=ye({},m,h);break e;case 2:nn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[u]:h.push(u))}else w={eventTime:w,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=w,c=m):p=p.next=w,o|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;h=u,u=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qn|=o,t.lanes=o,t.memoizedState=m}}function Ad(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var qi={},At=In(qi),Ti=In(qi),Ei=In(qi);function jn(t){if(t===qi)throw Error(L(174));return t}function uu(t,e){switch(le(Ei,e),le(Ti,t),le(At,qi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Da(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Da(e,t)}ce(At),le(At,e)}function Tr(){ce(At),ce(Ti),ce(Ei)}function _m(t){jn(Ei.current);var e=jn(At.current),n=Da(e,t.type);e!==n&&(le(Ti,t),le(At,n))}function du(t){Ti.current===t&&(ce(At),ce(Ti))}var me=In(0);function Bs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fa=[];function cu(){for(var t=0;t<fa.length;t++)fa[t]._workInProgressVersionPrimary=null;fa.length=0}var ws=Yt.ReactCurrentDispatcher,pa=Yt.ReactCurrentBatchConfig,$n=0,he=null,Ne=null,Te=null,Os=!1,di=!1,bi=0,hx=0;function De(){throw Error(L(321))}function fu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function pu(t,e,n,r,i,s){if($n=s,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ws.current=t===null||t.memoizedState===null?vx:wx,t=n(r,i),di){s=0;do{if(di=!1,bi=0,25<=s)throw Error(L(301));s+=1,Te=Ne=null,e.updateQueue=null,ws.current=_x,t=n(r,i)}while(di)}if(ws.current=Js,e=Ne!==null&&Ne.next!==null,$n=0,Te=Ne=he=null,Os=!1,e)throw Error(L(300));return t}function mu(){var t=bi!==0;return bi=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?he.memoizedState=Te=t:Te=Te.next=t,Te}function mt(){if(Ne===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Te===null?he.memoizedState:Te.next;if(e!==null)Te=e,Ne=t;else{if(t===null)throw Error(L(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Te===null?he.memoizedState=Te=t:Te=Te.next=t}return Te}function Ii(t,e){return typeof e=="function"?e(t):e}function ma(t){var e=mt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,c=null,f=s;do{var p=f.lane;if(($n&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=m,o=r):c=c.next=m,he.lanes|=p,qn|=p}f=f.next}while(f!==null&&f!==s);c===null?o=r:c.next=u,Ct(r,e.memoizedState)||(Oe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,he.lanes|=s,qn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ha(t){var e=mt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ct(s,e.memoizedState)||(Oe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sm(){}function Cm(t,e){var n=he,r=mt(),i=e(),s=!Ct(r.memoizedState,i);if(s&&(r.memoizedState=i,Oe=!0),r=r.queue,hu(Tm.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Ai(9,km.bind(null,n,r,i,e),void 0,null),Ee===null)throw Error(L(349));$n&30||Nm(n,e,i)}return i}function Nm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function km(t,e,n,r){e.value=n,e.getSnapshot=r,Em(e)&&bm(t)}function Tm(t,e,n){return n(function(){Em(e)&&bm(t)})}function Em(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ct(t,n)}catch{return!0}}function bm(t){var e=Ht(t,1);e!==null&&_t(e,t,1,-1)}function Rd(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},e.queue=t,t=t.dispatch=xx.bind(null,he,t),[e.memoizedState,t]}function Ai(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Im(){return mt().memoizedState}function _s(t,e,n,r){var i=Et();he.flags|=t,i.memoizedState=Ai(1|e,n,void 0,r===void 0?null:r)}function ko(t,e,n,r){var i=mt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,r!==null&&fu(r,o.deps)){i.memoizedState=Ai(e,n,s,r);return}}he.flags|=t,i.memoizedState=Ai(1|e,n,s,r)}function Pd(t,e){return _s(8390656,8,t,e)}function hu(t,e){return ko(2048,8,t,e)}function Am(t,e){return ko(4,2,t,e)}function Rm(t,e){return ko(4,4,t,e)}function Pm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mm(t,e,n){return n=n!=null?n.concat([t]):null,ko(4,4,Pm.bind(null,e,t),n)}function gu(){}function Dm(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lm(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Um(t,e,n){return $n&21?(Ct(n,e)||(n=Gp(),he.lanes|=n,qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=n)}function gx(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=pa.transition;pa.transition={};try{t(!1),e()}finally{ae=n,pa.transition=r}}function jm(){return mt().memoizedState}function yx(t,e,n){var r=xn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fm(t))Vm(e,n);else if(n=vm(t,e,n,r),n!==null){var i=ze();_t(n,t,r,i),zm(n,e,r)}}function xx(t,e,n){var r=xn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fm(t))Vm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,Ct(u,o)){var c=e.interleaved;c===null?(i.next=i,au(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=vm(t,e,i,r),n!==null&&(i=ze(),_t(n,t,r,i),zm(n,e,r))}}function Fm(t){var e=t.alternate;return t===he||e!==null&&e===he}function Vm(t,e){di=Os=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jl(t,n)}}var Js={readContext:pt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},vx={readContext:pt,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:pt,useEffect:Pd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_s(4194308,4,Pm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _s(4194308,4,t,e)},useInsertionEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var n=Et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yx.bind(null,he,t),[r.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:Rd,useDebugValue:gu,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=Rd(!1),e=t[0];return t=gx.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=he,i=Et();if(pe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Ee===null)throw Error(L(349));$n&30||Nm(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Pd(Tm.bind(null,r,s,t),[t]),r.flags|=2048,Ai(9,km.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Et(),e=Ee.identifierPrefix;if(pe){var n=zt,r=Vt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wx={readContext:pt,useCallback:Dm,useContext:pt,useEffect:hu,useImperativeHandle:Mm,useInsertionEffect:Am,useLayoutEffect:Rm,useMemo:Lm,useReducer:ma,useRef:Im,useState:function(){return ma(Ii)},useDebugValue:gu,useDeferredValue:function(t){var e=mt();return Um(e,Ne.memoizedState,t)},useTransition:function(){var t=ma(Ii)[0],e=mt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:Cm,useId:jm,unstable_isNewReconciler:!1},_x={readContext:pt,useCallback:Dm,useContext:pt,useEffect:hu,useImperativeHandle:Mm,useInsertionEffect:Am,useLayoutEffect:Rm,useMemo:Lm,useReducer:ha,useRef:Im,useState:function(){return ha(Ii)},useDebugValue:gu,useDeferredValue:function(t){var e=mt();return Ne===null?e.memoizedState=t:Um(e,Ne.memoizedState,t)},useTransition:function(){var t=ha(Ii)[0],e=mt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:Cm,useId:jm,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var To={isMounted:function(t){return(t=t._reactInternals)?Jn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ze(),i=xn(t),s=Gt(r,i);s.payload=e,n!=null&&(s.callback=n),e=gn(t,s,i),e!==null&&(_t(e,t,i,r),vs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ze(),i=xn(t),s=Gt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gn(t,s,i),e!==null&&(_t(e,t,i,r),vs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ze(),r=xn(t),i=Gt(n,r);i.tag=2,e!=null&&(i.callback=e),e=gn(t,i,r),e!==null&&(_t(e,t,r,n),vs(e,t,r))}};function Md(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Si(n,r)||!Si(i,s):!0}function Gm(t,e,n){var r=!1,i=Nn,s=e.contextType;return typeof s=="object"&&s!==null?s=pt(s):(i=We(e)?zn:Fe.current,r=e.contextTypes,s=(r=r!=null)?Cr(t,i):Nn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=To,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&To.enqueueReplaceState(e,e.state,null)}function nl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},lu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pt(s):(s=We(e)?zn:Fe.current,i.context=Cr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&To.enqueueReplaceState(i,i.state,null),Hs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Er(t,e){try{var n="",r=e;do n+=Yg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ga(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sx=typeof WeakMap=="function"?WeakMap:Map;function $m(t,e,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ys||(Ys=!0,pl=r),rl(t,e)},n}function qm(t,e,n){n=Gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rl(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rl(t,e),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ld(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ux.bind(null,t,e,n),e.then(t,t))}function Ud(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gt(-1,1),e.tag=2,gn(n,e,1))),n.lanes|=1),t)}var Cx=Yt.ReactCurrentOwner,Oe=!1;function Ve(t,e,n,r){e.child=t===null?xm(e,null,n,r):kr(e,t.child,n,r)}function Fd(t,e,n,r,i){n=n.render;var s=e.ref;return yr(e,i),r=pu(t,e,n,r,s,i),n=mu(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bt(t,e,i)):(pe&&n&&tu(e),e.flags|=1,Ve(t,e,r,i),e.child)}function Vd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Nu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Hm(t,e,s,r,i)):(t=ks(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Si,n(o,r)&&t.ref===e.ref)return Bt(t,e,i)}return e.flags|=1,t=vn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Hm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Si(s,r)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Bt(t,e,i)}return il(t,e,n,r,i)}function Bm(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(cr,Qe),Qe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(cr,Qe),Qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(cr,Qe),Qe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,le(cr,Qe),Qe|=r;return Ve(t,e,i,n),e.child}function Om(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function il(t,e,n,r,i){var s=We(n)?zn:Fe.current;return s=Cr(e,s),yr(e,i),n=pu(t,e,n,r,s,i),r=mu(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bt(t,e,i)):(pe&&r&&tu(e),e.flags|=1,Ve(t,e,n,i),e.child)}function zd(t,e,n,r,i){if(We(n)){var s=!0;Vs(e)}else s=!1;if(yr(e,i),e.stateNode===null)Ss(t,e),Gm(e,n,r),nl(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=pt(f):(f=We(n)?zn:Fe.current,f=Cr(e,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==f)&&Dd(e,o,r,f),nn=!1;var h=e.memoizedState;o.state=h,Hs(e,r,o,i),c=e.memoizedState,u!==r||h!==c||Je.current||nn?(typeof p=="function"&&(tl(e,n,p,r),c=e.memoizedState),(u=nn||Md(e,n,u,r,h,c,f))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=f,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wm(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:yt(e.type,u),o.props=f,m=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=pt(c):(c=We(n)?zn:Fe.current,c=Cr(e,c));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==m||h!==c)&&Dd(e,o,r,c),nn=!1,h=e.memoizedState,o.state=h,Hs(e,r,o,i);var C=e.memoizedState;u!==m||h!==C||Je.current||nn?(typeof w=="function"&&(tl(e,n,w,r),C=e.memoizedState),(f=nn||Md(e,n,f,r,h,C,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=c,r=f):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return sl(t,e,n,r,s,i)}function sl(t,e,n,r,i,s){Om(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kd(e,n,!1),Bt(t,e,s);r=e.stateNode,Cx.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kr(e,t.child,null,s),e.child=kr(e,null,u,s)):Ve(t,e,u,s),e.memoizedState=r.state,i&&kd(e,n,!0),e.child}function Jm(t){var e=t.stateNode;e.pendingContext?Nd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nd(t,e.context,!1),uu(t,e.containerInfo)}function Gd(t,e,n,r,i){return Nr(),ru(i),e.flags|=256,Ve(t,e,n,r),e.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function al(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wm(t,e,n){var r=e.pendingProps,i=me.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(me,i&1),t===null)return Xa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Io(o,r,0,null),t=Vn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=al(n),e.memoizedState=ol,t):yu(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Nx(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=vn(u,s):(s=Vn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?al(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ol,r}return s=t.child,t=s.sibling,r=vn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yu(t,e){return e=Io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ls(t,e,n,r){return r!==null&&ru(r),kr(e,t.child,null,n),t=yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nx(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ga(Error(L(422))),ls(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Io({mode:"visible",children:r.children},i,0,null),s=Vn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&kr(e,t.child,null,o),e.child.memoizedState=al(o),e.memoizedState=ol,s);if(!(e.mode&1))return ls(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(L(419)),r=ga(s,r,void 0),ls(t,e,o,r)}if(u=(o&t.childLanes)!==0,Oe||u){if(r=Ee,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ht(t,i),_t(r,t,i,-1))}return Cu(),r=ga(Error(L(421))),ls(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xe=hn(i.nextSibling),et=e,pe=!0,vt=null,t!==null&&(st[ot++]=Vt,st[ot++]=zt,st[ot++]=Gn,Vt=t.id,zt=t.overflow,Gn=e),e=yu(e,r.children),e.flags|=4096,e)}function $d(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),el(t.return,e,n)}function ya(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ym(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ve(t,e,r.children,n),r=me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$d(t,n,e);else if(t.tag===19)$d(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ya(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ya(e,!0,n,null,s);break;case"together":ya(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ss(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kx(t,e,n){switch(e.tag){case 3:Jm(e),Nr();break;case 5:_m(e);break;case 1:We(e.type)&&Vs(e);break;case 4:uu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;le($s,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?Wm(t,e,n):(le(me,me.current&1),t=Bt(t,e,n),t!==null?t.sibling:null);le(me,me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ym(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(me,me.current),r)break;return null;case 22:case 23:return e.lanes=0,Bm(t,e,n)}return Bt(t,e,n)}var Km,ll,Zm,Qm;Km=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ll=function(){};Zm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jn(At.current);var s=null;switch(n){case"input":i=Aa(t,i),r=Aa(t,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=Ma(t,i),r=Ma(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=js)}La(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(hi.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(hi.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ue("scroll",t),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};Qm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zr(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Tx(t,e,n){var r=e.pendingProps;switch(nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return We(e.type)&&Fs(),Le(e),null;case 3:return r=e.stateNode,Tr(),ce(Je),ce(Fe),cu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vt!==null&&(gl(vt),vt=null))),ll(t,e),Le(e),null;case 5:du(e);var i=jn(Ei.current);if(n=e.type,t!==null&&e.stateNode!=null)Zm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return Le(e),null}if(t=jn(At.current),os(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[bt]=e,r[ki]=s,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<ri.length;i++)ue(ri[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Zu(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Xu(r,s),ue("invalid",r)}La(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&ss(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ss(r.textContent,u,t),i=["children",""+u]):hi.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":Zi(r),Qu(r,s,!0);break;case"textarea":Zi(r),ed(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=js)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bt]=e,t[ki]=r,Km(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ua(n,r),n){case"dialog":ue("cancel",t),ue("close",t),i=r;break;case"iframe":case"object":case"embed":ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<ri.length;i++)ue(ri[i],t);i=r;break;case"source":ue("error",t),i=r;break;case"img":case"image":case"link":ue("error",t),ue("load",t),i=r;break;case"details":ue("toggle",t),i=r;break;case"input":Zu(t,r),i=Aa(t,r),ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),ue("invalid",t);break;case"textarea":Xu(t,r),i=Ma(t,r),ue("invalid",t);break;default:i=r}La(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?Ip(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ep(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gi(t,c):typeof c=="number"&&gi(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hi.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ue("scroll",t):c!=null&&Gl(t,s,c,o))}switch(n){case"input":Zi(t),Qu(t,r,!1);break;case"textarea":Zi(t),ed(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pr(t,!!r.multiple,s,!1):r.defaultValue!=null&&pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Le(e),null;case 6:if(t&&e.stateNode!=null)Qm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=jn(Ei.current),jn(At.current),os(e)){if(r=e.stateNode,n=e.memoizedProps,r[bt]=e,(s=r.nodeValue!==n)&&(t=et,t!==null))switch(t.tag){case 3:ss(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ss(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=e,e.stateNode=r}return Le(e),null;case 13:if(ce(me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&Xe!==null&&e.mode&1&&!(e.flags&128))gm(),Nr(),e.flags|=98560,s=!1;else if(s=os(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[bt]=e}else Nr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),s=!1}else vt!==null&&(gl(vt),vt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?ke===0&&(ke=3):Cu())),e.updateQueue!==null&&(e.flags|=4),Le(e),null);case 4:return Tr(),ll(t,e),t===null&&Ci(e.stateNode.containerInfo),Le(e),null;case 10:return ou(e.type._context),Le(e),null;case 17:return We(e.type)&&Fs(),Le(e),null;case 19:if(ce(me),s=e.memoizedState,s===null)return Le(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zr(s,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bs(t),o!==null){for(e.flags|=128,Zr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(me,me.current&1|2),e.child}t=t.sibling}s.tail!==null&&_e()>br&&(e.flags|=128,r=!0,Zr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Bs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return Le(e),null}else 2*_e()-s.renderingStartTime>br&&n!==1073741824&&(e.flags|=128,r=!0,Zr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_e(),e.sibling=null,n=me.current,le(me,r?n&1|2:n&1),e):(Le(e),null);case 22:case 23:return Su(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qe&1073741824&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function Ex(t,e){switch(nu(e),e.tag){case 1:return We(e.type)&&Fs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tr(),ce(Je),ce(Fe),cu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return du(e),null;case 13:if(ce(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Nr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(me),null;case 4:return Tr(),null;case 10:return ou(e.type._context),null;case 22:case 23:return Su(),null;case 24:return null;default:return null}}var us=!1,Ue=!1,bx=typeof WeakSet=="function"?WeakSet:Set,$=null;function dr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function ul(t,e,n){try{n()}catch(r){ve(t,e,r)}}var qd=!1;function Ix(t,e){if(Oa=Ds,t=rm(),eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,f=0,p=0,m=t,h=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(u=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)h=m,m=w;for(;;){if(m===t)break t;if(h===n&&++f===i&&(u=o),h===s&&++p===r&&(c=o),(w=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=w}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ja={focusedElem:t,selectionRange:n},Ds=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var v=C.memoizedProps,S=C.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:yt(e.type,v),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){ve(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return C=qd,qd=!1,C}function ci(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ul(e,n,s)}i=i.next}while(i!==r)}}function Eo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xm(t){var e=t.alternate;e!==null&&(t.alternate=null,Xm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[ki],delete e[Ka],delete e[cx],delete e[fx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eh(t){return t.tag===5||t.tag===3||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=js));else if(r!==4&&(t=t.child,t!==null))for(cl(t,e,n),t=t.sibling;t!==null;)cl(t,e,n),t=t.sibling}function fl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fl(t,e,n),t=t.sibling;t!==null;)fl(t,e,n),t=t.sibling}var Ae=null,xt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)th(t,e,n),n=n.sibling}function th(t,e,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(vo,n)}catch{}switch(n.tag){case 5:Ue||dr(n,e);case 6:var r=Ae,i=xt;Ae=null,Xt(t,e,n),Ae=r,xt=i,Ae!==null&&(xt?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(xt?(t=Ae,n=n.stateNode,t.nodeType===8?da(t.parentNode,n):t.nodeType===1&&da(t,n),wi(t)):da(Ae,n.stateNode));break;case 4:r=Ae,i=xt,Ae=n.stateNode.containerInfo,xt=!0,Xt(t,e,n),Ae=r,xt=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ul(n,e,o),i=i.next}while(i!==r)}Xt(t,e,n);break;case 1:if(!Ue&&(dr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ve(n,e,u)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,Xt(t,e,n),Ue=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function Bd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bx),e.forEach(function(r){var i=Fx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Ae=u.stateNode,xt=!1;break e;case 3:Ae=u.stateNode.containerInfo,xt=!0;break e;case 4:Ae=u.stateNode.containerInfo,xt=!0;break e}u=u.return}if(Ae===null)throw Error(L(160));th(s,o,i),Ae=null,xt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ve(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nh(e,t),e=e.sibling}function nh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),Tt(t),r&4){try{ci(3,t,t.return),Eo(3,t)}catch(v){ve(t,t.return,v)}try{ci(5,t,t.return)}catch(v){ve(t,t.return,v)}}break;case 1:gt(e,t),Tt(t),r&512&&n!==null&&dr(n,n.return);break;case 5:if(gt(e,t),Tt(t),r&512&&n!==null&&dr(n,n.return),t.flags&32){var i=t.stateNode;try{gi(i,"")}catch(v){ve(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Np(i,s),Ua(u,o);var f=Ua(u,s);for(o=0;o<c.length;o+=2){var p=c[o],m=c[o+1];p==="style"?Ip(i,m):p==="dangerouslySetInnerHTML"?Ep(i,m):p==="children"?gi(i,m):Gl(i,p,m,f)}switch(u){case"input":Ra(i,s);break;case"textarea":kp(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?pr(i,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?pr(i,!!s.multiple,s.defaultValue,!0):pr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ki]=s}catch(v){ve(t,t.return,v)}}break;case 6:if(gt(e,t),Tt(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ve(t,t.return,v)}}break;case 3:if(gt(e,t),Tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(e.containerInfo)}catch(v){ve(t,t.return,v)}break;case 4:gt(e,t),Tt(t);break;case 13:gt(e,t),Tt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wu=_e())),r&4&&Bd(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ue=(f=Ue)||p,gt(e,t),Ue=f):gt(e,t),Tt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for($=t,p=t.child;p!==null;){for(m=$=p;$!==null;){switch(h=$,w=h.child,h.tag){case 0:case 11:case 14:case 15:ci(4,h,h.return);break;case 1:dr(h,h.return);var C=h.stateNode;if(typeof C.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(v){ve(r,n,v)}}break;case 5:dr(h,h.return);break;case 22:if(h.memoizedState!==null){Jd(m);continue}}w!==null?(w.return=h,$=w):Jd(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=bp("display",o))}catch(v){ve(t,t.return,v)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(v){ve(t,t.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gt(e,t),Tt(t),r&4&&Bd(t);break;case 21:break;default:gt(e,t),Tt(t)}}function Tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eh(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gi(i,""),r.flags&=-33);var s=Hd(t);fl(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Hd(t);cl(t,u,o);break;default:throw Error(L(161))}}catch(c){ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ax(t,e,n){$=t,rh(t)}function rh(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||us;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Ue;u=us;var f=Ue;if(us=o,(Ue=c)&&!f)for($=i;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Wd(i):c!==null?(c.return=o,$=c):Wd(i);for(;s!==null;)$=s,rh(s),s=s.sibling;$=i,us=u,Ue=f}Od(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):Od(t)}}function Od(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ue||Eo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ad(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ad(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&wi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ue||e.flags&512&&dl(e)}catch(h){ve(e,e.return,h)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Jd(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Wd(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eo(4,e)}catch(c){ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ve(e,i,c)}}var s=e.return;try{dl(e)}catch(c){ve(e,s,c)}break;case 5:var o=e.return;try{dl(e)}catch(c){ve(e,o,c)}}}catch(c){ve(e,e.return,c)}if(e===t){$=null;break}var u=e.sibling;if(u!==null){u.return=e.return,$=u;break}$=e.return}}var Rx=Math.ceil,Ws=Yt.ReactCurrentDispatcher,xu=Yt.ReactCurrentOwner,dt=Yt.ReactCurrentBatchConfig,ne=0,Ee=null,Ce=null,Pe=0,Qe=0,cr=In(0),ke=0,Ri=null,qn=0,bo=0,vu=0,fi=null,Be=null,wu=0,br=1/0,Ut=null,Ys=!1,pl=null,yn=null,ds=!1,ln=null,Ks=0,pi=0,ml=null,Cs=-1,Ns=0;function ze(){return ne&6?_e():Cs!==-1?Cs:Cs=_e()}function xn(t){return t.mode&1?ne&2&&Pe!==0?Pe&-Pe:mx.transition!==null?(Ns===0&&(Ns=Gp()),Ns):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Wp(t.type)),t):1}function _t(t,e,n,r){if(50<pi)throw pi=0,ml=null,Error(L(185));zi(t,n,r),(!(ne&2)||t!==Ee)&&(t===Ee&&(!(ne&2)&&(bo|=n),ke===4&&on(t,Pe)),Ye(t,r),n===1&&ne===0&&!(e.mode&1)&&(br=_e()+500,No&&An()))}function Ye(t,e){var n=t.callbackNode;my(t,e);var r=Ms(t,t===Ee?Pe:0);if(r===0)n!==null&&rd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rd(n),e===1)t.tag===0?px(Yd.bind(null,t)):pm(Yd.bind(null,t)),ux(function(){!(ne&6)&&An()}),n=null;else{switch($p(r)){case 1:n=Ol;break;case 4:n=Vp;break;case 16:n=Ps;break;case 536870912:n=zp;break;default:n=Ps}n=ch(n,ih.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ih(t,e){if(Cs=-1,Ns=0,ne&6)throw Error(L(327));var n=t.callbackNode;if(xr()&&t.callbackNode!==n)return null;var r=Ms(t,t===Ee?Pe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zs(t,r);else{e=r;var i=ne;ne|=2;var s=oh();(Ee!==t||Pe!==e)&&(Ut=null,br=_e()+500,Fn(t,e));do try{Dx();break}catch(u){sh(t,u)}while(1);su(),Ws.current=s,ne=i,Ce!==null?e=0:(Ee=null,Pe=0,e=ke)}if(e!==0){if(e===2&&(i=Ga(t),i!==0&&(r=i,e=hl(t,i))),e===1)throw n=Ri,Fn(t,0),on(t,r),Ye(t,_e()),n;if(e===6)on(t,r);else{if(i=t.current.alternate,!(r&30)&&!Px(i)&&(e=Zs(t,r),e===2&&(s=Ga(t),s!==0&&(r=s,e=hl(t,s))),e===1))throw n=Ri,Fn(t,0),on(t,r),Ye(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Dn(t,Be,Ut);break;case 3:if(on(t,r),(r&130023424)===r&&(e=wu+500-_e(),10<e)){if(Ms(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ya(Dn.bind(null,t,Be,Ut),e);break}Dn(t,Be,Ut);break;case 4:if(on(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rx(r/1960))-r,10<r){t.timeoutHandle=Ya(Dn.bind(null,t,Be,Ut),r);break}Dn(t,Be,Ut);break;case 5:Dn(t,Be,Ut);break;default:throw Error(L(329))}}}return Ye(t,_e()),t.callbackNode===n?ih.bind(null,t):null}function hl(t,e){var n=fi;return t.current.memoizedState.isDehydrated&&(Fn(t,e).flags|=256),t=Zs(t,e),t!==2&&(e=Be,Be=n,e!==null&&gl(e)),t}function gl(t){Be===null?Be=t:Be.push.apply(Be,t)}function Px(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ct(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function on(t,e){for(e&=~vu,e&=~bo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wt(e),r=1<<n;t[n]=-1,e&=~r}}function Yd(t){if(ne&6)throw Error(L(327));xr();var e=Ms(t,0);if(!(e&1))return Ye(t,_e()),null;var n=Zs(t,e);if(t.tag!==0&&n===2){var r=Ga(t);r!==0&&(e=r,n=hl(t,r))}if(n===1)throw n=Ri,Fn(t,0),on(t,e),Ye(t,_e()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dn(t,Be,Ut),Ye(t,_e()),null}function _u(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(br=_e()+500,No&&An())}}function Hn(t){ln!==null&&ln.tag===0&&!(ne&6)&&xr();var e=ne;ne|=1;var n=dt.transition,r=ae;try{if(dt.transition=null,ae=1,t)return t()}finally{ae=r,dt.transition=n,ne=e,!(ne&6)&&An()}}function Su(){Qe=cr.current,ce(cr)}function Fn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lx(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:Tr(),ce(Je),ce(Fe),cu();break;case 5:du(r);break;case 4:Tr();break;case 13:ce(me);break;case 19:ce(me);break;case 10:ou(r.type._context);break;case 22:case 23:Su()}n=n.return}if(Ee=t,Ce=t=vn(t.current,null),Pe=Qe=e,ke=0,Ri=null,vu=bo=qn=0,Be=fi=null,Un!==null){for(e=0;e<Un.length;e++)if(n=Un[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Un=null}return t}function sh(t,e){do{var n=Ce;try{if(su(),ws.current=Js,Os){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Os=!1}if($n=0,Te=Ne=he=null,di=!1,bi=0,xu.current=null,n===null||n.return===null){ke=1,Ri=e,Ce=null;break}e:{var s=t,o=n.return,u=n,c=e;if(e=Pe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=Ud(o);if(w!==null){w.flags&=-257,jd(w,o,u,s,e),w.mode&1&&Ld(s,f,e),e=w,c=f;var C=e.updateQueue;if(C===null){var v=new Set;v.add(c),e.updateQueue=v}else C.add(c);break e}else{if(!(e&1)){Ld(s,f,e),Cu();break e}c=Error(L(426))}}else if(pe&&u.mode&1){var S=Ud(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),jd(S,o,u,s,e),ru(Er(c,u));break e}}s=c=Er(c,u),ke!==4&&(ke=2),fi===null?fi=[s]:fi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=$m(s,c,e);Id(s,y);break e;case 1:u=c;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yn===null||!yn.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=qm(s,u,e);Id(s,_);break e}}s=s.return}while(s!==null)}lh(n)}catch(k){e=k,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function oh(){var t=Ws.current;return Ws.current=Js,t===null?Js:t}function Cu(){(ke===0||ke===3||ke===2)&&(ke=4),Ee===null||!(qn&268435455)&&!(bo&268435455)||on(Ee,Pe)}function Zs(t,e){var n=ne;ne|=2;var r=oh();(Ee!==t||Pe!==e)&&(Ut=null,Fn(t,e));do try{Mx();break}catch(i){sh(t,i)}while(1);if(su(),ne=n,Ws.current=r,Ce!==null)throw Error(L(261));return Ee=null,Pe=0,ke}function Mx(){for(;Ce!==null;)ah(Ce)}function Dx(){for(;Ce!==null&&!sy();)ah(Ce)}function ah(t){var e=dh(t.alternate,t,Qe);t.memoizedProps=t.pendingProps,e===null?lh(t):Ce=e,xu.current=null}function lh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ex(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,Ce=null;return}}else if(n=Tx(n,e,Qe),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);ke===0&&(ke=5)}function Dn(t,e,n){var r=ae,i=dt.transition;try{dt.transition=null,ae=1,Lx(t,e,n,r)}finally{dt.transition=i,ae=r}return null}function Lx(t,e,n,r){do xr();while(ln!==null);if(ne&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hy(t,s),t===Ee&&(Ce=Ee=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ds||(ds=!0,ch(Ps,function(){return xr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dt.transition,dt.transition=null;var o=ae;ae=1;var u=ne;ne|=4,xu.current=null,Ix(t,n),nh(n,t),tx(Ja),Ds=!!Oa,Ja=Oa=null,t.current=n,Ax(n),oy(),ne=u,ae=o,dt.transition=s}else t.current=n;if(ds&&(ds=!1,ln=t,Ks=i),s=t.pendingLanes,s===0&&(yn=null),uy(n.stateNode),Ye(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ys)throw Ys=!1,t=pl,pl=null,t;return Ks&1&&t.tag!==0&&xr(),s=t.pendingLanes,s&1?t===ml?pi++:(pi=0,ml=t):pi=0,An(),null}function xr(){if(ln!==null){var t=$p(Ks),e=dt.transition,n=ae;try{if(dt.transition=null,ae=16>t?16:t,ln===null)var r=!1;else{if(t=ln,ln=null,Ks=0,ne&6)throw Error(L(331));var i=ne;for(ne|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for($=f;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:ci(8,p,s)}var m=p.child;if(m!==null)m.return=p,$=m;else for(;$!==null;){p=$;var h=p.sibling,w=p.return;if(Xm(p),p===f){$=null;break}if(h!==null){h.return=w,$=h;break}$=w}}}var C=s.alternate;if(C!==null){var v=C.child;if(v!==null){C.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ci(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,$=y;break e}$=s.return}}var g=t.current;for($=g;$!==null;){o=$;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,$=x;else e:for(o=g;$!==null;){if(u=$,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Eo(9,u)}}catch(k){ve(u,u.return,k)}if(u===o){$=null;break e}var _=u.sibling;if(_!==null){_.return=u.return,$=_;break e}$=u.return}}if(ne=i,An(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(vo,t)}catch{}r=!0}return r}finally{ae=n,dt.transition=e}}return!1}function Kd(t,e,n){e=Er(n,e),e=$m(t,e,1),t=gn(t,e,1),e=ze(),t!==null&&(zi(t,1,e),Ye(t,e))}function ve(t,e,n){if(t.tag===3)Kd(t,t,n);else for(;e!==null;){if(e.tag===3){Kd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){t=Er(n,t),t=qm(e,t,1),e=gn(e,t,1),t=ze(),e!==null&&(zi(e,1,t),Ye(e,t));break}}e=e.return}}function Ux(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ze(),t.pingedLanes|=t.suspendedLanes&n,Ee===t&&(Pe&n)===n&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>_e()-wu?Fn(t,0):vu|=n),Ye(t,e)}function uh(t,e){e===0&&(t.mode&1?(e=es,es<<=1,!(es&130023424)&&(es=4194304)):e=1);var n=ze();t=Ht(t,e),t!==null&&(zi(t,e,n),Ye(t,n))}function jx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uh(t,n)}function Fx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),uh(t,n)}var dh;dh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Je.current)Oe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oe=!1,kx(t,e,n);Oe=!!(t.flags&131072)}else Oe=!1,pe&&e.flags&1048576&&mm(e,Gs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ss(t,e),t=e.pendingProps;var i=Cr(e,Fe.current);yr(e,n),i=pu(null,e,r,t,i,n);var s=mu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,We(r)?(s=!0,Vs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lu(e),i.updater=To,e.stateNode=i,i._reactInternals=e,nl(e,r,t,n),e=sl(null,e,r,!0,s,n)):(e.tag=0,pe&&s&&tu(e),Ve(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ss(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zx(r),t=yt(r,t),i){case 0:e=il(null,e,r,t,n);break e;case 1:e=zd(null,e,r,t,n);break e;case 11:e=Fd(null,e,r,t,n);break e;case 14:e=Vd(null,e,r,yt(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),il(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),zd(t,e,r,i,n);case 3:e:{if(Jm(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wm(t,e),Hs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Er(Error(L(423)),e),e=Gd(t,e,r,n,i);break e}else if(r!==i){i=Er(Error(L(424)),e),e=Gd(t,e,r,n,i);break e}else for(Xe=hn(e.stateNode.containerInfo.firstChild),et=e,pe=!0,vt=null,n=xm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===i){e=Bt(t,e,n);break e}Ve(t,e,r,n)}e=e.child}return e;case 5:return _m(e),t===null&&Xa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wa(r,i)?o=null:s!==null&&Wa(r,s)&&(e.flags|=32),Om(t,e),Ve(t,e,o,n),e.child;case 6:return t===null&&Xa(e),null;case 13:return Wm(t,e,n);case 4:return uu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kr(e,null,r,n):Ve(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),Fd(t,e,r,i,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,le($s,r._currentValue),r._currentValue=o,s!==null)if(Ct(s.value,o)){if(s.children===i.children&&!Je.current){e=Bt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Gt(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),el(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),el(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ve(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yr(e,n),i=pt(i),r=r(i),e.flags|=1,Ve(t,e,r,n),e.child;case 14:return r=e.type,i=yt(r,e.pendingProps),i=yt(r.type,i),Vd(t,e,r,i,n);case 15:return Hm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),Ss(t,e),e.tag=1,We(r)?(t=!0,Vs(e)):t=!1,yr(e,n),Gm(e,r,i),nl(e,r,i,n),sl(null,e,r,!0,t,n);case 19:return Ym(t,e,n);case 22:return Bm(t,e,n)}throw Error(L(156,e.tag))};function ch(t,e){return Fp(t,e)}function Vx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(t,e,n,r){return new Vx(t,e,n,r)}function Nu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zx(t){if(typeof t=="function")return Nu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ql)return 11;if(t===Hl)return 14}return 2}function vn(t,e){var n=t.alternate;return n===null?(n=at(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ks(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Nu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tr:return Vn(n.children,i,s,e);case $l:o=8,i|=8;break;case Ta:return t=at(12,n,e,i|2),t.elementType=Ta,t.lanes=s,t;case Ea:return t=at(13,n,e,i),t.elementType=Ea,t.lanes=s,t;case ba:return t=at(19,n,e,i),t.elementType=ba,t.lanes=s,t;case _p:return Io(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vp:o=10;break e;case wp:o=9;break e;case ql:o=11;break e;case Hl:o=14;break e;case tn:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=at(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vn(t,e,n,r){return t=at(7,t,r,e),t.lanes=n,t}function Io(t,e,n,r){return t=at(22,t,r,e),t.elementType=_p,t.lanes=n,t.stateNode={isHidden:!1},t}function xa(t,e,n){return t=at(6,t,null,e),t.lanes=n,t}function va(t,e,n){return e=at(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ku(t,e,n,r,i,s,o,u,c){return t=new Gx(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=at(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(s),t}function $x(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fh(t){if(!t)return Nn;t=t._reactInternals;e:{if(Jn(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(We(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(We(n))return fm(t,n,e)}return e}function ph(t,e,n,r,i,s,o,u,c){return t=ku(n,r,!0,t,i,s,o,u,c),t.context=fh(null),n=t.current,r=ze(),i=xn(n),s=Gt(r,i),s.callback=e??null,gn(n,s,i),t.current.lanes=i,zi(t,i,r),Ye(t,r),t}function Ao(t,e,n,r){var i=e.current,s=ze(),o=xn(i);return n=fh(n),e.context===null?e.context=n:e.pendingContext=n,e=Gt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gn(i,e,o),t!==null&&(_t(t,i,o,s),vs(t,i,o)),o}function Qs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tu(t,e){Zd(t,e),(t=t.alternate)&&Zd(t,e)}function qx(){return null}var mh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eu(t){this._internalRoot=t}Ro.prototype.render=Eu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Ao(t,e,null,null)};Ro.prototype.unmount=Eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hn(function(){Ao(null,t,null,null)}),e[qt]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sn.length&&e!==0&&e<sn[n].priority;n++);sn.splice(n,0,t),n===0&&Jp(t)}};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Po(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function Hx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Qs(o);s.call(f)}}var o=ph(e,r,t,0,null,!1,!1,"",Qd);return t._reactRootContainer=o,t[qt]=o.current,Ci(t.nodeType===8?t.parentNode:t),Hn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Qs(c);u.call(f)}}var c=ku(t,0,!1,null,null,!1,!1,"",Qd);return t._reactRootContainer=c,t[qt]=c.current,Ci(t.nodeType===8?t.parentNode:t),Hn(function(){Ao(e,c,n,r)}),c}function Mo(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=Qs(o);u.call(c)}}Ao(e,o,t,i)}else o=Hx(n,e,t,i,r);return Qs(o)}qp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ni(e.pendingLanes);n!==0&&(Jl(e,n|1),Ye(e,_e()),!(ne&6)&&(br=_e()+500,An()))}break;case 13:Hn(function(){var r=Ht(t,1);if(r!==null){var i=ze();_t(r,t,1,i)}}),Tu(t,1)}};Wl=function(t){if(t.tag===13){var e=Ht(t,134217728);if(e!==null){var n=ze();_t(e,t,134217728,n)}Tu(t,134217728)}};Hp=function(t){if(t.tag===13){var e=xn(t),n=Ht(t,e);if(n!==null){var r=ze();_t(n,t,e,r)}Tu(t,e)}};Bp=function(){return ae};Op=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Fa=function(t,e,n){switch(e){case"input":if(Ra(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Co(r);if(!i)throw Error(L(90));Cp(r),Ra(r,i)}}}break;case"textarea":kp(t,n);break;case"select":e=n.value,e!=null&&pr(t,!!n.multiple,e,!1)}};Pp=_u;Mp=Hn;var Bx={usingClientEntryPoint:!1,Events:[$i,sr,Co,Ap,Rp,_u]},Qr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ox={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Up(t),t===null?null:t.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance||qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{vo=cs.inject(Ox),It=cs}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(e))throw Error(L(200));return $x(t,e,null,n)};rt.createRoot=function(t,e){if(!bu(t))throw Error(L(299));var n=!1,r="",i=mh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ku(t,1,!1,null,null,n,!1,r,i),t[qt]=e.current,Ci(t.nodeType===8?t.parentNode:t),new Eu(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Up(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return Hn(t)};rt.hydrate=function(t,e,n){if(!Po(e))throw Error(L(200));return Mo(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!bu(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ph(e,null,t,1,n??null,i,!1,s,o),t[qt]=e.current,Ci(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ro(e)};rt.render=function(t,e,n){if(!Po(e))throw Error(L(200));return Mo(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!Po(t))throw Error(L(40));return t._reactRootContainer?(Hn(function(){Mo(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};rt.unstable_batchedUpdates=_u;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Po(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Mo(t,e,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hh)}catch(t){console.error(t)}}hh(),hp.exports=rt;var Jx=hp.exports,Xd=Jx;Na.createRoot=Xd.createRoot,Na.hydrateRoot=Xd.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pi.apply(this,arguments)}var un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(un||(un={}));const ec="popstate";function Wx(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:u="",hash:c=""}=Wn(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),yl("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof s=="string"?s:Xs(s))}function r(i,s){Do(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Kx(e,n,r,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Do(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yx(){return Math.random().toString(36).substr(2,8)}function tc(t,e){return{usr:t.state,key:t.key,idx:e}}function yl(t,e,n,r){return n===void 0&&(n=null),Pi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wn(e):e,{state:n,key:e&&e.key||r||Yx()})}function Xs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Kx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=un.Pop,c=null,f=p();f==null&&(f=0,o.replaceState(Pi({},o.state,{idx:f}),""));function p(){return(o.state||{idx:null}).idx}function m(){u=un.Pop;let S=p(),y=S==null?null:S-f;f=S,c&&c({action:u,location:v.location,delta:y})}function h(S,y){u=un.Push;let g=yl(v.location,S,y);n&&n(g,S),f=p()+1;let x=tc(g,f),_=v.createHref(g);try{o.pushState(x,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(_)}s&&c&&c({action:u,location:v.location,delta:1})}function w(S,y){u=un.Replace;let g=yl(v.location,S,y);n&&n(g,S),f=p();let x=tc(g,f),_=v.createHref(g);o.replaceState(x,"",_),s&&c&&c({action:u,location:v.location,delta:0})}function C(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:Xs(S);return g=g.replace(/ $/,"%20"),ge(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let v={get action(){return u},get location(){return t(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ec,m),c=S,()=>{i.removeEventListener(ec,m),c=null}},createHref(S){return e(i,S)},createURL:C,encodeLocation(S){let y=C(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:w,go(S){return o.go(S)}};return v}var nc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nc||(nc={}));function Zx(t,e,n){return n===void 0&&(n="/"),Qx(t,e,n,!1)}function Qx(t,e,n,r){let i=typeof e=="string"?Wn(e):e,s=Ir(i.pathname||"/",n);if(s==null)return null;let o=gh(t);Xx(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let f=d0(s);u=l0(o[c],f,r)}return u}function gh(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ge(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=wn([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),gh(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:o0(f,s.index),routesMeta:p})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let c of yh(s.path))i(s,o,c)}),e}function yh(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yh(r.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function Xx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a0(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e0=/^:[\w-]+$/,t0=3,n0=2,r0=1,i0=10,s0=-2,rc=t=>t==="*";function o0(t,e){let n=t.split("/"),r=n.length;return n.some(rc)&&(r+=s0),e&&(r+=n0),n.filter(i=>!rc(i)).reduce((i,s)=>i+(e0.test(s)?t0:s===""?r0:i0),r)}function a0(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l0(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=eo({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),h=c.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=eo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:wn([s,m.pathname]),pathnameBase:h0(wn([s,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(s=wn([s,m.pathnameBase]))}return o}function eo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u0(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:h,isOptional:w}=p;if(h==="*"){let v=u[m]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const C=u[m];return w&&!C?f[h]=void 0:f[h]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:t}}function u0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Do(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Do(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ir(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const c0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f0=t=>c0.test(t);function p0(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wn(t):t,s;if(n)if(f0(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Do(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=ic(n.substring(1),"/"):s=ic(n,e)}else s=e;return{pathname:s,search:g0(r),hash:y0(i)}}function ic(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wa(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iu(t,e){let n=m0(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Au(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wn(t):(i=Pi({},t),ge(!i.pathname||!i.pathname.includes("?"),wa("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),wa("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),wa("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;i.pathname=h.join("/")}u=m>=0?e[m]:"/"}let c=p0(i,u),f=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const wn=t=>t.join("/").replace(/\/\/+/g,"/"),h0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xh=["post","put","patch","delete"];new Set(xh);const v0=["get",...xh];new Set(v0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mi.apply(this,arguments)}const Lo=N.createContext(null),vh=N.createContext(null),Kt=N.createContext(null),Uo=N.createContext(null),Pt=N.createContext({outlet:null,matches:[],isDataRoute:!1}),wh=N.createContext(null);function w0(t,e){let{relative:n}=e===void 0?{}:e;Vr()||ge(!1);let{basename:r,navigator:i}=N.useContext(Kt),{hash:s,pathname:o,search:u}=jo(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:wn([r,o])),i.createHref({pathname:c,search:u,hash:s})}function Vr(){return N.useContext(Uo)!=null}function Yn(){return Vr()||ge(!1),N.useContext(Uo).location}function _h(t){N.useContext(Kt).static||N.useLayoutEffect(t)}function zr(){let{isDataRoute:t}=N.useContext(Pt);return t?L0():_0()}function _0(){Vr()||ge(!1);let t=N.useContext(Lo),{basename:e,future:n,navigator:r}=N.useContext(Kt),{matches:i}=N.useContext(Pt),{pathname:s}=Yn(),o=JSON.stringify(Iu(i,n.v7_relativeSplatPath)),u=N.useRef(!1);return _h(()=>{u.current=!0}),N.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let m=Au(f,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:wn([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,o,s,t])}const S0=N.createContext(null);function C0(t){let e=N.useContext(Pt).outlet;return e&&N.createElement(S0.Provider,{value:t},e)}function Ru(){let{matches:t}=N.useContext(Pt),e=t[t.length-1];return e?e.params:{}}function jo(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Kt),{matches:i}=N.useContext(Pt),{pathname:s}=Yn(),o=JSON.stringify(Iu(i,r.v7_relativeSplatPath));return N.useMemo(()=>Au(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function N0(t,e){return k0(t,e)}function k0(t,e,n,r){Vr()||ge(!1);let{navigator:i}=N.useContext(Kt),{matches:s}=N.useContext(Pt),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let f=Yn(),p;if(e){var m;let S=typeof e=="string"?Wn(e):e;c==="/"||(m=S.pathname)!=null&&m.startsWith(c)||ge(!1),p=S}else p=f;let h=p.pathname||"/",w=h;if(c!=="/"){let S=c.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=Zx(t,{pathname:w}),v=A0(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:wn([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:wn([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&v?N.createElement(Uo.Provider,{value:{location:Mi({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:un.Pop}},v):v}function T0(){let t=D0(),e=x0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,s)}const E0=N.createElement(T0,null);class b0 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Pt.Provider,{value:this.props.routeContext},N.createElement(wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I0(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Lo);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Pt.Provider,{value:e},r)}function A0(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||ge(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:h,errors:w}=n,C=m.route.loader&&h[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||C){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,m,h)=>{let w,C=!1,v=null,S=null;n&&(w=u&&m.route.id?u[m.route.id]:void 0,v=m.route.errorElement||E0,c&&(f<0&&h===0?(U0("route-fallback",!1),C=!0,S=null):f===h&&(C=!0,S=m.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),g=()=>{let x;return w?x=v:C?x=S:m.route.Component?x=N.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=p,N.createElement(I0,{match:m,routeContext:{outlet:p,matches:y,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?N.createElement(b0,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Sh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sh||{}),to=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(to||{});function R0(t){let e=N.useContext(Lo);return e||ge(!1),e}function P0(t){let e=N.useContext(vh);return e||ge(!1),e}function M0(t){let e=N.useContext(Pt);return e||ge(!1),e}function Ch(t){let e=M0(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function D0(){var t;let e=N.useContext(wh),n=P0(to.UseRouteError),r=Ch(to.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function L0(){let{router:t}=R0(Sh.UseNavigateStable),e=Ch(to.UseNavigateStable),n=N.useRef(!1);return _h(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mi({fromRouteId:e},s)))},[t,e])}const sc={};function U0(t,e,n){!e&&!sc[t]&&(sc[t]=!0)}function j0(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function F0(t){let{to:e,replace:n,state:r,relative:i}=t;Vr()||ge(!1);let{future:s,static:o}=N.useContext(Kt),{matches:u}=N.useContext(Pt),{pathname:c}=Yn(),f=zr(),p=Au(e,Iu(u,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return N.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:i}),[f,m,i,n,r]),null}function V0(t){return C0(t.context)}function Ze(t){ge(!1)}function z0(t){let{basename:e="/",children:n=null,location:r,navigationType:i=un.Pop,navigator:s,static:o=!1,future:u}=t;Vr()&&ge(!1);let c=e.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:c,navigator:s,static:o,future:Mi({v7_relativeSplatPath:!1},u)}),[c,u,s,o]);typeof r=="string"&&(r=Wn(r));let{pathname:p="/",search:m="",hash:h="",state:w=null,key:C="default"}=r,v=N.useMemo(()=>{let S=Ir(p,c);return S==null?null:{location:{pathname:S,search:m,hash:h,state:w,key:C},navigationType:i}},[c,p,m,h,w,C,i]);return v==null?null:N.createElement(Kt.Provider,{value:f},N.createElement(Uo.Provider,{children:n,value:v}))}function G0(t){let{children:e,location:n}=t;return N0(xl(e),n)}new Promise(()=>{});function xl(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,xl(r.props.children,s));return}r.type!==Ze&&ge(!1),!r.props.index||!r.props.children||ge(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xl(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(this,arguments)}function Nh(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q0(t,e){return t.button===0&&(!e||e==="_self")&&!$0(t)}function vl(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function H0(t,e){let n=vl(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const B0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],J0="6";try{window.__reactRouterVersion=J0}catch{}const W0=N.createContext({isTransitioning:!1}),Y0="startTransition",oc=Ug[Y0];function K0(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=Wx({window:i,v5Compat:!0}));let o=s.current,[u,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},p=N.useCallback(m=>{f&&oc?oc(()=>c(m)):c(m)},[c,f]);return N.useLayoutEffect(()=>o.listen(p),[o,p]),N.useEffect(()=>j0(r),[r]),N.createElement(z0,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const Z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:c,to:f,preventScrollReset:p,viewTransition:m}=e,h=Nh(e,B0),{basename:w}=N.useContext(Kt),C,v=!1;if(typeof f=="string"&&Q0.test(f)&&(C=f,Z0))try{let x=new URL(window.location.href),_=f.startsWith("//")?new URL(x.protocol+f):new URL(f),k=Ir(_.pathname,w);_.origin===x.origin&&k!=null?f=k+_.search+_.hash:v=!0}catch{}let S=w0(f,{relative:i}),y=tv(f,{replace:o,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function g(x){r&&r(x),x.defaultPrevented||y(x)}return N.createElement("a",no({},h,{href:C||S,onClick:v||s?r:g,ref:n,target:c}))}),X0=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:f,children:p}=e,m=Nh(e,O0),h=jo(c,{relative:m.relative}),w=Yn(),C=N.useContext(vh),{navigator:v,basename:S}=N.useContext(Kt),y=C!=null&&rv(h)&&f===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,x=w.pathname,_=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(x=x.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase()),_&&S&&(_=Ir(_,S)||_);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let T=x===g||!o&&x.startsWith(g)&&x.charAt(k)==="/",b=_!=null&&(_===g||!o&&_.startsWith(g)&&_.charAt(g.length)==="/"),M={isActive:T,isPending:b,isTransitioning:y},j=T?r:void 0,E;typeof s=="function"?E=s(M):E=[s,T?"active":null,b?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(M):u;return N.createElement(Ge,no({},m,{"aria-current":j,className:E,ref:n,style:R,to:c,viewTransition:f}),typeof p=="function"?p(M):p)});var wl;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wl||(wl={}));var ac;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ac||(ac={}));function ev(t){let e=N.useContext(Lo);return e||ge(!1),e}function tv(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:u}=e===void 0?{}:e,c=zr(),f=Yn(),p=jo(t,{relative:o});return N.useCallback(m=>{if(q0(m,n)){m.preventDefault();let h=r!==void 0?r:Xs(f)===Xs(p);c(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[f,c,p,r,i,n,t,s,o,u])}function nv(t){let e=N.useRef(vl(t)),n=N.useRef(!1),r=Yn(),i=N.useMemo(()=>H0(r.search,n.current?null:e.current),[r.search]),s=zr(),o=N.useCallback((u,c)=>{const f=vl(typeof u=="function"?u(i):u);n.current=!0,s("?"+f,c)},[s,i]);return[i,o]}function rv(t,e){e===void 0&&(e={});let n=N.useContext(W0);n==null&&ge(!1);let{basename:r}=ev(wl.useViewTransitionState),i=jo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ir(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ir(n.nextLocation.pathname,r)||n.nextLocation.pathname;return eo(i.pathname,o)!=null||eo(i.pathname,s)!=null}var iv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:u,...c},f)=>N.createElement("svg",{ref:f,...iv,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${sv(t)}`,...c},[...e.map(([p,m])=>N.createElement(p,m)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n},kh=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Th=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Hi=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ov=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Fo=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Eh=F("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),av=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),_a=F("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),Pu=F("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),bh=F("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),lv=F("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Vo=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),uv=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),dv=F("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ih=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),lc=F("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ro=F("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ah=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),cv=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),fv=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Rh=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),pv=F("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]),mv=F("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),hv=F("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),uc=F("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),gv=F("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Bi=F("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),yv=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),xv=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),vv=F("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),kn=F("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Di=F("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),wv=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_v=F("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Ph=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Sv=F("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Cv=F("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Nv=F("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),zo=F("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),kv=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Tv=F("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Ev=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Mu=F("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),bv=F("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Mh=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Iv=F("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),lt=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Av=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Rv=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Du=F("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Pv=F("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Mv=F("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Dv=F("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ct=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),io=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Lv=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Uv=F("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),Go=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),jv=F("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),Fv=F("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),so=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Vv=F("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),dc=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Ot=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),cc=F("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),zv=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),oo=F("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Gv=F("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),$v=F("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),qv=F("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),$o=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Hv=F("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Ar=F("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Li=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Lu=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dh=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Bv=F("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Ke=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ov=F("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Jv=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Wv=()=>{const t=[{icon:Mu,label:"Dashboard",path:"/"},{icon:bh,label:"Projects",path:"/projects"},{icon:Ot,label:"Studio",path:"/studio"},{icon:Du,label:"Moodboard",path:"/moodboard"},{icon:Dh,label:"Roster",path:"/freelancers"},{icon:Vo,label:"Schedule",path:"/assignments"},{icon:Li,label:"Import",path:"/imports"}];return a.jsxs("div",{className:"flex h-screen bg-app font-sans text-ink-primary overflow-hidden selection:bg-primary selection:text-white",children:[a.jsxs("aside",{className:"w-64 flex-shrink-0 hidden md:flex flex-col h-full border-r border-border-subtle bg-surface/80 backdrop-blur-xl z-50 relative transition-all duration-300",children:[a.jsx("div",{className:"h-20 flex flex-col justify-center px-6",children:a.jsxs("div",{className:"flex items-center gap-3 group cursor-default",children:[a.jsxs("div",{className:"relative w-8 h-8 bg-ink-primary text-white rounded-lg flex items-center justify-center shadow-card group-hover:shadow-glow transition-all duration-500 ease-out group-hover:-translate-y-0.5 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-rival-gradient opacity-0 group-hover:opacity-20 rounded-lg transition-opacity duration-500"}),a.jsx("div",{className:"w-2 h-2 bg-white rounded-full shadow-sm relative z-10"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-display font-bold text-lg tracking-tight text-ink-primary leading-none",children:"Studio."}),a.jsx("span",{className:"font-mono font-medium text-[9px] text-ink-tertiary uppercase tracking-widest mt-0.5",children:"Pro v.2.0"})]})]})}),a.jsxs("div",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto custom-scrollbar",children:[a.jsx("div",{className:"px-4 mb-4 text-xs font-semibold text-ink-tertiary uppercase tracking-wide opacity-60",children:"Operations"}),t.map(e=>a.jsx(X0,{to:e.path,className:({isActive:n})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative ${n?"bg-white shadow-sm text-ink-primary ring-1 ring-black/5":"text-ink-secondary hover:bg-subtle/60 hover:text-ink-primary"}`,children:({isActive:n})=>a.jsxs(a.Fragment,{children:[n&&a.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-8 w-1 rounded-r-full bg-ink-primary"}),a.jsx(e.icon,{size:20,strokeWidth:n?2.5:2,className:`transition-colors duration-200 ${n?"text-ink-primary":"text-ink-tertiary group-hover:text-ink-primary"}`}),a.jsx("span",{className:"relative z-10",children:e.label})]})},e.path))]}),a.jsxs("div",{className:"p-6 mx-2 mb-2 border-t border-border-subtle/50 space-y-2",children:[a.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-ink-secondary hover:text-ink-primary hover:bg-subtle/50 transition-all duration-200 active:scale-[0.98]",children:[a.jsx(so,{size:20,strokeWidth:2}),"System Config"]}),a.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-ink-secondary hover:text-state-danger hover:bg-state-danger-bg/30 transition-all duration-200 active:scale-[0.98]",children:[a.jsx(Rv,{size:20,strokeWidth:2}),"Disconnect"]})]})]}),a.jsxs("div",{className:"md:hidden fixed top-0 w-full bg-surface/90 backdrop-blur-xl border-b border-border-subtle h-16 z-50 flex items-center px-6 justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-display font-bold text-lg tracking-tight text-ink-primary",children:"Studio."}),a.jsx("div",{className:"w-8 h-8 bg-ink-primary text-white rounded-lg flex items-center justify-center shadow-sm",children:a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),a.jsx("button",{className:"p-2 text-ink-tertiary",children:a.jsx(so,{size:20})})]}),a.jsx("main",{className:"flex-1 h-full overflow-y-auto overflow-x-hidden relative scroll-smooth",children:a.jsx("div",{className:"min-h-full pb-24 md:pb-12 pt-20 md:pt-0",children:a.jsx(V0,{})})})]})},Yv=({onLogin:t})=>{const[e,n]=N.useState(!1),[r,i]=N.useState(!1);N.useEffect(()=>{if(!e)return;const o=window.setTimeout(()=>{i(!0)},5e3);return()=>window.clearTimeout(o)},[e]);const s=async(o=!1)=>{n(!0),i(!1);try{await t(o?"FORCE_OFFLINE":"alice@studio.com")}catch{n(!1),setTimeout(()=>i(!0),200)}};return a.jsxs("div",{className:"min-h-screen bg-canvas flex flex-col justify-center items-center relative overflow-hidden font-sans selection:bg-ink selection:text-white",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#E2E8F0_1px,transparent_1px)] [background-size:32px_32px] opacity-40 pointer-events-none"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-white rounded-full blur-3xl opacity-60 pointer-events-none"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-enter",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-16",children:[a.jsx("h1",{className:"text-6xl font-semibold tracking-tighter text-ink",children:"Studio."}),a.jsx("div",{className:"w-20 h-20 bg-ink text-white rounded-3xl flex items-center justify-center shadow-elevation transition-transform duration-500 hover:scale-105 cursor-default",children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow-sm"})})]}),a.jsx("button",{onClick:()=>s(!1),disabled:e,className:"group relative px-12 py-4 bg-ink text-white rounded-xl text-xs font-bold uppercase tracking-wide shadow-lg hover:shadow-xl hover:-translate-y-[2px] transition-all duration-200 disabled:opacity-70 disabled:translate-y-0 disabled:shadow-none min-w-[200px] active:scale-[0.98]",children:a.jsx("span",{className:"flex items-center justify-center gap-3",children:e?a.jsx("span",{className:"animate-pulse",children:"Authenticating..."}):a.jsxs(a.Fragment,{children:["Enter ",a.jsx(Fo,{size:16,className:"opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-200 -ml-2 group-hover:ml-0"})]})})}),r&&a.jsxs("button",{onClick:()=>s(!0),className:"mt-6 flex items-center gap-2 text-xs text-rose-600 hover:text-rose-800 bg-rose-50 hover:bg-rose-100 px-4 py-2 rounded-lg transition-colors font-medium animate-in fade-in slide-in-from-top-2",children:[a.jsx(Th,{size:14})," Force Offline Entry"]})]}),a.jsxs("div",{className:"absolute bottom-12 flex flex-col items-center gap-2 opacity-30",children:[a.jsx("div",{className:"h-8 w-px bg-ink"}),a.jsx("span",{className:"text-[9px] font-bold text-ink uppercase tracking-widest",children:"System Ready"})]})]})};var ut=(t=>(t.PLANNED="Planned",t.IN_PROGRESS="In Progress",t.REVIEW="Review",t.DELIVERED="Delivered",t.ARCHIVED="Archived",t))(ut||{}),St=(t=>(t.LOW="Low",t.NORMAL="Normal",t.HIGH="High",t.URGENT="Urgent",t))(St||{}),Ft=(t=>(t.ACTIVE="Active",t.INACTIVE="Inactive",t.ARCHIVED="Archived",t))(Ft||{});const Kv=({text:t})=>{const e=t.split(/(```[\s\S]*?```)/g);return a.jsx("div",{className:"text-sm leading-relaxed text-gray-700 space-y-2",children:e.map((n,r)=>{if(n.startsWith("```")){const i=n.slice(3,-3);return a.jsx("div",{className:"bg-gray-900 text-gray-100 p-3 rounded-md font-mono text-xs my-2 overflow-x-auto custom-scrollbar",children:a.jsx("pre",{children:i})},r)}return a.jsx("p",{className:"whitespace-pre-wrap",children:n},r)})})},Lh=({freelancers:t,projects:e,assignments:n,contextData:r,agentMode:i,customTitle:s})=>{const[o,u]=N.useState([]),[c,f]=N.useState(""),[p,m]=N.useState(!1),[h,w]=N.useState([]),C=N.useRef(null),v=N.useRef(null);N.useEffect(()=>{var x;(x=C.current)==null||x.scrollIntoView({behavior:"smooth"})},[o]);const S=x=>{x.target.files&&w(_=>[..._,...Array.from(x.target.files||[])])},y=x=>{w(_=>_.filter((k,T)=>T!==x))},g=async()=>{if(!c.trim()&&h.length===0||p)return;const x={role:"user",parts:[{text:c}],files:h.map(T=>T.name)};u(T=>[...T,x]),f(""),m(!0);const _=new FormData;_.append("message",c);const k={freelancers:t,projects:e,assignments:n,additionalContext:r};_.append("context",JSON.stringify(k)),h.forEach(T=>{_.append("files",T)}),w([]);try{const T=await fetch("/api/ai/chat",{method:"POST",body:_});if(!T.ok)throw new Error("Failed to fetch response");const b=await T.json();b.toolCalls,u(M=>[...M,{role:"model",parts:[{text:b.response}]}])}catch(T){console.error(T);const b=T instanceof Error?T.message:"I'm having trouble connecting right now.";u(M=>[...M,{role:"model",parts:[{text:`Error: ${b}`}]}])}finally{m(!1)}};return a.jsxs("div",{className:`flex flex-col h-full bg-white ${i?"":"rounded-2xl border border-border-subtle shadow-sm"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-border-subtle flex justify-between items-center bg-subtle/30",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary-tint/20 text-primary rounded-lg flex items-center justify-center",children:a.jsx(_a,{size:18})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-ink-primary",children:s||"Studio Intelligence"}),a.jsxs("div",{className:"text-[10px] text-ink-secondary font-medium flex items-center gap-1",children:[a.jsx(Ot,{size:10,className:"text-edge-teal"})," Gemini 2.0 Flash"]})]})]}),i&&a.jsx("button",{className:"text-ink-tertiary hover:text-ink-primary transition-colors",children:a.jsx(Gv,{size:16})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-app/30",children:[o.length===0&&a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-card flex items-center justify-center mb-6 text-primary",children:a.jsx(Ot,{size:32,strokeWidth:1.5})}),a.jsx("h3",{className:"text-lg font-display font-bold text-ink-primary mb-2",children:"Studio Intelligence"}),a.jsx("p",{className:"text-sm text-ink-secondary max-w-xs mb-8 leading-relaxed",children:"I can help analyze project data, draft communications, or find the perfect freelancer for your next campaign."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-md",children:["Draft a project brief","Find available designers","Summarize active campaigns","Check production timeline"].map((x,_)=>a.jsx("button",{onClick:()=>f(x),className:"text-xs font-medium text-ink-secondary bg-white border border-border-subtle px-4 py-3 rounded-xl hover:border-primary hover:text-primary hover:shadow-sm transition-all text-left",children:x},_))})]}),o.map((x,_)=>a.jsxs("div",{className:`flex gap-4 ${x.role==="user"?"flex-row-reverse":""} animate-enter`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm ${x.role==="user"?"bg-ink-primary text-white":"bg-white border border-border-subtle text-primary"}`,children:x.role==="user"?a.jsx(Lu,{size:14}):a.jsx(_a,{size:14})}),a.jsxs("div",{className:"max-w-[80%] space-y-2",children:[a.jsx("div",{className:`rounded-2xl p-5 text-sm leading-relaxed shadow-sm ${x.role==="user"?"bg-ink-primary text-white rounded-tr-sm":"bg-white border border-border-subtle text-ink-primary rounded-tl-sm"}`,children:a.jsx(Kv,{text:x.parts[0].text||""})}),x.files&&x.files.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:x.files.map((k,T)=>a.jsxs("div",{className:"text-[10px] bg-subtle text-ink-secondary px-2 py-1 rounded-md flex items-center gap-1 border border-border-subtle font-medium",children:[a.jsx(kn,{size:10})," ",k]},T))})]})]},_)),p&&a.jsxs("div",{className:"flex gap-4 animate-enter",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-white border border-border-subtle text-primary flex items-center justify-center flex-shrink-0 shadow-sm",children:a.jsx(_a,{size:14})}),a.jsxs("div",{className:"bg-white border border-border-subtle rounded-2xl rounded-tl-sm p-4 flex items-center gap-3 shadow-sm",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),a.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce"})]}),a.jsx("span",{className:"text-xs font-medium text-ink-tertiary uppercase tracking-wide",children:"Analyzing"})]})]}),a.jsx("div",{ref:C})]}),a.jsxs("div",{className:"p-4 border-t border-border-subtle bg-white",children:[h.length>0&&a.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-1 custom-scrollbar",children:h.map((x,_)=>a.jsxs("div",{className:"flex items-center gap-2 bg-primary-tint/20 text-primary px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap border border-primary/20",children:[a.jsx(kn,{size:12}),a.jsx("span",{className:"max-w-[100px] truncate",children:x.name}),a.jsx("button",{onClick:()=>y(_),className:"hover:text-ink-primary transition-colors",children:a.jsx(Ke,{size:12})})]},_))}),a.jsxs("div",{className:"relative flex gap-3 items-end",children:[a.jsx("button",{onClick:()=>{var x;return(x=v.current)==null?void 0:x.click()},className:"p-3 text-ink-tertiary hover:text-primary hover:bg-subtle rounded-xl transition-all h-[46px] w-[46px] flex items-center justify-center",children:a.jsx(Mv,{size:20})}),a.jsx("input",{type:"file",multiple:!0,ref:v,className:"hidden",onChange:S}),a.jsxs("div",{className:"relative flex-1 group",children:[a.jsx("div",{className:"absolute inset-0 bg-primary/5 rounded-xl scale-95 opacity-0 group-focus-within:scale-100 group-focus-within:opacity-100 transition-all duration-300 -z-10"}),a.jsx("input",{className:"w-full pl-4 pr-12 py-3 bg-app/50 border border-border-subtle rounded-xl text-sm focus:outline-none focus:border-primary focus:bg-white transition-all shadow-sm placeholder-ink-tertiary text-ink-primary",placeholder:"Ask anything...",value:c,onChange:x=>f(x.target.value),onKeyDown:x=>x.key==="Enter"&&g()}),a.jsx("button",{onClick:g,disabled:!c.trim()&&h.length===0||p,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-primary text-white rounded-lg hover:bg-primary-hover disabled:opacity-50 disabled:hover:bg-primary transition-all shadow-sm hover:shadow-glow hover:-translate-y-0.5",children:a.jsx(jv,{size:14})})]})]})]})]})},Zv=t=>new Promise(e=>setTimeout(e,t)),Oi=async(t,e,n=3)=>{try{return await t.models.generateContent(e)}catch(r){if(n>0)return await Zv(1e3),Oi(t,e,n-1);throw r}},Uh="studio_roster_v1_",_n=(t,e)=>{try{const n=localStorage.getItem(Uh+t);return n?JSON.parse(n):e}catch(n){return console.error(`Failed to load ${t}`,n),e}},fe=(t,e)=>{try{localStorage.setItem(Uh+t,JSON.stringify(e))}catch(n){console.error(`Failed to save ${t}`,n)}};let be=_n("freelancers",[]),Se=_n("projects",[]),He=_n("assignments",[]),en=_n("scripts",[]),Lt=_n("assets",[]);const Qv=async(t,e={},n=15e3)=>{const r=new AbortController,{signal:i}=r,s=fetch(t,{...e,signal:i}),o=new Promise((u,c)=>{setTimeout(()=>{r.abort(),c(new Error("Request timed out"))},n)});return Promise.race([s,o])};async function ie(t,e){try{const n={...(e==null?void 0:e.headers)||{},"Cache-Control":"no-store, no-cache, must-revalidate",Pragma:"no-cache"},r=(e==null?void 0:e.timeout)||3e4,i=await Qv(t,{...e,headers:n},r);if(i.status===401)throw console.warn("Session expired or unauthorized. Redirecting..."),new Error("Unauthorized");const s=i.headers.get("content-type");if(s&&s.includes("text/html"))throw new Error("Backend unavailable (Received HTML fallback)");if(i.status===404)throw new Error(`Endpoint not found: ${t}`);if(i.status===502||i.status===503||i.status===504)throw new Error("Backend unavailable (Gateway Error)");let o=null;try{o=await i.json()}catch{if(i.ok&&i.status===204)return{success:!0};if(i.ok)return{success:!0,data:{}};throw new Error("Invalid JSON response")}if(!i.ok){const u=o==null?void 0:o.error,c=(u==null?void 0:u.message)||i.statusText||"Unknown Error";throw new Error(c)}return o.data===void 0&&(Array.isArray(o)||o.id||o.email||o.name||o.bucket)?{data:o,success:!0}:o}catch(n){throw n}}const Xv=async(t,e)=>{var s;const n=new FormData;n.append("file",t),e&&n.append("projectId",e);const i=(await ie("/api/assets/upload",{method:"POST",body:n,timeout:6e5})).data;if(!i.url&&!i.publicUrl)try{const o=await ie(`/api/assets/${i.id}/url`);i.url=(s=o.data)==null?void 0:s.url}catch{console.warn("Could not sign URL for asset",i.id)}else i.publicUrl&&(i.url=i.publicUrl);return i},Q={auth:{login:async t=>{try{const e=await ie("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:"password"})});return e.success&&e.data&&(localStorage.setItem("studio_roster_v1_auth_token",e.data.accessToken),localStorage.setItem("studio_roster_v1_auth_user",JSON.stringify(e.data.user))),e}catch{console.warn("Auth failed, using mock for demo purposes only");const e={id:"u1",name:"Studio Admin",contactInfo:t,role:"Admin",avatar:"https://ui-avatars.com/api/?name=Admin&background=random"};return localStorage.setItem("studio_roster_v1_auth_token","mock-jwt"),localStorage.setItem("studio_roster_v1_auth_user",JSON.stringify(e)),{data:{accessToken:"mock-jwt",user:e},success:!0}}}},ai:{extract:async(t,e,n)=>{const r=new FormData;return r.append("prompt",t),e&&r.append("schema",JSON.stringify(e)),n&&r.append("files",n),(await ie("/api/ai/extract",{method:"POST",body:r,timeout:12e4})).data}},assets:{list:async()=>{try{const t=await ie("/api/assets");return Lt=t.data||[],fe("assets",Lt),t}catch(t){return console.error("Assets API Error:",t),{data:Lt,success:!0,message:"Offline Mode (Cached)"}}},upload:async(t,e)=>{try{const n=await Xv(t,e);return Lt=[n,...Lt],fe("assets",Lt),{data:n,success:!0}}catch(n){throw console.error("Upload failed:",n.message||n),n}},delete:async t=>{try{await ie(`/api/assets/${t}`,{method:"DELETE"})}catch{console.warn("Delete failed online, removing locally")}return Lt=Lt.filter(e=>e.id!==t),fe("assets",Lt),{data:!0,success:!0}}},storage:{getInfo:async()=>{try{return await ie("/api/storage/info")}catch{return{data:{bucket:"Unknown",configured:!1,projectId:""},success:!1}}}},freelancers:{list:async t=>{try{const e=await ie("/api/freelancers");return be=e.data||[],fe("freelancers",be),e}catch{return{data:be,success:!0,message:"Offline Mode (Cached)"}}},create:async t=>{try{const e=await ie("/api/freelancers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return be=[...be,e.data],fe("freelancers",be),e}catch{return be.push(t),fe("freelancers",be),{data:t,success:!0}}},update:async t=>{try{const e=await ie(`/api/freelancers/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return be=be.map(n=>n.id===t.id?e.data:n),fe("freelancers",be),e}catch{return be=be.map(e=>e.id===t.id?t:e),fe("freelancers",be),{data:t,success:!0}}},delete:async t=>{try{await ie(`/api/freelancers/${t}`,{method:"DELETE"})}catch{}return be=be.filter(e=>e.id!==t),fe("freelancers",be),{data:!0,success:!0}},importBatch:async t=>{try{return await ie("/api/freelancers/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{return{data:{created:0,updated:0,errors:[]},success:!1}}}},projects:{list:async t=>{try{const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.search&&e.append("search",t.search);const n=await ie(`/api/projects?${e.toString()}`);return Se=n.data||[],fe("projects",Se),n}catch{return{data:Se,success:!0,message:"Offline Mode (Cached)"}}},create:async t=>{try{const e=await ie("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Se=[...Se,e.data],fe("projects",Se),e}catch{return Se.push(t),fe("projects",Se),{data:t,success:!0}}},update:async t=>{try{const e=await ie(`/api/projects/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Se=Se.map(n=>n.id===t.id?e.data:n),fe("projects",Se),e}catch{return Se=Se.map(e=>e.id===t.id?t:e),fe("projects",Se),{data:t,success:!0}}},delete:async t=>{try{await ie(`/api/projects/${t}`,{method:"DELETE"})}catch{}return Se=Se.filter(e=>e.id!==t),fe("projects",Se),{data:!0,success:!0}},deleteBatch:async t=>{try{await ie("/api/projects/batch-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{}return Se=Se.filter(e=>!t.includes(e.id)),fe("projects",Se),{data:!0,success:!0}},importBatch:async t=>{try{return await ie("/api/projects/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{return{data:{created:0,updated:0},success:!1}}}},assignments:{list:async t=>{try{const e=await ie("/api/assignments");return He=e.data||[],fe("assignments",He),e}catch{return{data:He,success:!0}}},create:async t=>{try{const e=await ie("/api/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return He=[...He,e.data],fe("assignments",He),e}catch{return He.push(t),fe("assignments",He),{data:t,success:!0}}},update:async t=>{try{const e=await ie(`/api/assignments/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return He=He.map(n=>n.id===t.id?e.data:n),fe("assignments",He),e}catch{return He=He.map(e=>e.id===t.id?t:e),fe("assignments",He),{data:t,success:!0}}}},scripts:{list:async t=>{try{const e=await ie("/api/scripts");return en=e.data||[],fe("scripts",en),e}catch{return{data:en,success:!0}}},create:async t=>{try{const e=await ie("/api/scripts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return en=[...en,e.data],fe("scripts",en),e}catch{return en.push(t),fe("scripts",en),{data:t,success:!0}}},findByProject:async t=>{try{return await ie(`/api/scripts/project/${t}`)}catch{return{data:[],success:!0}}}},drive:{listTeamAssets:async()=>{try{return await ie("/api/google/drive/team-assets")}catch{}return{data:[],success:!0}}},moodboard:{list:async t=>{try{if(t)return await ie(`/api/moodboard/${t}`)}catch{}return{data:[],success:!0}},linkAsset:async(t,e)=>await ie(`/api/moodboard/${t}/link-asset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:e})}),create:async t=>await ie(`/api/moodboard/${t.projectId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),update:async t=>{try{return await ie(`/api/moodboard/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch{return{data:t,success:!0}}},delete:async t=>{try{await ie(`/api/moodboard/${t}`,{method:"DELETE"})}catch{}return{data:!0,success:!0}}},knowledge:{createFromAsset:async(t,e,n)=>await ie("/api/knowledge/create-from-asset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:t,assetId:e})}),delete:async t=>{try{await ie(`/api/knowledge/${t}`,{method:"DELETE"})}catch{}return{data:!0,success:!0}}},suggestions:{get:async()=>[]}},e1=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[o,u]=N.useState(!1),[c,f]=N.useState("connected"),[p,m]=N.useState(""),h=N.useCallback(async()=>{u(!0);try{const[y,g]=await Promise.all([Q.assets.list(),Q.storage.getInfo()]);if(g.success&&g.data&&m(g.data.bucket),y.success&&y.data){const x=localStorage.getItem("local_asset_logic"),_=x?JSON.parse(x):{},k=y.data.map(T=>({id:T.id,name:T.fileName,mimeType:T.mimeType,size:T.sizeBytes,url:T.url||"",publicUrl:T.publicUrl,modifiedTime:T.createdAt?new Date(T.createdAt).toISOString():new Date().toISOString(),logic:_[T.id]||[],synced:!0}));e(k),y.message==="Offline Mode"?f("offline"):f("connected")}}catch(y){f("offline"),console.error("Failed to fetch assets",y)}finally{u(!1)}},[]);N.useEffect(()=>{h()},[h]);const w=N.useCallback(async(y,g)=>{e(x=>{const _=x.find(M=>M.id===y);if(!_)return x;const k=g(_),T=x.map(M=>M.id===y?k:M),b=T.reduce((M,j)=>({...M,[j.id]:j.logic}),{});return localStorage.setItem("local_asset_logic",JSON.stringify(b)),T})},[]),C=N.useCallback(async y=>{if(!y)return;s(!0);const g=Array.from(y).map(async k=>{try{const b=(await Q.assets.upload(k)).data;if(b)return{id:b.id,name:b.fileName,mimeType:b.mimeType,size:b.sizeBytes,url:b.url||"",publicUrl:b.publicUrl,modifiedTime:b.createdAt?new Date(b.createdAt).toISOString():new Date().toISOString(),logic:[],synced:!0}}catch(T){console.error("Upload failed",T),alert(`Upload failed for ${k.name}: ${T.message}`)}return null}),_=(await Promise.all(g)).filter(Boolean);e(k=>[..._,...k]),s(!1)},[]),v=N.useCallback(async y=>{try{await Q.assets.delete(y),e(g=>g.filter(x=>x.id!==y))}catch(g){console.error("Delete failed",g),alert("Failed to delete asset from cloud storage.")}},[]),S=N.useCallback(()=>{const y="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),g=document.createElement("a");g.setAttribute("href",y),g.setAttribute("download",`assets_export_${new Date().toISOString()}.json`),document.body.appendChild(g),g.click(),g.remove()},[t]);return{files:t,isDragging:n,setIsDragging:r,isUploading:i,isSyncing:o,updateFile:w,handleImport:C,handleExport:S,handleDelete:v,connectionStatus:c,bucketName:p,refresh:h}},jh=({type:t,value:e})=>{const n={script:"bg-emerald-50 text-emerald-700 border-emerald-100",trigger:"bg-amber-50 text-amber-700 border-amber-100",tag:"bg-indigo-50 text-indigo-700 border-indigo-100"},r={script:a.jsx(hv,{size:10}),trigger:a.jsx(so,{size:10}),tag:a.jsx(oo,{size:10})};return a.jsxs("span",{className:`flex items-center gap-1 text-[9px] px-1.5 py-0.5 rounded border ${n[t]||n.tag} font-bold uppercase tracking-wider`,children:[r[t]||a.jsx(oo,{size:10})," ",e]})},t1=Vi.memo(({file:t,viewMode:e,onSelect:n,isSelected:r,compact:i})=>{const s=e==="list",o=!t.publicUrl,u=c=>c.includes("image")?a.jsx(zo,{className:"text-purple-500",size:i?16:20}):c.includes("video")?a.jsx(Di,{className:"text-rose-500",size:i?16:20}):c.includes("pdf")?a.jsx(kn,{className:"text-red-500",size:i?16:20}):a.jsx(_v,{className:"text-indigo-400",size:i?16:20});return a.jsxs("div",{onClick:()=>n(t),draggable:"true",onDragStart:c=>{const f=t.mimeType.startsWith("image/")?`![${t.name}](${t.url})`:`[${t.name}](${t.url})`;c.dataTransfer.setData("text/plain",f),c.dataTransfer.setData("application/json",JSON.stringify(t)),c.dataTransfer.effectAllowed="copy"},className:`
        group relative cursor-grab active:cursor-grabbing transition-all border select-none bg-white hover:-translate-y-0.5 hover:shadow-card
        ${r?"border-indigo-500 shadow-md ring-1 ring-indigo-500/20 z-10":"border-gray-100 hover:border-gray-200"}
        ${s?"flex items-center gap-3 p-2 rounded-lg":`rounded-xl ${i?"p-2":"p-3"} flex flex-col ${i?"gap-2":"gap-3"}`}
      `,children:[a.jsxs("div",{className:`${s?"w-8 h-8":"aspect-square"} flex items-center justify-center bg-gray-50 rounded-lg overflow-hidden relative border border-gray-50 group-hover:border-gray-100 transition-colors`,children:[t.mimeType.includes("image")&&t.url?a.jsx("img",{src:t.url,className:"w-full h-full object-cover",loading:"lazy"}):null,a.jsx("div",{className:`absolute inset-0 flex items-center justify-center -z-10 bg-gray-50 ${t.mimeType.includes("image")?"opacity-0 group-hover:opacity-10":""}`,children:u(t.mimeType)}),a.jsx("div",{className:"absolute top-1 left-1",children:o?a.jsx("div",{className:"bg-black/20 backdrop-blur-md rounded-full p-0.5 text-white",title:"Private (Signed URL)",children:a.jsx(Av,{size:8})}):a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-indigo-500/80 backdrop-blur-md rounded-full p-0.5 text-white",title:"Public Access",children:a.jsx(Ph,{size:8})})}),t.logic.length>0&&!i&&a.jsx("div",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-indigo-500 rounded-full shadow-sm ring-1 ring-white"})]}),a.jsxs("div",{className:`flex-1 min-w-0 ${!s&&"text-center"}`,children:[a.jsx("div",{className:`font-display font-semibold text-gray-900 truncate ${i?"text-[10px] tracking-tight":"text-xs"}`,children:t.name}),!i&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5 justify-center min-h-[1rem]",children:t.logic.slice(0,s?5:2).map(c=>a.jsx(jh,{type:c.type,value:c.value},c.id))}),!s&&a.jsxs("div",{className:"text-[9px] text-gray-400 mt-1.5 font-mono flex items-center justify-center gap-1 uppercase tracking-wide",children:[(Number(t.size||0)/1024).toFixed(1)," KB"]})]})]})]})}),n1=({file:t,onClose:e,onUpdate:n,onDelete:r})=>{const[i,s]=N.useState(""),[o,u]=N.useState("tag"),c=()=>{i&&(n(t.id,f=>({...f,logic:[...f.logic,{id:`logic-${Date.now()}`,type:o,value:i}]})),s(""))};return a.jsxs("div",{className:"w-72 border-l border-gray-100 bg-white h-full flex flex-col shadow-xl absolute right-0 top-0 z-20 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white/80 backdrop-blur-xl",children:[a.jsxs("h3",{className:"font-bold text-[10px] uppercase tracking-widest text-gray-500 flex items-center gap-2",children:[a.jsx(so,{size:12})," Metadata"]}),a.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-50 rounded-full text-gray-400 hover:text-gray-900 transition-colors",children:a.jsx(Ke,{size:14})})]}),a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[a.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm border border-gray-100",children:a.jsx(kn,{className:"text-indigo-500",size:16})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-xs font-bold text-gray-900 truncate",children:t.name}),a.jsx("div",{className:"text-[9px] text-gray-400 font-mono uppercase tracking-wide mt-0.5",children:t.mimeType.split("/")[1]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Smart Tags"}),a.jsxs("div",{className:"space-y-2",children:[t.logic.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-white border border-gray-100 rounded-lg shadow-sm group hover:border-indigo-100 transition-colors",children:[a.jsx(jh,{type:f.type,value:f.value}),a.jsx("button",{onClick:()=>n(t.id,p=>({...p,logic:p.logic.filter(m=>m.id!==f.id)})),className:"text-gray-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Ke,{size:12})})]},f.id)),t.logic.length===0&&a.jsx("div",{className:"text-[10px] text-gray-300 italic text-center py-4 border border-dashed border-gray-100 rounded-lg",children:"No tags attached."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:i,onChange:f=>s(f.target.value),placeholder:"Add tag...",className:"flex-1 px-3 py-2 text-[10px] font-medium border border-gray-200 rounded-lg outline-none focus:border-indigo-500 bg-white transition-colors placeholder-gray-300",onKeyDown:f=>f.key==="Enter"&&c()}),a.jsx("button",{onClick:c,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm transition-all",children:a.jsx(ct,{size:14})})]}),a.jsx("div",{className:"pt-6 border-t border-gray-100 mt-6",children:a.jsxs("button",{onClick:()=>{r(t.id),e()},className:"w-full py-2.5 text-[10px] font-bold text-rose-600 bg-rose-50 hover:bg-rose-100 rounded-xl transition-colors uppercase tracking-widest flex items-center justify-center gap-2",children:[a.jsx(Ke,{size:12})," Delete Asset"]})})]})]})},r1=({onSelect:t,compact:e=!1})=>{const{files:n,isDragging:r,setIsDragging:i,isUploading:s,isSyncing:o,updateFile:u,handleImport:c,handleExport:f,handleDelete:p,connectionStatus:m,bucketName:h,refresh:w}=e1(),[C,v]=N.useState(null),[S,y]=N.useState(e?"list":"grid"),[g,x]=N.useState(""),_=N.useRef(null),k=n.filter(T=>T.name.toLowerCase().includes(g.toLowerCase()));return a.jsxs("div",{className:"h-full flex flex-col bg-white relative overflow-hidden",onDragOver:T=>{T.preventDefault(),i(!0)},onDragLeave:()=>i(!1),onDrop:T=>{T.preventDefault(),i(!1),c(T.dataTransfer.files)},children:[r&&a.jsx("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-sm border-2 border-dashed border-indigo-500 m-4 rounded-2xl flex items-center justify-center animate-in fade-in duration-300",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 animate-bounce",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center shadow-sm",children:a.jsx(Ar,{size:32})}),a.jsx("h3",{className:"text-xs font-bold text-indigo-900 uppercase tracking-widest",children:"Drop to Import"})]})}),a.jsxs("div",{className:`border-b border-gray-100 bg-white/80 backdrop-blur-xl z-10 ${e?"p-3":"px-6 py-4"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("div",{children:a.jsxs("h1",{className:`font-display font-bold text-gray-900 flex items-center gap-2 ${e?"text-xs uppercase tracking-widest":"text-lg tracking-tight"}`,children:[a.jsx(Nv,{className:"text-indigo-600",size:e?14:18}),e?"Local Assets":"Asset Repository"]})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:w,className:"p-2 text-gray-400 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",title:"Sync with Cloud",children:a.jsx(io,{size:16,className:o||s?"animate-spin":""})}),!e&&a.jsx("button",{onClick:f,className:"p-2 text-gray-400 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors",title:"Export",children:a.jsx(yv,{size:16})}),a.jsxs("button",{onClick:()=>{var T;return(T=_.current)==null?void 0:T.click()},disabled:s,className:`flex items-center justify-center gap-2 font-bold text-white bg-gray-900 hover:bg-black rounded-lg shadow-sm transition-all disabled:opacity-70 ${e?"w-6 h-6":"px-3 py-1.5 text-xs uppercase tracking-wide"}`,children:[s?a.jsx(io,{size:12,className:"animate-spin"}):a.jsx(ct,{size:12})," ",!e&&(s?"Syncing...":"Import")]}),a.jsx("input",{type:"file",multiple:!0,ref:_,className:"hidden",onChange:T=>c(T.target.files)})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(Go,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors"}),a.jsx("input",{type:"text",placeholder:"Filter assets...",value:g,onChange:T=>x(T.target.value),className:"w-full pl-9 pr-3 py-2 text-xs bg-gray-50/50 border border-gray-100 hover:border-gray-200 focus:border-indigo-500 focus:bg-white rounded-xl outline-none transition-all placeholder-gray-400 font-medium"})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[a.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${e?"p-3":"p-6"}`,children:n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 gap-3 opacity-60",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-2xl flex items-center justify-center border border-gray-100",children:a.jsx(mv,{size:20,className:"text-gray-300"})}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"No Assets Found"})]}):a.jsx("div",{className:S==="grid"?`grid ${e?"grid-cols-2":"grid-cols-4"} gap-3`:"space-y-2",children:k.map(T=>a.jsx(t1,{file:T,viewMode:S,onSelect:b=>{v(b),t&&t(b)},isSelected:(C==null?void 0:C.id)===T.id,compact:e},T.id))})}),C&&!e&&a.jsx("div",{className:"relative w-72",children:a.jsx(n1,{file:C,onClose:()=>v(null),onUpdate:u,onDelete:p})})]}),!e&&a.jsxs("div",{className:"px-6 py-2 border-t border-gray-100 bg-white text-[10px] text-gray-400 flex justify-between items-center font-medium uppercase tracking-wider",children:[a.jsxs("span",{children:[n.length," Items ",h&&a.jsxs("span",{className:"text-indigo-400 ml-2",children:["@ ",h]})]}),a.jsxs("span",{className:`flex items-center gap-1.5 ${m==="connected"?"text-emerald-500":"text-gray-400"}`,children:[m==="connected"?a.jsx(pv,{size:10}):a.jsx(Bv,{size:10})," ",m==="connected"?"Cloud Synced":"Local Mode"]})]})]})},fs=({label:t,value:e,trend:n,icon:r,active:i=!1,delay:s=0})=>a.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border transition-all duration-200 ${i?"bg-ink text-white border-ink shadow-lg scale-[1.02]":"bg-white text-ink border-mist"}`,style:{animationDelay:`${s}ms`},children:[i&&a.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500 blur-[60px] rounded-full mix-blend-overlay animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-purple-500 blur-[50px] rounded-full mix-blend-overlay"})]}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${i?"bg-white/10 text-white":"bg-canvas text-pencil"} transition-colors duration-200`,children:a.jsx(r,{size:20,strokeWidth:2})}),n&&a.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-lg uppercase tracking-wider ${n.startsWith("+")?i?"bg-emerald-500/20 text-emerald-300":"bg-emerald-50 text-emerald-600":i?"bg-rose-500/20 text-rose-300":"bg-rose-50 text-rose-600"}`,children:n})]}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-3xl font-bold tracking-tight mb-1 ${i?"text-white":"text-ink"}`,children:e}),a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide ${i?"text-white/70":"text-pencil"}`,children:t})]})]})]}),i1=({urgentCount:t,assignments:e})=>{const n=()=>{const r=new Date().getHours();return r<12?"Good Morning":r<18?"Good Afternoon":"Good Evening"};return a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white border border-mist p-8 shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200 group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/50 via-white to-purple-50/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-amber-100/50 text-amber-600 rounded-xl",children:a.jsx(zv,{size:18,strokeWidth:2.5})}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-pencil",children:"Daily Briefing"})]}),a.jsxs("h2",{className:"text-3xl font-semibold text-ink mb-3 tracking-tight",children:[n(),", Sergey."]}),a.jsxs("p",{className:"text-ink-secondary font-medium max-w-md leading-relaxed text-sm",children:["You have ",a.jsxs("span",{className:"text-ink font-semibold",children:[t," urgent"]})," projects requiring attention today. Team utilization is at ",a.jsx("span",{className:"text-ink font-semibold",children:"85%"})," across ",e," active assignments."]})]}),a.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-ink text-white rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-black hover:shadow-lg hover:-translate-y-[1px] transition-all duration-200 shadow-sm active:scale-[0.98]",children:["View Schedule ",a.jsx(Eh,{size:14})]})]})]})},s1=({projects:t})=>{const e=t.filter(n=>n.priority===St.URGENT||n.priority===St.HIGH).slice(0,5);return a.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-6 shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200 h-full flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xs font-semibold text-pencil uppercase tracking-wide flex items-center gap-2",children:[a.jsx(Jv,{size:16,className:"text-amber-500 fill-amber-500"})," Critical Path"]}),a.jsxs(Ge,{to:"/projects?filter=urgent",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800 flex items-center gap-1 transition-colors group",children:["View All ",a.jsx(Eh,{size:14,className:"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform duration-200"})]})]}),a.jsx("div",{className:"flex-1 space-y-3",children:e.length===0?a.jsx("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 bg-canvas/30 rounded-xl border border-dashed border-mist",children:a.jsx("span",{className:"text-sm text-pencil font-medium",children:"All systems normal. No critical items."})}):e.map((n,r)=>a.jsxs(Ge,{to:`/projects/${n.id}`,className:"flex items-center justify-between p-4 rounded-xl bg-white border border-mist hover:border-indigo-200 hover:shadow-md hover:-translate-y-[1px] transition-all duration-200 group",style:{animationDelay:`${r*50}ms`},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${n.priority===St.URGENT?"bg-rose-500":"bg-amber-500"}`}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm text-ink group-hover:text-indigo-600 transition-colors duration-200",children:n.name}),a.jsx("div",{className:"text-xs text-pencil mt-0.5",children:n.clientName})]})]}),a.jsx("div",{className:"text-xs font-medium text-ink bg-canvas px-2.5 py-1 rounded-lg border border-mist group-hover:border-indigo-100 transition-colors duration-200",children:n.dueDate?new Date(n.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"ASAP"})]},n.id))})]})},we=({className:t="",width:e,height:n,variant:r="text",count:i=1})=>{const s="animate-pulse bg-subtle",o={text:"rounded",circular:"rounded-full",rectangular:"rounded-md",rounded:"rounded-xl"},u={width:e,height:n};return r!=="card"&&r!=="tableRow"&&r!=="avatar"&&r!=="overlay"?a.jsx("div",{className:`${s} ${o[r]} ${t}`,style:u}):r==="card"?a.jsx("div",{className:`p-6 bg-surface rounded-2xl border border-border-subtle ${t}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`${s} h-6 w-2/3 rounded-lg`}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:`${s} h-4 w-full rounded-lg`}),a.jsx("div",{className:`${s} h-4 w-5/6 rounded-lg`}),a.jsx("div",{className:`${s} h-4 w-4/6 rounded-lg`})]})]})}):r==="tableRow"?a.jsxs("tr",{className:`animate-pulse ${t}`,children:[a.jsx("td",{className:"px-6 py-5",children:a.jsx("div",{className:`${s} h-4 w-20 rounded-lg`})}),a.jsx("td",{className:"px-6 py-5",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:`${s} h-4 w-40 rounded-lg`}),a.jsx("div",{className:`${s} h-3 w-24 rounded-lg`})]})}),a.jsx("td",{className:"px-6 py-5",children:a.jsx("div",{className:`${s} h-6 w-20 rounded-lg`})}),a.jsx("td",{className:"px-6 py-5",children:a.jsx("div",{className:`${s} h-4 w-32 rounded-lg`})}),a.jsx("td",{className:"px-6 py-5",children:a.jsx("div",{className:`${s} h-4 w-16 rounded-lg`})})]}):r==="avatar"?a.jsx("div",{className:`${s} rounded-full ${t}`,style:{width:e||64,height:n||64}}):r==="overlay"?a.jsx("div",{className:`fixed inset-0 z-40 flex items-center justify-center bg-black/10 backdrop-blur-sm ${t}`,children:a.jsx("div",{className:"bg-surface rounded-2xl p-8 shadow-lg border border-border-subtle",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"relative w-12 h-12",children:[a.jsx("div",{className:`${s} w-full h-full rounded-full`}),a.jsx("div",{className:"absolute inset-0 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})]}),a.jsx("div",{className:`${s} h-4 w-32 rounded-lg`})]})})}):null},o1=({projects:t,freelancers:e,assignments:n,onCallAction:r,isLoading:i=!1})=>{const s=t.filter(f=>f.status===ut.IN_PROGRESS).length,o=t.filter(f=>f.priority===St.URGENT).length,u=n.filter(f=>f.status==="Confirmed").length,c=Math.round(u/(e.length||1)*100);return a.jsxs("div",{className:"h-full flex flex-col bg-canvas font-sans text-ink overflow-hidden",children:[a.jsxs("header",{className:"flex-shrink-0 px-8 py-8 flex justify-between items-end bg-gradient-to-b from-white to-white/50 backdrop-blur-sm border-b border-mist sticky top-0 z-20",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-4xl font-semibold tracking-tight text-ink flex items-center gap-3",children:[a.jsx(Mu,{size:28,className:"text-indigo-600"})," Command Center"]}),a.jsx("p",{className:"text-sm text-pencil font-medium mt-2 tracking-wide",children:"Agency Overview & Intelligence"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-xl border border-mist shadow-sm",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-amber-500":"bg-emerald-500"} animate-pulse`}),a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-ink",children:i?"Syncing...":"System Online"})]})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8",children:a.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 animate-in fade-in slide-in-from-bottom-4 duration-700",children:i?a.jsxs("div",{className:"h-full p-6 bg-white rounded-2xl border border-mist shadow-sm flex flex-col gap-4",children:[a.jsx(we,{width:"40%",height:32}),a.jsx(we,{width:"60%",height:20}),a.jsxs("div",{className:"flex gap-4 mt-4",children:[a.jsx(we,{width:100,height:80}),a.jsx(we,{width:100,height:80}),a.jsx(we,{width:100,height:80})]})]}):a.jsx(i1,{projectCount:s,urgentCount:o,assignments:u})}),a.jsx("div",{className:"lg:col-span-1 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",children:i?a.jsxs("div",{className:"h-full p-6 bg-white rounded-2xl border border-mist shadow-sm flex flex-col gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx(we,{width:120,height:20}),a.jsx(we,{width:24,height:24,variant:"circular"})]}),a.jsx(we,{height:60}),a.jsx(we,{height:60}),a.jsx(we,{height:60})]}):a.jsx(s1,{projects:t})})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:i?a.jsx(a.Fragment,{children:[...Array(4)].map((f,p)=>a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx(we,{width:80,height:16}),a.jsx(we,{width:20,height:20,variant:"circular"})]}),a.jsx(we,{width:"60%",height:32}),a.jsx(we,{width:"40%",height:16,className:"mt-2"})]},p))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:a.jsx(fs,{label:"Active Projects",value:s,trend:"+12%",icon:kh,active:!0,delay:0})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:a.jsx(fs,{label:"Team Utilization",value:`${c}%`,trend:"+5%",icon:lv,delay:100})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:a.jsx(fs,{label:"Tasks Completed",value:142,trend:"+18%",icon:dv,delay:200})}),a.jsx("div",{className:"bg-white p-6 rounded-2xl border border-mist shadow-card hover:shadow-lg hover:-translate-y-[2px] transition-all duration-200",children:a.jsx(fs,{label:"AI Operations",value:"2.4k",trend:"+32%",icon:uc,delay:300})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[600px] animate-in fade-in slide-in-from-bottom-12 duration-1000 delay-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-mist shadow-sm overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-mist bg-canvas/30 flex justify-between items-center",children:a.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest flex items-center gap-2",children:[a.jsx(uc,{size:14})," Neural Interface"]})}),a.jsx("div",{className:"flex-1 overflow-hidden relative",children:a.jsx(Lh,{freelancers:e,projects:t,assignments:n,onCallAction:r,agentMode:!0,customTitle:" "})})]}),a.jsxs("div",{className:"lg:col-span-1 bg-white rounded-2xl border border-mist shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-mist bg-canvas/30 flex justify-between items-center",children:[a.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Bi,{size:14})," Knowledge Base"]}),a.jsx(Ge,{to:"/files",className:"text-[10px] font-bold text-indigo-600 hover:text-indigo-800 uppercase tracking-wide",children:"View All"})]}),a.jsx("div",{className:"flex-1 overflow-hidden p-4",children:a.jsx(r1,{onSelect:()=>{}})})]})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let a1,l1;function u1(){return{geminiUrl:a1,vertexUrl:l1}}function d1(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=u1();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zt{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function d(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const u=o.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const p=c[f];d(p,e.slice(s+1),n[f])}else for(const f of c)d(f,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const u=o.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];d(c[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function l(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(u=>l(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function c1(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&s.length>u)for(let c=u;c<s.length;c++){const f=s[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&o.add(f)}_l(t,i,s,0,o)}}function _l(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),u=t;if(o in u&&Array.isArray(u[o]))for(const c of u[o])_l(c,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,u=Object.keys(o).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=o[f];for(const[f,p]of Object.entries(c)){const m=[];for(const h of n.slice(r))h==="*"?m.push(f):m.push(h);d(o,m,p)}for(const f of u)delete o[f]}}else{const o=t;s in o&&_l(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uu(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f1(t){const e={},n=l(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=l(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function p1(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["response","generateVideoResponse"]);return o!=null&&d(e,["response"],h1(o)),e}function m1(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["response"]);return o!=null&&d(e,["response"],g1(o)),e}function h1(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>y1(o))),d(e,["generatedVideos"],s)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function g1(t){const e={},n=l(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>x1(o))),d(e,["generatedVideos"],s)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function y1(t){const e={},n=l(t,["video"]);return n!=null&&d(e,["video"],N1(n)),e}function x1(t){const e={},n=l(t,["_self"]);return n!=null&&d(e,["video"],k1(n)),e}function v1(t){const e={},n=l(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function w1(t){const e={},n=l(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function _1(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["response"]);return o!=null&&d(e,["response"],S1(o)),e}function S1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const i=l(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function Fh(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["response"]);return o!=null&&d(e,["response"],C1(o)),e}function C1(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const i=l(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function N1(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Uu(r));const i=l(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function k1(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Uu(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fc;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(fc||(fc={}));var pc;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(pc||(pc={}));var mc;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(mc||(mc={}));var dn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dn||(dn={}));var hc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hc||(hc={}));var gc;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gc||(gc={}));var yc;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(yc||(yc={}));var xc;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xc||(xc={}));var vc;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(vc||(vc={}));var wc;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(wc||(wc={}));var _c;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_c||(_c={}));var Sc;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Sc||(Sc={}));var Cc;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Cc||(Cc={}));var Nc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Nc||(Nc={}));var kc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(kc||(kc={}));var Tc;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Tc||(Tc={}));var Ec;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ec||(Ec={}));var bc;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bc||(bc={}));var Ic;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ic||(Ic={}));var ao;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ao||(ao={}));var Ac;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ac||(Ac={}));var Rc;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Rc||(Rc={}));var Pc;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pc||(Pc={}));var Sl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sl||(Sl={}));var Mc;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Mc||(Mc={}));var Dc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dc||(Dc={}));var Lc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Lc||(Lc={}));var Uc;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Uc||(Uc={}));var jc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jc||(jc={}));var Fc;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fc||(Fc={}));var Vc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Vc||(Vc={}));var zc;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zc||(zc={}));var Gc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Gc||(Gc={}));var $c;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($c||($c={}));var qc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qc||(qc={}));var Hc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Hc||(Hc={}));var Bc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bc||(Bc={}));var Oc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Oc||(Oc={}));var Jc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Jc||(Jc={}));var Wc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Wc||(Wc={}));var Yc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Yc||(Yc={}));var Kc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Kc||(Kc={}));var Zc;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Zc||(Zc={}));var Qc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Qc||(Qc={}));var Xc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Xc||(Xc={}));var ef;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ef||(ef={}));var tf;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tf||(tf={}));var nf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(nf||(nf={}));var rf;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rf||(rf={}));var sf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sf||(sf={}));var of;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(of||(of={}));var af;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(af||(af={}));var lf;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lf||(lf={}));var uf;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(uf||(uf={}));var fr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(fr||(fr={}));class Cl{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xr{get text(){var e,n,r,i,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const h of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[w,C]of Object.entries(h))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(C!==null||C!==void 0)&&m.push(w);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;p=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var e,n,r,i,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,w]of Object.entries(m))h!=="inlineData"&&(w!==null||w!==void 0)&&p.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,s,o,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,s,o,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(c=(u=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class df{}class cf{}class T1{}class E1{}class b1{}class I1{}class ff{}class pf{}class mf{}class A1{}class lo{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new lo;let i;const s=e;return n?i=m1(s):i=p1(s),Object.assign(r,i),r}}class hf{}class gf{}class yf{}class R1{}class P1{}class M1{}class ju{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ju,s=_1(e);return Object.assign(r,s),r}}class D1{}class L1{}class U1{}class xf{}class j1{get text(){var e,n,r;let i="",s=!1;const o=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&o.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,i+=u.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(o))u!=="inlineData"&&c!==null&&s.push(u);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class F1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Fu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Fu,s=Fh(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Vh(t,e){const n=oe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function zh(t){return Array.isArray(t)?t.map(e=>uo(e)):[uo(t)]}function uo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Gh(t){const e=uo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $h(t){const e=uo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vf(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function qh(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>vf(e)):[vf(t)]}function Nl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function wf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function _f(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function je(t){if(t==null)throw new Error("ContentUnion is required");return Nl(t)?t:{role:"user",parts:qh(t)}}function Vu(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=je(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=je(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>je(n)):[je(e)]}function ft(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(wf(t)||_f(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[je(t)]}const e=[],n=[],r=Nl(t[0]);for(const i of t){const s=Nl(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(wf(i)||_f(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:qh(n)}),e}function V1(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(dn).includes(n[0].toUpperCase())?n[0].toUpperCase():dn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(dn).includes(r.toUpperCase())?r.toUpperCase():dn.TYPE_UNSPECIFIED})}}function vr(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&V1(t.type,e);for(const[o,u]of Object.entries(t))if(u!=null)if(o=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(dn).includes(u.toUpperCase())?u.toUpperCase():dn.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=vr(u);else if(r.includes(o)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(vr(f))}e[o]=c}else if(i.includes(o)){const c={};for(const[f,p]of Object.entries(u))c[f]=vr(p);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=u}return e}function zu(t){return vr(t)}function Gu(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function $u(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Gr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=vr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=vr(e.response));return t}function $r(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function z1(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Qt(t,e){if(typeof e!="string")throw new Error("name must be a string");return z1(t,e,"cachedContents")}function Hh(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Rn(t){return Uu(t)}function G1(t){return t!=null&&typeof t=="object"&&"name"in t}function $1(t){return t!=null&&typeof t=="object"&&"video"in t}function q1(t){return t!=null&&typeof t=="object"&&"uri"in t}function Bh(t){var e;let n;if(G1(t)&&(n=t.name),!(q1(t)&&(n=t.uri,n===void 0))&&!($1(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Oh(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Jh(t){for(const e of["models","tunedModels","publisherModels"])if(H1(t,e))return t[e];return[]}function H1(t,e){return t!==null&&typeof t=="object"&&e in t}function B1(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function O1(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=B1(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Wh(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function J1(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Yh(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function qr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Kh(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W1(t){const e={},n=l(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=l(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>bw(o))),d(e,["inlinedResponses"],s)}const i=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["inlinedEmbedContentResponses"],s)}return e}function Y1(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=l(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const i=l(t,["bigqueryDestination","outputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function K1(t){const e={},n=l(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=l(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const i=l(t,["bigqueryUri"]);if(i!=null&&d(e,["bigqueryDestination","outputUri"],i),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ts(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["metadata","state"]);i!=null&&d(e,["state"],Kh(i));const s=l(t,["metadata","createTime"]);s!=null&&d(e,["createTime"],s);const o=l(t,["metadata","endTime"]);o!=null&&d(e,["endTime"],o);const u=l(t,["metadata","updateTime"]);u!=null&&d(e,["updateTime"],u);const c=l(t,["metadata","model"]);c!=null&&d(e,["model"],c);const f=l(t,["metadata","output"]);return f!=null&&d(e,["dest"],W1(Yh(f))),e}function kl(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["state"]);i!=null&&d(e,["state"],Kh(i));const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["createTime"]);o!=null&&d(e,["createTime"],o);const u=l(t,["startTime"]);u!=null&&d(e,["startTime"],u);const c=l(t,["endTime"]);c!=null&&d(e,["endTime"],c);const f=l(t,["updateTime"]);f!=null&&d(e,["updateTime"],f);const p=l(t,["model"]);p!=null&&d(e,["model"],p);const m=l(t,["inputConfig"]);m!=null&&d(e,["src"],Z1(m));const h=l(t,["outputConfig"]);h!=null&&d(e,["dest"],Y1(Yh(h)));const w=l(t,["completionStats"]);return w!=null&&d(e,["completionStats"],w),e}function Z1(t){const e={},n=l(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=l(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const i=l(t,["bigquerySource","inputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function Q1(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&d(n,["fileName"],r);const i=l(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Ew(t,o))),d(n,["requests","requests"],s)}return n}function X1(t){const e={},n=l(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=l(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const i=l(t,["bigqueryUri"]);if(i!=null&&d(e,["bigquerySource","inputUri"],i),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ew(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function tw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],qr(t,r)),n}function nw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],qr(t,r)),n}function rw(t){const e={},n=l(t,["content"]);n!=null&&d(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],iw(r));const i=l(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const s=l(t,["finishReason"]);s!=null&&d(e,["finishReason"],s);const o=l(t,["avgLogprobs"]);o!=null&&d(e,["avgLogprobs"],o);const u=l(t,["groundingMetadata"]);u!=null&&d(e,["groundingMetadata"],u);const c=l(t,["index"]);c!=null&&d(e,["index"],c);const f=l(t,["logprobsResult"]);f!=null&&d(e,["logprobsResult"],f);const p=l(t,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(w=>w)),d(e,["safetyRatings"],h)}const m=l(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function iw(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function Zh(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Lw(s))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function sw(t,e){const n={},r=l(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ow(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=l(t,["dest"]);return e!==void 0&&i!=null&&d(e,["outputConfig"],K1(J1(i))),n}function Sf(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["src"]);i!=null&&d(n,["batch","inputConfig"],Q1(t,Wh(t,i)));const s=l(e,["config"]);return s!=null&&sw(s,n),n}function aw(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],oe(t,r));const i=l(e,["src"]);i!=null&&d(n,["inputConfig"],X1(Wh(t,i)));const s=l(e,["config"]);return s!=null&&ow(s,n),n}function lw(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),n}function uw(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["src"]);i!=null&&d(n,["batch","inputConfig"],gw(t,i));const s=l(e,["config"]);return s!=null&&lw(s,n),n}function dw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],qr(t,r)),n}function cw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],qr(t,r)),n}function fw(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);return s!=null&&d(e,["error"],s),e}function pw(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);return s!=null&&d(e,["error"],s),e}function mw(t,e){const n={},r=l(e,["contents"]);if(r!=null){let s=Vu(t,r);Array.isArray(s)&&(s=s.map(o=>o)),d(n,["requests[]","request","content"],s)}const i=l(e,["config"]);return i!=null&&(d(n,["_self"],hw(i,n)),c1(n,{"requests[].*":"requests[].request.*"})),n}function hw(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=l(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const s=l(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&d(e,["requests[]","outputDimensionality"],s),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gw(t,e){const n={},r=l(e,["fileName"]);r!=null&&d(n,["file_name"],r);const i=l(e,["inlinedRequests"]);return i!=null&&d(n,["requests"],mw(t,i)),n}function yw(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function xw(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vw(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ww(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],Zh(je(i)));const s=l(e,["temperature"]);s!=null&&d(r,["temperature"],s);const o=l(e,["topP"]);o!=null&&d(r,["topP"],o);const u=l(e,["topK"]);u!=null&&d(r,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&d(r,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&d(r,["maxOutputTokens"],f);const p=l(e,["stopSequences"]);p!=null&&d(r,["stopSequences"],p);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const h=l(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const w=l(e,["presencePenalty"]);w!=null&&d(r,["presencePenalty"],w);const C=l(e,["frequencyPenalty"]);C!=null&&d(r,["frequencyPenalty"],C);const v=l(e,["seed"]);v!=null&&d(r,["seed"],v);const S=l(e,["responseMimeType"]);S!=null&&d(r,["responseMimeType"],S);const y=l(e,["responseSchema"]);y!=null&&d(r,["responseSchema"],zu(y));const g=l(e,["responseJsonSchema"]);if(g!=null&&d(r,["responseJsonSchema"],g),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let I=x;Array.isArray(I)&&(I=I.map(O=>Uw(O))),d(n,["safetySettings"],I)}const _=l(e,["tools"]);if(n!==void 0&&_!=null){let I=$r(_);Array.isArray(I)&&(I=I.map(O=>Fw(Gr(O)))),d(n,["tools"],I)}const k=l(e,["toolConfig"]);if(n!==void 0&&k!=null&&d(n,["toolConfig"],jw(k)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=l(e,["cachedContent"]);n!==void 0&&T!=null&&d(n,["cachedContent"],Qt(t,T));const b=l(e,["responseModalities"]);b!=null&&d(r,["responseModalities"],b);const M=l(e,["mediaResolution"]);M!=null&&d(r,["mediaResolution"],M);const j=l(e,["speechConfig"]);if(j!=null&&d(r,["speechConfig"],Gu(j)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const E=l(e,["thinkingConfig"]);E!=null&&d(r,["thinkingConfig"],E);const R=l(e,["imageConfig"]);return R!=null&&d(r,["imageConfig"],Tw(R)),r}function _w(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>rw(f))),d(e,["candidates"],c)}const i=l(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const s=l(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const o=l(t,["responseId"]);o!=null&&d(e,["responseId"],o);const u=l(t,["usageMetadata"]);return u!=null&&d(e,["usageMetadata"],u),e}function Sw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],qr(t,r)),n}function Cw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],qr(t,r)),n}function Nw(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function kw(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function Tw(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ew(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["request","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let u=ft(i);Array.isArray(u)&&(u=u.map(c=>Zh(c))),d(n,["request","contents"],u)}const s=l(e,["metadata"]);s!=null&&d(n,["metadata"],s);const o=l(e,["config"]);return o!=null&&d(n,["request","generationConfig"],ww(t,o,l(n,["request"],{}))),n}function bw(t){const e={},n=l(t,["response"]);n!=null&&d(e,["response"],_w(n));const r=l(t,["error"]);return r!=null&&d(e,["error"],r),e}function Iw(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);if(e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Aw(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const s=l(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),n}function Rw(t){const e={},n=l(t,["config"]);return n!=null&&Iw(n,e),e}function Pw(t){const e={},n=l(t,["config"]);return n!=null&&Aw(n,e),e}function Mw(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Ts(o))),d(e,["batchJobs"],s)}return e}function Dw(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>kl(o))),d(e,["batchJobs"],s)}return e}function Lw(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const s=l(t,["fileData"]);s!=null&&d(e,["fileData"],yw(s));const o=l(t,["functionCall"]);o!=null&&d(e,["functionCall"],xw(o));const u=l(t,["functionResponse"]);u!=null&&d(e,["functionResponse"],u);const c=l(t,["inlineData"]);c!=null&&d(e,["inlineData"],ew(c));const f=l(t,["text"]);f!=null&&d(e,["text"],f);const p=l(t,["thought"]);p!=null&&d(e,["thought"],p);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function Uw(t){const e={},n=l(t,["category"]);if(n!=null&&d(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function jw(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],vw(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function Fw(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=l(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const o=l(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],Nw(u));const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],kw(c));const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Jt||(Jt={}));class Kn{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vw extends Zt{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Kn(Jt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Sf(this.apiClient,e),r=n._url,i=V("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const p of c){const m=Object.assign({},p);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const w=m.request;w.systemInstruction=h,m.request=w}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=aw(this.apiClient,e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>kl(p))}else{const f=Sf(this.apiClient,e);return u=V("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>Ts(p))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uw(this.apiClient,e);return s=V("{model}:asyncBatchEmbedContent",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Ts(c))}}async get(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Cw(this.apiClient,e);return u=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>kl(p))}else{const f=Sw(this.apiClient,e);return u=V("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>Ts(p))}}async cancel(e){var n,r,i,s;let o="",u={};if(this.apiClient.isVertexAI()){const c=nw(this.apiClient,e);o=V("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=tw(this.apiClient,e);o=V("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Pw(e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=Dw(p),h=new xf;return Object.assign(h,m),h})}else{const f=Rw(e);return u=V("batches",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=Mw(p),h=new xf;return Object.assign(h,m),h})}}async delete(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=cw(this.apiClient,e);return u=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>pw(p))}else{const f=dw(this.apiClient,e);return u=V("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>fw(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Cf(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>u_(s))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function Gw(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const s=l(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const o=l(t,["contents"]);if(e!==void 0&&o!=null){let p=ft(o);Array.isArray(p)&&(p=p.map(m=>Cf(m))),d(e,["contents"],p)}const u=l(t,["systemInstruction"]);e!==void 0&&u!=null&&d(e,["systemInstruction"],Cf(je(u)));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>c_(m))),d(e,["tools"],p)}const f=l(t,["toolConfig"]);if(e!==void 0&&f!=null&&d(e,["toolConfig"],d_(f)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $w(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const s=l(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const o=l(t,["contents"]);if(e!==void 0&&o!=null){let m=ft(o);Array.isArray(m)&&(m=m.map(h=>h)),d(e,["contents"],m)}const u=l(t,["systemInstruction"]);e!==void 0&&u!=null&&d(e,["systemInstruction"],je(u));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>f_(h))),d(e,["tools"],m)}const f=l(t,["toolConfig"]);e!==void 0&&f!=null&&d(e,["toolConfig"],f);const p=l(t,["kmsKeyName"]);return e!==void 0&&p!=null&&d(e,["encryption_spec","kmsKeyName"],p),n}function qw(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],Vh(t,r));const i=l(e,["config"]);return i!=null&&Gw(i,n),n}function Hw(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["model"],Vh(t,r));const i=l(e,["config"]);return i!=null&&$w(i,n),n}function Bw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Qt(t,r)),n}function Ow(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Qt(t,r)),n}function Jw(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Ww(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function Yw(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Kw(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zw(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qw(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["parameters"]);i!=null&&d(e,["parameters"],i);const s=l(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const o=l(t,["response"]);o!=null&&d(e,["response"],o);const u=l(t,["responseJsonSchema"]);return u!=null&&d(e,["responseJsonSchema"],u),e}function Xw(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Qt(t,r)),n}function e_(t,e){const n={},r=l(e,["name"]);return r!=null&&d(n,["_url","name"],Qt(t,r)),n}function t_(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function n_(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function r_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function i_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function s_(t){const e={},n=l(t,["config"]);return n!=null&&r_(n,e),e}function o_(t){const e={},n=l(t,["config"]);return n!=null&&i_(n,e),e}function a_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["cachedContents"],s)}return e}function l_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["cachedContents"],s)}return e}function u_(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const s=l(t,["fileData"]);s!=null&&d(e,["fileData"],Yw(s));const o=l(t,["functionCall"]);o!=null&&d(e,["functionCall"],Kw(o));const u=l(t,["functionResponse"]);u!=null&&d(e,["functionResponse"],u);const c=l(t,["inlineData"]);c!=null&&d(e,["inlineData"],zw(c));const f=l(t,["text"]);f!=null&&d(e,["text"],f);const p=l(t,["thought"]);p!=null&&d(e,["thought"],p);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function d_(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],Zw(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function c_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=l(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const o=l(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],t_(u));const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],n_(c));const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function f_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>Qw(h))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=l(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=l(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const u=l(t,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const c=l(t,["googleMaps"]);c!=null&&d(e,["googleMaps"],c);const f=l(t,["googleSearch"]);f!=null&&d(e,["googleSearch"],f);const p=l(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function p_(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function m_(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=l(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function h_(t,e){const n={},r=l(e,["name"]);r!=null&&d(n,["_url","name"],Qt(t,r));const i=l(e,["config"]);return i!=null&&p_(i,n),n}function g_(t,e){const n={},r=l(e,["name"]);r!=null&&d(n,["_url","name"],Qt(t,r));const i=l(e,["config"]);return i!=null&&m_(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y_ extends Zt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Kn(Jt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Hw(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const f=qw(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=e_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const f=Xw(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Ow(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=Ww(p),h=new gf;return Object.assign(h,m),h})}else{const f=Bw(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=Jw(p),h=new gf;return Object.assign(h,m),h})}}async update(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=g_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const f=h_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async listInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=o_(e);return u=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=l_(p),h=new yf;return Object.assign(h,m),h})}else{const f=s_(e);return u=V("cachedContents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=a_(p),h=new yf;return Object.assign(h,m),h})}}}function Nf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(t){return this instanceof de?(this.v=t,this):new de(t)}function wr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(w){return function(C){return Promise.resolve(C).then(w,m)}}function u(w,C){r[w]&&(i[w]=function(v){return new Promise(function(S,y){s.push([w,v,S,y])>1||c(w,v)})},C&&(i[w]=C(i[w])))}function c(w,C){try{f(r[w](C))}catch(v){h(s[0][3],v)}}function f(w){w.value instanceof de?Promise.resolve(w.value.v).then(p,m):h(s[0][2],w)}function p(w){c("next",w)}function m(w){c("throw",w)}function h(w,C){w(C),s.shift(),s.length&&c(s[0][0],s[0][1])}}function mi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nf=="function"?Nf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(u,c){o=t[s](o),i(u,c,o.done,o.value)})}}function i(s,o,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Qh(n)}function Qh(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function v_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kf(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!Qh(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class w_{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new __(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class __{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),v_(s)}async sendMessage(e){var n;await this.sendPromise;const r=je(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,u;const c=await i,f=(o=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,p=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];p!=null&&(h=(u=p.slice(m))!==null&&u!==void 0?u:[]);const w=f?[f]:[];this.recordHistory(r,w,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=je(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?kf(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return wr(this,arguments,function*(){var o,u,c,f;const p=[];try{for(var m=!0,h=mi(e),w;w=yield de(h.next()),o=w.done,!o;m=!0){f=w.value,m=!1;const C=f;if(x_(C)){const v=(i=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;v!==void 0&&p.push(v)}yield yield de(C)}}catch(C){u={error:C}}finally{try{!m&&!o&&(c=h.return)&&(yield de(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...kf(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,qo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(t){const e={},n=l(t,["file"]);return n!=null&&d(e,["file"],n),e}function C_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function N_(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","file"],Bh(n)),e}function k_(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function T_(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","file"],Bh(n)),e}function E_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function b_(t){const e={},n=l(t,["config"]);return n!=null&&E_(n,e),e}function I_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A_ extends Zt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Kn(Jt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b_(e);return s=V("files",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const f=I_(c),p=new D1;return Object.assign(p,f),p})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=S_(e);return s=V("upload/v1beta/files",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=C_(c),p=new L1;return Object.assign(p,f),p})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T_(e);return s=V("files/{file}",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=N_(e);return s=V("files/{file}",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const f=k_(c),p=new U1;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Es(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function R_(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>J_(s))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function P_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function M_(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function D_(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["parameters"]);i!=null&&d(e,["parameters"],i);const s=l(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const o=l(t,["response"]);o!=null&&d(e,["response"],o);const u=l(t,["responseJsonSchema"]);return u!=null&&d(e,["responseJsonSchema"],u),e}function L_(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=l(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const s=l(t,["candidateCount"]);s!=null&&d(e,["candidateCount"],s);const o=l(t,["enableAffectiveDialog"]);o!=null&&d(e,["enableAffectiveDialog"],o);const u=l(t,["frequencyPenalty"]);u!=null&&d(e,["frequencyPenalty"],u);const c=l(t,["logprobs"]);c!=null&&d(e,["logprobs"],c);const f=l(t,["maxOutputTokens"]);f!=null&&d(e,["maxOutputTokens"],f);const p=l(t,["mediaResolution"]);p!=null&&d(e,["mediaResolution"],p);const m=l(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const h=l(t,["responseLogprobs"]);h!=null&&d(e,["responseLogprobs"],h);const w=l(t,["responseMimeType"]);w!=null&&d(e,["responseMimeType"],w);const C=l(t,["responseModalities"]);C!=null&&d(e,["responseModalities"],C);const v=l(t,["responseSchema"]);v!=null&&d(e,["responseSchema"],v);const S=l(t,["routingConfig"]);S!=null&&d(e,["routingConfig"],S);const y=l(t,["seed"]);y!=null&&d(e,["seed"],y);const g=l(t,["speechConfig"]);g!=null&&d(e,["speechConfig"],Xh(g));const x=l(t,["stopSequences"]);x!=null&&d(e,["stopSequences"],x);const _=l(t,["temperature"]);_!=null&&d(e,["temperature"],_);const k=l(t,["thinkingConfig"]);k!=null&&d(e,["thinkingConfig"],k);const T=l(t,["topK"]);T!=null&&d(e,["topK"],T);const b=l(t,["topP"]);if(b!=null&&d(e,["topP"],b),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function U_(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function j_(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function F_(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const s=l(t,["temperature"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","temperature"],s);const o=l(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const u=l(t,["topK"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","topK"],u);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","mediaResolution"],f);const p=l(t,["seed"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","seed"],p);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],$u(m));const h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],w);const C=l(t,["systemInstruction"]);e!==void 0&&C!=null&&d(e,["setup","systemInstruction"],R_(je(C)));const v=l(t,["tools"]);if(e!==void 0&&v!=null){let T=$r(v);Array.isArray(T)&&(T=T.map(b=>Y_(Gr(b)))),d(e,["setup","tools"],T)}const S=l(t,["sessionResumption"]);e!==void 0&&S!=null&&d(e,["setup","sessionResumption"],W_(S));const y=l(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&d(e,["setup","inputAudioTranscription"],y);const g=l(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&d(e,["setup","outputAudioTranscription"],g);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const _=l(t,["contextWindowCompression"]);e!==void 0&&_!=null&&d(e,["setup","contextWindowCompression"],_);const k=l(t,["proactivity"]);return e!==void 0&&k!=null&&d(e,["setup","proactivity"],k),n}function V_(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],L_(r));const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const s=l(t,["temperature"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","temperature"],s);const o=l(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const u=l(t,["topK"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","topK"],u);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","mediaResolution"],f);const p=l(t,["seed"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","seed"],p);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],Xh($u(m)));const h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],w);const C=l(t,["systemInstruction"]);e!==void 0&&C!=null&&d(e,["setup","systemInstruction"],je(C));const v=l(t,["tools"]);if(e!==void 0&&v!=null){let T=$r(v);Array.isArray(T)&&(T=T.map(b=>K_(Gr(b)))),d(e,["setup","tools"],T)}const S=l(t,["sessionResumption"]);e!==void 0&&S!=null&&d(e,["setup","sessionResumption"],S);const y=l(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&d(e,["setup","inputAudioTranscription"],y);const g=l(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&d(e,["setup","outputAudioTranscription"],g);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const _=l(t,["contextWindowCompression"]);e!==void 0&&_!=null&&d(e,["setup","contextWindowCompression"],_);const k=l(t,["proactivity"]);return e!==void 0&&k!=null&&d(e,["setup","proactivity"],k),n}function z_(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],oe(t,r));const i=l(e,["config"]);return i!=null&&d(n,["config"],F_(i,n)),n}function G_(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],oe(t,r));const i=l(e,["config"]);return i!=null&&d(n,["config"],V_(i,n)),n}function $_(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function q_(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["weightedPrompts"],r)}return e}function H_(t){const e={},n=l(t,["media"]);if(n!=null){let f=zh(n);Array.isArray(f)&&(f=f.map(p=>Es(p))),d(e,["mediaChunks"],f)}const r=l(t,["audio"]);r!=null&&d(e,["audio"],Es($h(r)));const i=l(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const s=l(t,["video"]);s!=null&&d(e,["video"],Es(Gh(s)));const o=l(t,["text"]);o!=null&&d(e,["text"],o);const u=l(t,["activityStart"]);u!=null&&d(e,["activityStart"],u);const c=l(t,["activityEnd"]);return c!=null&&d(e,["activityEnd"],c),e}function B_(t){const e={},n=l(t,["media"]);if(n!=null){let f=zh(n);Array.isArray(f)&&(f=f.map(p=>p)),d(e,["mediaChunks"],f)}const r=l(t,["audio"]);r!=null&&d(e,["audio"],$h(r));const i=l(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const s=l(t,["video"]);s!=null&&d(e,["video"],Gh(s));const o=l(t,["text"]);o!=null&&d(e,["text"],o);const u=l(t,["activityStart"]);u!=null&&d(e,["activityStart"],u);const c=l(t,["activityEnd"]);return c!=null&&d(e,["activityEnd"],c),e}function O_(t){const e={},n=l(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const r=l(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const i=l(t,["toolCall"]);i!=null&&d(e,["toolCall"],i);const s=l(t,["toolCallCancellation"]);s!=null&&d(e,["toolCallCancellation"],s);const o=l(t,["usageMetadata"]);o!=null&&d(e,["usageMetadata"],Z_(o));const u=l(t,["goAway"]);u!=null&&d(e,["goAway"],u);const c=l(t,["sessionResumptionUpdate"]);return c!=null&&d(e,["sessionResumptionUpdate"],c),e}function J_(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const s=l(t,["fileData"]);s!=null&&d(e,["fileData"],P_(s));const o=l(t,["functionCall"]);o!=null&&d(e,["functionCall"],M_(o));const u=l(t,["functionResponse"]);u!=null&&d(e,["functionResponse"],u);const c=l(t,["inlineData"]);c!=null&&d(e,["inlineData"],Es(c));const f=l(t,["text"]);f!=null&&d(e,["text"],f);const p=l(t,["thought"]);p!=null&&d(e,["thought"],p);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function W_(t){const e={},n=l(t,["handle"]);if(n!=null&&d(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Xh(t){const e={},n=l(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=l(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Y_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=l(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const o=l(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],U_(u));const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],j_(c));const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function K_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>D_(h))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=l(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=l(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const u=l(t,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const c=l(t,["googleMaps"]);c!=null&&d(e,["googleMaps"],c);const f=l(t,["googleSearch"]);f!=null&&d(e,["googleSearch"],f);const p=l(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function Z_(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const i=l(t,["candidatesTokenCount"]);i!=null&&d(e,["responseTokenCount"],i);const s=l(t,["toolUsePromptTokenCount"]);s!=null&&d(e,["toolUsePromptTokenCount"],s);const o=l(t,["thoughtsTokenCount"]);o!=null&&d(e,["thoughtsTokenCount"],o);const u=l(t,["totalTokenCount"]);u!=null&&d(e,["totalTokenCount"],u);const c=l(t,["promptTokensDetails"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(C=>C)),d(e,["promptTokensDetails"],w)}const f=l(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(C=>C)),d(e,["cacheTokensDetails"],w)}const p=l(t,["candidatesTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(C=>C)),d(e,["responseTokensDetails"],w)}const m=l(t,["toolUsePromptTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(C=>C)),d(e,["toolUsePromptTokensDetails"],w)}const h=l(t,["trafficType"]);return h!=null&&d(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q_(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function X_(t){const e={},n=l(t,["content"]);n!=null&&d(e,["content"],n);const r=l(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],eS(r));const i=l(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const s=l(t,["finishReason"]);s!=null&&d(e,["finishReason"],s);const o=l(t,["avgLogprobs"]);o!=null&&d(e,["avgLogprobs"],o);const u=l(t,["groundingMetadata"]);u!=null&&d(e,["groundingMetadata"],u);const c=l(t,["index"]);c!=null&&d(e,["index"],c);const f=l(t,["logprobsResult"]);f!=null&&d(e,["logprobsResult"],f);const p=l(t,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(w=>w)),d(e,["safetyRatings"],h)}const m=l(t,["urlContextMetadata"]);return m!=null&&d(e,["urlContextMetadata"],m),e}function eS(t){const e={},n=l(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function tS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let s=ft(i);Array.isArray(s)&&(s=s.map(o=>o)),d(n,["contents"],s)}return n}function nS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["tokensInfo"],i)}return e}function rS(t){const e={},n=l(t,["values"]);n!=null&&d(e,["values"],n);const r=l(t,["statistics"]);return r!=null&&d(e,["statistics"],iS(r)),e}function iS(t){const e={},n=l(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=l(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function Ho(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>pC(s))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function sS(t){const e={},n=l(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=l(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function oS(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function aS(t,e){const n={},r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],je(r));const i=l(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>ig(u))),d(e,["tools"],o)}const s=l(t,["generationConfig"]);return e!==void 0&&s!=null&&d(e,["generationConfig"],QS(s)),n}function lS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let o=ft(i);Array.isArray(o)&&(o=o.map(u=>Ho(u))),d(n,["contents"],o)}const s=l(e,["config"]);return s!=null&&oS(s),n}function uS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let o=ft(i);Array.isArray(o)&&(o=o.map(u=>u)),d(n,["contents"],o)}const s=l(e,["config"]);return s!=null&&aS(s,n),n}function dS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const i=l(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function cS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function fS(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],oe(t,r)),n}function pS(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],oe(t,r)),n}function mS(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function hS(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function gS(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=l(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const s=l(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const u=l(t,["guidanceScale"]);e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u);const c=l(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const w=l(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const C=l(t,["outputMimeType"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","mimeType"],C);const v=l(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","compressionQuality"],v);const S=l(t,["addWatermark"]);e!==void 0&&S!=null&&d(e,["parameters","addWatermark"],S);const y=l(t,["labels"]);e!==void 0&&y!=null&&d(e,["labels"],y);const g=l(t,["editMode"]);e!==void 0&&g!=null&&d(e,["parameters","editMode"],g);const x=l(t,["baseSteps"]);return e!==void 0&&x!=null&&d(e,["parameters","editConfig","baseSteps"],x),n}function yS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const s=l(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>vC(c))),d(n,["instances[0]","referenceImages"],u)}const o=l(e,["config"]);return o!=null&&gS(o,n),n}function xS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Bo(s))),d(e,["generatedImages"],i)}return e}function vS(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=l(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const s=l(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&d(e,["requests[]","outputDimensionality"],s),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wS(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const i=l(t,["title"]);e!==void 0&&i!=null&&d(e,["instances[]","title"],i);const s=l(t,["outputDimensionality"]);e!==void 0&&s!=null&&d(e,["parameters","outputDimensionality"],s);const o=l(t,["mimeType"]);e!==void 0&&o!=null&&d(e,["instances[]","mimeType"],o);const u=l(t,["autoTruncate"]);return e!==void 0&&u!=null&&d(e,["parameters","autoTruncate"],u),n}function _S(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let u=Vu(t,i);Array.isArray(u)&&(u=u.map(c=>c)),d(n,["requests[]","content"],u)}const s=l(e,["config"]);s!=null&&vS(s,n);const o=l(e,["model"]);return o!==void 0&&d(n,["requests[]","model"],oe(t,o)),n}function SS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let o=Vu(t,i);Array.isArray(o)&&(o=o.map(u=>u)),d(n,["instances[]","content"],o)}const s=l(e,["config"]);return s!=null&&wS(s,n),n}function CS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["embeddings"],s)}const i=l(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function NS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>rS(o))),d(e,["embeddings"],s)}const i=l(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function kS(t){const e={},n=l(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=l(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function TS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function ES(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bS(t){const e={},n=l(t,["mode"]);n!=null&&d(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function IS(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&d(e,["description"],n);const r=l(t,["name"]);r!=null&&d(e,["name"],r);const i=l(t,["parameters"]);i!=null&&d(e,["parameters"],i);const s=l(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const o=l(t,["response"]);o!=null&&d(e,["response"],o);const u=l(t,["responseJsonSchema"]);return u!=null&&d(e,["responseJsonSchema"],u),e}function AS(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],Ho(je(i)));const s=l(e,["temperature"]);s!=null&&d(r,["temperature"],s);const o=l(e,["topP"]);o!=null&&d(r,["topP"],o);const u=l(e,["topK"]);u!=null&&d(r,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&d(r,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&d(r,["maxOutputTokens"],f);const p=l(e,["stopSequences"]);p!=null&&d(r,["stopSequences"],p);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const h=l(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const w=l(e,["presencePenalty"]);w!=null&&d(r,["presencePenalty"],w);const C=l(e,["frequencyPenalty"]);C!=null&&d(r,["frequencyPenalty"],C);const v=l(e,["seed"]);v!=null&&d(r,["seed"],v);const S=l(e,["responseMimeType"]);S!=null&&d(r,["responseMimeType"],S);const y=l(e,["responseSchema"]);y!=null&&d(r,["responseSchema"],zu(y));const g=l(e,["responseJsonSchema"]);if(g!=null&&d(r,["responseJsonSchema"],g),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let I=x;Array.isArray(I)&&(I=I.map(O=>wC(O))),d(n,["safetySettings"],I)}const _=l(e,["tools"]);if(n!==void 0&&_!=null){let I=$r(_);Array.isArray(I)&&(I=I.map(O=>EC(Gr(O)))),d(n,["tools"],I)}const k=l(e,["toolConfig"]);if(n!==void 0&&k!=null&&d(n,["toolConfig"],TC(k)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=l(e,["cachedContent"]);n!==void 0&&T!=null&&d(n,["cachedContent"],Qt(t,T));const b=l(e,["responseModalities"]);b!=null&&d(r,["responseModalities"],b);const M=l(e,["mediaResolution"]);M!=null&&d(r,["mediaResolution"],M);const j=l(e,["speechConfig"]);if(j!=null&&d(r,["speechConfig"],Gu(j)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const E=l(e,["thinkingConfig"]);E!=null&&d(r,["thinkingConfig"],E);const R=l(e,["imageConfig"]);return R!=null&&d(r,["imageConfig"],rC(R)),r}function RS(t,e,n){const r={},i=l(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],je(i));const s=l(e,["temperature"]);s!=null&&d(r,["temperature"],s);const o=l(e,["topP"]);o!=null&&d(r,["topP"],o);const u=l(e,["topK"]);u!=null&&d(r,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&d(r,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&d(r,["maxOutputTokens"],f);const p=l(e,["stopSequences"]);p!=null&&d(r,["stopSequences"],p);const m=l(e,["responseLogprobs"]);m!=null&&d(r,["responseLogprobs"],m);const h=l(e,["logprobs"]);h!=null&&d(r,["logprobs"],h);const w=l(e,["presencePenalty"]);w!=null&&d(r,["presencePenalty"],w);const C=l(e,["frequencyPenalty"]);C!=null&&d(r,["frequencyPenalty"],C);const v=l(e,["seed"]);v!=null&&d(r,["seed"],v);const S=l(e,["responseMimeType"]);S!=null&&d(r,["responseMimeType"],S);const y=l(e,["responseSchema"]);y!=null&&d(r,["responseSchema"],zu(y));const g=l(e,["responseJsonSchema"]);g!=null&&d(r,["responseJsonSchema"],g);const x=l(e,["routingConfig"]);x!=null&&d(r,["routingConfig"],x);const _=l(e,["modelSelectionConfig"]);_!=null&&d(r,["modelConfig"],_);const k=l(e,["safetySettings"]);if(n!==void 0&&k!=null){let A=k;Array.isArray(A)&&(A=A.map(z=>z)),d(n,["safetySettings"],A)}const T=l(e,["tools"]);if(n!==void 0&&T!=null){let A=$r(T);Array.isArray(A)&&(A=A.map(z=>ig(Gr(z)))),d(n,["tools"],A)}const b=l(e,["toolConfig"]);n!==void 0&&b!=null&&d(n,["toolConfig"],b);const M=l(e,["labels"]);n!==void 0&&M!=null&&d(n,["labels"],M);const j=l(e,["cachedContent"]);n!==void 0&&j!=null&&d(n,["cachedContent"],Qt(t,j));const E=l(e,["responseModalities"]);E!=null&&d(r,["responseModalities"],E);const R=l(e,["mediaResolution"]);R!=null&&d(r,["mediaResolution"],R);const I=l(e,["speechConfig"]);I!=null&&d(r,["speechConfig"],rg(Gu(I)));const O=l(e,["audioTimestamp"]);O!=null&&d(r,["audioTimestamp"],O);const Z=l(e,["thinkingConfig"]);Z!=null&&d(r,["thinkingConfig"],Z);const q=l(e,["imageConfig"]);return q!=null&&d(r,["imageConfig"],iC(q)),r}function Tf(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let o=ft(i);Array.isArray(o)&&(o=o.map(u=>Ho(u))),d(n,["contents"],o)}const s=l(e,["config"]);return s!=null&&d(n,["generationConfig"],AS(t,s,n)),n}function Ef(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["contents"]);if(i!=null){let o=ft(i);Array.isArray(o)&&(o=o.map(u=>u)),d(n,["contents"],o)}const s=l(e,["config"]);return s!=null&&d(n,["generationConfig"],RS(t,s,n)),n}function bf(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>X_(f))),d(e,["candidates"],c)}const i=l(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const s=l(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const o=l(t,["responseId"]);o!=null&&d(e,["responseId"],o);const u=l(t,["usageMetadata"]);return u!=null&&d(e,["usageMetadata"],u),e}function If(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),d(e,["candidates"],f)}const i=l(t,["createTime"]);i!=null&&d(e,["createTime"],i);const s=l(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const o=l(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const u=l(t,["responseId"]);u!=null&&d(e,["responseId"],u);const c=l(t,["usageMetadata"]);return c!=null&&d(e,["usageMetadata"],c),e}function PS(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=l(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const s=l(t,["guidanceScale"]);if(e!==void 0&&s!=null&&d(e,["parameters","guidanceScale"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=l(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&d(e,["parameters","safetySetting"],o);const u=l(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=l(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&d(e,["parameters","includeSafetyAttributes"],c);const f=l(t,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const p=l(t,["language"]);e!==void 0&&p!=null&&d(e,["parameters","language"],p);const m=l(t,["outputMimeType"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","mimeType"],m);const h=l(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&d(e,["parameters","outputOptions","compressionQuality"],h),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(t,["imageSize"]);if(e!==void 0&&w!=null&&d(e,["parameters","sampleImageSize"],w),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function MS(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=l(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const s=l(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const u=l(t,["guidanceScale"]);e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u);const c=l(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const w=l(t,["language"]);e!==void 0&&w!=null&&d(e,["parameters","language"],w);const C=l(t,["outputMimeType"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","mimeType"],C);const v=l(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","compressionQuality"],v);const S=l(t,["addWatermark"]);e!==void 0&&S!=null&&d(e,["parameters","addWatermark"],S);const y=l(t,["labels"]);e!==void 0&&y!=null&&d(e,["labels"],y);const g=l(t,["imageSize"]);e!==void 0&&g!=null&&d(e,["parameters","sampleImageSize"],g);const x=l(t,["enhancePrompt"]);return e!==void 0&&x!=null&&d(e,["parameters","enhancePrompt"],x),n}function DS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const s=l(e,["config"]);return s!=null&&PS(s,n),n}function LS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const s=l(e,["config"]);return s!=null&&MS(s,n),n}function US(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>WS(o))),d(e,["generatedImages"],s)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],tg(i)),e}function jS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Bo(o))),d(e,["generatedImages"],s)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],ng(i)),e}function FS(t,e){const n={},r=l(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=l(t,["durationSeconds"]);if(e!==void 0&&i!=null&&d(e,["parameters","durationSeconds"],i),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const o=l(t,["resolution"]);e!==void 0&&o!=null&&d(e,["parameters","resolution"],o);const u=l(t,["personGeneration"]);if(e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=l(t,["negativePrompt"]);e!==void 0&&c!=null&&d(e,["parameters","negativePrompt"],c);const f=l(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&d(e,["parameters","enhancePrompt"],f),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=l(t,["lastFrame"]);e!==void 0&&p!=null&&d(e,["instances[0]","lastFrame"],Oo(p));const m=l(t,["referenceImages"]);if(e!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(w=>zC(w))),d(e,["instances[0]","referenceImages"],h)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function VS(t,e){const n={},r=l(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const s=l(t,["fps"]);e!==void 0&&s!=null&&d(e,["parameters","fps"],s);const o=l(t,["durationSeconds"]);e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o);const u=l(t,["seed"]);e!==void 0&&u!=null&&d(e,["parameters","seed"],u);const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const f=l(t,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const m=l(t,["pubsubTopic"]);e!==void 0&&m!=null&&d(e,["parameters","pubsubTopic"],m);const h=l(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const w=l(t,["enhancePrompt"]);e!==void 0&&w!=null&&d(e,["parameters","enhancePrompt"],w);const C=l(t,["generateAudio"]);e!==void 0&&C!=null&&d(e,["parameters","generateAudio"],C);const v=l(t,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],Nt(v));const S=l(t,["referenceImages"]);if(e!==void 0&&S!=null){let x=S;Array.isArray(x)&&(x=x.map(_=>GC(_))),d(e,["instances[0]","referenceImages"],x)}const y=l(t,["mask"]);e!==void 0&&y!=null&&d(e,["instances[0]","mask"],VC(y));const g=l(t,["compressionQuality"]);return e!==void 0&&g!=null&&d(e,["parameters","compressionQuality"],g),n}function zS(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["response","generateVideoResponse"]);return o!=null&&d(e,["response"],HS(o)),e}function GS(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["response"]);return o!=null&&d(e,["response"],BS(o)),e}function $S(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const s=l(e,["image"]);s!=null&&d(n,["instances[0]","image"],Oo(s));const o=l(e,["video"]);o!=null&&d(n,["instances[0]","video"],sg(o));const u=l(e,["source"]);u!=null&&OS(u,n);const c=l(e,["config"]);return c!=null&&FS(c,n),n}function qS(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const s=l(e,["image"]);s!=null&&d(n,["instances[0]","image"],Nt(s));const o=l(e,["video"]);o!=null&&d(n,["instances[0]","video"],og(o));const u=l(e,["source"]);u!=null&&JS(u,n);const c=l(e,["config"]);return c!=null&&VS(c,n),n}function HS(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>KS(o))),d(e,["generatedVideos"],s)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function BS(t){const e={},n=l(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>ZS(o))),d(e,["generatedVideos"],s)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=l(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function OS(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Oo(i));const s=l(t,["video"]);return e!==void 0&&s!=null&&d(e,["instances[0]","video"],sg(s)),n}function JS(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Nt(i));const s=l(t,["video"]);return e!==void 0&&s!=null&&d(e,["instances[0]","video"],og(s)),n}function WS(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["image"],sC(n));const r=l(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=l(t,["_self"]);return i!=null&&d(e,["safetyAttributes"],tg(i)),e}function Bo(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["image"],eg(n));const r=l(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=l(t,["_self"]);i!=null&&d(e,["safetyAttributes"],ng(i));const s=l(t,["prompt"]);return s!=null&&d(e,["enhancedPrompt"],s),e}function YS(t){const e={},n=l(t,["_self"]);n!=null&&d(e,["mask"],eg(n));const r=l(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),d(e,["labels"],i)}return e}function KS(t){const e={},n=l(t,["video"]);return n!=null&&d(e,["video"],jC(n)),e}function ZS(t){const e={},n=l(t,["_self"]);return n!=null&&d(e,["video"],FC(n)),e}function QS(t){const e={},n=l(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=l(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=l(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const s=l(t,["candidateCount"]);s!=null&&d(e,["candidateCount"],s);const o=l(t,["enableAffectiveDialog"]);o!=null&&d(e,["enableAffectiveDialog"],o);const u=l(t,["frequencyPenalty"]);u!=null&&d(e,["frequencyPenalty"],u);const c=l(t,["logprobs"]);c!=null&&d(e,["logprobs"],c);const f=l(t,["maxOutputTokens"]);f!=null&&d(e,["maxOutputTokens"],f);const p=l(t,["mediaResolution"]);p!=null&&d(e,["mediaResolution"],p);const m=l(t,["presencePenalty"]);m!=null&&d(e,["presencePenalty"],m);const h=l(t,["responseLogprobs"]);h!=null&&d(e,["responseLogprobs"],h);const w=l(t,["responseMimeType"]);w!=null&&d(e,["responseMimeType"],w);const C=l(t,["responseModalities"]);C!=null&&d(e,["responseModalities"],C);const v=l(t,["responseSchema"]);v!=null&&d(e,["responseSchema"],v);const S=l(t,["routingConfig"]);S!=null&&d(e,["routingConfig"],S);const y=l(t,["seed"]);y!=null&&d(e,["seed"],y);const g=l(t,["speechConfig"]);g!=null&&d(e,["speechConfig"],rg(g));const x=l(t,["stopSequences"]);x!=null&&d(e,["stopSequences"],x);const _=l(t,["temperature"]);_!=null&&d(e,["temperature"],_);const k=l(t,["thinkingConfig"]);k!=null&&d(e,["thinkingConfig"],k);const T=l(t,["topK"]);T!=null&&d(e,["topK"],T);const b=l(t,["topP"]);if(b!=null&&d(e,["topP"],b),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function XS(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],oe(t,r)),n}function eC(t,e){const n={},r=l(e,["model"]);return r!=null&&d(n,["_url","name"],oe(t,r)),n}function tC(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function nC(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function rC(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function iC(t){const e={},n=l(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=l(t,["imageSize"]);r!=null&&d(e,["imageSize"],r);const i=l(t,["outputMimeType"]);i!=null&&d(e,["imageOutputOptions","mimeType"],i);const s=l(t,["outputCompressionQuality"]);return s!=null&&d(e,["imageOutputOptions","compressionQuality"],s),e}function sC(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],Rn(n));const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function eg(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],Rn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Oo(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],Rn(n));const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Nt(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Rn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function oC(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const s=l(e,["pageToken"]);n!==void 0&&s!=null&&d(n,["_query","pageToken"],s);const o=l(e,["filter"]);n!==void 0&&o!=null&&d(n,["_query","filter"],o);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&d(n,["_url","models_url"],Oh(t,u)),r}function aC(t,e,n){const r={},i=l(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const s=l(e,["pageToken"]);n!==void 0&&s!=null&&d(n,["_query","pageToken"],s);const o=l(e,["filter"]);n!==void 0&&o!=null&&d(n,["_query","filter"],o);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&d(n,["_url","models_url"],Oh(t,u)),r}function lC(t,e){const n={},r=l(e,["config"]);return r!=null&&oC(t,r,n),n}function uC(t,e){const n={},r=l(e,["config"]);return r!=null&&aC(t,r,n),n}function dC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["_self"]);if(i!=null){let s=Jh(i);Array.isArray(s)&&(s=s.map(o=>Tl(o))),d(e,["models"],s)}return e}function cC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["_self"]);if(i!=null){let s=Jh(i);Array.isArray(s)&&(s=s.map(o=>El(o))),d(e,["models"],s)}return e}function fC(t){const e={},n=l(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=l(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const i=l(t,["maskDilation"]);return i!=null&&d(e,["dilation"],i),e}function Tl(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);i!=null&&d(e,["description"],i);const s=l(t,["version"]);s!=null&&d(e,["version"],s);const o=l(t,["_self"]);o!=null&&d(e,["tunedModelInfo"],bC(o));const u=l(t,["inputTokenLimit"]);u!=null&&d(e,["inputTokenLimit"],u);const c=l(t,["outputTokenLimit"]);c!=null&&d(e,["outputTokenLimit"],c);const f=l(t,["supportedGenerationMethods"]);f!=null&&d(e,["supportedActions"],f);const p=l(t,["temperature"]);p!=null&&d(e,["temperature"],p);const m=l(t,["maxTemperature"]);m!=null&&d(e,["maxTemperature"],m);const h=l(t,["topP"]);h!=null&&d(e,["topP"],h);const w=l(t,["topK"]);w!=null&&d(e,["topK"],w);const C=l(t,["thinking"]);return C!=null&&d(e,["thinking"],C),e}function El(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);i!=null&&d(e,["description"],i);const s=l(t,["versionId"]);s!=null&&d(e,["version"],s);const o=l(t,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>kS(h))),d(e,["endpoints"],m)}const u=l(t,["labels"]);u!=null&&d(e,["labels"],u);const c=l(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],IC(c));const f=l(t,["defaultCheckpointId"]);f!=null&&d(e,["defaultCheckpointId"],f);const p=l(t,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(h=>h)),d(e,["checkpoints"],m)}return e}function pC(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const s=l(t,["fileData"]);s!=null&&d(e,["fileData"],TS(s));const o=l(t,["functionCall"]);o!=null&&d(e,["functionCall"],ES(o));const u=l(t,["functionResponse"]);u!=null&&d(e,["functionResponse"],u);const c=l(t,["inlineData"]);c!=null&&d(e,["inlineData"],Q_(c));const f=l(t,["text"]);f!=null&&d(e,["text"],f);const p=l(t,["thought"]);p!=null&&d(e,["thought"],p);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function mC(t){const e={},n=l(t,["productImage"]);return n!=null&&d(e,["image"],Nt(n)),e}function hC(t,e){const n={},r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=l(t,["baseSteps"]);e!==void 0&&i!=null&&d(e,["parameters","baseSteps"],i);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const o=l(t,["seed"]);e!==void 0&&o!=null&&d(e,["parameters","seed"],o);const u=l(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const c=l(t,["personGeneration"]);e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c);const f=l(t,["addWatermark"]);e!==void 0&&f!=null&&d(e,["parameters","addWatermark"],f);const p=l(t,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const m=l(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","compressionQuality"],m);const h=l(t,["enhancePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","enhancePrompt"],h);const w=l(t,["labels"]);return e!==void 0&&w!=null&&d(e,["labels"],w),n}function gC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["source"]);i!=null&&xC(i,n);const s=l(e,["config"]);return s!=null&&hC(s,n),n}function yC(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Bo(i))),d(e,["generatedImages"],r)}return e}function xC(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["personImage"]);e!==void 0&&i!=null&&d(e,["instances[0]","personImage","image"],Nt(i));const s=l(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>mC(u))),d(e,["instances[0]","productImages"],o)}return n}function vC(t){const e={},n=l(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],Nt(n));const r=l(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const i=l(t,["referenceType"]);i!=null&&d(e,["referenceType"],i);const s=l(t,["maskImageConfig"]);s!=null&&d(e,["maskImageConfig"],fC(s));const o=l(t,["controlImageConfig"]);o!=null&&d(e,["controlImageConfig"],sS(o));const u=l(t,["styleImageConfig"]);u!=null&&d(e,["styleImageConfig"],u);const c=l(t,["subjectImageConfig"]);return c!=null&&d(e,["subjectImageConfig"],c),e}function tg(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=l(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function ng(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=l(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function wC(t){const e={},n=l(t,["category"]);if(n!=null&&d(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function _C(t){const e={},n=l(t,["image"]);return n!=null&&d(e,["image"],Nt(n)),e}function SC(t,e){const n={},r=l(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const i=l(t,["maxPredictions"]);e!==void 0&&i!=null&&d(e,["parameters","maxPredictions"],i);const s=l(t,["confidenceThreshold"]);e!==void 0&&s!=null&&d(e,["parameters","confidenceThreshold"],s);const o=l(t,["maskDilation"]);e!==void 0&&o!=null&&d(e,["parameters","maskDilation"],o);const u=l(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","binaryColorThreshold"],u);const c=l(t,["labels"]);return e!==void 0&&c!=null&&d(e,["labels"],c),n}function CC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["source"]);i!=null&&kC(i,n);const s=l(e,["config"]);return s!=null&&SC(s,n),n}function NC(t){const e={},n=l(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>YS(i))),d(e,["generatedMasks"],r)}return e}function kC(t,e){const n={},r=l(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=l(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Nt(i));const s=l(t,["scribbleImage"]);return e!==void 0&&s!=null&&d(e,["instances[0]","scribble"],_C(s)),n}function rg(t){const e={},n=l(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=l(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function TC(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],bS(n));const r=l(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function EC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=l(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const o=l(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],tC(u));const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],nC(c));const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}function ig(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>IS(h))),d(e,["functionDeclarations"],m)}const r=l(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=l(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const s=l(t,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=l(t,["codeExecution"]);o!=null&&d(e,["codeExecution"],o);const u=l(t,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const c=l(t,["googleMaps"]);c!=null&&d(e,["googleMaps"],c);const f=l(t,["googleSearch"]);f!=null&&d(e,["googleSearch"],f);const p=l(t,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function bC(t){const e={},n=l(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=l(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function IC(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=l(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function AC(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const s=l(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&d(e,["defaultCheckpointId"],s),n}function RC(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=l(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const s=l(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&d(e,["defaultCheckpointId"],s),n}function PC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","name"],oe(t,r));const i=l(e,["config"]);return i!=null&&AC(i,n),n}function MC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["config"]);return i!=null&&RC(i,n),n}function DC(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=l(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&d(e,["parameters","safetySetting"],i);const s=l(t,["personGeneration"]);e!==void 0&&s!=null&&d(e,["parameters","personGeneration"],s);const o=l(t,["includeRaiReason"]);e!==void 0&&o!=null&&d(e,["parameters","includeRaiReason"],o);const u=l(t,["outputMimeType"]);e!==void 0&&u!=null&&d(e,["parameters","outputOptions","mimeType"],u);const c=l(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&d(e,["parameters","outputOptions","compressionQuality"],c);const f=l(t,["enhanceInputImage"]);e!==void 0&&f!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],f);const p=l(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=l(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const h=l(t,["numberOfImages"]);e!==void 0&&h!=null&&d(e,["parameters","sampleCount"],h);const w=l(t,["mode"]);return e!==void 0&&w!=null&&d(e,["parameters","mode"],w),n}function LC(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["_url","model"],oe(t,r));const i=l(e,["image"]);i!=null&&d(n,["instances[0]","image"],Nt(i));const s=l(e,["upscaleFactor"]);s!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=l(e,["config"]);return o!=null&&DC(o,n),n}function UC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Bo(s))),d(e,["generatedImages"],i)}return e}function jC(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Rn(r));const i=l(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function FC(t){const e={},n=l(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Rn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function VC(t){const e={},n=l(t,["image"]);n!=null&&d(e,["_self"],Nt(n));const r=l(t,["maskMode"]);return r!=null&&d(e,["maskMode"],r),e}function zC(t){const e={},n=l(t,["image"]);n!=null&&d(e,["image"],Oo(n));const r=l(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function GC(t){const e={},n=l(t,["image"]);n!=null&&d(e,["image"],Nt(n));const r=l(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function sg(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["uri"],n);const r=l(t,["videoBytes"]);r!=null&&d(e,["encodedVideo"],Rn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["encoding"],i),e}function og(t){const e={},n=l(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=l(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],Rn(r));const i=l(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $C="Content-Type",qC="X-Server-Timeout",HC="User-Agent",bl="x-goog-api-client",BC="1.30.0",OC=`google-genai-sdk/${BC}`,JC="v1beta1",WC="v1beta",Af=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class YC{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:JC,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:WC,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,u]of Object.entries(e.queryParams))i.searchParams.append(o,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&KC(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Rf(i),new Cl(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Rf(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return wr(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:u,value:c}=yield de(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),w=h.status,C=h.code,v=`got status: ${w}. ${JSON.stringify(m)}`;if(C>=400&&C<600)throw new qo({message:v,status:C})}}catch(m){if(m.name==="ApiError")throw m}o+=f;let p=o.match(Af);for(;p;){const m=p[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield de(new Cl(h)),o=o.slice(p[0].length),p=o.match(Af)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=OC+" "+this.clientOptions.userAgentExtra;return e[HC]=n,e[bl]=n,e[$C]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(qC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),p=V("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return s.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),u=String(o.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(f,u,c,p,m,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var u;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Rf(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new qo({message:i,status:n}):new Error(i)}}function KC(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const u=Object.assign({},s);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const f=o[c],p=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?u[c]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZC="mcp_used/unknown";let QC=!1;function ag(t){for(const e of t)if(XC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return QC}function lg(t){var e;const n=(e=t[bl])!==null&&e!==void 0?e:"";t[bl]=(n+` ${ZC}`).trimStart()}function XC(t){return t!==null&&typeof t=="object"&&t instanceof qu}function eN(t,e=100){return wr(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield de(t.listTools({cursor:r}));for(const o of s.tools)yield yield de(o),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class qu{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new qu(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const p of this.mcpClients)try{for(var u=!0,c=(n=void 0,mi(eN(p))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const m=i;o.push(m);const h=m.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=p}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),O1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tN(t,e,n){const r=new F1;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class nN{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=sN(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const p=new Promise(x=>{f=x}),m=e.callbacks,h=function(){f({})},w=this.apiClient,C={onopen:h,onmessage:x=>{tN(w,m.onmessage,x)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(x){}},v=this.webSocketFactory.create(c,iN(o),C);v.connect(),await p;const g={setup:{model:oe(this.apiClient,e.model)}};return v.send(JSON.stringify(g)),new rN(v,this.apiClient)}}class rN{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=q_(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=$_(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fr.PLAY)}pause(){this.sendPlaybackControl(fr.PAUSE)}stop(){this.sendPlaybackControl(fr.STOP)}resetContext(){this.sendPlaybackControl(fr.RESET_CONTEXT)}close(){this.conn.close()}}function iN(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function sN(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aN(t,e,n){const r=new j1;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=O_(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class lN{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new nN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&ag(e.config.tools)&&lg(m);const h=fN(m);if(this.apiClient.isVertexAI())p=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,p);else{const j=this.apiClient.getApiKey();let E="BidiGenerateContent",R="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),E="BidiGenerateContentConstrained",R="access_token"),p=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${E}?${R}=${j}`}let w=()=>{};const C=new Promise(j=>{w=j}),v=e.callbacks,S=function(){var j;(j=v==null?void 0:v.onopen)===null||j===void 0||j.call(v),w({})},y=this.apiClient,g={onopen:S,onmessage:j=>{aN(y,v.onmessage,j)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(j){}},x=this.webSocketFactory.create(p,cN(h),g);x.connect(),await C;let _=oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const j=this.apiClient.getProject(),E=this.apiClient.getLocation();_=`projects/${j}/locations/${E}/`+_}let k={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ao.AUDIO]}:e.config.responseModalities=[ao.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(u=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[],b=[];for(const j of T)if(this.isCallableTool(j)){const E=j;b.push(await E.tool())}else b.push(j);b.length>0&&(e.config.tools=b);const M={model:_,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=G_(this.apiClient,M):k=z_(this.apiClient,M),delete k.config,x.send(JSON.stringify(k)),new dN(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const uN={turnComplete:!0};class dN{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ft(n.turns),e.isVertexAI()||(r=r.map(i=>Ho(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(oN)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},uN),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:B_(e)}:n={realtimeInput:H_(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function cN(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function fN(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pf=10;function Mf(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(_r(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function _r(t){return"callTool"in t&&typeof t.callTool=="function"}function pN(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>_r(i)))!==null&&r!==void 0?r:!1}function Df(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(_r(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function Lf(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mN extends Zt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!pN(n)||Mf(n.config))return await this.generateContentInternal(c);const f=Df(n);if(f.length>0){const v=f.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let p,m;const h=ft(c.contents),w=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:Pf;let C=0;for(;C<w&&(p=await this.generateContentInternal(c),!(!p.functionCalls||p.functionCalls.length===0));){const v=p.candidates[0].content,S=[];for(const y of(u=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[])if(_r(y)){const x=await y.callTool(p.functionCalls);S.push(...x)}C++,m={role:"user",parts:S},c.contents=ft(c.contents),c.contents.push(v),c.contents.push(m),Lf(c.config)&&(h.push(v),h.push(m))}return Lf(c.config)&&(p.automaticFunctionCallingHistory=h),p},this.generateContentStream=async n=>{var r,i,s,o,u;if(this.maybeMoveToResponseJsonSchem(n),Mf(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=Df(n);if(c.length>0){const m=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,p=(u=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:o.push(c);let u;return s?u={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Kn(Jt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async c=>_r(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(u.config.tools=o,e.config&&e.config.tools&&ag(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),lg(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(_r(o)){const u=o,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Pf;let o=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,p,m){var h,w;return wr(this,arguments,function*(){for(var C,v,S,y;u<s;){o&&(u++,o=!1);const k=yield de(f.processParamsMaybeAddMcpUsage(m)),T=yield de(f.generateContentStreamInternal(k)),b=[],M=[];try{for(var g=!0,x=(v=void 0,mi(T)),_;_=yield de(x.next()),C=_.done,!C;g=!0){y=_.value,g=!1;const j=y;if(yield yield de(j),j.candidates&&(!((h=j.candidates[0])===null||h===void 0)&&h.content)){M.push(j.candidates[0].content);for(const E of(w=j.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(u<s&&E.functionCall){if(!E.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(E.functionCall.name)){const R=yield de(p.get(E.functionCall.name).callTool([E.functionCall]));b.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${E.functionCall.name}`)}}}}catch(j){v={error:j}}finally{try{!g&&!C&&(S=x.return)&&(yield de(S.call(x)))}finally{if(v)throw v.error}}if(b.length>0){o=!0;const j=new Xr;j.candidates=[{content:{role:"user",parts:b}}],yield yield de(j);const E=[];E.push(...M),E.push({role:"user",parts:b});const R=ft(m.contents).concat(E);m.contents=R}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Ef(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=If(p),h=new Xr;return Object.assign(h,m),h})}else{const f=Tf(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=bf(p),h=new Xr;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=Ef(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(m){return wr(this,arguments,function*(){var h,w,C,v;try{for(var S=!0,y=mi(m),g;g=yield de(y.next()),h=g.done,!h;S=!0){v=g.value,S=!1;const x=v,_=If(yield de(x.json()));_.sdkHttpResponse={headers:x.headers};const k=new Xr;Object.assign(k,_),yield yield de(k)}}catch(x){w={error:x}}finally{try{!S&&!h&&(C=y.return)&&(yield de(C.call(y)))}finally{if(w)throw w.error}}})})}else{const f=Tf(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(m){return wr(this,arguments,function*(){var h,w,C,v;try{for(var S=!0,y=mi(m),g;g=yield de(y.next()),h=g.done,!h;S=!0){v=g.value,S=!1;const x=v,_=bf(yield de(x.json()));_.sdkHttpResponse={headers:x.headers};const k=new Xr;Object.assign(k,_),yield yield de(k)}}catch(x){w={error:x}}finally{try{!S&&!h&&(C=y.return)&&(yield de(C.call(y)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=SS(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=NS(p),h=new df;return Object.assign(h,m),h})}else{const f=_S(this.apiClient,e);return u=V("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=CS(p),h=new df;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=LS(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=jS(p),h=new cf;return Object.assign(h,m),h})}else{const f=DS(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=US(p),h=new cf;return Object.assign(h,m),h})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const u=yS(this.apiClient,e);return s=V("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const f=xS(c),p=new T1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const u=LC(this.apiClient,e);return s=V("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const f=UC(c),p=new E1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const u=gC(this.apiClient,e);return s=V("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=yC(c),p=new b1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const u=CC(this.apiClient,e);return s=V("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=NC(c),p=new I1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=eC(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>El(p))}else{const f=XS(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>Tl(p))}}async listInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=uC(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=cC(p),h=new ff;return Object.assign(h,m),h})}else{const f=lC(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=dC(p),h=new ff;return Object.assign(h,m),h})}}async update(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=MC(this.apiClient,e);return u=V("{model}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>El(p))}else{const f=PC(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>Tl(p))}}async delete(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=pS(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=hS(p),h=new pf;return Object.assign(h,m),h})}else{const f=fS(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=mS(p),h=new pf;return Object.assign(h,m),h})}}async countTokens(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=uS(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=cS(p),h=new mf;return Object.assign(h,m),h})}else{const f=lS(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=dS(p),h=new mf;return Object.assign(h,m),h})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const u=tS(this.apiClient,e);return s=V("{model}:computeTokens",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>{const f=nS(c),p=new A1;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=qS(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const m=GS(p),h=new lo;return Object.assign(h,m),h})}else{const f=$S(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>{const m=zS(p),h=new lo;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hN extends Zt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=w1(e);return u=V("{operationName}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o}else{const f=v1(e);return u=V("{operationName}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const u=f1(e);return s=V("{resourceName}:fetchPredictOperation",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gN(t){const e={},n=l(t,["data"]);if(n!=null&&d(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function yN(t){const e={},n=l(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>TN(s))),d(e,["parts"],i)}const r=l(t,["role"]);return r!=null&&d(e,["role"],r),e}function xN(t,e,n){const r={},i=l(e,["expireTime"]);n!==void 0&&i!=null&&d(n,["expireTime"],i);const s=l(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&d(n,["newSessionExpireTime"],s);const o=l(e,["uses"]);n!==void 0&&o!=null&&d(n,["uses"],o);const u=l(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&d(n,["bidiGenerateContentSetup"],kN(t,u));const c=l(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&d(n,["fieldMask"],c),r}function vN(t,e){const n={},r=l(e,["config"]);return r!=null&&d(n,["config"],xN(t,r,n)),n}function wN(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function _N(t){const e={},n=l(t,["id"]);n!=null&&d(e,["id"],n);const r=l(t,["args"]);r!=null&&d(e,["args"],r);const i=l(t,["name"]);if(i!=null&&d(e,["name"],i),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SN(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=l(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function CN(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=l(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function NN(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=l(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const s=l(t,["temperature"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","temperature"],s);const o=l(t,["topP"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","topP"],o);const u=l(t,["topK"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","topK"],u);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","mediaResolution"],f);const p=l(t,["seed"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","seed"],p);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","speechConfig"],$u(m));const h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","thinkingConfig"],h);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],w);const C=l(t,["systemInstruction"]);e!==void 0&&C!=null&&d(e,["setup","systemInstruction"],yN(je(C)));const v=l(t,["tools"]);if(e!==void 0&&v!=null){let T=$r(v);Array.isArray(T)&&(T=T.map(b=>bN(Gr(b)))),d(e,["setup","tools"],T)}const S=l(t,["sessionResumption"]);e!==void 0&&S!=null&&d(e,["setup","sessionResumption"],EN(S));const y=l(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&d(e,["setup","inputAudioTranscription"],y);const g=l(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&d(e,["setup","outputAudioTranscription"],g);const x=l(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&d(e,["setup","realtimeInputConfig"],x);const _=l(t,["contextWindowCompression"]);e!==void 0&&_!=null&&d(e,["setup","contextWindowCompression"],_);const k=l(t,["proactivity"]);return e!==void 0&&k!=null&&d(e,["setup","proactivity"],k),n}function kN(t,e){const n={},r=l(e,["model"]);r!=null&&d(n,["setup","model"],oe(t,r));const i=l(e,["config"]);return i!=null&&d(n,["config"],NN(i,n)),n}function TN(t){const e={},n=l(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=l(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=l(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const s=l(t,["fileData"]);s!=null&&d(e,["fileData"],wN(s));const o=l(t,["functionCall"]);o!=null&&d(e,["functionCall"],_N(o));const u=l(t,["functionResponse"]);u!=null&&d(e,["functionResponse"],u);const c=l(t,["inlineData"]);c!=null&&d(e,["inlineData"],gN(c));const f=l(t,["text"]);f!=null&&d(e,["text"],f);const p=l(t,["thought"]);p!=null&&d(e,["thought"],p);const m=l(t,["thoughtSignature"]);m!=null&&d(e,["thoughtSignature"],m);const h=l(t,["videoMetadata"]);return h!=null&&d(e,["videoMetadata"],h),e}function EN(t){const e={},n=l(t,["handle"]);if(n!=null&&d(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bN(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),d(e,["functionDeclarations"],p)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=l(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=l(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const o=l(t,["codeExecution"]);if(o!=null&&d(e,["codeExecution"],o),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=l(t,["googleMaps"]);u!=null&&d(e,["googleMaps"],SN(u));const c=l(t,["googleSearch"]);c!=null&&d(e,["googleSearch"],CN(c));const f=l(t,["urlContext"]);return f!=null&&d(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IN(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function AN(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=IN(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>o.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class RN extends Zt{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=vN(this.apiClient,e);s=V("auth_tokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query;const c=AN(u,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PN(t,e){const n={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),n}function MN(t){const e={},n=l(t,["config"]);return n!=null&&PN(n,e),e}function DN(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function LN(t){const e={},n=l(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&DN(r,e),e}function UN(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function jN(t,e){const n={},r=l(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["customMetadata"],s)}const i=l(t,["chunkingConfig"]);return e!==void 0&&i!=null&&d(e,["chunkingConfig"],i),n}function FN(t){const e={},n=l(t,["name"]);n!=null&&d(e,["name"],n);const r=l(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=l(t,["done"]);i!=null&&d(e,["done"],i);const s=l(t,["error"]);s!=null&&d(e,["error"],s);const o=l(t,["response"]);return o!=null&&d(e,["response"],zN(o)),e}function VN(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=l(t,["fileName"]);r!=null&&d(e,["fileName"],r);const i=l(t,["config"]);return i!=null&&jN(i,e),e}function zN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["parent"]);r!=null&&d(e,["parent"],r);const i=l(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function GN(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function $N(t){const e={},n=l(t,["config"]);return n!=null&&GN(n,e),e}function qN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["fileSearchStores"],s)}return e}function HN(t,e){const n={},r=l(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const i=l(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const s=l(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["customMetadata"],u)}const o=l(t,["chunkingConfig"]);return e!==void 0&&o!=null&&d(e,["chunkingConfig"],o),n}function BN(t){const e={},n=l(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=l(t,["config"]);return r!=null&&HN(r,e),e}function ON(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JN(t,e){const n={},r=l(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function WN(t){const e={},n=l(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&JN(r,e),e}function YN(t){const e={},n=l(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function KN(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=l(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function ZN(t){const e={},n=l(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const r=l(t,["config"]);return r!=null&&KN(r,e),e}function QN(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=l(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),d(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XN extends Zt{constructor(e){super(),this.apiClient=e,this.list=async n=>new Kn(Jt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YN(e);return s=V("{name}",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=WN(e);i=V("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZN(e);return s=V("{parent}/documents",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=QN(c),p=new R1;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ek extends Zt{constructor(e,n=new XN(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Kn(Jt.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=MN(e);return s=V("fileSearchStores",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=UN(e);return s=V("{name}",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=LN(e);i=V("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$N(e);return s=V("fileSearchStores",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=qN(c),p=new P1;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BN(e);return s=V("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ON(c),p=new M1;return Object.assign(p,f),p})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=VN(e);return s=V("{file_search_store_name}:importFile",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=FN(c),p=new ju;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tk(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function nk(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function rk(t,e,n){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(t,["epochCount"]);e!==void 0&&s!=null&&d(e,["tuningTask","hyperparameters","epochCount"],s);const o=l(t,["learningRateMultiplier"]);if(o!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(t,["batchSize"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","batchSize"],u);const c=l(t,["learningRate"]);if(e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","learningRate"],c),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function ik(t,e,n){const r={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const w=l(t,["validationDataset"]);e!==void 0&&w!=null&&d(e,["supervisedTuningSpec"],Uf(w))}else if(i==="PREFERENCE_TUNING"){const w=l(t,["validationDataset"]);e!==void 0&&w!=null&&d(e,["preferenceOptimizationSpec"],Uf(w))}const s=l(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&d(e,["tunedModelDisplayName"],s);const o=l(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const w=l(t,["epochCount"]);e!==void 0&&w!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(u==="PREFERENCE_TUNING"){const w=l(t,["epochCount"]);e!==void 0&&w!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let c=l(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const w=l(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(c==="PREFERENCE_TUNING"){const w=l(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=l(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(f==="PREFERENCE_TUNING"){const w=l(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let p=l(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=l(t,["adapterSize"]);e!==void 0&&w!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(p==="PREFERENCE_TUNING"){const w=l(t,["adapterSize"]);e!==void 0&&w!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=l(t,["labels"]);e!==void 0&&m!=null&&d(e,["labels"],m);const h=l(t,["beta"]);return e!==void 0&&h!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function sk(t,e){const n={},r=l(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=l(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const s=l(t,["trainingDataset"]);s!=null&&gk(s);const o=l(t,["config"]);return o!=null&&rk(o,n),n}function ok(t,e){const n={},r=l(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=l(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const s=l(t,["trainingDataset"]);s!=null&&yk(s,n,e);const o=l(t,["config"]);return o!=null&&ik(o,n,e),n}function ak(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function lk(t,e){const n={},r=l(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function uk(t,e,n){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const o=l(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),r}function dk(t,e,n){const r={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const o=l(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),r}function ck(t,e){const n={},r=l(t,["config"]);return r!=null&&uk(r,n),n}function fk(t,e){const n={},r=l(t,["config"]);return r!=null&&dk(r,n),n}function pk(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const s=l(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>ug(u))),d(n,["tuningJobs"],o)}return n}function mk(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const s=l(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>Il(u))),d(n,["tuningJobs"],o)}return n}function hk(t,e){const n={},r=l(t,["name"]);r!=null&&d(n,["model"],r);const i=l(t,["name"]);return i!=null&&d(n,["endpoint"],i),n}function gk(t,e){const n={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),d(n,["examples","examples"],i)}return n}function yk(t,e,n){const r={};let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=l(t,["gcsUri"]);e!==void 0&&o!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=l(t,["gcsUri"]);e!==void 0&&o!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=l(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=l(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=l(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ug(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&d(n,["name"],i);const s=l(t,["state"]);s!=null&&d(n,["state"],Hh(s));const o=l(t,["createTime"]);o!=null&&d(n,["createTime"],o);const u=l(t,["tuningTask","startTime"]);u!=null&&d(n,["startTime"],u);const c=l(t,["tuningTask","completeTime"]);c!=null&&d(n,["endTime"],c);const f=l(t,["updateTime"]);f!=null&&d(n,["updateTime"],f);const p=l(t,["description"]);p!=null&&d(n,["description"],p);const m=l(t,["baseModel"]);m!=null&&d(n,["baseModel"],m);const h=l(t,["_self"]);return h!=null&&d(n,["tunedModel"],hk(h)),n}function Il(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&d(n,["name"],i);const s=l(t,["state"]);s!=null&&d(n,["state"],Hh(s));const o=l(t,["createTime"]);o!=null&&d(n,["createTime"],o);const u=l(t,["startTime"]);u!=null&&d(n,["startTime"],u);const c=l(t,["endTime"]);c!=null&&d(n,["endTime"],c);const f=l(t,["updateTime"]);f!=null&&d(n,["updateTime"],f);const p=l(t,["error"]);p!=null&&d(n,["error"],p);const m=l(t,["description"]);m!=null&&d(n,["description"],m);const h=l(t,["baseModel"]);h!=null&&d(n,["baseModel"],h);const w=l(t,["tunedModel"]);w!=null&&d(n,["tunedModel"],w);const C=l(t,["preTunedModel"]);C!=null&&d(n,["preTunedModel"],C);const v=l(t,["supervisedTuningSpec"]);v!=null&&d(n,["supervisedTuningSpec"],v);const S=l(t,["preferenceOptimizationSpec"]);S!=null&&d(n,["preferenceOptimizationSpec"],S);const y=l(t,["tuningDataStats"]);y!=null&&d(n,["tuningDataStats"],y);const g=l(t,["encryptionSpec"]);g!=null&&d(n,["encryptionSpec"],g);const x=l(t,["partnerModelTuningSpec"]);x!=null&&d(n,["partnerModelTuningSpec"],x);const _=l(t,["customBaseModel"]);_!=null&&d(n,["customBaseModel"],_);const k=l(t,["experiment"]);k!=null&&d(n,["experiment"],k);const T=l(t,["labels"]);T!=null&&d(n,["labels"],T);const b=l(t,["outputUri"]);b!=null&&d(n,["outputUri"],b);const M=l(t,["pipelineJob"]);M!=null&&d(n,["pipelineJob"],M);const j=l(t,["serviceAccount"]);j!=null&&d(n,["serviceAccount"],j);const E=l(t,["tunedModelDisplayName"]);E!=null&&d(n,["tunedModelDisplayName"],E);const R=l(t,["veoTuningSpec"]);return R!=null&&d(n,["veoTuningSpec"],R),n}function xk(t,e){const n={},r=l(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=l(t,["name"]);i!=null&&d(n,["name"],i);const s=l(t,["metadata"]);s!=null&&d(n,["metadata"],s);const o=l(t,["done"]);o!=null&&d(n,["done"],o);const u=l(t,["error"]);return u!=null&&d(n,["error"],u),n}function Uf(t,e){const n={},r=l(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const i=l(t,["vertexDatasetResource"]);return i!=null&&d(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vk extends Zt{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Kn(Jt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Sl.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=lk(e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>Il(p))}else{const f=ak(e);return u=V("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>ug(p))}}async listInternal(e){var n,r,i,s;let o,u="",c={};if(this.apiClient.isVertexAI()){const f=fk(e);return u=V("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=mk(p),h=new hf;return Object.assign(h,m),h})}else{const f=ck(e);return u=V("tunedModels",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=pk(p),h=new hf;return Object.assign(h,m),h})}}async cancel(e){var n,r,i,s;let o="",u={};if(this.apiClient.isVertexAI()){const c=nk(e);o=V("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=tk(e);o=V("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const u=ok(e,e);return s=V("tuningJobs",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>Il(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sk(e);return s=V("tunedModels",u._url),o=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),i.then(c=>xk(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wk{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _k=1024*1024*8,Sk=3,Ck=1e3,Nk=2,co="x-goog-upload-status";async function kk(t,e,n){var r;const i=await dg(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[co])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Tk(t,e,n){var r;const i=await dg(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[co])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=Fh(s),u=new Fu;return Object.assign(u,o),u}async function dg(t,e,n){var r,i;let s=0,o=0,u=new Cl(new Response),c="upload";for(s=t.size;o<s;){const f=Math.min(_k,s-o),p=t.slice(o,o+f);o+f>=s&&(c+=", finalize");let m=0,h=Ck;for(;m<Sk&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[co]));)m++,await bk(h),h=h*Nk;if(o+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[co])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Ek(t){return{size:t.size,type:t.type}}function bk(t){return new Promise(e=>setTimeout(e,t))}class Ik{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kk(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Tk(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ek(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ak{create(e,n,r){return new Rk(e,n,r)}}class Rk{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jf="x-goog-api-key";class Pk{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(jf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mk="gl-node/";class Hr{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=d1(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Pk(this.apiKey);this.apiClient=new YC({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Mk+"web",uploader:new Ik,downloader:new wk}),this.models=new mN(this.apiClient),this.live=new lN(this.apiClient,i,new Ak),this.batches=new Vw(this.apiClient),this.chats=new w_(this.models,this.apiClient),this.caches=new y_(this.apiClient),this.files=new A_(this.apiClient),this.operations=new hN(this.apiClient),this.authTokens=new RN(this.apiClient),this.tunings=new vk(this.apiClient),this.fileSearchStores=new ek(this.apiClient)}}const Dk=({isOpen:t,onClose:e,onSave:n,initialData:r})=>{var C;const[i,s]=N.useState({name:"",clientName:"",category:"",description:"",status:ut.PLANNED,priority:St.NORMAL,roleRequirements:[],budget:"",startDate:"",dueDate:"",tags:[],notes:""}),[o,u]=N.useState(""),[c,f]=N.useState(!1),[p,m]=N.useState("");N.useEffect(()=>{var v;t&&(r?(s({...r}),m(((v=r.tags)==null?void 0:v.join(", "))||""),u("")):(s({name:"",clientName:"",category:"Social Media",description:"",status:ut.PLANNED,priority:St.NORMAL,roleRequirements:[],budget:"",startDate:new Date().toISOString().split("T")[0],dueDate:"",tags:[],notes:""}),m(""),u("")))},[t,r]);const h=async()=>{if(!i.name&&!o){alert("Please enter a Project Name or provide Source Material.");return}f(!0);try{const v=new Hr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),S=`
        Role: Creative Producer AI.
        Task: Analyze the context and structure a project.
        
        CONTEXT: "${o||i.name}"
        CLIENT: ${i.clientName}

        Return JSON schema:
        {
          "narrative_brief": "String",
          "production_constraints": "String",
          "stylistic_tags": ["String"],
          "suggested_roles": [{ "role": "String", "count": Integer, "skills": ["String"] }]
        }
      `,g=(await Oi(v,{model:"gemini-2.0-flash-exp",contents:S,config:{responseMimeType:"application/json"}})).text.replace(/```json/g,"").replace(/```/g,"").trim(),x=JSON.parse(g),_=(x.suggested_roles||[]).map((k,T)=>({id:`role-${Date.now()}-${T}`,role:k.role,count:k.count||1,filled:0,skillsRequired:k.skillsRequired||[]}));s(k=>({...k,description:x.narrative_brief,notes:x.production_constraints,roleRequirements:_.length>0?_:k.roleRequirements,tags:x.stylistic_tags||[]})),m((x.stylistic_tags||[]).join(", "))}catch(v){console.error("AI Generation failed",v)}finally{f(!1)}},w=v=>{v.preventDefault();const S=p.split(",").map(y=>y.trim()).filter(Boolean);n({...i,tags:S}),e()};return t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/40 backdrop-blur-sm p-4 font-sans animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden border border-gray-200",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-white",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-base font-semibold text-gray-900",children:r?"Edit Project":"New Project"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Configure campaign parameters."})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-900 transition-colors",children:a.jsx(Ke,{size:20})})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[a.jsxs("div",{className:"w-full lg:w-80 bg-gray-50/50 border-r border-gray-100 p-6 flex flex-col gap-6 overflow-y-auto",children:[a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("label",{className:"text-[10px] font-bold text-indigo-900 uppercase tracking-wide mb-2 flex items-center gap-2",children:[a.jsx(Pu,{size:12,className:"text-indigo-600"})," Auto-Config"]}),a.jsx("textarea",{className:"flex-1 w-full p-3 bg-white border border-indigo-100 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-xs resize-none shadow-sm placeholder-indigo-200 text-gray-700 leading-relaxed font-mono",placeholder:"Paste messy notes, emails, or briefs here. AI will structure the project.",value:o,onChange:v=>u(v.target.value)}),a.jsxs("button",{type:"button",onClick:h,disabled:c||!o&&!i.name,className:"mt-3 bg-indigo-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-indigo-700 shadow-sm disabled:opacity-50 transition-all flex items-center justify-center gap-2 uppercase tracking-wide",children:[c?a.jsx(lt,{size:12,className:"animate-spin"}):a.jsx(Ot,{size:12}),c?"Processing...":"Analyze & Fill"]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200 space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Name"}),a.jsx("input",{required:!0,className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none text-sm font-medium",value:i.name,onChange:v=>s({...i,name:v.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Client"}),a.jsx("input",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none text-sm",value:i.clientName,onChange:v=>s({...i,clientName:v.target.value})})]})]})]}),a.jsx("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:a.jsxs("form",{id:"project-form",onSubmit:w,className:"space-y-8 max-w-3xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[11px] font-semibold text-gray-700 flex items-center gap-2",children:[a.jsx(kn,{size:14,className:"text-gray-400"})," Narrative Brief"]}),a.jsx("textarea",{className:"w-full p-4 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900/5 focus:border-gray-900 outline-none text-sm leading-relaxed min-h-[120px] shadow-sm font-sans",placeholder:"Core story...",value:i.description,onChange:v=>s({...i,description:v.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[11px] font-semibold text-gray-700 flex items-center gap-2",children:[a.jsx(Hi,{size:14,className:"text-gray-400"})," Constraints"]}),a.jsx("textarea",{className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900/5 focus:border-gray-900 outline-none text-xs font-mono min-h-[80px] text-gray-600",placeholder:"Tech specs...",value:i.notes,onChange:v=>s({...i,notes:v.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-5 rounded-xl border border-gray-100 bg-white shadow-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Status"}),a.jsx("select",{className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:i.status,onChange:v=>s({...i,status:v.target.value}),children:Object.values(ut).map(v=>a.jsx("option",{value:v,children:v},v))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Start"}),a.jsx("input",{type:"date",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:i.startDate?new Date(i.startDate).toISOString().split("T")[0]:"",onChange:v=>s({...i,startDate:v.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Due"}),a.jsx("input",{type:"date",className:"w-full px-2 py-1.5 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",value:i.dueDate?new Date(i.dueDate).toISOString().split("T")[0]:"",onChange:v=>s({...i,dueDate:v.target.value})})]}),a.jsxs("div",{className:"col-span-2 md:col-span-4 mt-2",children:[a.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide flex items-center gap-1 mb-1",children:[a.jsx(oo,{size:12})," Tags"]}),a.jsx("input",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded text-xs font-medium outline-none focus:border-gray-400",placeholder:"Comma separated tags...",value:p,onChange:v=>m(v.target.value)})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Staffing Plan"}),a.jsxs("button",{type:"button",onClick:()=>s(v=>({...v,roleRequirements:[...v.roleRequirements||[],{id:`role-${Date.now()}`,role:"New",count:1,filled:0,skillsRequired:[]}]})),className:"text-indigo-600 hover:text-indigo-700 text-[10px] font-bold flex items-center gap-1 uppercase",children:[a.jsx(ct,{size:12})," Add Role"]})]}),a.jsx("div",{className:"space-y-2",children:(C=i.roleRequirements)==null?void 0:C.map(v=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[a.jsx(Lu,{size:14,className:"text-gray-400"}),a.jsx("input",{className:"w-32 bg-transparent text-xs font-bold text-gray-900 border-none focus:ring-0 p-0",value:v.role,onChange:S=>{var g;const y=(g=i.roleRequirements)==null?void 0:g.map(x=>x.id===v.id?{...x,role:S.target.value}:x);s({...i,roleRequirements:y})}}),a.jsx("div",{className:"h-4 w-px bg-gray-200"}),a.jsx("input",{type:"number",className:"w-12 bg-transparent text-xs text-gray-600 border-none focus:ring-0 p-0 text-center",value:v.count,onChange:S=>{var g;const y=(g=i.roleRequirements)==null?void 0:g.map(x=>x.id===v.id?{...x,count:parseInt(S.target.value)}:x);s({...i,roleRequirements:y})}}),a.jsx("div",{className:"h-4 w-px bg-gray-200"}),a.jsx("input",{className:"flex-1 bg-transparent text-xs text-gray-500 border-none focus:ring-0 p-0",placeholder:"Required Skills...",value:v.skillsRequired.join(", "),onChange:S=>{var g;const y=(g=i.roleRequirements)==null?void 0:g.map(x=>x.id===v.id?{...x,skillsRequired:S.target.value.split(",")}:x);s({...i,roleRequirements:y})}}),a.jsx("button",{type:"button",onClick:()=>s(S=>{var y;return{...S,roleRequirements:(y=S.roleRequirements)==null?void 0:y.filter(g=>g.id!==v.id)}}),className:"text-gray-400 hover:text-rose-500",children:a.jsx($o,{size:14})})]},v.id))})]})]})})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-white flex justify-end gap-3 z-10",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-md text-xs transition-colors",children:"Cancel"}),a.jsx("button",{onClick:w,className:"px-5 py-2 bg-gray-900 text-white font-medium rounded-md text-xs hover:bg-black shadow-sm transition-all",children:r?"Update Project":"Create Project"})]})]})}):null},fo=({children:t,variant:e="neutral",className:n=""})=>{const r={neutral:"bg-subtle text-ink-secondary border-transparent",success:"bg-state-success-bg text-state-success border-state-success/20",warning:"bg-state-warning-bg text-state-warning border-state-warning/20",danger:"bg-state-danger-bg text-state-danger border-state-danger/20",ai:"bg-primary-tint text-primary pl-2.5 pr-2 border-l-2 border-edge-teal"},i="inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest border";return a.jsxs("span",{className:`${i} ${r[e]} ${n}`,children:[e==="ai"&&a.jsx(Ot,{size:10,className:"text-edge-magenta"}),t]})},Qn=({children:t,variant:e="primary",size:n="md",isLoading:r=!1,leftIcon:i,className:s="",disabled:o,...u})=>{const c="relative inline-flex items-center justify-center font-medium transition-all duration-200 ease-out rounded-xl disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-1 active:scale-[0.98]",f={sm:"px-3 py-1.5 text-xs tracking-wide",md:"px-5 py-2.5 text-sm",lg:"px-6 py-3.5 text-base"},p={primary:"bg-primary hover:bg-primary-hover text-ink-inverse shadow-sm hover:shadow-lg hover:-translate-y-[1px] focus:ring-primary/40 border border-transparent",secondary:"bg-surface border border-border-subtle text-ink-primary hover:bg-subtle/50 hover:border-border-hover hover:shadow-md focus:ring-border-subtle shadow-sm",ghost:"bg-transparent text-ink-secondary hover:text-ink-primary hover:bg-subtle/50 rounded-lg",danger:"bg-state-danger text-white hover:bg-red-700 shadow-sm hover:shadow-lg hover:-translate-y-[1px] focus:ring-red-500/40"};return a.jsxs("button",{className:`
        ${c}
        ${f[n]}
        ${p[e]}
        ${s}
      `,disabled:o||r,...u,children:[r&&a.jsx(lt,{size:16,className:"animate-spin mr-2"}),!r&&i&&a.jsx("span",{className:"mr-2 opacity-90",children:i}),a.jsx("span",{className:r?"opacity-0":"opacity-100",children:t})]})},Lk=({projects:t,onCreate:e,onUpdate:n,isLoading:r=!1})=>{const[i,s]=N.useState(""),[o,u]=N.useState(new Set),[c,f]=N.useState(!1),[p,m]=N.useState(void 0),[h,w]=N.useState({status:"",priority:""}),[C]=N.useState({key:"dueDate",direction:"asc"}),[v,S]=N.useState(1),[y,g]=N.useState(1),[x,_]=N.useState([]),[k,T]=N.useState(r);Vi.useEffect(()=>{const O=setTimeout(async()=>{T(!0);try{const Z=await Q.projects.list({page:v,limit:10,search:i,filters:h});_(Z.data||[]),Z.meta&&g(Z.meta.totalPages)}catch(Z){console.error("Failed to fetch projects",Z)}finally{T(!1)}},300);return()=>clearTimeout(O)},[v,i,h]);const b=N.useMemo(()=>x.sort((I,O)=>{const Z=new Date(I.dueDate||0).getTime(),q=new Date(O.dueDate||0).getTime();return C.direction==="asc"?Z-q:q-Z}),[x,C]),M=()=>{o.size===b.length&&b.length>0?u(new Set):u(new Set(b.map(I=>I.id)))},j=I=>{const O=new Set(o);O.has(I)?O.delete(I):O.add(I),u(O)},E=I=>{switch(I){case ut.DELIVERED:return"success";case ut.REVIEW:return"warning";case ut.IN_PROGRESS:return"ai";default:return"neutral"}},R=I=>{switch(I){case St.URGENT:return"danger";case St.HIGH:return"warning";case St.NORMAL:return"ai";default:return"neutral"}};return a.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto space-y-8 font-sans text-ink-primary animate-enter",children:[a.jsx(Dk,{isOpen:c,onClose:()=>f(!1),onSave:I=>{p&&n?n({...p,...I}):e&&e(I)},initialData:p}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-display font-semibold tracking-tight text-ink-primary",children:"Projects"}),a.jsx("p",{className:"text-ink-secondary mt-2 text-sm font-medium",children:"Manage active campaigns and production schedules."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Ge,{to:"/imports",children:a.jsx(Qn,{variant:"secondary",size:"sm",leftIcon:a.jsx(Li,{size:14}),children:"Import"})}),a.jsx(Qn,{variant:"primary",size:"sm",leftIcon:a.jsx(ct,{size:14}),onClick:()=>{m(void 0),f(!0)},children:"New Project"})]})]}),a.jsxs("div",{className:"bg-surface rounded-2xl border border-border-subtle shadow-card overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-border-subtle flex items-center justify-between gap-4 bg-white",children:[a.jsxs("div",{className:"relative flex-1 max-w-md group",children:[a.jsx(Go,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-ink-tertiary group-focus-within:text-primary transition-colors",size:16}),a.jsx("input",{className:"w-full pl-11 pr-10 py-3 bg-app/50 border border-border-subtle rounded-xl text-sm focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 focus:bg-white transition-all placeholder-ink-tertiary font-medium text-ink-primary",placeholder:"Filter projects...",value:i,onChange:I=>s(I.target.value)}),i&&a.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-ink-tertiary hover:text-ink-primary transition-colors",children:a.jsx("div",{className:"bg-subtle rounded-full p-1 hover:bg-border-subtle transition-colors",children:a.jsx(ct,{size:12,className:"rotate-45"})})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-6 w-px bg-border-subtle"}),a.jsxs("div",{className:"relative flex items-center group",children:[a.jsx(wv,{size:14,className:"absolute left-3 text-ink-tertiary pointer-events-none group-hover:text-primary transition-colors"}),a.jsxs("select",{className:"bg-app/50 border border-border-subtle rounded-lg pl-9 pr-8 py-2 text-xs font-bold uppercase tracking-wide text-ink-secondary focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 focus:bg-white cursor-pointer hover:text-ink-primary transition-all appearance-none",value:h.status,onChange:I=>w({...h,status:I.target.value}),children:[a.jsx("option",{value:"",children:"All Status"}),Object.values(ut).map(I=>a.jsx("option",{value:I,children:I},I))]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-ink-tertiary",children:a.jsx("div",{className:"w-0 h-0 border-l-[3px] border-l-transparent border-r-[3px] border-r-transparent border-t-[4px] border-t-current opacity-60"})})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-5 w-12 text-center",children:a.jsx("button",{onClick:M,className:"text-ink-tertiary hover:text-primary transition-colors p-1",children:o.size>0?a.jsx(lc,{size:18}):a.jsx(cc,{size:18})})}),a.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Project Name"}),a.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Status"}),a.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Owner"}),a.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Timeline"}),a.jsx("th",{className:"px-6 py-5 text-xs font-bold text-ink-tertiary uppercase tracking-wide",children:"Priority"}),a.jsx("th",{className:"px-6 py-5 text-right"})]})}),a.jsx("tbody",{className:"divide-y divide-border-subtle bg-surface",children:k?[...Array(5)].map((I,O)=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx(we,{width:16,height:16,variant:"rectangular"})}),a.jsxs("td",{className:"px-6 py-5",children:[a.jsx(we,{width:180,height:20,className:"mb-2"}),a.jsx(we,{width:100,height:12})]}),a.jsx("td",{className:"px-6 py-5",children:a.jsx(we,{width:80,height:24,variant:"rounded"})}),a.jsx("td",{className:"px-6 py-5",children:a.jsx(we,{width:60,height:20})}),a.jsx("td",{className:"px-6 py-5",children:a.jsx(we,{width:100,height:20})}),a.jsx("td",{className:"px-6 py-5",children:a.jsx(we,{width:80,height:24,variant:"rounded"})}),a.jsx("td",{className:"px-6 py-5"})]},O)):b.map(I=>{const O=I.assignedToId?`User ${I.assignedToId.slice(0,4)}`:null,Z=o.has(I.id);return a.jsxs("tr",{className:`group hover:bg-subtle/30 transition-all duration-200 relative ${Z?"bg-primary-tint/30":""}`,children:[a.jsx("td",{className:"px-6 py-6 text-center",children:a.jsx("button",{onClick:()=>j(I.id),className:`transition-colors p-1 ${Z?"text-primary":"text-border-hover hover:text-ink-secondary"}`,children:Z?a.jsx(lc,{size:18}):a.jsx(cc,{size:18})})}),a.jsx("td",{className:"px-6 py-6",children:a.jsxs(Ge,{to:`/projects/${I.id}`,className:"block",children:[a.jsx("div",{className:"font-semibold text-sm text-ink-primary group-hover:text-primary transition-colors tracking-tight",children:I.name}),a.jsx("div",{className:"text-xs text-ink-secondary font-medium mt-1",children:I.clientName})]})}),a.jsx("td",{className:"px-6 py-6",children:a.jsx(fo,{variant:E(I.status),children:I.status})}),a.jsx("td",{className:"px-6 py-6",children:O?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-subtle flex items-center justify-center text-[9px] font-bold text-ink-secondary border border-border-subtle",children:O[0]}),a.jsx("span",{className:"text-xs text-ink-primary font-medium",children:"Owner"})]}):a.jsx("span",{className:"text-ink-tertiary text-xs",children:""})}),a.jsx("td",{className:"px-6 py-6",children:a.jsx("div",{className:"text-sm font-medium text-ink-primary",children:I.dueDate?new Date(I.dueDate).toLocaleDateString():""})}),a.jsx("td",{className:"px-6 py-6",children:a.jsx(fo,{variant:R(I.priority),children:I.priority})}),Z&&a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-primary"}),a.jsx("td",{className:"px-6 py-6 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(Qn,{variant:"ghost",size:"sm",onClick:()=>{m(I),f(!0)},className:"h-8 px-2 text-[10px] uppercase font-bold",children:"Edit"}),a.jsx(Ge,{to:`/projects/${I.id}`,children:a.jsx("div",{className:"p-2 text-ink-tertiary hover:text-primary hover:bg-subtle rounded-md transition-colors",children:a.jsx(Fo,{size:16})})})]})})]},I.id)})})]})}),a.jsxs("div",{className:"p-4 border-t border-border-subtle flex items-center justify-between bg-white",children:[a.jsxs("div",{className:"text-xs text-ink-tertiary font-medium",children:["Page ",v," of ",y]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Qn,{variant:"secondary",size:"sm",onClick:()=>S(I=>Math.max(1,I-1)),disabled:v===1,children:"Previous"}),a.jsx(Qn,{variant:"secondary",size:"sm",onClick:()=>S(I=>Math.min(y,I+1)),disabled:v===y,children:"Next"})]})]})]})]})},Ff=({children:t,className:e="",noPadding:n=!1,hoverable:r=!1})=>a.jsx("div",{className:`
        bg-surface 
        border border-border-subtle 
        rounded-2xl 
        shadow-card
        overflow-hidden
        transition-all duration-200
        ${r?"hover:-translate-y-[2px] hover:shadow-lg cursor-pointer":""}
        ${e}
      `,children:a.jsx("div",{className:n?"":"p-6",children:t})}),Vf=({timezone:t})=>{let e="",n=!1,r=!1;try{e=new Date().toLocaleTimeString("en-US",{timeZone:t,hour:"2-digit",minute:"2-digit",hour12:!1});const s=parseInt(e.split(":")[0]);n=s>=9&&s<18,r=s>=22||s<6}catch{e="UNK"}return a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono font-bold tracking-tight bg-subtle/50 px-2 py-1 rounded-md border border-border-subtle",children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${n?"bg-state-success shadow-[0_0_6px_rgba(22,163,74,0.6)]":r?"bg-ink-tertiary":"bg-state-warning"}`}),a.jsx("span",{className:"text-ink-secondary",children:e})]})},Uk=({freelancers:t,assignments:e=[],onCreate:n})=>{const[r,i]=N.useState("grid"),[s,o]=N.useState(""),u=N.useMemo(()=>t.filter(c=>c.name.toLowerCase().includes(s.toLowerCase())),[t,s]);return a.jsxs("div",{className:"p-8 max-w-[2000px] mx-auto space-y-8 animate-enter pb-24 font-sans",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-display font-semibold tracking-tight text-ink-primary",children:"Roster"}),a.jsx("p",{className:"text-ink-secondary mt-2 text-sm font-medium",children:"Global talent index."})]}),a.jsx("div",{className:"flex gap-3",children:a.jsx(Qn,{variant:"primary",leftIcon:a.jsx(ct,{size:14}),onClick:n,children:"Add Talent"})})]}),a.jsxs("div",{className:"bg-surface p-3 rounded-xl flex flex-col xl:flex-row gap-4 xl:items-center justify-between sticky top-4 z-20 shadow-card border border-border-subtle backdrop-blur-md",children:[a.jsxs("div",{className:"relative w-full xl:w-96 group",children:[a.jsx(Go,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-ink-tertiary group-focus-within:text-primary transition-colors",size:16}),a.jsx("input",{type:"text",placeholder:"Search by name or skill...",className:"w-full pl-11 pr-4 py-3 bg-subtle/30 border border-border-subtle rounded-xl focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm transition-all font-medium placeholder-ink-tertiary text-ink-primary outline-none",value:s,onChange:c=>o(c.target.value)})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:"flex bg-subtle/50 p-1 rounded-xl border border-border-subtle",children:[a.jsx("button",{onClick:()=>i("grid"),className:`p-2 rounded-lg transition-all duration-200 ${r==="grid"?"bg-white shadow-sm text-ink-primary":"text-ink-tertiary hover:text-ink-secondary hover:bg-white/50"}`,children:a.jsx(Mu,{size:18})}),a.jsx("button",{onClick:()=>i("list"),className:`p-2 rounded-lg transition-all duration-200 ${r==="list"?"bg-white shadow-sm text-ink-primary":"text-ink-tertiary hover:text-ink-secondary hover:bg-white/50"}`,children:a.jsx(Iv,{size:18})})]})})]}),r==="grid"&&a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(c=>a.jsx(Ge,{to:`/freelancers/${c.id}`,children:a.jsxs(Ff,{hoverable:!0,className:"h-full flex flex-col p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-5",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-sm ring-1 ring-black/5",children:a.jsx("img",{src:c.avatar,alt:c.name,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500"})})}),a.jsx("div",{className:"text-right flex flex-col items-end gap-1",children:a.jsx(Vf,{timezone:c.timezone})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-display font-semibold text-lg text-ink-primary leading-tight hover:text-primary transition-colors tracking-tight",children:c.name}),a.jsx("p",{className:"text-xs text-ink-secondary font-medium mt-1 uppercase tracking-wide",children:c.role})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 mt-auto",children:(c.skills||[]).slice(0,3).map(f=>a.jsx("span",{className:"px-2 py-1 bg-subtle text-ink-secondary text-[9px] font-bold uppercase tracking-wider rounded border border-border-subtle",children:f},f))}),a.jsxs("div",{className:"mt-5 pt-4 border-t border-border-subtle flex justify-between items-center",children:[a.jsxs("span",{className:"text-[10px] font-mono font-semibold text-ink-primary uppercase tracking-wider",children:[c.currency==="USD"?"$":c.currency,c.rate,a.jsx("span",{className:"text-ink-tertiary text-[9px]",children:"/Day"})]}),a.jsx(fo,{variant:c.status===Ft.ACTIVE?"success":"neutral",children:c.status})]})]})},c.id))}),r==="list"&&a.jsx(Ff,{noPadding:!0,className:"overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Talent"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Local Time"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Rate"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-border-subtle bg-surface",children:u.map(c=>a.jsxs("tr",{className:"group hover:bg-subtle/30 transition-colors",children:[a.jsx("td",{className:"px-8 py-5",children:a.jsxs(Ge,{to:`/freelancers/${c.id}`,className:"flex items-center gap-4",children:[a.jsx("img",{src:c.avatar,className:"w-10 h-10 rounded-xl grayscale group-hover:grayscale-0 transition-all border border-border-subtle object-cover"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-ink-primary tracking-tight group-hover:text-primary transition-colors",children:c.name}),a.jsx("div",{className:"text-[10px] text-ink-secondary uppercase tracking-wide font-medium",children:c.role})]})]})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx(Vf,{timezone:c.timezone})}),a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"text-xs font-mono font-medium text-ink-primary tracking-tight",children:[c.currency==="USD"?"$":c.currency,c.rate]})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx(fo,{variant:c.status===Ft.ACTIVE?"success":"neutral",children:c.status})})]},c.id))})]})})]})},jk=["After Effects","Premiere Pro","Figma","Photoshop","Illustrator","Cinema 4D","Blender","DaVinci Resolve","Copywriting","SEO","React","Node.js","Python","Marketing Strategy","Brand Identity"],Fk=({freelancers:t,projects:e,assignments:n,onUpdate:r,onDelete:i})=>{const{id:s}=Ru(),o=zr(),u=t.find(_=>_.id===s),[c,f]=N.useState(""),[p,m]=N.useState(!1);if(!u)return a.jsx("div",{children:"Freelancer not found"});const h=n.filter(_=>_.freelancerId===u.id),w=h.filter(_=>new Date(_.endDate)>=new Date),C=h.filter(_=>new Date(_.endDate)<new Date),v=_=>{_.preventDefault(),c.trim()&&!u.skills.includes(c.trim())&&(r({...u,skills:[...u.skills,c.trim()]}),f(""))},S=_=>{r({...u,skills:u.skills.filter(k=>k!==_)})},y=()=>{r({...u,status:u.status===Ft.ACTIVE?Ft.INACTIVE:Ft.ACTIVE})},g=async()=>{if(u.bio){m(!0);try{const _=new Hr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),k=await Oi(_,{model:"gemini-2.0-flash-exp",contents:`Rewrite this freelancer bio to be more professional, punchy, and highlight key strengths. Bio: "${u.bio}"`});r({...u,bio:k.text})}catch(_){console.error("Failed to polish bio",_)}finally{m(!1)}}},x=async()=>{window.confirm("Are you sure you want to delete this freelancer? This action cannot be undone.")&&(await i(u.id),o("/freelancers"))};return a.jsxs("div",{className:"p-8 max-w-6xl mx-auto animate-in fade-in duration-500 font-sans text-ink pb-24",children:[a.jsxs("div",{className:"mb-12 border-b border-mist pb-8",children:[a.jsxs(Ge,{to:"/freelancers",className:"inline-flex items-center text-[10px] font-bold text-pencil hover:text-ink mb-8 transition-colors uppercase tracking-widest",children:[a.jsx(ov,{size:10,className:"mr-2"})," Roster Index"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-white border border-mist p-1 rounded-2xl overflow-hidden shadow-sm",children:a.jsx("img",{src:u.avatar,className:"w-full h-full object-cover grayscale rounded-xl"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-semibold text-ink tracking-tight mb-2",children:u.name}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-pencil",children:[a.jsx("span",{className:"font-semibold text-sm",children:u.role}),a.jsx("span",{className:"text-mist",children:"/"}),a.jsx("span",{className:`px-3 py-1 border text-xs font-bold uppercase tracking-wide rounded-lg ${u.status===Ft.ACTIVE?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-gray-50 text-gray-500 border-mist"}`,children:u.status})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:y,className:"px-5 py-2.5 bg-white border border-mist text-ink hover:border-ink hover:bg-gray-50 hover:shadow-md transition-all duration-200 text-xs font-bold uppercase tracking-wide rounded-xl shadow-sm active:scale-[0.98]",children:u.status===Ft.ACTIVE?"Deactivate":"Activate"}),a.jsx("button",{className:"px-5 py-2.5 bg-ink text-white border border-ink hover:bg-black hover:shadow-lg hover:-translate-y-[1px] transition-all duration-200 text-xs font-bold uppercase tracking-wide rounded-xl shadow-sm active:scale-[0.98]",children:"Edit Profile"}),a.jsx("button",{onClick:x,className:"px-3.5 py-2.5 bg-white border border-rose-200 text-rose-600 hover:bg-rose-50 hover:border-rose-300 hover:shadow-md transition-all duration-200 rounded-xl shadow-sm active:scale-[0.98]",title:"Delete Freelancer",children:a.jsx($o,{size:16})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[a.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 border-b border-mist pb-3",children:"Details"}),a.jsxs("div",{className:"space-y-5 text-xs font-medium",children:[a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Email"}),a.jsx("span",{className:"text-ink font-bold",children:u.contactInfo})]}),u.phone&&a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Phone"}),a.jsx("span",{className:"text-ink font-bold",children:u.phone})]}),a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Zone"}),a.jsx("span",{className:"text-ink font-bold",children:u.timezone})]}),a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsx("span",{className:"text-pencil uppercase tracking-wide font-bold text-[10px]",children:"Rate"}),a.jsxs("span",{className:"text-ink font-bold",children:[u.rate," ",u.currency,"/day"]})]})]})]}),a.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-5 border-b border-mist pb-3",children:[a.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest",children:"Bio"}),u.bio&&a.jsxs("button",{onClick:g,disabled:p,className:"text-[10px] text-indigo-600 font-bold flex items-center gap-1 hover:text-indigo-800 transition-colors uppercase tracking-wide",children:[p?a.jsx(lt,{size:12,className:"animate-spin"}):a.jsx(Ot,{size:12}),"Refine"]})]}),a.jsx("p",{className:"text-sm text-ink leading-loose font-normal",children:u.bio||a.jsx("span",{className:"text-pencil italic",children:"No bio available."})})]}),a.jsxs("div",{className:"bg-white border border-mist p-8 rounded-3xl shadow-sm",children:[a.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-5 border-b border-mist pb-3",children:"Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.skills.map(_=>a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-canvas text-ink text-[10px] font-bold border border-mist uppercase tracking-wide rounded-lg",children:[_,a.jsx("button",{onClick:()=>S(_),className:"text-pencil hover:text-rose-500 transition-colors ml-1",children:a.jsx(Ke,{size:10})})]},_))}),a.jsxs("form",{onSubmit:v,className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",list:"system-skills",value:c,onChange:_=>f(_.target.value),placeholder:"ADD SKILL...",className:"w-full px-4 py-2.5 text-[10px] border border-mist rounded-xl focus:border-ink outline-none transition-all bg-white placeholder-pencil font-bold uppercase tracking-wide"}),a.jsx("datalist",{id:"system-skills",children:jk.map(_=>a.jsx("option",{value:_},_))})]}),a.jsx("button",{type:"submit",disabled:!c,className:"px-3 bg-ink text-white hover:bg-black disabled:opacity-50 transition-colors rounded-xl",children:a.jsx(ct,{size:16})})]})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"bg-white border border-mist rounded-3xl overflow-hidden shadow-sm",children:[a.jsx("div",{className:"p-8 border-b border-mist bg-canvas/30",children:a.jsx("h3",{className:"font-semibold text-ink text-lg tracking-tight",children:"Active & Upcoming"})}),w.length>0?a.jsx("div",{className:"divide-y divide-mist",children:w.map(_=>{const k=e.find(T=>T.id===_.projectId);return a.jsxs("div",{className:"p-6 hover:bg-canvas/50 transition-colors flex justify-between items-center group",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-ink mb-1 text-base tracking-tight",children:k==null?void 0:k.name}),a.jsxs("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest",children:[k==null?void 0:k.clientName,"  ",_.role]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-xs font-bold text-ink tabular-nums font-mono mb-1",children:[new Date(_.startDate).toLocaleDateString()," - ",new Date(_.endDate).toLocaleDateString()]}),a.jsx("div",{className:"text-[10px] text-indigo-600 font-bold bg-indigo-50 inline-block px-2.5 py-0.5 border border-indigo-100 uppercase tracking-widest rounded-full",children:"100% Load"})]})]},_.id)})}):a.jsxs("div",{className:"p-16 text-center text-pencil text-sm flex flex-col items-center opacity-60",children:[a.jsx("div",{className:"w-12 h-12 bg-canvas flex items-center justify-center mb-4 border border-mist text-pencil rounded-full",children:a.jsx(Vo,{size:20})}),a.jsx("span",{className:"font-bold uppercase tracking-widest text-xs",children:"Available for booking"})]})]}),C.length>0&&a.jsxs("div",{className:"bg-white border border-mist opacity-60 hover:opacity-100 transition-opacity rounded-3xl overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-mist bg-canvas/30",children:a.jsx("h3",{className:"font-bold text-pencil text-xs uppercase tracking-widest",children:"Archive"})}),a.jsx("div",{className:"divide-y divide-mist",children:C.map(_=>{const k=e.find(T=>T.id===_.projectId);return a.jsxs("div",{className:"p-6 flex justify-between items-center hover:bg-canvas/50 transition-colors",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-pencil group-hover:text-ink transition-colors",children:k==null?void 0:k.name}),a.jsx("div",{className:"text-[10px] text-pencil/70 uppercase tracking-wide font-medium",children:k==null?void 0:k.clientName})]}),a.jsx("div",{className:"text-[10px] text-pencil font-bold tabular-nums font-mono",children:new Date(_.endDate).toLocaleDateString()})]},_.id)})})]})]})]})]})},Vk=({items:t,onAdd:e,onRemove:n})=>{const[r,i]=N.useState(""),[s,o]=N.useState(!1),[u,c]=N.useState("idle"),[f,p]=N.useState(""),m=N.useRef(null),h=async S=>{S.preventDefault();const y=r.trim();if(y){o(!1),c("analyzing"),p("Scanning URL...");try{await e(y,"url")}finally{i(""),c("idle"),p("")}}},w=async S=>{if(S.target.files&&S.target.files[0]){const y=S.target.files[0];o(!1),c("uploading"),p(`Ingesting ${y.name}...`);const g=new FileReader;g.onload=async x=>{var k;const _=(k=x.target)==null?void 0:k.result;c("vectorizing"),p("Updating Neural Weights...");try{await e(_,"file",y)}finally{c("idle"),p("")}},g.readAsDataURL(y)}},C=S=>S.startsWith("data:image")||S.match(/\.(jpeg|jpg|gif|png|webp)$/i)?a.jsx(zo,{size:24,className:"text-purple-500"}):S.startsWith("data:video")||S.includes("youtube")||S.includes("vimeo")||S.match(/\.(mp4|mov)$/i)?a.jsx(Di,{size:24,className:"text-rose-500"}):S.startsWith("data:application/pdf")?a.jsx(kn,{size:24,className:"text-red-500"}):a.jsx(Mh,{size:24,className:"text-blue-500"}),v=S=>{var y;if(S.startsWith("data:image")||S.match(/\.(jpeg|jpg|gif|png|webp)$/i))return S;if(S.includes("youtube.com/watch?v=")){const g=(y=S.split("v=")[1])==null?void 0:y.split("&")[0];if(g)return`https://img.youtube.com/vi/${g}/0.jpg`}return null};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[!s&&u==="idle"&&a.jsxs("button",{onClick:()=>o(!0),className:"aspect-video bg-canvas rounded-2xl border border-dashed border-mist flex flex-col items-center justify-center text-pencil hover:text-ink hover:border-pencil hover:bg-white transition-all group",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-white border border-mist flex items-center justify-center mb-3 shadow-sm group-hover:scale-110 transition-transform duration-300",children:a.jsx(ct,{size:18})}),a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Add Asset"})]}),s&&a.jsxs("div",{className:"col-span-1 md:col-span-2 aspect-video bg-white rounded-2xl border border-mist shadow-sm p-6 flex flex-col justify-between animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-[10px] font-bold text-ink uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Bi,{size:12,className:"text-indigo-600"})," Add Knowledge"]}),a.jsx("button",{onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},className:"text-[9px] bg-canvas hover:bg-mist text-ink px-3 py-1.5 rounded-lg font-bold uppercase tracking-wide transition-colors",children:"Upload File"})]}),a.jsx("input",{type:"url",placeholder:"Paste URL...",className:"w-full px-4 py-3 border border-mist rounded-xl text-xs focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all placeholder-pencil font-medium bg-canvas/30",value:r,onChange:S=>i(S.target.value),autoFocus:!0,onKeyDown:S=>S.key==="Enter"&&h(S)}),a.jsx("input",{type:"file",ref:m,className:"hidden",onChange:w}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-[10px] font-bold uppercase tracking-widest text-pencil hover:text-ink",children:"Cancel"}),a.jsx("button",{onClick:h,disabled:!r,className:"px-4 py-2 bg-ink text-white rounded-lg text-[10px] font-bold uppercase tracking-widest hover:bg-black transition-colors shadow-sm disabled:opacity-50",children:"Scan"})]})]}),u!=="idle"&&a.jsxs("div",{className:"aspect-video bg-white rounded-2xl border border-indigo-100 flex flex-col items-center justify-center p-6 relative overflow-hidden shadow-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-indigo-50/30 animate-pulse"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[u==="uploading"?a.jsx(Ar,{size:24,className:"text-indigo-600 animate-bounce mb-3"}):a.jsx(Pu,{size:24,className:"text-indigo-600 animate-pulse mb-3"}),a.jsx("div",{className:"text-[9px] font-bold text-indigo-900 uppercase tracking-widest",children:u==="uploading"?"Ingesting":"Thinking"}),a.jsx("div",{className:"text-[9px] text-indigo-600/70 mt-1.5 text-center truncate w-full px-2 font-medium",children:f})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-indigo-500 animate-[progress_2s_ease-in-out_infinite] w-full"})]}),t.map((S,y)=>{const g=v(S),x=S.startsWith("data:"),_=x?"Uploaded Asset":new URL(S).hostname;return a.jsxs("div",{className:"group relative aspect-video bg-white rounded-2xl overflow-hidden border border-mist shadow-sm hover:shadow-soft transition-all duration-300 transform hover:-translate-y-1",children:[a.jsxs("div",{className:"absolute top-3 left-3 z-10 flex items-center gap-1.5 bg-white/90 backdrop-blur px-2 py-1 rounded-lg border border-gray-100 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),a.jsx("span",{className:"text-[8px] font-bold text-gray-700 uppercase tracking-widest",children:"Indexed"})]}),g?a.jsx("img",{src:g,alt:"Reference",className:"w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-500"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-canvas group-hover:bg-white transition-colors relative",children:[C(S),a.jsx("span",{className:"text-[10px] text-pencil mt-3 font-medium max-w-[80%] truncate",children:_})]}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors flex items-start justify-end p-3 opacity-0 group-hover:opacity-100",children:a.jsx("button",{onClick:()=>n(S),className:"p-2 bg-white text-pencil hover:text-rose-600 rounded-lg shadow-sm border border-mist transition-colors",children:a.jsx($o,{size:14})})}),!x&&a.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-3 right-3 p-2 bg-white/95 hover:bg-white text-pencil hover:text-indigo-600 rounded-lg shadow-sm border border-mist opacity-0 group-hover:opacity-100 transition-all text-[9px] flex items-center gap-1.5 font-bold uppercase tracking-widest",children:["Open ",a.jsx(xv,{size:10})]})]},y)})]})})};class zk{constructor(){this.chunks=[]}addChunks(e){this.chunks=[...this.chunks,...e]}async search(e,n=5){const r=e.toLowerCase().split(" ");return this.chunks.map(s=>{let o=0;const u=s.text.toLowerCase();return r.forEach(c=>{u.includes(c)&&(o+=1)}),(s.tags.includes("tone")||s.tags.includes("voice"))&&(o*=1.5),s.tags.includes("external_truth")&&(o*=1.2),s.tags.includes("lore")&&(o*=1.3),{...s,relevanceScore:o}}).filter(s=>(s.relevanceScore||0)>0).sort((s,o)=>(o.relevanceScore||0)-(s.relevanceScore||0)).slice(0,n)}clear(){this.chunks=[]}}const bs=new zk,cg={async ingestFile(t){return t.type.startsWith("image/")?this.ingestImage(t):new Promise((e,n)=>{const r=new FileReader;r.onload=async i=>{var u;const s=(u=i.target)==null?void 0:u.result,o=this.chunkContent(s,t.name,["file","upload"]);bs.addChunks(o),e({id:`file-${Date.now()}`,type:"file",title:t.name,url:"",originalContent:s,summary:`Imported document: ${t.name} (${Math.round(t.size/1024)} KB)`,status:"indexed",chunks:o,createdAt:new Date().toISOString()})},r.onerror=i=>n(i),r.readAsText(t)})},async ingestURL(t){let e="url";t.includes("youtube.com")||t.includes("youtu.be")?e="youtube":(t.includes("wikipedia")||t.includes("fandom.com"))&&(e="wiki");let n="",r="";if(await new Promise(o=>setTimeout(o,1500)),e==="youtube")r="Transcript: "+(t.length>30?t.slice(0,30)+"...":t),n=`[00:00] Welcome back to the channel. Today we are analyzing the core themes of this project.
[00:15] Key takeaway: The visual style must be high-contrast and neon.
[00:45] Lore Detail: The protagonist, 'Unit 734', cannot speak but communicates via radio waves.
[01:20] IMPORTANT: Never use blue light in the enemy base scenes. Only red.`;else if(e==="wiki")r="Wiki Entry: Lore Database",n=`History and Origins
The faction known as "The Silenced" emerged in 2040.
They are characterized by their lack of digital footprints.

Powers & Abilities
- Signal Jamming: Blocks all wifi within 50m.
- Stealth: Can turn invisible to thermal cameras.

Weaknesses
- Analog tech: They cannot hack mechanical devices.`;else{try{r="External Resource: "+new URL(t).hostname}catch{r="External Link"}n=`Strategic Overview extracted from ${t}:
1. Focus on speed and efficiency.
2. Target audience is Gen Z gamers.
3. Key Keywords: Glitch, Hype, Drop, Rare.
4. Avoid corporate speak.`}const i=e==="wiki"?["external_truth","lore"]:["general","context"],s=this.chunkContent(n,t,i);return bs.addChunks(s),{id:`source-${Date.now()}-${Math.floor(Math.random()*1e3)}`,type:e,title:r,url:t,originalContent:n,summary:`AI Analysis: Extracted ${s.length} chunks from ${e}.`,status:"indexed",chunks:s,createdAt:new Date().toISOString()}},async ingestImage(t){const e=await this.fileToBase64(t),i=(await new Hr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}).models.generateContent({model:"gemini-2.0-flash-exp",contents:[{text:"Describe this image in detail. If it contains text, extract and structure it."},{inlineData:{mimeType:t.type,data:e}}]})).text||"No analysis generated.",s=this.chunkContent(i,t.name,["image","analysis"]);return bs.addChunks(s),{id:`img-${Date.now()}`,type:"file",title:t.name,url:"",originalContent:i,summary:`AI Image Analysis of ${t.name}`,status:"indexed",chunks:s,createdAt:new Date().toISOString()}},chunkContent(t,e,n=["general"]){return t.split(`

`).flatMap(i=>i.length>500?i.match(/.{1,500}/g)||[]:[i]).map((i,s)=>({id:`chunk-${Date.now()}-${s}`,sourceId:e,text:i.trim(),tags:n})).filter(i=>i.text.length>0)},fileToBase64(t){return new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{const s=r.result.split(",")[1];e(s)},r.onerror=i=>n(i)})}},Gk={async validate(t,e){if(!t)return{hasViolation:!1,violations:[]};try{const n=new Hr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),r=`
      You are a Continuity Editor. Check the following generated text against these Constraints (Context).
      
      CONSTRAINTS / TRUTH:
      ${e.map(o=>`- ${o}`).join(`
`)}
      
      TEXT TO CHECK:
      "${t}"
      
      Task: Identify if any part of the text contradicts the constraints or established truth.
      Return valid JSON (no markdown):
      {
        "hasViolation": boolean,
        "violations": [
          { "quote": "exact substring from text", "rule": "which rule was broken", "correction": "suggestion" }
        ]
      }
      `;let s=(await Oi(n,{model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}})).text;return s?(s=s.replace(/```json/g,"").replace(/```/g,"").trim(),JSON.parse(s)):{hasViolation:!1,violations:[]}}catch(n){return console.error("Guard failed",n),{hasViolation:!1,violations:[]}}}},$k={async generate(t,e,n){const i=(await bs.search(t,8)).map((p,m)=>`[Source ${m+1}]: ${p.text}`).join(`

`),s=e.map(p=>`[Summary of ${p.title}]: ${p.summary}`).join(`
`),u=`
    You are a Creative Assistant. Write content based on the user's prompt using the provided Source Material.
    
    CRITICAL RULES:
    1. PRIORITIZE the "Source Material" above all else.
    2. If you use a specific fact from a Source, append a citation like [[Source X]].
    3. Adhere to Tone/Style: ${(n.tags||[]).join(", ")}.
    4. Do NOT hallucinate facts not found in the source if it concerns specific Lore.
    
    SOURCE MATERIAL (RAG CONTEXT):
    ${i}
    
    HIGH-LEVEL SUMMARIES:
    ${s}
    `;return(await new Hr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}).models.generateContent({model:"gemini-2.0-flash-exp",contents:[{role:"user",parts:[{text:u+`

USER PROMPT: ${t}`}]}]})).text}};var ps,qk=new Uint8Array(16);function Hk(){if(!ps&&(ps=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ps))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ps(qk)}const Bk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ok(t){return typeof t=="string"&&Bk.test(t)}var Ie=[];for(var Sa=0;Sa<256;++Sa)Ie.push((Sa+256).toString(16).substr(1));function Jk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ie[t[e+0]]+Ie[t[e+1]]+Ie[t[e+2]]+Ie[t[e+3]]+"-"+Ie[t[e+4]]+Ie[t[e+5]]+"-"+Ie[t[e+6]]+Ie[t[e+7]]+"-"+Ie[t[e+8]]+Ie[t[e+9]]+"-"+Ie[t[e+10]]+Ie[t[e+11]]+Ie[t[e+12]]+Ie[t[e+13]]+Ie[t[e+14]]+Ie[t[e+15]]).toLowerCase();if(!Ok(n))throw TypeError("Stringified UUID is invalid");return n}function Wk(t,e,n){t=t||{};var r=t.random||(t.rng||Hk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Jk(r)}const fg=N.createContext(void 0),Yk=({children:t})=>{const[e,n]=N.useState([]),r=N.useCallback(f=>{n(p=>p.filter(m=>m.id!==f))},[]),i=N.useCallback((f,p,m=5e3)=>{const h=Wk();n(w=>[...w,{id:h,message:f,type:p,duration:m}]),m>0&&setTimeout(()=>{r(h)},m)},[r]),s=N.useCallback((f,p)=>i(f,"success",p),[i]),o=N.useCallback((f,p)=>i(f,"error",p),[i]),u=N.useCallback((f,p)=>i(f,"info",p),[i]),c=N.useCallback((f,p)=>i(f,"warning",p),[i]);return a.jsx(fg.Provider,{value:{toasts:e,addToast:i,removeToast:r,success:s,error:o,info:u,warning:c},children:t})},Ji=()=>{const t=N.useContext(fg);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Kk=({sources:t,onAddSource:e,onRemoveSource:n})=>{const[r,i]=N.useState(""),[s,o]=N.useState(!1),[u,c]=N.useState(!1),[f,p]=N.useState(""),m=N.useRef(null),h=Ji(),w=async y=>{if(y.preventDefault(),!!r){o(!0),p("Scanning...");try{const g=await cg.ingestURL(r);e(g),i(""),h.success("URL ingested successfully")}catch(g){console.error(g),h.error("Failed to ingest URL. Ensure it is accessible.")}finally{o(!1),p("")}}},C=async y=>{o(!0),p("Uploading...");try{const x=(await Q.assets.upload(y)).data;p("Indexing...");const _=await Q.knowledge.createFromAsset("global",x.id,x);e(_.data),h.success("File ingested and indexed")}catch(g){const x=g instanceof Error?g.message:"Unknown error";h.error(`Failed to ingest file: ${x}`),console.error(g)}finally{o(!1),p("")}},v=async y=>{y.preventDefault(),y.stopPropagation(),c(!1),y.dataTransfer.files&&y.dataTransfer.files[0]&&C(y.dataTransfer.files[0])},S=y=>{switch(y){case"youtube":return{icon:Ov,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",label:"Video"};case"wiki":return{icon:av,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",label:"Wiki"};case"file":return{icon:kn,color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100",label:"Doc"};default:return{icon:bv,color:"text-sky-600",bg:"bg-sky-50",border:"border-sky-100",label:"Web"}}};return a.jsxs("div",{className:"h-full flex flex-col bg-white",children:[a.jsxs("div",{className:"p-5 border-b border-mist bg-white relative z-10",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative flex-1 group",children:[a.jsx("input",{type:"text",className:"block w-full pl-10 pr-10 py-3 bg-canvas border border-mist rounded-xl text-xs text-ink placeholder-pencil/60 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/5 transition-all outline-none font-medium",placeholder:"Feed URL to Neural Net...",value:r,onChange:y=>i(y.target.value),onKeyDown:y=>y.key==="Enter"&&w(y)}),a.jsx(Ph,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-pencil group-focus-within:text-indigo-500 transition-colors"}),r&&a.jsx("button",{onClick:w,disabled:s,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-sm disabled:opacity-50",children:s?a.jsx(lt,{size:12,className:"animate-spin"}):a.jsx(ct,{size:12,strokeWidth:3})})]}),a.jsx("button",{onClick:()=>{var y;return(y=m.current)==null?void 0:y.click()},onDragEnter:()=>c(!0),disabled:s,className:`px-4 rounded-xl border flex items-center justify-center transition-all gap-2 ${u?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-mist bg-canvas text-pencil hover:border-indigo-300 hover:text-indigo-600"}`,title:"Upload File",children:s?a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-indigo-600 uppercase tracking-wide",children:[a.jsx(lt,{size:12,className:"animate-spin"})," ",f]}):a.jsx(Ar,{size:16})})]}),a.jsx("input",{type:"file",ref:m,className:"hidden",onChange:y=>{var g;return((g=y.target.files)==null?void 0:g[0])&&C(y.target.files[0])},accept:".txt,.md,.json,.csv,.js,.ts,.html,.pdf,.png,.jpg,.jpeg"}),u&&a.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/95 backdrop-blur-sm flex flex-col items-center justify-center border-2 border-indigo-500 border-dashed m-3 rounded-lg shadow-lg",onDragLeave:()=>c(!1),onDragOver:y=>y.preventDefault(),onDrop:v,children:[a.jsx(Ar,{size:32,className:"text-indigo-600 mb-3 animate-bounce pointer-events-none"}),a.jsx("p",{className:"text-xs font-bold text-indigo-900 pointer-events-none uppercase tracking-widest",children:"Drop to Ingest"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-3 bg-canvas/30",children:[t.length===0&&a.jsxs("div",{className:"text-center py-20 opacity-60",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 border border-mist shadow-sm",children:a.jsx(Pu,{size:20,className:"text-pencil"})}),a.jsx("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest",children:"Context Empty"}),a.jsx("p",{className:"text-[10px] text-pencil/70 mt-1 max-w-[150px] mx-auto leading-relaxed font-medium",children:"System awaits intelligence input."})]}),t.map(y=>{const g=S(y.type),x=g.icon;return a.jsxs("div",{className:"group relative bg-white border border-mist p-4 rounded-2xl hover:shadow-soft hover:border-indigo-200 transition-all duration-300",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-lg border ${g.bg} ${g.border} ${g.color}`,children:[a.jsx(x,{size:12}),a.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:g.label})]}),a.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("button",{onClick:()=>n(y.id),className:"text-pencil hover:text-rose-500 transition-colors",children:a.jsx($o,{size:14})})})]}),a.jsx("div",{className:"font-semibold text-sm text-ink leading-tight mb-2 line-clamp-1 tracking-tight",title:y.title,children:y.title}),a.jsx("div",{className:"text-[10px] text-pencil font-medium line-clamp-2 leading-relaxed bg-canvas/50 p-2.5 rounded-xl border border-transparent group-hover:border-mist transition-colors",children:y.summary}),y.status==="indexed"&&a.jsx("div",{className:"absolute top-4 right-4 text-emerald-500",title:"Indexed",children:a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"})})]},y.id)})]})]})},Zk=({project:t,onUpdate:e})=>{var w,C;const[n,r]=N.useState(""),[i,s]=N.useState(""),[o,u]=N.useState(""),c=v=>{v.preventDefault(),n.trim()&&(e({toneAttributes:[...t.toneAttributes||[],n.trim()]}),r(""))},f=v=>{e({toneAttributes:(t.toneAttributes||[]).filter(S=>S!==v)})},p=v=>{var S,y;v.preventDefault(),i.trim()&&(e({brandGuidelines:{...t.brandGuidelines,dos:[...((S=t.brandGuidelines)==null?void 0:S.dos)||[],i.trim()],donts:((y=t.brandGuidelines)==null?void 0:y.donts)||[]}}),s(""))},m=v=>{var S,y;v.preventDefault(),o.trim()&&(e({brandGuidelines:{...t.brandGuidelines,dos:((S=t.brandGuidelines)==null?void 0:S.dos)||[],donts:[...((y=t.brandGuidelines)==null?void 0:y.donts)||[],o.trim()]}}),u(""))},h=(v,S)=>{const y=t.brandGuidelines||{dos:[],donts:[]};e({brandGuidelines:{...y,[v]:y[v].filter(g=>g!==S)}})};return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[a.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[a.jsx(Du,{size:14,className:"text-indigo-600"})," Tone & Atmosphere"]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[(t.toneAttributes||[]).map(v=>a.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white text-ink text-xs font-semibold rounded-lg border border-mist shadow-sm",children:[v,a.jsx("button",{onClick:()=>f(v),className:"text-pencil hover:text-rose-500 transition-colors",children:a.jsx(Ke,{size:10})})]},v)),(t.toneAttributes||[]).length===0&&a.jsx("span",{className:"text-xs text-pencil italic font-medium",children:"No tone keywords defined."})]}),a.jsxs("form",{onSubmit:c,className:"relative group",children:[a.jsx("input",{type:"text",value:n,onChange:v=>r(v.target.value),placeholder:"Add keyword (e.g. 'Optimistic')",className:"w-full pl-4 pr-10 py-3 bg-canvas/50 border border-mist rounded-xl text-xs font-medium outline-none focus:border-indigo-500 focus:bg-white transition-all placeholder-pencil/60"}),a.jsx("button",{type:"submit",disabled:!n,className:"absolute right-2 top-2 p-1.5 text-pencil hover:text-indigo-600 disabled:opacity-0 transition-all",children:a.jsx(ct,{size:14})})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[a.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[a.jsx(Hv,{size:14,className:"text-emerald-600"})," Brand Guardrails"]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(qv,{size:12,className:"text-emerald-500"}),a.jsx("span",{className:"text-[10px] font-bold text-ink uppercase tracking-wide",children:"Do's"})]}),a.jsx("ul",{className:"space-y-2 mb-3",children:(((w=t.brandGuidelines)==null?void 0:w.dos)||[]).map((v,S)=>a.jsxs("li",{className:"text-xs text-ink font-medium flex items-start gap-3 group bg-emerald-50/50 p-2 rounded-lg border border-transparent hover:border-emerald-100 transition-colors",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-1.5 flex-shrink-0"}),a.jsx("span",{className:"flex-1 leading-relaxed",children:v}),a.jsx("button",{onClick:()=>h("dos",v),className:"text-pencil hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(Ke,{size:12})})]},S))}),a.jsxs("form",{onSubmit:p,className:"relative",children:[a.jsx("input",{type:"text",value:i,onChange:v=>s(v.target.value),placeholder:"Add a required element...",className:"w-full pl-3 pr-10 py-2 bg-canvas/50 border border-transparent hover:border-mist rounded-lg text-xs font-medium outline-none focus:border-emerald-500 focus:bg-white transition-all placeholder-pencil/50"}),a.jsx("button",{type:"submit",disabled:!i,className:"absolute right-1 top-1 p-1 text-pencil hover:text-emerald-600 disabled:opacity-0 transition-all",children:a.jsx(ct,{size:14})})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx($v,{size:12,className:"text-rose-500"}),a.jsx("span",{className:"text-[10px] font-bold text-ink uppercase tracking-wide",children:"Don'ts"})]}),a.jsx("ul",{className:"space-y-2 mb-3",children:(((C=t.brandGuidelines)==null?void 0:C.donts)||[]).map((v,S)=>a.jsxs("li",{className:"text-xs text-ink font-medium flex items-start gap-3 group bg-rose-50/50 p-2 rounded-lg border border-transparent hover:border-rose-100 transition-colors",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-400 mt-1.5 flex-shrink-0"}),a.jsx("span",{className:"flex-1 leading-relaxed",children:v}),a.jsx("button",{onClick:()=>h("donts",v),className:"text-pencil hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(Ke,{size:12})})]},S))}),a.jsxs("form",{onSubmit:m,className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),placeholder:"Add a restriction...",className:"w-full pl-3 pr-10 py-2 bg-canvas/50 border border-transparent hover:border-mist rounded-lg text-xs font-medium outline-none focus:border-rose-500 focus:bg-white transition-all placeholder-pencil/50"}),a.jsx("button",{type:"submit",disabled:!o,className:"absolute right-1 top-1 p-1 text-pencil hover:text-rose-600 disabled:opacity-0 transition-all",children:a.jsx(ct,{size:14})})]})]})]})]})]})},Qk=({item:t,onClose:e,onUpdate:n,onDelete:r})=>{const[i,s]=N.useState(t),[o,u]=N.useState(""),[c,f]=N.useState(""),p=()=>{n(i),e()},m=w=>{w.preventDefault(),o.trim()&&(s({...i,tags:[...i.tags,o.trim()]}),u(""))},h=w=>{w.preventDefault(),c.trim()&&(s({...i,moods:[...i.moods,c.trim()]}),f(""))};return a.jsx("div",{className:"fixed inset-0 z-[60] flex justify-end bg-black/20 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"w-full max-w-xl bg-white h-full shadow-2xl flex flex-col border-l border-gray-100 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-white/80 backdrop-blur",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide flex items-center gap-2",children:[t.type==="video"?a.jsx(Di,{size:14,className:"text-rose-500"}):a.jsx(zo,{size:14,className:"text-indigo-500"}),"Asset Detail"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{r(t.id),e()},className:"p-2 text-gray-400 hover:text-rose-600 transition-colors rounded-lg hover:bg-rose-50",children:[a.jsx("span",{className:"sr-only",children:"Delete"}),a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M3 6h18"}),a.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),a.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})]}),a.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-900 transition-colors rounded-lg hover:bg-gray-50",children:a.jsx(Ke,{size:18})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:[a.jsx("div",{className:"bg-gray-50 rounded-2xl overflow-hidden border border-gray-100 mb-8 shadow-sm",children:t.type==="video"?a.jsx("video",{src:t.url,controls:!0,className:"w-full h-auto max-h-[400px] object-contain",autoPlay:!0,muted:!0,loop:!0}):a.jsx("img",{src:t.url,alt:"Detail",className:"w-full h-auto object-contain"})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"AI Caption"}),a.jsx("textarea",{value:i.caption,onChange:w=>s({...i,caption:w.target.value}),className:"w-full p-3 bg-white border border-gray-200 rounded-xl text-sm leading-relaxed focus:ring-2 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none resize-none shadow-sm",rows:3})]}),i.shotType&&a.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-600 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100 w-fit",children:[a.jsx(uv,{size:14,className:"text-gray-400"})," ",i.shotType]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oo,{size:12})," Tags"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map(w=>a.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full flex items-center gap-1 group border border-transparent hover:border-gray-200",children:[w,a.jsx("button",{onClick:()=>s({...i,tags:i.tags.filter(C=>C!==w)}),className:"text-gray-400 hover:text-rose-500",children:a.jsx(Ke,{size:10})})]},w))}),a.jsx("form",{onSubmit:m,children:a.jsx("input",{placeholder:"Add tag...",value:o,onChange:w=>u(w.target.value),className:"text-xs bg-transparent border-b border-gray-200 focus:border-indigo-500 outline-none py-1 w-full placeholder-gray-300"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-400"})," Moods"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.moods.map(w=>a.jsxs("span",{className:"px-3 py-1 bg-rose-50 text-rose-700 text-xs font-medium rounded-full flex items-center gap-1 border border-rose-100",children:[w,a.jsx("button",{onClick:()=>s({...i,moods:i.moods.filter(C=>C!==w)}),className:"text-rose-400 hover:text-rose-600",children:a.jsx(Ke,{size:10})})]},w))}),a.jsx("form",{onSubmit:h,children:a.jsx("input",{placeholder:"Add mood...",value:c,onChange:w=>f(w.target.value),className:"text-xs bg-transparent border-b border-gray-200 focus:border-rose-500 outline-none py-1 w-full placeholder-gray-300"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Du,{size:12})," Palette"]}),a.jsx("div",{className:"flex gap-3",children:i.colors.map(w=>a.jsxs("div",{className:"group relative",children:[a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm border border-gray-100 ring-2 ring-transparent group-hover:ring-offset-1 group-hover:ring-gray-200 transition-all cursor-pointer",style:{backgroundColor:w}}),a.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-[9px] font-mono text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity bg-white px-1 rounded shadow-sm border border-gray-100",children:w})]},w))})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-900 text-xs font-bold uppercase tracking-wide",children:"Cancel"}),a.jsxs("button",{onClick:p,className:"px-6 py-2 bg-gray-900 text-white rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-black transition-all shadow-sm flex items-center gap-2",children:[a.jsx(ro,{size:14})," Save Changes"]})]})]})})},pg=({projectId:t})=>{const[e,n]=N.useState(t),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,c]=N.useState(!1),[f,p]=N.useState(""),[m,h]=N.useState("all"),[w,C]=N.useState(null),[v,S]=N.useState(!1),[y,g]=N.useState(!1),x=N.useRef(null),_=Ji(),[k,T]=N.useState(!1),[b,M]=N.useState("");N.useEffect(()=>{t?n(t):Q.projects.list().then(A=>i(A.data))},[t]),N.useEffect(()=>{if(!e){o([]);return}c(!0);let A=!0;return Q.moodboard.list(e).then(z=>{A&&(o(z.data),c(!1))}),()=>{A=!1}},[e]);const j=async A=>{if(e){S(!0);try{const z=[];for(let P=0;P<A.length;P++){const D=A[P],W=(await Q.assets.upload(D,e)).data,te=await Q.moodboard.linkAsset(e,W.id);z.push(te.data)}o(P=>[...z,...P]),_.success(`Successfully uploaded ${A.length} items`)}catch(z){console.error(z);const P=z instanceof Error?z.message:"Unknown error";_.error(`Upload failed: ${P}`)}finally{S(!1),x.current&&(x.current.value="")}}},E=async A=>{if(A.preventDefault(),!(!e||!b.trim())){S(!0);try{const z=await Q.moodboard.create({projectId:e,type:"image",url:b.trim(),caption:"Imported from URL"});o(P=>[z.data,...P]),M(""),T(!1),_.success("URL imported successfully")}catch(z){console.error(z),_.error("Failed to import URL")}finally{S(!1)}}},R=async A=>{A.target.files&&A.target.files.length>0&&await j(A.target.files)},I=async A=>{A.preventDefault(),A.stopPropagation(),g(!1),A.dataTransfer.files&&A.dataTransfer.files.length>0&&await j(A.dataTransfer.files)},O=async A=>{await Q.moodboard.update(A),o(z=>z.map(P=>P.id===A.id?A:P))},Z=async A=>{await Q.moodboard.delete(A),o(z=>z.filter(P=>P.id!==A))},q=s.filter(A=>{const z=f===""||A.tags.some(D=>D.toLowerCase().includes(f.toLowerCase()))||A.moods.some(D=>D.toLowerCase().includes(f.toLowerCase()))||A.caption.toLowerCase().includes(f.toLowerCase()),P=m==="all"||A.type===m;return z&&P});return a.jsxs("div",{className:"flex flex-col h-full bg-[#F5F5F7] p-8 min-h-screen relative",onDragOver:A=>{A.preventDefault(),g(!0)},onDragLeave:()=>g(!1),onDrop:I,children:[y&&e&&a.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-sm m-4 rounded-3xl border-2 border-dashed border-indigo-500 flex flex-col items-center justify-center animate-in fade-in duration-200",children:[a.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-float animate-bounce",children:a.jsx(Ar,{size:48,className:"text-indigo-600 mb-2"})}),a.jsx("h3",{className:"mt-4 text-xl font-bold text-indigo-900 tracking-tight",children:"Drop to Upload"}),a.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"Add to Moodboard"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8 sticky top-0 z-20 bg-[#F5F5F7]/95 backdrop-blur-sm py-4",children:[a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[!t&&a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:e||"",onChange:A=>n(A.target.value),className:"appearance-none bg-white border border-gray-200 text-gray-900 text-xs font-bold uppercase tracking-widest pl-4 pr-10 py-3 rounded-2xl shadow-sm focus:outline-none focus:border-indigo-500 cursor-pointer hover:border-gray-300 transition-colors",children:[a.jsx("option",{value:"",disabled:!0,children:"Select Context..."}),r.map(A=>a.jsx("option",{value:A.id,children:A.name},A.id))]}),a.jsx(Ah,{size:14,className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),a.jsxs("div",{className:"relative flex-1 md:w-96 group",children:[a.jsx(Go,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-600 transition-colors"}),a.jsx("input",{type:"text",placeholder:"Search by mood, tag, or context...",value:f,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-2xl shadow-sm focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-500 outline-none text-sm font-medium transition-all"})]})]}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsxs("div",{className:"flex bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${m==="all"?"bg-gray-900 text-white shadow-md":"text-gray-500 hover:text-gray-900"}`,children:"All"}),a.jsx("button",{onClick:()=>h("image"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${m==="image"?"bg-indigo-600 text-white shadow-md":"text-gray-500 hover:text-indigo-600"}`,children:"Images"}),a.jsx("button",{onClick:()=>h("video"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${m==="video"?"bg-rose-500 text-white shadow-md":"text-gray-500 hover:text-rose-500"}`,children:"Videos"})]}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"relative flex items-center",children:k?a.jsxs("form",{onSubmit:E,className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl p-1 shadow-sm absolute right-0 min-w-[300px] animate-in slide-in-from-right-5 fade-in z-30",children:[a.jsx("input",{autoFocus:!0,type:"url",placeholder:"https://...",value:b,onChange:A=>M(A.target.value),className:"flex-1 pl-3 text-xs outline-none bg-transparent h-8"}),a.jsx("button",{type:"submit",disabled:v,className:"p-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:v?a.jsx(lt,{size:12,className:"animate-spin"}):a.jsx(ro,{size:12})}),a.jsx("button",{type:"button",onClick:()=>T(!1),className:"p-1.5 text-gray-400 hover:text-gray-600",children:a.jsx(Li,{size:12,className:"rotate-45"})})]}):a.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl text-xs font-bold uppercase tracking-widest hover:border-indigo-300 hover:text-indigo-600 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Mh,{size:14})," Import URL"]})}),a.jsxs("button",{onClick:()=>{var A;return(A=x.current)==null?void 0:A.click()},disabled:v,className:"px-6 py-3 bg-gray-900 text-white rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-black transition-all shadow-lg shadow-gray-300/50 flex items-center gap-2 disabled:opacity-70",children:[v?a.jsx(lt,{size:16,className:"animate-spin"}):a.jsx(Li,{size:16}),"Upload"]}),a.jsx("input",{type:"file",multiple:!0,ref:x,className:"hidden",accept:"image/*,video/*",onChange:R})]})]})]}),e?u?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(lt,{size:32,className:"animate-spin text-gray-300"})}):q.length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[a.jsx("div",{onClick:()=>{var A;return(A=x.current)==null?void 0:A.click()},className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6 cursor-pointer hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:a.jsx(Dv,{size:32,className:"opacity-50"})}),a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Board is empty"}),a.jsx("p",{className:"text-xs mt-2 text-gray-400 max-w-xs text-center leading-relaxed",children:"Upload images or paste a URL to start building your visual moodboard."})]}):a.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-6 space-y-6 pb-20",children:q.map(A=>a.jsxs("div",{onClick:()=>C(A),className:"break-inside-avoid bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-zoom-in group relative border border-gray-100",children:[a.jsxs("div",{className:"relative",children:[A.type==="video"?a.jsx("video",{src:A.url,className:"w-full h-auto object-cover",muted:!0,loop:!0,onMouseOver:z=>z.currentTarget.play(),onMouseOut:z=>z.currentTarget.pause()}):a.jsx("img",{src:A.url,alt:"Moodboard",className:"w-full h-auto object-cover"}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:[a.jsx("div",{className:"text-white font-medium text-xs line-clamp-2 leading-relaxed mb-2 drop-shadow-md",children:A.status==="processing"?a.jsxs("span",{className:"flex items-center gap-2 text-indigo-200",children:[a.jsx(lt,{size:12,className:"animate-spin"})," Analyzing visual data..."]}):A.caption||"No caption"}),A.status==="ready"&&a.jsx("div",{className:"flex flex-wrap gap-1",children:A.moods.slice(0,3).map(z=>a.jsx("span",{className:"px-2 py-0.5 bg-white/20 backdrop-blur-md text-white text-[9px] font-bold rounded-md uppercase tracking-wide border border-white/30",children:z},z))})]}),a.jsx("div",{className:"absolute top-3 right-3 bg-black/20 backdrop-blur-md p-1.5 rounded-lg text-white opacity-0 group-hover:opacity-100 transition-opacity",children:A.type==="video"?a.jsx(Di,{size:12}):a.jsx(zo,{size:12})})]}),A.colors.length>0&&a.jsx("div",{className:"h-1.5 flex w-full",children:A.colors.map(z=>a.jsx("div",{style:{backgroundColor:z},className:"flex-1"},z))})]},A.id))}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 opacity-60",children:[a.jsx(Di,{size:48,className:"mb-4 opacity-50"}),a.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Select a project to enable uploads"})]}),w&&a.jsx(Qk,{item:w,onClose:()=>C(null),onUpdate:O,onDelete:Z})]})},Xk=({dueDate:t})=>{if(!t)return a.jsx("span",{className:"text-pencil text-xs font-medium tracking-wide",children:"No Date"});const e=new Date(t),n=new Date,r=e.getTime()-n.getTime(),i=Math.ceil(r/(1e3*60*60*24));let s="bg-emerald-50 text-emerald-700 border-emerald-100",o=a.jsx(Rh,{size:12}),u=`${i} days left`;return i<0?(s="bg-rose-50 text-rose-700 border-rose-100",o=a.jsx(Hi,{size:12}),u=`Overdue (${Math.abs(i)}d)`):i<3&&(s="bg-amber-50 text-amber-700 border-amber-100",u=`Due in ${i} days`),a.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border ${s}`,children:[o," ",u]})},eT=({projects:t,freelancers:e,assignments:n,onUpdateProject:r})=>{const{id:i}=Ru(),s=zr(),o=t.find(g=>g.id===i),[u,c]=N.useState("overview"),[f,p]=N.useState([]),[m,h]=N.useState([]),w=o==null?void 0:o.id;N.useEffect(()=>{w&&Q.scripts.findByProject(w).then(g=>p(g.data)).catch(console.error)},[w]);const C=async g=>{if(!o)return;h(T=>[...T,g]);let x="General";g.type==="file"?x="Technical":g.type==="wiki"||g.type==="youtube"?x="Research":g.type==="text"&&(x="Brand");const _={id:g.id,title:g.title,content:g.originalContent||g.summary||"",category:x,updatedAt:new Date().toISOString()},k=[...o.knowledgeBase||[],_];r({...o,knowledgeBase:k})},v=async g=>{if(!o)return;h(_=>_.filter(k=>k.id!==g));const x=(o.knowledgeBase||[]).filter(_=>_.id!==g);r({...o,knowledgeBase:x})},S=g=>{o&&r({...o,...g})};if(!o)return a.jsx("div",{className:"p-12 text-center text-pencil text-sm font-medium",children:"Project not found"});const y=n.filter(g=>g.projectId===o.id).map(g=>e.find(x=>x.id===g.freelancerId)).filter(Boolean);return a.jsxs("div",{className:"h-full min-h-screen flex flex-col bg-canvas font-sans text-ink",children:[a.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-xl border-b border-mist px-8 py-6 flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>s("/projects"),className:"p-2 -ml-2 hover:bg-mist/50 rounded-xl text-pencil transition-all duration-200 active:scale-95",children:a.jsx(Ah,{size:20,className:"rotate-90",strokeWidth:2})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xs font-medium text-pencil",children:o.category||"Campaign"}),a.jsx("span",{className:"text-mist text-xs",children:"/"}),a.jsx("span",{className:"text-xs font-medium text-pencil",children:o.clientName})]}),a.jsx("h1",{className:"text-3xl font-semibold text-ink leading-none tracking-tight",children:o.name})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Xk,{dueDate:o.dueDate}),a.jsx("button",{className:"bg-ink text-white px-5 py-2.5 rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-black hover:shadow-lg hover:-translate-y-[1px] transition-all duration-200 shadow-sm active:scale-[0.98]",children:"Edit Project"})]})]}),a.jsxs("div",{className:"flex gap-8 border-t border-mist/50 pt-3",children:[a.jsxs("button",{onClick:()=>c("overview"),className:`pb-3 text-sm font-semibold border-b-3 transition-all duration-200 flex items-center gap-2 ${u==="overview"?"border-ink text-ink bg-subtle/20":"border-transparent text-pencil hover:text-ink"} px-4 -mx-4 rounded-t-lg`,children:[a.jsx(Ev,{size:16})," Brief & Specs"]}),a.jsxs("button",{onClick:()=>c("moodboard"),className:`pb-3 text-sm font-semibold border-b-3 transition-all duration-200 flex items-center gap-2 ${u==="moodboard"?"border-indigo-600 text-indigo-600 bg-indigo-50/30":"border-transparent text-pencil hover:text-indigo-600"} px-4 -mx-4 rounded-t-lg`,children:[a.jsx(Sv,{size:16})," Visual Moodboard"]})]})]}),u==="moodboard"?a.jsx("div",{className:"flex-1",children:a.jsx(pg,{projectId:o.id})}):a.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden max-w-[1800px] mx-auto w-full p-8 gap-10 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("main",{className:"flex-1 flex flex-col gap-12 overflow-y-auto custom-scrollbar pr-2 pb-24",children:[a.jsxs("section",{children:[a.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(kn,{size:14,className:"opacity-70"})," Brief & Constraints"]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-10 shadow-sm hover:shadow-soft transition-shadow duration-500",children:[a.jsx("div",{className:"prose prose-sm max-w-none text-ink leading-loose font-sans font-medium text-base/7",children:o.description||a.jsx("span",{className:"text-pencil italic font-normal",children:"No brief provided."})}),o.notes&&a.jsxs("div",{className:"mt-10 pt-8 border-t border-mist/60",children:[a.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 opacity-70",children:"Technical Notes"}),a.jsx("div",{className:"bg-canvas/50 p-6 rounded-xl border border-mist/60",children:a.jsx("p",{className:"text-xs text-ink font-mono leading-relaxed",children:o.notes})})]})]})]}),a.jsxs("section",{children:[a.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(Tv,{size:14,className:"opacity-70"})," Quick References"]}),a.jsx(Vk,{items:o.references||[],onAdd:async g=>{const x=[...o.references||[],g];r({...o,references:x})},onRemove:g=>{const x=(o.references||[]).filter(_=>_!==g);r({...o,references:x})}})]}),a.jsxs("section",{children:[a.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(Ot,{size:14,className:"opacity-70"})," Creative Direction"]}),a.jsx(Zk,{project:o,onUpdate:S})]}),a.jsxs("section",{children:[a.jsxs("h2",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(Bi,{size:14,className:"opacity-70"})," Project Intelligence"]}),a.jsx("div",{className:"bg-white rounded-2xl border border-mist overflow-hidden h-[460px] shadow-sm hover:shadow-soft transition-shadow duration-500",children:a.jsx(Kk,{sources:m,onAddSource:C,onRemoveSource:v})})]})]}),a.jsxs("aside",{className:"w-full lg:w-96 flex flex-col gap-8 flex-shrink-0",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm",children:[a.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6 flex items-center gap-2",children:[a.jsx(Lu,{size:14})," Team Assignment"]}),a.jsxs("div",{className:"space-y-5",children:[y.length===0?a.jsx("div",{className:"text-center py-8 border border-dashed border-mist rounded-xl bg-canvas/30",children:a.jsx("span",{className:"text-xs text-pencil font-medium",children:"No active assignments"})}):y.map(g=>a.jsxs("div",{className:"flex items-center gap-4 group cursor-default",children:[a.jsx("img",{src:g.avatar,className:"w-10 h-10 rounded-full bg-mist object-cover border border-mist group-hover:border-ink transition-colors"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:g.name}),a.jsx("div",{className:"text-[10px] text-pencil font-medium truncate uppercase tracking-wide mt-0.5",children:g.role})]})]},g.id)),a.jsx("button",{className:"w-full mt-4 py-3 text-[10px] font-bold text-ink bg-white hover:bg-canvas rounded-xl border border-mist transition-colors uppercase tracking-widest shadow-sm",children:"Manage Roster"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm",children:[a.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-6",children:"Specifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[a.jsx("span",{className:"text-xs text-pencil font-medium",children:"Format"}),a.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:o.format||""})]}),a.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[a.jsx("span",{className:"text-xs text-pencil font-medium",children:"Duration"}),a.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:o.length||""})]}),a.jsxs("div",{className:"flex justify-between items-center py-2.5 border-b border-mist/50",children:[a.jsx("span",{className:"text-xs text-pencil font-medium",children:"Budget"}),a.jsx("span",{className:"text-xs font-mono font-bold text-ink bg-canvas px-2 py-1 rounded",children:o.budget||""})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-mist p-8 shadow-sm flex flex-col h-96",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Uv,{size:14})," Scripts"]}),a.jsxs(Ge,{to:`/studio?project=${o.id}`,className:"text-[10px] font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1 transition-colors uppercase tracking-wide",children:["Open Studio ",a.jsx(Fo,{size:12})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:f.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 bg-canvas/30 rounded-xl border border-dashed border-mist",children:[a.jsx("span",{className:"text-xs text-pencil font-medium mb-3",children:"No drafts initialized."}),a.jsx(Ge,{to:`/studio?project=${o.id}`,className:"px-4 py-2 bg-white border border-mist rounded-lg text-[10px] font-bold text-ink uppercase tracking-wide shadow-sm hover:border-ink transition-colors",children:"Start Writing"})]}):f.map(g=>a.jsxs(Ge,{to:`/studio?project=${o.id}&script=${g.id}`,className:"block p-4 hover:bg-canvas rounded-xl border border-mist hover:border-indigo-200 transition-all group shadow-sm hover:shadow-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"font-semibold text-xs text-ink group-hover:text-indigo-600 transition-colors truncate",children:g.title}),a.jsxs("span",{className:"text-[9px] font-mono font-bold text-pencil bg-canvas px-1.5 py-0.5 rounded border border-mist/50 group-hover:border-indigo-100 group-hover:text-indigo-500 transition-colors",children:["v",g.version]})]}),a.jsxs("div",{className:"text-[10px] text-pencil line-clamp-2 leading-relaxed font-medium",children:[g.content.substring(0,80),"..."]})]},g.id))})]})]})]})]})},tT=({freelancers:t,projects:e,assignments:n,onAssign:r,checkConflict:i})=>{const[s,o]=N.useState(new Date("2023-10-01")),u=21,c=54,f=N.useMemo(()=>{const v=new Map;n.forEach(y=>{const g=`${y.projectId}-${y.role}`;v.set(g,(v.get(g)||0)+1)});const S=[];return e.forEach(y=>{y.status===ut.DELIVERED||y.status===ut.ARCHIVED||y.roleRequirements.forEach(g=>{const x=`${y.id}-${g.role}`,_=v.get(x)||0;_<g.count&&S.push({project:y,roleId:g.id,roleName:g.role,count:g.count-_})})}),S},[e,n]),p=(v,S)=>{v.dataTransfer.setData("application/json",JSON.stringify(S)),v.dataTransfer.effectAllowed="copy"},m=(v,S)=>{v.preventDefault();try{const y=v.dataTransfer.getData("application/json");if(!y)return;const g=JSON.parse(y);if(!g.projectId||!g.roleName)return;const x=e.find(_=>_.id===g.projectId);if(x){if(x.startDate&&x.dueDate&&new Date(x.startDate)>new Date(x.dueDate)){alert("Cannot assign: Project start date is after due date.");return}const _=new Date(s).toISOString(),k=new Date(s.getTime()+14*24*60*60*1e3).toISOString(),T=x.startDate||_,b=x.dueDate||k;if(i&&i(S,T,b)&&!window.confirm("Scheduling Conflict detected. Create overlap?"))return;const M={id:`asn-${crypto.randomUUID()}`,projectId:x.id,freelancerId:S,role:g.roleName,startDate:T,endDate:b,allocation:100,status:"Tentative",notes:""};r(M)}}catch(y){console.error("Drop failed",y)}},h=v=>{v.preventDefault(),v.dataTransfer.dropEffect="copy"},w=[];for(let v=0;v<u;v++){const S=new Date(s);S.setDate(S.getDate()+v),w.push(S)}const C=(v,S)=>{const y=new Date(v),g=new Date(S),x=s,_=Math.abs(g.getTime()-y.getTime()),k=Math.ceil(_/(1e3*60*60*24))+1,T=y.getTime()-x.getTime(),b=Math.ceil(T/(1e3*60*60*24));if(b+k<0||b>u)return null;const M=Math.max(0,b*c),j=Math.min(k*c,u*c-M);return{left:`${M}px`,width:`${j}px`}};return a.jsxs("div",{className:"p-8 max-w-[2000px] mx-auto space-y-8 animate-enter pb-24 font-sans text-ink",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-semibold tracking-tight text-ink",children:"Schedule"}),a.jsx("p",{className:"text-pencil mt-2 text-sm font-medium",children:"Allocation timeline."})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 border border-mist rounded-xl shadow-sm",children:[a.jsx("button",{onClick:()=>{const v=new Date(s);v.setDate(v.getDate()-7),o(v)},className:"p-2 hover:bg-subtle rounded-lg text-pencil hover:text-ink transition-all duration-200 active:scale-95",children:a.jsx(cv,{size:18})}),a.jsxs("div",{className:"flex items-center gap-2 px-6 min-w-[200px] justify-center font-semibold text-ink text-sm",children:[a.jsx(Vo,{size:16,className:"text-pencil"}),s.toLocaleDateString(void 0,{month:"long",year:"numeric"})]}),a.jsx("button",{onClick:()=>{const v=new Date(s);v.setDate(v.getDate()+7),o(v)},className:"p-2 hover:bg-subtle rounded-lg text-pencil hover:text-ink transition-all duration-200 active:scale-95",children:a.jsx(fv,{size:18})})]})})]}),a.jsxs("div",{className:"flex flex-col xl:flex-row gap-8 pb-4 h-[700px]",children:[a.jsxs("div",{className:"w-full xl:w-80 flex-shrink-0 bg-white border border-mist flex flex-col h-full rounded-2xl overflow-hidden shadow-card",children:[a.jsx("div",{className:"p-6 border-b border-mist bg-canvas/30",children:a.jsx("h3",{className:"text-xs font-bold text-pencil uppercase tracking-wide",children:"Unassigned Roles"})}),a.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-3 custom-scrollbar bg-white",children:f.length===0?a.jsxs("div",{className:"text-center py-16 text-pencil text-xs flex flex-col items-center opacity-60",children:[a.jsx("div",{className:"mb-3 p-3 bg-canvas rounded-xl border border-mist",children:a.jsx(Rh,{size:20})}),a.jsx("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:"All roles filled"})]}):f.map((v,S)=>a.jsxs("div",{draggable:!0,onDragStart:y=>p(y,{projectId:v.project.id,roleName:v.roleName}),className:"bg-white border border-mist p-4 hover:border-ink cursor-grab active:cursor-grabbing transition-all duration-200 group relative rounded-xl hover:shadow-lg hover:-translate-y-[1px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-white bg-ink px-2 py-0.5 uppercase tracking-wide rounded-md shadow-sm",children:v.roleName}),a.jsx(Cv,{size:14,className:"text-mist group-hover:text-ink transition-colors"})]}),a.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:v.project.name}),a.jsxs("div",{className:"text-[10px] text-pencil mt-1.5 flex items-center gap-1.5 font-medium",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),v.project.startDate?new Date(v.project.startDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"TBD"]})]},`${v.project.id}-${v.roleId}-${S}`))})]}),a.jsxs("div",{className:"flex-1 bg-white border border-mist flex flex-col overflow-hidden rounded-2xl shadow-sm",children:[a.jsxs("div",{className:"flex border-b border-mist bg-canvas/30 overflow-x-hidden",children:[a.jsx("div",{className:"w-72 flex-shrink-0 p-5 border-r border-mist font-bold text-[10px] text-pencil uppercase tracking-widest flex items-center bg-canvas/30 z-20 sticky left-0",children:"Freelancer"}),a.jsx("div",{className:"flex-1 overflow-hidden relative",children:a.jsx("div",{className:"flex",style:{width:`${u*c}px`},children:w.map((v,S)=>{const y=v.toDateString()===new Date().toDateString();return a.jsxs("div",{className:`flex-shrink-0 text-center border-r border-mist/50 last:border-r-0 ${y?"bg-indigo-50/20":""}`,style:{width:`${c}px`},children:[a.jsx("div",{className:"text-[9px] text-pencil uppercase py-3 font-bold tracking-wider",children:v.toLocaleDateString("en-US",{weekday:"narrow"})}),a.jsx("div",{className:`text-xs font-bold pb-3 font-mono ${y?"text-indigo-600":"text-ink"}`,children:v.getDate()})]},S)})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:t.map(v=>{const S=n.filter(y=>y.freelancerId===v.id);return a.jsxs("div",{className:"flex border-b border-mist min-h-[80px] hover:bg-canvas/30 transition-colors group/row",onDragOver:h,onDrop:y=>m(y,v.id),children:[a.jsxs("div",{className:"w-72 flex-shrink-0 p-5 border-r border-mist flex items-center gap-4 bg-white z-10 sticky left-0 group-hover/row:bg-gray-50/50 transition-colors",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:v.avatar,className:"w-10 h-10 rounded-xl border border-mist object-cover"}),v.utilization>0&&a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 border-2 border-white flex items-center justify-center rounded-full ${v.utilization>100?"bg-rose-500":"bg-emerald-500"}`})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold text-ink truncate tracking-tight",children:v.name}),a.jsx("div",{className:"text-[10px] text-pencil truncate font-medium uppercase tracking-widest mt-0.5",children:v.role})]})]}),a.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 flex pointer-events-none",children:[...Array(u)].map((y,g)=>a.jsx("div",{className:"border-r border-mist/30 h-full",style:{width:`${c}px`}},g))}),S.map(y=>{const g=C(y.startDate,y.endDate);if(!g)return null;const x=e.find(_=>_.id===y.projectId);return a.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-12 border border-ink bg-white overflow-hidden cursor-pointer hover:bg-ink group z-10 transition-colors rounded shadow-sm",style:{...g},title:`${x==null?void 0:x.name} - ${y.role}`,children:a.jsx("div",{className:"pl-3 pr-3 h-full flex flex-col justify-center",children:a.jsx("span",{className:"text-[10px] font-bold text-ink group-hover:text-white truncate uppercase tracking-widest",children:x==null?void 0:x.name})})},y.id)}),S.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none transition-opacity duration-300",children:a.jsx("span",{className:"text-[9px] text-pencil font-bold uppercase tracking-widest border border-dashed border-mist px-3 py-1.5 bg-white rounded-lg shadow-sm",children:"Drop to assign"})})]})]},v.id)})})]})]})]})};var se;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(const u of s)o[u]=i[u];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(se||(se={}));var zf;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(zf||(zf={}));const B=se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rn=t=>{switch(typeof t){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(t)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(t)?B.array:t===null?B.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?B.promise:typeof Map<"u"&&t instanceof Map?B.map:typeof Set<"u"&&t instanceof Set?B.set:typeof Date<"u"&&t instanceof Date?B.date:B.object;default:return B.unknown}},U=se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let u=r,c=0;for(;c<o.path.length;){const f=o.path[c];c===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(o))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return i(this),r}static assert(e){if(!(e instanceof Wt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wt.create=t=>new Wt(t);const nT=(t,e)=>{let n;switch(t.code){case U.invalid_type:t.received===B.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case U.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,se.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:n=`Unrecognized key(s) in object: ${se.joinValues(t.keys,", ")}`;break;case U.invalid_union:n="Invalid input";break;case U.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${se.joinValues(t.options)}`;break;case U.invalid_enum_value:n=`Invalid enum value. Expected ${se.joinValues(t.options)}, received '${t.received}'`;break;case U.invalid_arguments:n="Invalid function arguments";break;case U.invalid_return_type:n="Invalid function return type";break;case U.invalid_date:n="Invalid date";break;case U.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:se.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case U.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case U.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case U.custom:n="Invalid input";break;case U.invalid_intersection_types:n="Intersection results could not be merged";break;case U.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case U.not_finite:n="Number must be finite";break;default:n=e.defaultError,se.assertNever(t)}return{message:n}},Al=nT;let rT=Al;function iT(){return rT}const sT=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let u="";const c=r.filter(f=>!!f).slice().reverse();for(const f of c)u=f(o,{data:e,defaultError:u}).message;return{...i,path:s,message:u}};function G(t,e){const n=iT(),r=sT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Al?void 0:Al].filter(i=>!!i)});t.common.issues.push(r)}class nt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Y;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return nt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Y;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Y=Object.freeze({status:"aborted"}),ii=t=>({status:"dirty",value:t}),ht=t=>({status:"valid",value:t}),Gf=t=>t.status==="aborted",$f=t=>t.status==="dirty",Rr=t=>t.status==="valid",po=t=>typeof Promise<"u"&&t instanceof Promise;var J;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(J||(J={}));class Tn{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qf=(t,e)=>{if(Rr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wt(t.common.issues);return this._error=n,this._error}}};function X(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,u)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??r??u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:i}}class re{get description(){return this._def.description}_getType(e){return rn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:rn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nt,ctx:{common:e.parent.common,data:e.data,parsedType:rn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(po(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rn(e)},i=this._parseSync({data:e,path:r.path,parent:r});return qf(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rn(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Rr(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Rr(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rn(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(po(i)?i:Promise.resolve(i));return qf(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),u=()=>s.addIssue({code:U.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Dr({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sn.create(this,this._def)}nullable(){return Lr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rt.create(this)}promise(){return yo.create(this,this._def)}or(e){return ho.create([this,e],this._def)}and(e){return go.create(this,e,this._def)}transform(e){return new Dr({...X(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Pl({...X(this._def),innerType:this,defaultValue:n,typeName:K.ZodDefault})}brand(){return new bT({typeName:K.ZodBranded,type:this,...X(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ml({...X(this._def),innerType:this,catchValue:n,typeName:K.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Hu.create(this,e)}readonly(){return Dl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oT=/^c[^\s-]{8,}$/i,aT=/^[0-9a-z]+$/,lT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dT=/^[a-z0-9_-]{21}$/i,cT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ca;const hT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_T=new RegExp(`^${mg}$`);function hg(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function ST(t){return new RegExp(`^${hg(t)}$`)}function CT(t){let e=`${mg}T${hg(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function NT(t,e){return!!((e==="v4"||!e)&&hT.test(t)||(e==="v6"||!e)&&yT.test(t))}function kT(t,e){if(!cT.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function TT(t,e){return!!((e==="v4"||!e)&&gT.test(t)||(e==="v6"||!e)&&xT.test(t))}class cn extends re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==B.string){const s=this._getOrReturnCtx(e);return G(s,{code:U.invalid_type,expected:B.string,received:s.parsedType}),Y}const r=new nt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),G(i,{code:U.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),G(i,{code:U.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,u=e.data.length<s.value;(o||u)&&(i=this._getOrReturnCtx(e,i),o?G(i,{code:U.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&G(i,{code:U.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")pT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"email",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Ca||(Ca=new RegExp(mT,"u")),Ca.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"emoji",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")uT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"uuid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")dT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"nanoid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")oT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"cuid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")aT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"cuid2",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")lT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"ulid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),G(i,{validation:"url",code:U.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"regex",code:U.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),G(i,{code:U.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),G(i,{code:U.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),G(i,{code:U.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?CT(s).test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{code:U.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?_T.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{code:U.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?ST(s).test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{code:U.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?fT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"duration",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?NT(e.data,s.version)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"ip",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?kT(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"jwt",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?TT(e.data,s.version)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"cidr",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?vT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"base64",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?wT.test(e.data)||(i=this._getOrReturnCtx(e,i),G(i,{validation:"base64url",code:U.invalid_string,message:s.message}),r.dirty()):se.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:U.invalid_string,...J.errToObj(r)})}_addCheck(e){return new cn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...J.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...J.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...J.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...J.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...J.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...J.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...J.errToObj(n)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new cn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}cn.create=t=>new cn({checks:[],typeName:K.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...X(t)});function ET(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Pr extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==B.number){const s=this._getOrReturnCtx(e);return G(s,{code:U.invalid_type,expected:B.number,received:s.parsedType}),Y}let r;const i=new nt;for(const s of this._def.checks)s.kind==="int"?se.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:U.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:U.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:U.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ET(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),G(r,{code:U.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:U.not_finite,message:s.message}),i.dirty()):se.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,J.toString(n))}gt(e,n){return this.setLimit("min",e,!1,J.toString(n))}lte(e,n){return this.setLimit("max",e,!0,J.toString(n))}lt(e,n){return this.setLimit("max",e,!1,J.toString(n))}setLimit(e,n,r,i){return new Pr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:J.toString(i)}]})}_addCheck(e){return new Pr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&se.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Pr.create=t=>new Pr({checks:[],typeName:K.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class Ui extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==B.bigint)return this._getInvalidInput(e);let r;const i=new nt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:U.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:U.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),G(r,{code:U.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):se.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return G(n,{code:U.invalid_type,expected:B.bigint,received:n.parsedType}),Y}gte(e,n){return this.setLimit("min",e,!0,J.toString(n))}gt(e,n){return this.setLimit("min",e,!1,J.toString(n))}lte(e,n){return this.setLimit("max",e,!0,J.toString(n))}lt(e,n){return this.setLimit("max",e,!1,J.toString(n))}setLimit(e,n,r,i){return new Ui({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:J.toString(i)}]})}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ui.create=t=>new Ui({checks:[],typeName:K.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...X(t)});class Hf extends re{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==B.boolean){const r=this._getOrReturnCtx(e);return G(r,{code:U.invalid_type,expected:B.boolean,received:r.parsedType}),Y}return ht(e.data)}}Hf.create=t=>new Hf({typeName:K.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class mo extends re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==B.date){const s=this._getOrReturnCtx(e);return G(s,{code:U.invalid_type,expected:B.date,received:s.parsedType}),Y}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return G(s,{code:U.invalid_date}),Y}const r=new nt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),G(i,{code:U.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),G(i,{code:U.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):se.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}mo.create=t=>new mo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:K.ZodDate,...X(t)});class Bf extends re{_parse(e){if(this._getType(e)!==B.symbol){const r=this._getOrReturnCtx(e);return G(r,{code:U.invalid_type,expected:B.symbol,received:r.parsedType}),Y}return ht(e.data)}}Bf.create=t=>new Bf({typeName:K.ZodSymbol,...X(t)});class Of extends re{_parse(e){if(this._getType(e)!==B.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:U.invalid_type,expected:B.undefined,received:r.parsedType}),Y}return ht(e.data)}}Of.create=t=>new Of({typeName:K.ZodUndefined,...X(t)});class Jf extends re{_parse(e){if(this._getType(e)!==B.null){const r=this._getOrReturnCtx(e);return G(r,{code:U.invalid_type,expected:B.null,received:r.parsedType}),Y}return ht(e.data)}}Jf.create=t=>new Jf({typeName:K.ZodNull,...X(t)});class Wf extends re{constructor(){super(...arguments),this._any=!0}_parse(e){return ht(e.data)}}Wf.create=t=>new Wf({typeName:K.ZodAny,...X(t)});class Yf extends re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ht(e.data)}}Yf.create=t=>new Yf({typeName:K.ZodUnknown,...X(t)});class En extends re{_parse(e){const n=this._getOrReturnCtx(e);return G(n,{code:U.invalid_type,expected:B.never,received:n.parsedType}),Y}}En.create=t=>new En({typeName:K.ZodNever,...X(t)});class Kf extends re{_parse(e){if(this._getType(e)!==B.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:U.invalid_type,expected:B.void,received:r.parsedType}),Y}return ht(e.data)}}Kf.create=t=>new Kf({typeName:K.ZodVoid,...X(t)});class Rt extends re{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==B.array)return G(n,{code:U.invalid_type,expected:B.array,received:n.parsedType}),Y;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(o||u)&&(G(n,{code:o?U.too_big:U.too_small,minimum:u?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(G(n,{code:U.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(G(n,{code:U.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,u)=>i.type._parseAsync(new Tn(n,o,n.path,u)))).then(o=>nt.mergeArray(r,o));const s=[...n.data].map((o,u)=>i.type._parseSync(new Tn(n,o,n.path,u)));return nt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Rt({...this._def,minLength:{value:e,message:J.toString(n)}})}max(e,n){return new Rt({...this._def,maxLength:{value:e,message:J.toString(n)}})}length(e,n){return new Rt({...this._def,exactLength:{value:e,message:J.toString(n)}})}nonempty(e){return this.min(1,e)}}Rt.create=(t,e)=>new Rt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...X(e)});function Xn(t){if(t instanceof xe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sn.create(Xn(r))}return new xe({...t._def,shape:()=>e})}else return t instanceof Rt?new Rt({...t._def,type:Xn(t.element)}):t instanceof Sn?Sn.create(Xn(t.unwrap())):t instanceof Lr?Lr.create(Xn(t.unwrap())):t instanceof Bn?Bn.create(t.items.map(e=>Xn(e))):t}class xe extends re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=se.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==B.object){const f=this._getOrReturnCtx(e);return G(f,{code:U.invalid_type,expected:B.object,received:f.parsedType}),Y}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof En&&this._def.unknownKeys==="strip"))for(const f in i.data)o.includes(f)||u.push(f);const c=[];for(const f of o){const p=s[f],m=i.data[f];c.push({key:{status:"valid",value:f},value:p._parse(new Tn(i,m,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof En){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of u)c.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(f==="strict")u.length>0&&(G(i,{code:U.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of u){const m=i.data[p];c.push({key:{status:"valid",value:p},value:f._parse(new Tn(i,m,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of c){const m=await p.key,h=await p.value;f.push({key:m,value:h,alwaysSet:p.alwaysSet})}return f}).then(f=>nt.mergeObjectSync(r,f)):nt.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:J.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new xe({...this._def,unknownKeys:"strip"})}passthrough(){return new xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xe({...this._def,catchall:e})}pick(e){const n={};for(const r of se.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xe({...this._def,shape:()=>n})}omit(e){const n={};for(const r of se.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new xe({...this._def,shape:()=>n})}deepPartial(){return Xn(this)}partial(e){const n={};for(const r of se.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new xe({...this._def,shape:()=>n})}required(e){const n={};for(const r of se.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Sn;)s=s._def.innerType;n[r]=s}return new xe({...this._def,shape:()=>n})}keyof(){return gg(se.objectKeys(this.shape))}}xe.create=(t,e)=>new xe({shape:()=>t,unknownKeys:"strip",catchall:En.create(),typeName:K.ZodObject,...X(e)});xe.strictCreate=(t,e)=>new xe({shape:()=>t,unknownKeys:"strict",catchall:En.create(),typeName:K.ZodObject,...X(e)});xe.lazycreate=(t,e)=>new xe({shape:t,unknownKeys:"strip",catchall:En.create(),typeName:K.ZodObject,...X(e)});class ho extends re{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const o=s.map(u=>new Wt(u.ctx.common.issues));return G(n,{code:U.invalid_union,unionErrors:o}),Y}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=c._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!s&&(s={result:p,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const u=o.map(c=>new Wt(c));return G(n,{code:U.invalid_union,unionErrors:u}),Y}}get options(){return this._def.options}}ho.create=(t,e)=>new ho({options:t,typeName:K.ZodUnion,...X(e)});function Rl(t,e){const n=rn(t),r=rn(e);if(t===e)return{valid:!0,data:t};if(n===B.object&&r===B.object){const i=se.objectKeys(e),s=se.objectKeys(t).filter(u=>i.indexOf(u)!==-1),o={...t,...e};for(const u of s){const c=Rl(t[u],e[u]);if(!c.valid)return{valid:!1};o[u]=c.data}return{valid:!0,data:o}}else if(n===B.array&&r===B.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],u=e[s],c=Rl(o,u);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===B.date&&r===B.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class go extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Gf(s)||Gf(o))return Y;const u=Rl(s.value,o.value);return u.valid?(($f(s)||$f(o))&&n.dirty(),{status:n.value,value:u.data}):(G(r,{code:U.invalid_intersection_types}),Y)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}go.create=(t,e,n)=>new go({left:t,right:e,typeName:K.ZodIntersection,...X(n)});class Bn extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.array)return G(r,{code:U.invalid_type,expected:B.array,received:r.parsedType}),Y;if(r.data.length<this._def.items.length)return G(r,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&r.data.length>this._def.items.length&&(G(r,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Tn(r,o,r.path,u)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>nt.mergeArray(n,o)):nt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Bn({...this._def,rest:e})}}Bn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bn({items:t,typeName:K.ZodTuple,rest:null,...X(e)})};class Zf extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.map)return G(r,{code:U.invalid_type,expected:B.map,received:r.parsedType}),Y;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([u,c],f)=>({key:i._parse(new Tn(r,u,r.path,[f,"key"])),value:s._parse(new Tn(r,c,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of o){const f=await c.key,p=await c.value;if(f.status==="aborted"||p.status==="aborted")return Y;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(f.value,p.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of o){const f=c.key,p=c.value;if(f.status==="aborted"||p.status==="aborted")return Y;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(f.value,p.value)}return{status:n.value,value:u}}}}Zf.create=(t,e,n)=>new Zf({valueType:e,keyType:t,typeName:K.ZodMap,...X(n)});class ji extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==B.set)return G(r,{code:U.invalid_type,expected:B.set,received:r.parsedType}),Y;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(G(r,{code:U.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(G(r,{code:U.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const f=new Set;for(const p of c){if(p.status==="aborted")return Y;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((c,f)=>s._parse(new Tn(r,c,r.path,f)));return r.common.async?Promise.all(u).then(c=>o(c)):o(u)}min(e,n){return new ji({...this._def,minSize:{value:e,message:J.toString(n)}})}max(e,n){return new ji({...this._def,maxSize:{value:e,message:J.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ji.create=(t,e)=>new ji({valueType:t,minSize:null,maxSize:null,typeName:K.ZodSet,...X(e)});class Qf extends re{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qf.create=(t,e)=>new Qf({getter:t,typeName:K.ZodLazy,...X(e)});class Xf extends re{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return G(n,{received:n.data,code:U.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xf.create=(t,e)=>new Xf({value:t,typeName:K.ZodLiteral,...X(e)});function gg(t,e){return new Mr({values:t,typeName:K.ZodEnum,...X(e)})}class Mr extends re{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{expected:se.joinValues(r),received:n.parsedType,code:U.invalid_type}),Y}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{received:n.data,code:U.invalid_enum_value,options:r}),Y}return ht(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Mr.create(e,{...this._def,...n})}exclude(e,n=this._def){return Mr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Mr.create=gg;class ep extends re{_parse(e){const n=se.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==B.string&&r.parsedType!==B.number){const i=se.objectValues(n);return G(r,{expected:se.joinValues(i),received:r.parsedType,code:U.invalid_type}),Y}if(this._cache||(this._cache=new Set(se.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=se.objectValues(n);return G(r,{received:r.data,code:U.invalid_enum_value,options:i}),Y}return ht(e.data)}get enum(){return this._def.values}}ep.create=(t,e)=>new ep({values:t,typeName:K.ZodNativeEnum,...X(e)});class yo extends re{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==B.promise&&n.common.async===!1)return G(n,{code:U.invalid_type,expected:B.promise,received:n.parsedType}),Y;const r=n.parsedType===B.promise?n.data:Promise.resolve(n.data);return ht(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yo.create=(t,e)=>new yo({type:t,typeName:K.ZodPromise,...X(e)});class Dr extends re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{G(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async u=>{if(n.value==="aborted")return Y;const c=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return c.status==="aborted"?Y:c.status==="dirty"||n.value==="dirty"?ii(c.value):c});{if(n.value==="aborted")return Y;const u=this._def.schema._parseSync({data:o,path:r.path,parent:r});return u.status==="aborted"?Y:u.status==="dirty"||n.value==="dirty"?ii(u.value):u}}if(i.type==="refinement"){const o=u=>{const c=i.refinement(u,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Y:(u.status==="dirty"&&n.dirty(),o(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Y:(u.status==="dirty"&&n.dirty(),o(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Rr(o))return Y;const u=i.transform(o.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Rr(o)?Promise.resolve(i.transform(o.value,s)).then(u=>({status:n.value,value:u})):Y);se.assertNever(i)}}Dr.create=(t,e,n)=>new Dr({schema:t,typeName:K.ZodEffects,effect:e,...X(n)});Dr.createWithPreprocess=(t,e,n)=>new Dr({schema:e,effect:{type:"preprocess",transform:t},typeName:K.ZodEffects,...X(n)});class Sn extends re{_parse(e){return this._getType(e)===B.undefined?ht(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sn.create=(t,e)=>new Sn({innerType:t,typeName:K.ZodOptional,...X(e)});class Lr extends re{_parse(e){return this._getType(e)===B.null?ht(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lr.create=(t,e)=>new Lr({innerType:t,typeName:K.ZodNullable,...X(e)});class Pl extends re{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===B.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pl.create=(t,e)=>new Pl({innerType:t,typeName:K.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...X(e)});class Ml extends re{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return po(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ml.create=(t,e)=>new Ml({innerType:t,typeName:K.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...X(e)});class tp extends re{_parse(e){if(this._getType(e)!==B.nan){const r=this._getOrReturnCtx(e);return G(r,{code:U.invalid_type,expected:B.nan,received:r.parsedType}),Y}return{status:"valid",value:e.data}}}tp.create=t=>new tp({typeName:K.ZodNaN,...X(t)});class bT extends re{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Hu extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Y:s.status==="dirty"?(n.dirty(),ii(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Y:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Hu({in:e,out:n,typeName:K.ZodPipeline})}}class Dl extends re{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Rr(i)&&(i.value=Object.freeze(i.value)),i);return po(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Dl.create=(t,e)=>new Dl({innerType:t,typeName:K.ZodReadonly,...X(e)});xe.lazycreate;var K;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(K||(K={}));const Re=cn.create,IT=Pr.create;En.create;const Jo=Rt.create,yg=xe.create;xe.strictCreate;ho.create;go.create;Bn.create;Mr.create;yo.create;Sn.create;Lr.create;const AT=yg({name:Re(),contactInfo:Re().optional(),role:Re(),rate:IT(),currency:Re().optional(),skills:Jo(Re()).optional(),bio:Re().optional(),status:Re().optional(),timezone:Re().optional()}),RT=Jo(AT),PT=yg({name:Re(),clientName:Re(),description:Re().optional(),priority:Re().optional(),status:Re().optional(),budget:Re().optional(),startDate:Re().optional(),dueDate:Re().optional(),tags:Jo(Re()).optional()}),MT=Jo(PT),np={type:"ARRAY",items:{type:"OBJECT",properties:{name:{type:"STRING"},contactInfo:{type:"STRING"},role:{type:"STRING"},rate:{type:"NUMBER"},currency:{type:"STRING"},skills:{type:"ARRAY",items:{type:"STRING"}},bio:{type:"STRING"},status:{type:"STRING"},timezone:{type:"STRING"}},required:["name","role","rate"]}},rp={type:"ARRAY",items:{type:"OBJECT",properties:{name:{type:"STRING"},clientName:{type:"STRING"},description:{type:"STRING"},priority:{type:"STRING"},status:{type:"STRING"},budget:{type:"STRING"},startDate:{type:"STRING"},dueDate:{type:"STRING"},tags:{type:"ARRAY",items:{type:"STRING"}}},required:["name","clientName"]}},DT=({onImport:t,existingFreelancers:e=[],existingProjects:n=[]})=>{const[r,i]=N.useState("freelancer"),[s,o]=N.useState("excel"),[u,c]=N.useState(1),[f,p]=N.useState(null),[m,h]=N.useState(""),[w,C]=N.useState(!1),[v,S]=N.useState(0),[y,g]=N.useState("IDLE"),[x,_]=N.useState([]),[k,T]=N.useState([]),[b,M]=N.useState(null),[j,E]=N.useState(""),R=async q=>{p(q),C(!0),S(0),E("");try{g("UPLOADING & PROCESSING");const A=r==="freelancer",z=A?np:rp,D=`Extract ${A?"freelancer roster":"project"} information from the attached file. Return a JSON array.`,H=await Q.ai.extract(D,z,q);await O(H,A)}catch(A){console.error(A);const z=A instanceof Error?A.message:"Unknown error occurred";alert(`Import Failed: ${z}`)}finally{C(!1)}},I=async()=>{if(m.trim()){C(!0),S(0),E("");try{g("ANALYZING TEXT");const q=r==="freelancer",A=q?np:rp,P=`Extract ${q?"freelancer roster":"project"} information from the following text:

${m}`,D=await Q.ai.extract(P,A);await O(D,q)}catch(q){console.error(q);const A=q instanceof Error?q.message:"Unknown error occurred";alert(`Analysis Failed: ${A}`)}finally{C(!1)}}},O=async(q,A)=>{const z=A?RT:MT;let P;try{P=z.parse(q)}catch(D){console.error("Zod validation error:",D),P=Array.isArray(q)?q:[],P.length>0&&E("Some extracted data may not match the expected format. Please review carefully.")}if(P.length===0)throw new Error("No data found. Please check the content.");if(P.length>0){const D=P[0],H=Object.keys(D);T(H),_(P.map(W=>Object.values(W))),c(2)}},Z=async()=>{C(!0);const q=x.map(A=>{const z={};return k.forEach((P,D)=>{z[P]=A[D]}),z.id||(z.id=`${r==="freelancer"?"f":"p"}-${Date.now()}-${Math.random().toString(36).substr(2,5)}`),r==="freelancer"&&!z.avatar&&(z.avatar=`https://ui-avatars.com/api/?name=${encodeURIComponent(z.name||"User")}&background=random`),r==="project"&&!z.status&&(z.status=ProjectStatus.PLANNED),r==="freelancer"&&!z.status&&(z.status=FreelancerStatus.ACTIVE),z});t(r,q),C(!1),c(4)};return a.jsxs("div",{className:"p-12 max-w-6xl mx-auto min-h-screen flex flex-col font-sans text-ink-primary animate-enter",children:[a.jsxs("div",{className:"flex items-center justify-between mb-12",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-display font-bold tracking-tighter text-ink-primary",children:"Data Ingestion Portal"}),a.jsx("div",{className:"flex items-center gap-3 mt-2",children:a.jsxs("p",{className:"text-xs text-ink-secondary uppercase tracking-widest font-bold",children:["Pipeline v2.4 ",a.jsx("span",{className:"text-border-hover mx-2",children:"|"})," Secure TLS 1.3"]})})]}),a.jsx(Ge,{to:"/",className:"text-ink-tertiary hover:text-ink-primary p-3 rounded-full hover:bg-subtle transition-colors",children:a.jsx(Ke,{size:24})})]}),a.jsx("div",{className:"flex items-center gap-4 mb-10",children:[1,2,3,4].map(q=>a.jsx("div",{className:`h-1 rounded-full flex-1 transition-all duration-700 ${q<=u?"bg-ink-primary":"bg-border-subtle"}`},q))}),u===1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[a.jsxs("button",{onClick:()=>i("freelancer"),className:`p-10 rounded-3xl transition-all duration-300 group relative text-left border ${r==="freelancer"?"bg-ink-primary text-white border-ink-primary shadow-card":"bg-surface text-ink-secondary border-border-subtle hover:border-ink-secondary"}`,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${r==="freelancer"?"bg-white/20 text-white":"bg-subtle text-ink-secondary"}`,children:a.jsx(Dh,{size:24})}),a.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Roster Import"})]}),a.jsx("p",{className:`text-xs font-medium leading-relaxed ${r==="freelancer"?"text-white/70":"text-ink-tertiary"}`,children:"Bulk ingest talent profiles via Excel or Resume PDF. AI auto-extraction enabled."})]}),a.jsxs("button",{onClick:()=>i("project"),className:`p-10 rounded-3xl transition-all duration-300 group relative text-left border ${r==="project"?"bg-ink-primary text-white border-ink-primary shadow-card":"bg-surface text-ink-secondary border-border-subtle hover:border-ink-secondary"}`,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${r==="project"?"bg-white/20 text-white":"bg-subtle text-ink-secondary"}`,children:a.jsx(bh,{size:24})}),a.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Project Import"})]}),a.jsx("p",{className:`text-xs font-medium leading-relaxed ${r==="project"?"text-white/70":"text-ink-tertiary"}`,children:"Ingest campaign briefs or manifests. AI extracts dates, budgets, and roles."})]})]}),a.jsxs("div",{className:"bg-surface border border-border-subtle rounded-3xl flex-1 flex flex-col shadow-card overflow-hidden min-h-[500px]",children:[a.jsxs("div",{className:"px-10 pt-10 flex gap-8 border-b border-border-subtle",children:[a.jsx("button",{onClick:()=>o("excel"),className:`pb-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${s==="excel"?"border-ink-primary text-ink-primary":"border-transparent text-ink-tertiary hover:text-ink-secondary"}`,children:"Upload Binary"}),a.jsx("button",{onClick:()=>o("paste"),className:`pb-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${s==="paste"?"border-ink-primary text-ink-primary":"border-transparent text-ink-tertiary hover:text-ink-secondary"}`,children:"Raw Text Stream"})]}),a.jsxs("div",{className:"flex-1 flex flex-col p-12 bg-app/50 relative",children:[w&&a.jsx("div",{className:"absolute inset-0 z-50 bg-surface/90 backdrop-blur-lg flex flex-col items-center justify-center animate-in fade-in duration-500",children:a.jsxs("div",{className:"w-96 text-center space-y-6",children:[a.jsxs("div",{className:"relative w-24 h-24 mx-auto flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-border-subtle"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-ink-primary border-r-transparent border-b-transparent border-l-transparent animate-spin"}),a.jsx(Fv,{size:32,className:"text-ink-primary animate-pulse"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-2xl font-display font-bold text-ink-primary tracking-tight",children:[Math.round(v),"%"]}),a.jsxs("div",{className:"text-[10px] font-bold text-edge-teal uppercase tracking-widest flex items-center justify-center gap-2",children:[a.jsx(kh,{size:12,className:"animate-bounce"}),y]})]}),a.jsxs("div",{className:"w-full bg-ink-primary rounded-lg p-4 text-left font-mono text-[10px] text-green-400 h-24 overflow-hidden relative shadow-inner border border-ink-secondary",children:[a.jsx("div",{className:"opacity-50 absolute top-2 right-2 text-[8px] uppercase",children:"System Log"}),a.jsx("p",{children:"> Initiating secure handshake..."}),a.jsx("p",{children:"> Stream opened (Port 443)"}),b&&a.jsxs("p",{children:["> Job Assigned: ",b]}),v>50&&a.jsx("p",{children:"> Worker Node 04: Analyzing payload..."}),v>80&&a.jsx("p",{children:"> Structuring data models..."}),a.jsx("div",{className:"animate-pulse mt-1",children:"_"})]})]})}),s==="excel"?a.jsxs("div",{className:`w-full h-full border-2 border-dashed rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all min-h-[300px] group ${f?"border-state-success bg-state-success-bg/10":"border-border-subtle hover:border-ink-primary hover:bg-white"}`,onClick:()=>{var q;return(q=document.getElementById("fileInput"))==null?void 0:q.click()},onDragOver:q=>q.preventDefault(),onDrop:q=>{q.preventDefault(),q.dataTransfer.files[0]&&R(q.dataTransfer.files[0])},children:[a.jsx("input",{type:"file",id:"fileInput",className:"hidden",onChange:q=>{var A;(A=q.target.files)!=null&&A[0]&&R(q.target.files[0])}}),f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 bg-state-success-bg rounded-2xl text-state-success flex items-center justify-center mb-6 shadow-sm",children:a.jsx(vv,{size:32})}),a.jsx("p",{className:"font-bold text-ink-primary text-sm",children:f.name})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 bg-white border border-border-subtle rounded-2xl text-ink-tertiary group-hover:text-ink-primary flex items-center justify-center mb-6 shadow-float transition-colors",children:a.jsx(Li,{size:32})}),a.jsx("p",{className:"font-bold text-ink-primary text-sm uppercase tracking-wide",children:"Drop Asset (XLSX, CSV, PDF)"}),a.jsx("p",{className:"text-ink-tertiary text-xs mt-2 font-medium",children:"Maximum payload: 500MB"})]})]}):a.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[a.jsx("div",{className:"relative flex-1",children:a.jsx("textarea",{className:"absolute inset-0 w-full h-full p-8 bg-white border border-border-subtle rounded-2xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm font-mono resize-none shadow-sm placeholder-ink-tertiary/50 text-ink-primary custom-scrollbar leading-relaxed",placeholder:"// Paste raw unstructured text here...",value:m,onChange:q=>h(q.target.value)})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-[10px] text-ink-tertiary font-bold uppercase tracking-widest flex items-center gap-2",children:[a.jsx(gv,{size:12})," Neural Processing Enabled"]}),a.jsxs("button",{onClick:I,disabled:!m.trim()||w,className:"px-8 py-4 bg-ink-primary text-white rounded-2xl text-xs font-bold uppercase tracking-widest hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center gap-3 disabled:opacity-50",children:[a.jsx(Ot,{size:14})," Initiate Analysis"]})]})]})]})]})]}),u===2&&a.jsxs("div",{className:"flex-1 flex flex-col gap-8 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsx("div",{className:"bg-surface border border-border-subtle rounded-3xl overflow-hidden shadow-card flex-1 overflow-x-auto relative",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-subtle/30 border-b border-border-subtle",children:a.jsx("tr",{children:k.map(q=>a.jsx("th",{className:`px-8 py-6 text-[10px] font-bold uppercase tracking-widest ${["name","email","role"].includes(q.toLowerCase())?"text-ink-primary":"text-ink-tertiary"}`,children:q},q))})}),a.jsx("tbody",{className:"divide-y divide-border-subtle",children:x.slice(0,10).map((q,A)=>a.jsx("tr",{className:"hover:bg-subtle/30 transition-colors",children:q.map((z,P)=>a.jsx("td",{className:"px-8 py-4 text-xs text-ink-secondary font-medium whitespace-nowrap max-w-[250px] truncate",children:Array.isArray(z)?z.join(", "):String(z)},P))},A))})]})}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>{c(1),p(null),h(""),M(null)},className:"px-6 py-3 text-ink-secondary hover:text-ink-primary font-bold uppercase tracking-wide hover:bg-subtle rounded-xl text-xs transition-colors",children:"Abort"}),a.jsxs("button",{onClick:()=>c(3),className:"px-8 py-3 bg-ink-primary text-white font-bold rounded-xl text-xs uppercase tracking-widest hover:bg-black shadow-lg flex items-center gap-3",children:["Review Impact ",a.jsx(Fo,{size:14})]})]})]}),u===3&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center animate-in slide-in-from-bottom-8 duration-500",children:[a.jsxs("div",{className:"w-full max-w-3xl grid grid-cols-3 gap-8 mb-12",children:[a.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-state-success-bg text-state-success flex items-center justify-center mb-4",children:a.jsx(Bi,{size:24})}),a.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"12"}),a.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"New Records"})]}),a.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center mb-4",children:a.jsx(io,{size:24})}),a.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"4"}),a.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Updates"})]}),a.jsxs("div",{className:"bg-surface p-8 rounded-3xl border border-border-subtle shadow-float flex flex-col items-center text-center opacity-50",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-state-danger-bg text-state-danger flex items-center justify-center mb-4",children:a.jsx(Hi,{size:24})}),a.jsx("div",{className:"text-4xl font-bold text-ink-primary mb-2",children:"0"}),a.jsx("div",{className:"text-[10px] font-bold text-ink-tertiary uppercase tracking-widest",children:"Conflicts"})]})]}),a.jsxs("button",{onClick:Z,disabled:w,className:"w-full max-w-md px-8 py-5 bg-ink-primary text-white font-bold rounded-2xl text-sm uppercase tracking-widest hover:bg-black shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all flex items-center justify-center gap-3 disabled:opacity-70",children:[w?a.jsx(lt,{className:"animate-spin"}):a.jsx(ro,{size:20}),w?"Committing Transaction...":"Execute Commit"]})]}),u===4&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center animate-in zoom-in-95 duration-500",children:[a.jsx("div",{className:"w-24 h-24 bg-state-success-bg rounded-3xl text-state-success flex items-center justify-center mb-8 shadow-lg shadow-state-success/20",children:a.jsx(ro,{size:48,strokeWidth:3})}),a.jsx("h2",{className:"text-4xl font-display font-bold text-ink-primary mb-4 tracking-tighter",children:"Ingestion Complete"}),a.jsxs("p",{className:"text-ink-secondary mb-12 text-sm font-medium max-w-md leading-relaxed",children:["Data has been successfully synchronized to the Master Node.",b&&a.jsxs("span",{className:"block mt-4 text-[10px] uppercase tracking-widest font-bold text-edge-teal font-mono",children:["Job ID: ",b]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("button",{onClick:()=>{c(1),p(null),h(""),M(null)},className:"px-8 py-4 bg-surface border border-border-subtle text-ink-primary font-bold hover:border-ink-tertiary transition-all rounded-2xl text-xs uppercase tracking-widest shadow-sm",children:"New Stream"}),a.jsx(Ge,{to:r==="freelancer"?"/freelancers":"/projects",className:"px-8 py-4 bg-ink-primary text-white font-bold hover:bg-black transition-all rounded-2xl text-xs uppercase tracking-widest shadow-lg",children:"View Roster"})]})]})]})},LT=({projects:t,assignments:e,freelancers:n})=>{const{token:r}=Ru(),[i,s]=N.useState(!0),[o,u]=N.useState(void 0),[c,f]=N.useState({assignments:[],freelancers:[]});if(N.useEffect(()=>{const C=t.length===0&&!!r;(async()=>{try{if(C){console.log("Guest Access: Loading Public Data...");const[S,y,g]=await Promise.all([Q.projects.list(),Q.assignments.list(),Q.freelancers.list()]),x=S.data.find(_=>_.shareToken===r);x&&(u(x),f({assignments:y.data,freelancers:g.data}))}else{const S=t.find(y=>y.shareToken===r);S&&(u(S),f({assignments:e,freelancers:n}))}}catch(S){console.error("Failed to load project data",S)}finally{s(!1)}})()},[r,t,e,n]),i)return a.jsx("div",{className:"min-h-screen bg-[#F5F5F7] flex items-center justify-center font-sans",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-pencil",children:[a.jsx(lt,{size:32,className:"animate-spin text-indigo-500"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Verifying Secure Link..."})]})});if(!o||o.shareTokenRevokedAt)return a.jsx("div",{className:"min-h-screen bg-[#F4F4F0] flex items-center justify-center font-sans",children:a.jsxs("div",{className:"bg-white p-16 border border-mist text-center max-w-lg rounded-3xl shadow-soft",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-50 text-pencil border border-mist flex items-center justify-center mx-auto mb-8 rounded-2xl",children:a.jsx(dc,{size:24})}),a.jsx("h2",{className:"text-2xl font-semibold text-ink mb-3 tracking-tight",children:"Access Revoked"}),a.jsxs("p",{className:"text-pencil text-xs font-bold uppercase tracking-widest leading-relaxed",children:["This secure link has expired or is invalid.",a.jsx("br",{}),"Please contact the studio administrator."]})]})});const p=c.assignments.filter(C=>C.projectId===o.id),m=p.length,h=o.roleRequirements.reduce((C,v)=>C+v.count,0),w=h>0?Math.round(m/h*100):0;return a.jsxs("div",{className:"min-h-screen bg-[#F5F5F7] font-sans text-ink",children:[a.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-mist sticky top-0 z-10",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-10 h-24 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Studio."}),a.jsx("div",{className:"w-10 h-10 bg-ink flex items-center justify-center text-white font-bold text-lg rounded-xl shadow-sm",children:a.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-pencil font-bold uppercase tracking-widest border border-mist px-4 py-1.5 bg-gray-50 rounded-full",children:[a.jsx(dc,{size:12})," External View"]})]})}),a.jsxs("div",{className:"max-w-5xl mx-auto px-10 py-20 animate-in fade-in duration-700",children:[a.jsxs("div",{className:"bg-white border border-mist mb-16 rounded-3xl shadow-soft overflow-hidden",children:[a.jsx("div",{className:"p-12 border-b border-mist bg-white",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-10",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-pencil font-bold mb-4 uppercase tracking-widest text-[10px]",children:o.clientName||"Client Confidential"}),a.jsx("h1",{className:"text-6xl font-semibold mb-6 text-ink leading-[0.9] tracking-tighter",children:o.name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm mt-8",children:[a.jsx("span",{className:"bg-ink text-white px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest rounded-lg shadow-sm",children:o.status}),o.dueDate&&a.jsxs("span",{className:"flex items-center gap-2 font-mono text-xs font-bold text-ink bg-gray-50 px-3 py-1.5 rounded-lg border border-mist",children:[a.jsx(Vo,{size:12})," Due ",new Date(o.dueDate).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsxs("div",{className:"text-7xl font-light text-ink tracking-tighter",children:[w,"%"]}),a.jsx("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-widest mt-2",children:"Staffing Complete"})]})]})}),a.jsxs("div",{className:"p-12",children:[a.jsx("h3",{className:"text-[10px] font-bold text-pencil uppercase tracking-widest mb-10 border-b border-mist pb-4",children:"Roster Assignment"}),a.jsx("div",{className:"space-y-10",children:o.roleRequirements.map(C=>{const v=p.filter(S=>S.role===C.role);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h4",{className:"text-xl font-semibold text-ink tracking-tight",children:C.role}),a.jsxs("span",{className:"text-xs font-mono font-bold text-pencil bg-canvas px-2 py-1 rounded border border-mist",children:[v.length," / ",C.count," Filled"]})]}),v.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(S=>{const y=c.freelancers.find(g=>g.id===S.freelancerId);return a.jsxs("div",{className:"flex items-center gap-5 p-5 bg-white border border-mist rounded-2xl shadow-sm",children:[(y==null?void 0:y.avatar)&&a.jsx("img",{src:y.avatar,className:"w-12 h-12 border border-mist object-cover grayscale rounded-full"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-ink text-sm tracking-tight mb-1",children:(y==null?void 0:y.name)||"Unknown"}),a.jsxs("div",{className:"text-[10px] text-pencil font-bold uppercase tracking-wide",children:[new Date(S.startDate).toLocaleDateString(),"  ",new Date(S.endDate).toLocaleDateString()]})]})]},S.id)})}):a.jsx("div",{className:"p-6 border border-dashed border-mist text-center text-xs text-pencil font-bold uppercase tracking-widest bg-gray-50/30 rounded-2xl",children:"Pending Assignment"})]},C.id)})})]})]}),a.jsx("div",{className:"text-center text-pencil/50 text-[10px] font-bold uppercase tracking-widest",children:"Studio Roster OS  2025"})]})]})},UT=({projects:t,freelancers:e,assignments:n,onSaveScript:r})=>{var P;const[i,s]=nv(),o=i.get("project"),[u,c]=N.useState(""),[f,p]=N.useState(""),[m,h]=N.useState(""),[w,C]=N.useState(""),[v,S]=N.useState(!0),[y,g]=N.useState(!1),[x,_]=N.useState([]),[k,T]=N.useState([]),[b,M]=N.useState(!1),[j,E]=N.useState(!1),R=t.find(D=>D.id===f),I=((P=R==null?void 0:R.knowledgeBase)==null?void 0:P.map(D=>`[${D.category}] ${D.title}: ${D.content.substring(0,500)}...`).join(`

`))||"";N.useEffect(()=>{o&&o!==f&&p(o)},[o]),N.useEffect(()=>{var D,H;if(R){const W=[];(D=R.knowledgeBase)==null||D.forEach(te=>{const Mt={General:"url",Research:"wiki",Technical:"file",Brand:"text"};W.push({id:te.id,type:Mt[te.category]||"text",title:te.title,originalContent:te.content,summary:`Project Context (${te.category})`,status:"indexed",chunks:[],createdAt:te.updatedAt})}),(H=R.toneAttributes)!=null&&H.length&&W.push({id:"tone-1",type:"text",title:"Tone & Mood",originalContent:R.toneAttributes.join(", "),summary:"Creative Direction",status:"indexed",chunks:[],createdAt:new Date().toISOString()}),R.brandGuidelines&&W.push({id:"brand-1",type:"text",title:"Brand Guidelines",originalContent:`DO: ${R.brandGuidelines.dos.join(", ")}. DONT: ${R.brandGuidelines.donts.join(", ")}`,summary:"Brand Rules",status:"indexed",chunks:[],createdAt:new Date().toISOString()}),_(W)}},[R==null?void 0:R.id,R==null?void 0:R.updatedAt]);const O=async(D,H)=>{if(D==="update_script"){const W=H.content;return c(te=>H.mode==="replace"?W:te?te+`
`+W:W),setTimeout(()=>Z(W),1e3),{status:"success",message:"Editor updated"}}if(D==="generate_rag_content"&&R)try{return{status:"success",content:await $k.generate(H.prompt,x,R)}}catch{return{status:"error",message:"RAG Generation failed"}}return{status:"error",message:"Unknown tool"}},Z=async D=>{var te,Mt,kt;if(!R||!D)return;M(!0);const H=[...R.tags||[],"Maintain consistent voice",...R.toneAttributes||[],...(((te=R.brandGuidelines)==null?void 0:te.dos)||[]).map(Dt=>`Do: ${Dt}`),...(((Mt=R.brandGuidelines)==null?void 0:Mt.donts)||[]).map(Dt=>`Don't: ${Dt}`),...((kt=R.knowledgeBase)==null?void 0:kt.map(Dt=>Dt.content.slice(0,50)))||[]],W=await Gk.validate(D,H);T(W.violations),M(!1)},q=async()=>{if(u.trim()){E(!0);try{const D=new Hr({apiKey:'"AIzaSyC9o_kpmfdSivtVi-wVSWCI_XYqKItHkYI"'}),H=`Refine and structure this creative writing. Use markdown headers and bullet points. Content: ${u}`,W=await Oi(D,{model:"gemini-2.0-flash-exp",contents:H});W.text&&(c(W.text),setTimeout(()=>Z(W.text),500))}catch(D){console.error(D)}finally{E(!1)}}},A=async()=>{if(r){const D=await r({id:w||`scr-${Date.now()}`,title:m||"Untitled Script",content:u,version:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),projectId:f});C(D.id),s(H=>(H.set("script",D.id),H))}},z=async D=>{if(D.preventDefault(),D.stopPropagation(),g(!1),D.dataTransfer.files&&D.dataTransfer.files[0]){const H=D.dataTransfer.files[0];try{const W=await cg.ingestFile(H);c(te=>te?te+`

`+W.originalContent:W.originalContent)}catch(W){console.error(W),alert("Could not read file.")}}};return a.jsxs("div",{className:"flex h-[calc(100vh-64px)] min-h-[600px] bg-[#F5F5F7] font-sans text-gray-900 overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col relative bg-white shadow-soft z-10 mx-6 my-6 rounded-2xl border border-gray-100 overflow-hidden",onDragOver:D=>{D.preventDefault(),g(!0)},onDragLeave:()=>g(!1),onDrop:z,children:[y&&a.jsxs("div",{className:"absolute inset-0 z-50 bg-indigo-50/90 backdrop-blur-md flex flex-col items-center justify-center border-2 border-indigo-500 border-dashed m-3 rounded-xl transition-all duration-300",children:[a.jsx(Ar,{size:48,className:"text-indigo-600 mb-3 animate-bounce"}),a.jsx("h3",{className:"text-xl font-bold text-indigo-900 tracking-tight",children:"Drop to Import"}),a.jsx("p",{className:"text-sm text-indigo-700 font-medium",children:"Appends file content to editor"})]}),a.jsxs("div",{className:"h-16 border-b border-gray-100 bg-white/80 backdrop-blur-sm flex items-center justify-between px-6 sticky top-0 z-30",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("select",{value:f,onChange:D=>{p(D.target.value),s(H=>(H.set("project",D.target.value),H))},className:"bg-transparent text-xs font-bold text-gray-700 focus:outline-none cursor-pointer hover:bg-gray-50 px-3 py-2 rounded-lg transition-colors border border-transparent hover:border-gray-100 uppercase tracking-wide",children:[a.jsx("option",{value:"",children:"Select Context..."}),t.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]})}),a.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 hidden md:flex items-center gap-2",children:a.jsx("input",{type:"text",value:m,onChange:D=>h(D.target.value),placeholder:"Untitled Script",className:"text-center text-sm font-semibold text-gray-900 focus:outline-none placeholder-gray-300 hover:bg-gray-50 rounded-lg px-4 py-1.5 transition-colors tracking-tight"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:q,disabled:j,className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-50",children:j?a.jsx(lt,{size:18,className:"animate-spin"}):a.jsx(Ot,{size:18})}),a.jsxs("button",{onClick:A,className:"bg-gray-900 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-black transition-all flex items-center gap-2 shadow-sm uppercase tracking-widest",children:[a.jsx(Lv,{size:14})," Save"]}),a.jsx("div",{className:"h-6 w-px bg-gray-100 mx-1"}),a.jsx("button",{onClick:()=>S(!v),className:`p-2 rounded-lg transition-colors ${v?"bg-indigo-50 text-indigo-600":"text-gray-400 hover:text-gray-900 hover:bg-gray-50"}`,children:a.jsx(Pv,{size:20})})]})]}),a.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[!f&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50/50 z-20 pointer-events-none backdrop-blur-[2px]",children:a.jsx("p",{className:"text-sm text-gray-400 font-medium tracking-wide",children:"Select a project to enable AI tools"})}),a.jsx("textarea",{className:"absolute inset-0 w-full h-full p-10 resize-none focus:outline-none font-mono text-sm leading-8 text-gray-800 z-10 bg-transparent custom-scrollbar",value:u,onChange:D=>c(D.target.value),spellCheck:!1,placeholder:"Start writing or drop a text file here..."})]}),a.jsxs("div",{className:"h-10 border-t border-gray-100 bg-gray-50/50 flex items-center justify-between px-6 text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("span",{children:[u.length," chars"]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Bi,{size:12,className:"text-gray-400"})," ",x.length," active sources"]})]}),a.jsx("div",{children:b?a.jsxs("span",{className:"text-amber-500 flex items-center gap-2",children:[a.jsx(Vv,{size:14})," Scanning Content..."]}):k.length>0?a.jsxs("span",{className:"text-rose-500 flex items-center gap-2",children:[a.jsx(Hi,{size:14})," ",k.length," Issues Detected"]}):a.jsxs("span",{className:"text-emerald-600 flex items-center gap-2",children:[a.jsx(Ih,{size:14})," Guard Active"]})})]})]}),a.jsx("div",{className:`flex-shrink-0 border-l border-gray-100 bg-white z-20 transition-all duration-500 cubic-bezier(0.2,0.8,0.2,1) ${v?"w-[420px] translate-x-0":"w-0 translate-x-full opacity-0 overflow-hidden"}`,children:a.jsx("div",{className:"w-[420px] h-full",children:a.jsx(Lh,{freelancers:e,projects:t,assignments:n,onCallAction:O,agentMode:!0,customTitle:"Creative Assistant",contextData:I},f||"default")})})]})},jT=({toast:t})=>{const{removeToast:e}=Ji(),[n,r]=N.useState(!1),i=()=>{r(!0),setTimeout(()=>e(t.id),300)};N.useEffect(()=>{if(t.duration&&t.duration>0){const u=setTimeout(()=>{r(!0)},t.duration-300);return()=>clearTimeout(u)}},[t.duration]);const s={success:a.jsx(Ih,{size:18,className:"text-emerald-500"}),error:a.jsx(Th,{size:18,className:"text-rose-500"}),info:a.jsx(kv,{size:18,className:"text-indigo-500"}),warning:a.jsx(Hi,{size:18,className:"text-amber-500"})},o={success:"bg-emerald-50 border-emerald-100 text-emerald-900",error:"bg-rose-50 border-rose-100 text-rose-900",info:"bg-indigo-50 border-indigo-100 text-indigo-900",warning:"bg-amber-50 border-amber-100 text-amber-900"};return a.jsxs("div",{className:`
                flex items-start gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-md transition-all duration-300 transform
                ${o[t.type]}
                ${n?"opacity-0 translate-x-full scale-95":"opacity-100 translate-x-0 scale-100"}
                animate-in slide-in-from-right-full fade-in
            `,role:"alert",children:[a.jsx("div",{className:"mt-0.5 flex-shrink-0",children:s[t.type]}),a.jsx("div",{className:"flex-1 text-sm font-medium leading-relaxed",children:t.message}),a.jsx("button",{onClick:i,className:"p-1 -mr-1 -mt-1 rounded-lg hover:bg-black/5 transition-colors opacity-60 hover:opacity-100",children:a.jsx(Ke,{size:14})})]})},FT=()=>{const{toasts:t}=Ji();return a.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3 w-full max-w-sm pointer-events-none",children:a.jsx("div",{className:"pointer-events-auto flex flex-col gap-3",children:t.map(e=>a.jsx(jT,{toast:e},e.id))})})},VT=t=>{const e=zr();return a.jsx(o1,{...t,onCallAction:(n,r)=>t.onAgentAction(n,r,e)})},zT=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState(!0),i=Ji(),[s,o]=N.useState(()=>_n("freelancers",[])),[u,c]=N.useState(()=>_n("projects",[])),[f,p]=N.useState(()=>_n("assignments",[])),m=(E,R)=>{console.log(`[Activity] ${E}: ${R}`)},h=Vi.useCallback(async()=>{try{const[E,R,I]=await Promise.all([Q.freelancers.list({limit:1e3}),Q.projects.list({limit:1e3}),Q.assignments.list({limit:5e3})]);o(E.data||[]),c(R.data||[]),p(I.data||[])}catch(E){console.error("Failed to fetch data",E),i.error("Failed to sync data with server")}finally{r(!1)}},[i]);N.useEffect(()=>{localStorage.getItem("studio_roster_v1_auth_token")?(e(!0),h()):r(!1)},[h]);const w=async(E,R)=>{r(!0);try{if(E==="freelancer"){const I=await Q.freelancers.importBatch(R);m("Import Completed",`Imported/Updated ${I.data.created+I.data.updated} freelancers.`),i.success(`Successfully imported ${I.data.created+I.data.updated} freelancers`)}else{const I=await Q.projects.importBatch(R);m("Import Completed",`Imported/Updated ${I.data.created+I.data.updated} projects.`),i.success(`Successfully imported ${I.data.created+I.data.updated} projects`)}await h()}catch(I){console.error(I),i.error("Import Failed. Please check your file format.")}finally{r(!1)}},C=async E=>{const R=await Q.freelancers.update(E);o(I=>I.map(O=>O.id===R.data.id?R.data:O)),m("Freelancer Updated",`Updated profile for ${R.data.name}`),i.success("Freelancer profile updated")},v=async E=>{await Q.freelancers.delete(E),o(R=>R.filter(I=>I.id!==E)),p(R=>R.filter(I=>I.freelancerId!==E)),m("Freelancer Deleted","Removed freelancer from roster"),i.info("Freelancer removed from roster")},S=async E=>{const R=await Q.projects.update(E);c(I=>I.map(O=>O.id===R.data.id?R.data:O)),i.success("Project updated successfully")},y=async E=>{await Q.projects.delete(E),c(R=>R.filter(I=>I.id!==E)),p(R=>R.filter(I=>I.projectId!==E)),m("Project Deleted","Deleted project and associated assignments"),i.info("Project deleted")},g=async E=>{if(window.confirm(`Are you sure you want to delete ${E.length} projects? This action cannot be undone.`))try{await Q.projects.deleteBatch(E),c(R=>R.filter(I=>!E.includes(I.id))),p(R=>R.filter(I=>!E.includes(I.projectId))),i.success(`Deleted ${E.length} projects`)}catch(R){console.error("Failed to delete projects",R),i.error("Failed to delete projects")}},x=(E,R,I,O)=>{const Z=new Date(R),q=new Date(I);return f.find(A=>{if(A.freelancerId!==E||O&&A.id===O)return!1;const z=new Date(A.startDate),P=new Date(A.endDate);return z<=q&&P>=Z})},_=async E=>{var R,I;try{const O=f.find(q=>q.id===E.id);let Z;if(O)Z=await Q.assignments.update(E),p(q=>q.map(A=>A.id===E.id?Z.data:A)),m("Assignment Updated","Updated assignment details"),i.success("Assignment updated");else{Z=await Q.assignments.create(E),p(P=>[...P,Z.data]);const q=((R=s.find(P=>P.id===Z.data.freelancerId))==null?void 0:R.name)||"Unknown",A=((I=u.find(P=>P.id===Z.data.projectId))==null?void 0:I.name)||"Unknown";m("Assignment Confirmed",`${q} assigned to ${A}`),i.success("Assignment confirmed");const z=await Q.projects.list({limit:1e3});c(z.data)}}catch(O){O instanceof Error&&O.message==="CONFLICT_DETECTED"?i.error("Server Conflict: Assignment overlaps with existing booking."):i.error("Failed to save assignment")}},k=async E=>{const R={id:`p-${Date.now()}`,name:(E==null?void 0:E.name)||"New Project",clientName:E==null?void 0:E.clientName,status:(E==null?void 0:E.status)||ut.PLANNED,priority:(E==null?void 0:E.priority)||St.NORMAL,description:E==null?void 0:E.description,category:E==null?void 0:E.category,startDate:E==null?void 0:E.startDate,dueDate:E==null?void 0:E.dueDate,roleRequirements:(E==null?void 0:E.roleRequirements)||[],tags:E==null?void 0:E.tags,notes:E==null?void 0:E.notes,createdAt:new Date().toISOString()},I=await Q.projects.create(R);return c(O=>[...O,I.data]),m("Project Created",`Created new project: ${R.name}`),i.success("New project created"),I.data},T=async E=>{const R={id:`f-${Date.now()}`,name:(E==null?void 0:E.name)||"New Talent",role:(E==null?void 0:E.role)||"Generalist",skills:[],rate:(E==null?void 0:E.rate)||0,currency:"USD",timezone:"UTC",status:Ft.ACTIVE,contactInfo:(E==null?void 0:E.contactInfo)||"email@example.com",utilization:0,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent((E==null?void 0:E.name)||"New Talent")}&background=random`},I=await Q.freelancers.create(R);return o(O=>[...O,I.data]),m("Talent Added",`Added new freelancer: ${R.name}`),i.success("New freelancer added to roster"),I.data},b=async E=>{var O;const R=await Q.scripts.create(E),I=((O=u.find(Z=>Z.id===E.projectId))==null?void 0:O.name)||"Unknown Project";return m("Script Saved",`Saved "${E.title}" to ${I}`),i.success("Script saved"),R.data},M=async E=>{try{await Q.auth.login(E),e(!0),i.success("Welcome back to Studio Roster")}catch(R){throw console.error("Auth Error:",R),i.error("Authentication failed"),R}},j=async(E,R,I)=>{var O,Z,q;switch(E){case"create_project":return await k(R);case"update_project":{const A=u.find(z=>z.id===R.id);if(A){const z={...A,...R};return await S(z),z}throw new Error("Project not found")}case"create_freelancer":return await T(R);case"assign_freelancer":{const A={id:`asn-${Date.now()}`,projectId:R.projectId,freelancerId:R.freelancerId,role:R.role||"Contributor",startDate:R.startDate||new Date().toISOString(),endDate:R.endDate||new Date(Date.now()+6048e5).toISOString(),allocation:100,status:"Confirmed"};return await _(A),{status:"Assigned"}}case"navigate":return I(R.path),{status:"Navigated"};case"get_storage_info":try{const A=await Q.storage.getInfo();return{bucket:((O=A.data)==null?void 0:O.bucket)||"Unknown",project:((Z=A.data)==null?void 0:Z.projectId)||"Unknown",status:(q=A.data)!=null&&q.configured?"Connected":"Not Configured"}}catch(A){return console.error(A),{error:"Failed to retrieve storage info"}}default:return{error:"Unknown action"}}};return n?a.jsx("div",{className:"h-screen flex items-center justify-center bg-[#F6F6FA]",children:a.jsx(io,{className:"animate-spin text-gray-400"})}):t?a.jsx(K0,{children:a.jsxs(G0,{children:[a.jsxs(Ze,{path:"/",element:a.jsx(Wv,{}),children:[a.jsx(Ze,{index:!0,element:a.jsx(VT,{projects:u,freelancers:s,assignments:f,onAgentAction:j,isLoading:n})}),a.jsx(Ze,{path:"projects",element:a.jsx(Lk,{projects:u,onCreate:k,onUpdate:S,onDelete:y,onBulkDelete:g,isLoading:n})}),a.jsx(Ze,{path:"projects/:id",element:a.jsx(eT,{projects:u,freelancers:s,assignments:f,onAssign:_,checkConflict:x,onUpdateProject:S})}),a.jsx(Ze,{path:"freelancers",element:a.jsx(Uk,{freelancers:s,assignments:f,onCreate:()=>T()})}),a.jsx(Ze,{path:"freelancers/:id",element:a.jsx(Fk,{freelancers:s,projects:u,assignments:f,onUpdate:C,onDelete:v})}),a.jsx(Ze,{path:"assignments",element:a.jsx(tT,{freelancers:s,projects:u,assignments:f,onAssign:_,checkConflict:x})}),a.jsx(Ze,{path:"studio",element:a.jsx(UT,{projects:u,freelancers:s,assignments:f,onSaveScript:b})}),a.jsx(Ze,{path:"moodboard",element:a.jsx(pg,{})}),a.jsx(Ze,{path:"imports",element:a.jsx(DT,{onImport:w})})]}),a.jsx(Ze,{path:"/public/projects/:token",element:a.jsx(LT,{projects:u,assignments:f,freelancers:s})}),a.jsx(Ze,{path:"*",element:a.jsx(F0,{to:"/",replace:!0})})]})}):a.jsx(Yv,{onLogin:M})},GT=()=>a.jsxs(Yk,{children:[a.jsx(zT,{}),a.jsx(FT,{})]}),xg=document.getElementById("root");if(!xg)throw new Error("Could not find root element to mount to");const $T=Na.createRoot(xg);$T.render(a.jsx(Vi.StrictMode,{children:a.jsx(GT,{})}));
